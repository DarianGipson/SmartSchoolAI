var np=Object.defineProperty;var ip=(t,e,xe)=>e in t?np(t,e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):t[e]=xe;var _i=(t,e,xe)=>ip(t,typeof e!="symbol"?e+"":e,xe);function _mergeNamespaces(t,e){for(var xe=0;xe<e.length;xe++){const _e=e[xe];if(typeof _e!="string"&&!Array.isArray(_e)){for(const Ee in _e)if(Ee!=="default"&&!(Ee in t)){const Se=Object.getOwnPropertyDescriptor(_e,Ee);Se&&Object.defineProperty(t,Ee,Se.get?Se:{enumerable:!0,get:()=>_e[Ee]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const Ee of document.querySelectorAll('link[rel="modulepreload"]'))_e(Ee);new MutationObserver(Ee=>{for(const Se of Ee)if(Se.type==="childList")for(const Ae of Se.addedNodes)Ae.tagName==="LINK"&&Ae.rel==="modulepreload"&&_e(Ae)}).observe(document,{childList:!0,subtree:!0});function xe(Ee){const Se={};return Ee.integrity&&(Se.integrity=Ee.integrity),Ee.referrerPolicy&&(Se.referrerPolicy=Ee.referrerPolicy),Ee.crossOrigin==="use-credentials"?Se.credentials="include":Ee.crossOrigin==="anonymous"?Se.credentials="omit":Se.credentials="same-origin",Se}function _e(Ee){if(Ee.ep)return;Ee.ep=!0;const Se=xe(Ee);fetch(Ee.href,Se)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Te=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),je=Symbol.iterator;function Oe(wr){return wr===null||typeof wr!="object"?null:(wr=je&&wr[je]||wr["@@iterator"],typeof wr=="function"?wr:null)}var ke={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fe=Object.assign,Me={};function De(wr,or,hr){this.props=wr,this.context=or,this.refs=Me,this.updater=hr||ke}De.prototype.isReactComponent={},De.prototype.setState=function(wr,or){if(typeof wr!="object"&&typeof wr!="function"&&wr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,wr,or,"setState")},De.prototype.forceUpdate=function(wr){this.updater.enqueueForceUpdate(this,wr,"forceUpdate")};function Ue(){}Ue.prototype=De.prototype;function ze(wr,or,hr){this.props=wr,this.context=or,this.refs=Me,this.updater=hr||ke}var We=ze.prototype=new Ue;We.constructor=ze,Fe(We,De.prototype),We.isPureReactComponent=!0;var Ye=Array.isArray,Xe=Object.prototype.hasOwnProperty,ir={current:null},Qe={key:!0,ref:!0,__self:!0,__source:!0};function Ke(wr,or,hr){var br,Ir={},jr=null,Mr=null;if(or!=null)for(br in or.ref!==void 0&&(Mr=or.ref),or.key!==void 0&&(jr=""+or.key),or)Xe.call(or,br)&&!Qe.hasOwnProperty(br)&&(Ir[br]=or[br]);var Vr=arguments.length-2;if(Vr===1)Ir.children=hr;else if(1<Vr){for(var Or=Array(Vr),Xr=0;Xr<Vr;Xr++)Or[Xr]=arguments[Xr+2];Ir.children=Or}if(wr&&wr.defaultProps)for(br in Vr=wr.defaultProps,Vr)Ir[br]===void 0&&(Ir[br]=Vr[br]);return{$$typeof:t,type:wr,key:jr,ref:Mr,props:Ir,_owner:ir.current}}function rr(wr,or){return{$$typeof:t,type:wr.type,key:or,ref:wr.ref,props:wr.props,_owner:wr._owner}}function cr(wr){return typeof wr=="object"&&wr!==null&&wr.$$typeof===t}function Ze(wr){var or={"=":"=0",":":"=2"};return"$"+wr.replace(/[=:]/g,function(hr){return or[hr]})}var er=/\/+/g;function sr(wr,or){return typeof wr=="object"&&wr!==null&&wr.key!=null?Ze(""+wr.key):or.toString(36)}function fr(wr,or,hr,br,Ir){var jr=typeof wr;(jr==="undefined"||jr==="boolean")&&(wr=null);var Mr=!1;if(wr===null)Mr=!0;else switch(jr){case"string":case"number":Mr=!0;break;case"object":switch(wr.$$typeof){case t:case e:Mr=!0}}if(Mr)return Mr=wr,Ir=Ir(Mr),wr=br===""?"."+sr(Mr,0):br,Ye(Ir)?(hr="",wr!=null&&(hr=wr.replace(er,"$&/")+"/"),fr(Ir,or,hr,"",function(Xr){return Xr})):Ir!=null&&(cr(Ir)&&(Ir=rr(Ir,hr+(!Ir.key||Mr&&Mr.key===Ir.key?"":(""+Ir.key).replace(er,"$&/")+"/")+wr)),or.push(Ir)),1;if(Mr=0,br=br===""?".":br+":",Ye(wr))for(var Vr=0;Vr<wr.length;Vr++){jr=wr[Vr];var Or=br+sr(jr,Vr);Mr+=fr(jr,or,hr,Or,Ir)}else if(Or=Oe(wr),typeof Or=="function")for(wr=Or.call(wr),Vr=0;!(jr=wr.next()).done;)jr=jr.value,Or=br+sr(jr,Vr++),Mr+=fr(jr,or,hr,Or,Ir);else if(jr==="object")throw or=String(wr),Error("Objects are not valid as a React child (found: "+(or==="[object Object]"?"object with keys {"+Object.keys(wr).join(", ")+"}":or)+"). If you meant to render a collection of children, use an array instead.");return Mr}function _r(wr,or,hr){if(wr==null)return wr;var br=[],Ir=0;return fr(wr,br,"","",function(jr){return or.call(hr,jr,Ir++)}),br}function Er(wr){if(wr._status===-1){var or=wr._result;or=or(),or.then(function(hr){(wr._status===0||wr._status===-1)&&(wr._status=1,wr._result=hr)},function(hr){(wr._status===0||wr._status===-1)&&(wr._status=2,wr._result=hr)}),wr._status===-1&&(wr._status=0,wr._result=or)}if(wr._status===1)return wr._result.default;throw wr._result}var yr={current:null},mr={transition:null},Pr={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:mr,ReactCurrentOwner:ir};function Cr(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:_r,forEach:function(wr,or,hr){_r(wr,function(){or.apply(this,arguments)},hr)},count:function(wr){var or=0;return _r(wr,function(){or++}),or},toArray:function(wr){return _r(wr,function(or){return or})||[]},only:function(wr){if(!cr(wr))throw Error("React.Children.only expected to receive a single React element child.");return wr}},react_production_min.Component=De,react_production_min.Fragment=xe,react_production_min.Profiler=Ee,react_production_min.PureComponent=ze,react_production_min.StrictMode=_e,react_production_min.Suspense=Pe,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pr,react_production_min.act=Cr,react_production_min.cloneElement=function(wr,or,hr){if(wr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+wr+".");var br=Fe({},wr.props),Ir=wr.key,jr=wr.ref,Mr=wr._owner;if(or!=null){if(or.ref!==void 0&&(jr=or.ref,Mr=ir.current),or.key!==void 0&&(Ir=""+or.key),wr.type&&wr.type.defaultProps)var Vr=wr.type.defaultProps;for(Or in or)Xe.call(or,Or)&&!Qe.hasOwnProperty(Or)&&(br[Or]=or[Or]===void 0&&Vr!==void 0?Vr[Or]:or[Or])}var Or=arguments.length-2;if(Or===1)br.children=hr;else if(1<Or){Vr=Array(Or);for(var Xr=0;Xr<Or;Xr++)Vr[Xr]=arguments[Xr+2];br.children=Vr}return{$$typeof:t,type:wr.type,key:Ir,ref:jr,props:br,_owner:Mr}},react_production_min.createContext=function(wr){return wr={$$typeof:Ae,_currentValue:wr,_currentValue2:wr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},wr.Provider={$$typeof:Se,_context:wr},wr.Consumer=wr},react_production_min.createElement=Ke,react_production_min.createFactory=function(wr){var or=Ke.bind(null,wr);return or.type=wr,or},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(wr){return{$$typeof:Re,render:wr}},react_production_min.isValidElement=cr,react_production_min.lazy=function(wr){return{$$typeof:Ie,_payload:{_status:-1,_result:wr},_init:Er}},react_production_min.memo=function(wr,or){return{$$typeof:Te,type:wr,compare:or===void 0?null:or}},react_production_min.startTransition=function(wr){var or=mr.transition;mr.transition={};try{wr()}finally{mr.transition=or}},react_production_min.unstable_act=Cr,react_production_min.useCallback=function(wr,or){return yr.current.useCallback(wr,or)},react_production_min.useContext=function(wr){return yr.current.useContext(wr)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(wr){return yr.current.useDeferredValue(wr)},react_production_min.useEffect=function(wr,or){return yr.current.useEffect(wr,or)},react_production_min.useId=function(){return yr.current.useId()},react_production_min.useImperativeHandle=function(wr,or,hr){return yr.current.useImperativeHandle(wr,or,hr)},react_production_min.useInsertionEffect=function(wr,or){return yr.current.useInsertionEffect(wr,or)},react_production_min.useLayoutEffect=function(wr,or){return yr.current.useLayoutEffect(wr,or)},react_production_min.useMemo=function(wr,or){return yr.current.useMemo(wr,or)},react_production_min.useReducer=function(wr,or,hr){return yr.current.useReducer(wr,or,hr)},react_production_min.useRef=function(wr){return yr.current.useRef(wr)},react_production_min.useState=function(wr){return yr.current.useState(wr)},react_production_min.useSyncExternalStore=function(wr,or,hr){return yr.current.useSyncExternalStore(wr,or,hr)},react_production_min.useTransition=function(){return yr.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),_e=Object.prototype.hasOwnProperty,Ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Se={key:!0,ref:!0,__self:!0,__source:!0};function Ae(Re,Pe,Te){var Ie,je={},Oe=null,ke=null;Te!==void 0&&(Oe=""+Te),Pe.key!==void 0&&(Oe=""+Pe.key),Pe.ref!==void 0&&(ke=Pe.ref);for(Ie in Pe)_e.call(Pe,Ie)&&!Se.hasOwnProperty(Ie)&&(je[Ie]=Pe[Ie]);if(Re&&Re.defaultProps)for(Ie in Pe=Re.defaultProps,Pe)je[Ie]===void 0&&(je[Ie]=Pe[Ie]);return{$$typeof:e,type:Re,key:Oe,ref:ke,props:je,_owner:Ee.current}}return reactJsxRuntime_production_min.Fragment=xe,reactJsxRuntime_production_min.jsx=Ae,reactJsxRuntime_production_min.jsxs=Ae,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(mr,Pr){var Cr=mr.length;mr.push(Pr);e:for(;0<Cr;){var wr=Cr-1>>>1,or=mr[wr];if(0<Ee(or,Pr))mr[wr]=Pr,mr[Cr]=or,Cr=wr;else break e}}function xe(mr){return mr.length===0?null:mr[0]}function _e(mr){if(mr.length===0)return null;var Pr=mr[0],Cr=mr.pop();if(Cr!==Pr){mr[0]=Cr;e:for(var wr=0,or=mr.length,hr=or>>>1;wr<hr;){var br=2*(wr+1)-1,Ir=mr[br],jr=br+1,Mr=mr[jr];if(0>Ee(Ir,Cr))jr<or&&0>Ee(Mr,Ir)?(mr[wr]=Mr,mr[jr]=Cr,wr=jr):(mr[wr]=Ir,mr[br]=Cr,wr=br);else if(jr<or&&0>Ee(Mr,Cr))mr[wr]=Mr,mr[jr]=Cr,wr=jr;else break e}}return Pr}function Ee(mr,Pr){var Cr=mr.sortIndex-Pr.sortIndex;return Cr!==0?Cr:mr.id-Pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Se=performance;t.unstable_now=function(){return Se.now()}}else{var Ae=Date,Re=Ae.now();t.unstable_now=function(){return Ae.now()-Re}}var Pe=[],Te=[],Ie=1,je=null,Oe=3,ke=!1,Fe=!1,Me=!1,De=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,ze=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function We(mr){for(var Pr=xe(Te);Pr!==null;){if(Pr.callback===null)_e(Te);else if(Pr.startTime<=mr)_e(Te),Pr.sortIndex=Pr.expirationTime,e(Pe,Pr);else break;Pr=xe(Te)}}function Ye(mr){if(Me=!1,We(mr),!Fe)if(xe(Pe)!==null)Fe=!0,Er(Xe);else{var Pr=xe(Te);Pr!==null&&yr(Ye,Pr.startTime-mr)}}function Xe(mr,Pr){Fe=!1,Me&&(Me=!1,Ue(Ke),Ke=-1),ke=!0;var Cr=Oe;try{for(We(Pr),je=xe(Pe);je!==null&&(!(je.expirationTime>Pr)||mr&&!Ze());){var wr=je.callback;if(typeof wr=="function"){je.callback=null,Oe=je.priorityLevel;var or=wr(je.expirationTime<=Pr);Pr=t.unstable_now(),typeof or=="function"?je.callback=or:je===xe(Pe)&&_e(Pe),We(Pr)}else _e(Pe);je=xe(Pe)}if(je!==null)var hr=!0;else{var br=xe(Te);br!==null&&yr(Ye,br.startTime-Pr),hr=!1}return hr}finally{je=null,Oe=Cr,ke=!1}}var ir=!1,Qe=null,Ke=-1,rr=5,cr=-1;function Ze(){return!(t.unstable_now()-cr<rr)}function er(){if(Qe!==null){var mr=t.unstable_now();cr=mr;var Pr=!0;try{Pr=Qe(!0,mr)}finally{Pr?sr():(ir=!1,Qe=null)}}else ir=!1}var sr;if(typeof ze=="function")sr=function(){ze(er)};else if(typeof MessageChannel<"u"){var fr=new MessageChannel,_r=fr.port2;fr.port1.onmessage=er,sr=function(){_r.postMessage(null)}}else sr=function(){De(er,0)};function Er(mr){Qe=mr,ir||(ir=!0,sr())}function yr(mr,Pr){Ke=De(function(){mr(t.unstable_now())},Pr)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(mr){mr.callback=null},t.unstable_continueExecution=function(){Fe||ke||(Fe=!0,Er(Xe))},t.unstable_forceFrameRate=function(mr){0>mr||125<mr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rr=0<mr?Math.floor(1e3/mr):5},t.unstable_getCurrentPriorityLevel=function(){return Oe},t.unstable_getFirstCallbackNode=function(){return xe(Pe)},t.unstable_next=function(mr){switch(Oe){case 1:case 2:case 3:var Pr=3;break;default:Pr=Oe}var Cr=Oe;Oe=Pr;try{return mr()}finally{Oe=Cr}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(mr,Pr){switch(mr){case 1:case 2:case 3:case 4:case 5:break;default:mr=3}var Cr=Oe;Oe=mr;try{return Pr()}finally{Oe=Cr}},t.unstable_scheduleCallback=function(mr,Pr,Cr){var wr=t.unstable_now();switch(typeof Cr=="object"&&Cr!==null?(Cr=Cr.delay,Cr=typeof Cr=="number"&&0<Cr?wr+Cr:wr):Cr=wr,mr){case 1:var or=-1;break;case 2:or=250;break;case 5:or=1073741823;break;case 4:or=1e4;break;default:or=5e3}return or=Cr+or,mr={id:Ie++,callback:Pr,priorityLevel:mr,startTime:Cr,expirationTime:or,sortIndex:-1},Cr>wr?(mr.sortIndex=Cr,e(Te,mr),xe(Pe)===null&&mr===xe(Te)&&(Me?(Ue(Ke),Ke=-1):Me=!0,yr(Ye,Cr-wr))):(mr.sortIndex=or,e(Pe,mr),Fe||ke||(Fe=!0,Er(Xe))),mr},t.unstable_shouldYield=Ze,t.unstable_wrapCallback=function(mr){var Pr=Oe;return function(){var Cr=Oe;Oe=Pr;try{return mr.apply(this,arguments)}finally{Oe=Cr}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function xe(Ce){for(var $e="https://reactjs.org/docs/error-decoder.html?invariant="+Ce,Ve=1;Ve<arguments.length;Ve++)$e+="&args[]="+encodeURIComponent(arguments[Ve]);return"Minified React error #"+Ce+"; visit "+$e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _e=new Set,Ee={};function Se(Ce,$e){Ae(Ce,$e),Ae(Ce+"Capture",$e)}function Ae(Ce,$e){for(Ee[Ce]=$e,Ce=0;Ce<$e.length;Ce++)_e.add($e[Ce])}var Re=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pe=Object.prototype.hasOwnProperty,Te=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ie={},je={};function Oe(Ce){return Pe.call(je,Ce)?!0:Pe.call(Ie,Ce)?!1:Te.test(Ce)?je[Ce]=!0:(Ie[Ce]=!0,!1)}function ke(Ce,$e,Ve,He){if(Ve!==null&&Ve.type===0)return!1;switch(typeof $e){case"function":case"symbol":return!0;case"boolean":return He?!1:Ve!==null?!Ve.acceptsBooleans:(Ce=Ce.toLowerCase().slice(0,5),Ce!=="data-"&&Ce!=="aria-");default:return!1}}function Fe(Ce,$e,Ve,He){if($e===null||typeof $e>"u"||ke(Ce,$e,Ve,He))return!0;if(He)return!1;if(Ve!==null)switch(Ve.type){case 3:return!$e;case 4:return $e===!1;case 5:return isNaN($e);case 6:return isNaN($e)||1>$e}return!1}function Me(Ce,$e,Ve,He,tr,lr,xr){this.acceptsBooleans=$e===2||$e===3||$e===4,this.attributeName=He,this.attributeNamespace=tr,this.mustUseProperty=Ve,this.propertyName=Ce,this.type=$e,this.sanitizeURL=lr,this.removeEmptyString=xr}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Ce){De[Ce]=new Me(Ce,0,!1,Ce,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Ce){var $e=Ce[0];De[$e]=new Me($e,1,!1,Ce[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(Ce){De[Ce]=new Me(Ce,2,!1,Ce.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Ce){De[Ce]=new Me(Ce,2,!1,Ce,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Ce){De[Ce]=new Me(Ce,3,!1,Ce.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(Ce){De[Ce]=new Me(Ce,3,!0,Ce,null,!1,!1)}),["capture","download"].forEach(function(Ce){De[Ce]=new Me(Ce,4,!1,Ce,null,!1,!1)}),["cols","rows","size","span"].forEach(function(Ce){De[Ce]=new Me(Ce,6,!1,Ce,null,!1,!1)}),["rowSpan","start"].forEach(function(Ce){De[Ce]=new Me(Ce,5,!1,Ce.toLowerCase(),null,!1,!1)});var Ue=/[\-:]([a-z])/g;function ze(Ce){return Ce[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Ce){var $e=Ce.replace(Ue,ze);De[$e]=new Me($e,1,!1,Ce,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Ce){var $e=Ce.replace(Ue,ze);De[$e]=new Me($e,1,!1,Ce,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(Ce){var $e=Ce.replace(Ue,ze);De[$e]=new Me($e,1,!1,Ce,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(Ce){De[Ce]=new Me(Ce,1,!1,Ce.toLowerCase(),null,!1,!1)}),De.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(Ce){De[Ce]=new Me(Ce,1,!1,Ce.toLowerCase(),null,!0,!0)});function We(Ce,$e,Ve,He){var tr=De.hasOwnProperty($e)?De[$e]:null;(tr!==null?tr.type!==0:He||!(2<$e.length)||$e[0]!=="o"&&$e[0]!=="O"||$e[1]!=="n"&&$e[1]!=="N")&&(Fe($e,Ve,tr,He)&&(Ve=null),He||tr===null?Oe($e)&&(Ve===null?Ce.removeAttribute($e):Ce.setAttribute($e,""+Ve)):tr.mustUseProperty?Ce[tr.propertyName]=Ve===null?tr.type===3?!1:"":Ve:($e=tr.attributeName,He=tr.attributeNamespace,Ve===null?Ce.removeAttribute($e):(tr=tr.type,Ve=tr===3||tr===4&&Ve===!0?"":""+Ve,He?Ce.setAttributeNS(He,$e,Ve):Ce.setAttribute($e,Ve))))}var Ye=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),ir=Symbol.for("react.portal"),Qe=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),rr=Symbol.for("react.profiler"),cr=Symbol.for("react.provider"),Ze=Symbol.for("react.context"),er=Symbol.for("react.forward_ref"),sr=Symbol.for("react.suspense"),fr=Symbol.for("react.suspense_list"),_r=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),yr=Symbol.for("react.offscreen"),mr=Symbol.iterator;function Pr(Ce){return Ce===null||typeof Ce!="object"?null:(Ce=mr&&Ce[mr]||Ce["@@iterator"],typeof Ce=="function"?Ce:null)}var Cr=Object.assign,wr;function or(Ce){if(wr===void 0)try{throw Error()}catch(Ve){var $e=Ve.stack.trim().match(/\n( *(at )?)/);wr=$e&&$e[1]||""}return`
`+wr+Ce}var hr=!1;function br(Ce,$e){if(!Ce||hr)return"";hr=!0;var Ve=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($e)if($e=function(){throw Error()},Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(pn){var He=pn}Reflect.construct(Ce,[],$e)}else{try{$e.call()}catch(pn){He=pn}Ce.call($e.prototype)}else{try{throw Error()}catch(pn){He=pn}Ce()}}catch(pn){if(pn&&He&&typeof pn.stack=="string"){for(var tr=pn.stack.split(`
`),lr=He.stack.split(`
`),xr=tr.length-1,Dr=lr.length-1;1<=xr&&0<=Dr&&tr[xr]!==lr[Dr];)Dr--;for(;1<=xr&&0<=Dr;xr--,Dr--)if(tr[xr]!==lr[Dr]){if(xr!==1||Dr!==1)do if(xr--,Dr--,0>Dr||tr[xr]!==lr[Dr]){var Ur=`
`+tr[xr].replace(" at new "," at ");return Ce.displayName&&Ur.includes("<anonymous>")&&(Ur=Ur.replace("<anonymous>",Ce.displayName)),Ur}while(1<=xr&&0<=Dr);break}}}finally{hr=!1,Error.prepareStackTrace=Ve}return(Ce=Ce?Ce.displayName||Ce.name:"")?or(Ce):""}function Ir(Ce){switch(Ce.tag){case 5:return or(Ce.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return Ce=br(Ce.type,!1),Ce;case 11:return Ce=br(Ce.type.render,!1),Ce;case 1:return Ce=br(Ce.type,!0),Ce;default:return""}}function jr(Ce){if(Ce==null)return null;if(typeof Ce=="function")return Ce.displayName||Ce.name||null;if(typeof Ce=="string")return Ce;switch(Ce){case Qe:return"Fragment";case ir:return"Portal";case rr:return"Profiler";case Ke:return"StrictMode";case sr:return"Suspense";case fr:return"SuspenseList"}if(typeof Ce=="object")switch(Ce.$$typeof){case Ze:return(Ce.displayName||"Context")+".Consumer";case cr:return(Ce._context.displayName||"Context")+".Provider";case er:var $e=Ce.render;return Ce=Ce.displayName,Ce||(Ce=$e.displayName||$e.name||"",Ce=Ce!==""?"ForwardRef("+Ce+")":"ForwardRef"),Ce;case _r:return $e=Ce.displayName||null,$e!==null?$e:jr(Ce.type)||"Memo";case Er:$e=Ce._payload,Ce=Ce._init;try{return jr(Ce($e))}catch{}}return null}function Mr(Ce){var $e=Ce.type;switch(Ce.tag){case 24:return"Cache";case 9:return($e.displayName||"Context")+".Consumer";case 10:return($e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Ce=$e.render,Ce=Ce.displayName||Ce.name||"",$e.displayName||(Ce!==""?"ForwardRef("+Ce+")":"ForwardRef");case 7:return"Fragment";case 5:return $e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jr($e);case 8:return $e===Ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $e=="function")return $e.displayName||$e.name||null;if(typeof $e=="string")return $e}return null}function Vr(Ce){switch(typeof Ce){case"boolean":case"number":case"string":case"undefined":return Ce;case"object":return Ce;default:return""}}function Or(Ce){var $e=Ce.type;return(Ce=Ce.nodeName)&&Ce.toLowerCase()==="input"&&($e==="checkbox"||$e==="radio")}function Xr(Ce){var $e=Or(Ce)?"checked":"value",Ve=Object.getOwnPropertyDescriptor(Ce.constructor.prototype,$e),He=""+Ce[$e];if(!Ce.hasOwnProperty($e)&&typeof Ve<"u"&&typeof Ve.get=="function"&&typeof Ve.set=="function"){var tr=Ve.get,lr=Ve.set;return Object.defineProperty(Ce,$e,{configurable:!0,get:function(){return tr.call(this)},set:function(xr){He=""+xr,lr.call(this,xr)}}),Object.defineProperty(Ce,$e,{enumerable:Ve.enumerable}),{getValue:function(){return He},setValue:function(xr){He=""+xr},stopTracking:function(){Ce._valueTracker=null,delete Ce[$e]}}}}function Qr(Ce){Ce._valueTracker||(Ce._valueTracker=Xr(Ce))}function Fr(Ce){if(!Ce)return!1;var $e=Ce._valueTracker;if(!$e)return!0;var Ve=$e.getValue(),He="";return Ce&&(He=Or(Ce)?Ce.checked?"true":"false":Ce.value),Ce=He,Ce!==Ve?($e.setValue(Ce),!0):!1}function xn(Ce){if(Ce=Ce||(typeof document<"u"?document:void 0),typeof Ce>"u")return null;try{return Ce.activeElement||Ce.body}catch{return Ce.body}}function An(Ce,$e){var Ve=$e.checked;return Cr({},$e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Ve??Ce._wrapperState.initialChecked})}function un(Ce,$e){var Ve=$e.defaultValue==null?"":$e.defaultValue,He=$e.checked!=null?$e.checked:$e.defaultChecked;Ve=Vr($e.value!=null?$e.value:Ve),Ce._wrapperState={initialChecked:He,initialValue:Ve,controlled:$e.type==="checkbox"||$e.type==="radio"?$e.checked!=null:$e.value!=null}}function Nr(Ce,$e){$e=$e.checked,$e!=null&&We(Ce,"checked",$e,!1)}function Bn(Ce,$e){Nr(Ce,$e);var Ve=Vr($e.value),He=$e.type;if(Ve!=null)He==="number"?(Ve===0&&Ce.value===""||Ce.value!=Ve)&&(Ce.value=""+Ve):Ce.value!==""+Ve&&(Ce.value=""+Ve);else if(He==="submit"||He==="reset"){Ce.removeAttribute("value");return}$e.hasOwnProperty("value")?wn(Ce,$e.type,Ve):$e.hasOwnProperty("defaultValue")&&wn(Ce,$e.type,Vr($e.defaultValue)),$e.checked==null&&$e.defaultChecked!=null&&(Ce.defaultChecked=!!$e.defaultChecked)}function Vn(Ce,$e,Ve){if($e.hasOwnProperty("value")||$e.hasOwnProperty("defaultValue")){var He=$e.type;if(!(He!=="submit"&&He!=="reset"||$e.value!==void 0&&$e.value!==null))return;$e=""+Ce._wrapperState.initialValue,Ve||$e===Ce.value||(Ce.value=$e),Ce.defaultValue=$e}Ve=Ce.name,Ve!==""&&(Ce.name=""),Ce.defaultChecked=!!Ce._wrapperState.initialChecked,Ve!==""&&(Ce.name=Ve)}function wn(Ce,$e,Ve){($e!=="number"||xn(Ce.ownerDocument)!==Ce)&&(Ve==null?Ce.defaultValue=""+Ce._wrapperState.initialValue:Ce.defaultValue!==""+Ve&&(Ce.defaultValue=""+Ve))}var In=Array.isArray;function jn(Ce,$e,Ve,He){if(Ce=Ce.options,$e){$e={};for(var tr=0;tr<Ve.length;tr++)$e["$"+Ve[tr]]=!0;for(Ve=0;Ve<Ce.length;Ve++)tr=$e.hasOwnProperty("$"+Ce[Ve].value),Ce[Ve].selected!==tr&&(Ce[Ve].selected=tr),tr&&He&&(Ce[Ve].defaultSelected=!0)}else{for(Ve=""+Vr(Ve),$e=null,tr=0;tr<Ce.length;tr++){if(Ce[tr].value===Ve){Ce[tr].selected=!0,He&&(Ce[tr].defaultSelected=!0);return}$e!==null||Ce[tr].disabled||($e=Ce[tr])}$e!==null&&($e.selected=!0)}}function Nn(Ce,$e){if($e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Cr({},$e,{value:void 0,defaultValue:void 0,children:""+Ce._wrapperState.initialValue})}function zn(Ce,$e){var Ve=$e.value;if(Ve==null){if(Ve=$e.children,$e=$e.defaultValue,Ve!=null){if($e!=null)throw Error(xe(92));if(In(Ve)){if(1<Ve.length)throw Error(xe(93));Ve=Ve[0]}$e=Ve}$e==null&&($e=""),Ve=$e}Ce._wrapperState={initialValue:Vr(Ve)}}function Qn(Ce,$e){var Ve=Vr($e.value),He=Vr($e.defaultValue);Ve!=null&&(Ve=""+Ve,Ve!==Ce.value&&(Ce.value=Ve),$e.defaultValue==null&&Ce.defaultValue!==Ve&&(Ce.defaultValue=Ve)),He!=null&&(Ce.defaultValue=""+He)}function ni(Ce){var $e=Ce.textContent;$e===Ce._wrapperState.initialValue&&$e!==""&&$e!==null&&(Ce.value=$e)}function Yn(Ce){switch(Ce){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(Ce,$e){return Ce==null||Ce==="http://www.w3.org/1999/xhtml"?Yn($e):Ce==="http://www.w3.org/2000/svg"&&$e==="foreignObject"?"http://www.w3.org/1999/xhtml":Ce}var hi,ti=function(Ce){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($e,Ve,He,tr){MSApp.execUnsafeLocalFunction(function(){return Ce($e,Ve,He,tr)})}:Ce}(function(Ce,$e){if(Ce.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Ce)Ce.innerHTML=$e;else{for(hi=hi||document.createElement("div"),hi.innerHTML="<svg>"+$e.valueOf().toString()+"</svg>",$e=hi.firstChild;Ce.firstChild;)Ce.removeChild(Ce.firstChild);for(;$e.firstChild;)Ce.appendChild($e.firstChild)}});function si(Ce,$e){if($e){var Ve=Ce.firstChild;if(Ve&&Ve===Ce.lastChild&&Ve.nodeType===3){Ve.nodeValue=$e;return}}Ce.textContent=$e}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(Ce){Zi.forEach(function($e){$e=$e+Ce.charAt(0).toUpperCase()+Ce.substring(1),kn[$e]=kn[Ce]})});function mi(Ce,$e,Ve){return $e==null||typeof $e=="boolean"||$e===""?"":Ve||typeof $e!="number"||$e===0||kn.hasOwnProperty(Ce)&&kn[Ce]?(""+$e).trim():$e+"px"}function xo(Ce,$e){Ce=Ce.style;for(var Ve in $e)if($e.hasOwnProperty(Ve)){var He=Ve.indexOf("--")===0,tr=mi(Ve,$e[Ve],He);Ve==="float"&&(Ve="cssFloat"),He?Ce.setProperty(Ve,tr):Ce[Ve]=tr}}var bi=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pi(Ce,$e){if($e){if(bi[Ce]&&($e.children!=null||$e.dangerouslySetInnerHTML!=null))throw Error(xe(137,Ce));if($e.dangerouslySetInnerHTML!=null){if($e.children!=null)throw Error(xe(60));if(typeof $e.dangerouslySetInnerHTML!="object"||!("__html"in $e.dangerouslySetInnerHTML))throw Error(xe(61))}if($e.style!=null&&typeof $e.style!="object")throw Error(xe(62))}}function zo(Ce,$e){if(Ce.indexOf("-")===-1)return typeof $e.is=="string";switch(Ce){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function ys(Ce){return Ce=Ce.target||Ce.srcElement||window,Ce.correspondingUseElement&&(Ce=Ce.correspondingUseElement),Ce.nodeType===3?Ce.parentNode:Ce}var Ii=null,eo=null,_o=null;function Li(Ce){if(Ce=Ic(Ce)){if(typeof Ii!="function")throw Error(xe(280));var $e=Ce.stateNode;$e&&($e=tu($e),Ii(Ce.stateNode,Ce.type,$e))}}function Jn(Ce){eo?_o?_o.push(Ce):_o=[Ce]:eo=Ce}function vi(){if(eo){var Ce=eo,$e=_o;if(_o=eo=null,Li(Ce),$e)for(Ce=0;Ce<$e.length;Ce++)Li($e[Ce])}}function ns(Ce,$e){return Ce($e)}function Yi(){}var go=!1;function Ho(Ce,$e,Ve){if(go)return Ce($e,Ve);go=!0;try{return ns(Ce,$e,Ve)}finally{go=!1,(eo!==null||_o!==null)&&(Yi(),vi())}}function Fn(Ce,$e){var Ve=Ce.stateNode;if(Ve===null)return null;var He=tu(Ve);if(He===null)return null;Ve=He[$e];e:switch($e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(He=!He.disabled)||(Ce=Ce.type,He=!(Ce==="button"||Ce==="input"||Ce==="select"||Ce==="textarea")),Ce=!He;break e;default:Ce=!1}if(Ce)return null;if(Ve&&typeof Ve!="function")throw Error(xe(231,$e,typeof Ve));return Ve}var Io=!1;if(Re)try{var io={};Object.defineProperty(io,"passive",{get:function(){Io=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Io=!1}function uo(Ce,$e,Ve,He,tr,lr,xr,Dr,Ur){var pn=Array.prototype.slice.call(arguments,3);try{$e.apply(Ve,pn)}catch(Cn){this.onError(Cn)}}var qi=!1,Wi=null,Xi=!1,Us=null,Cs={onError:function(Ce){qi=!0,Wi=Ce}};function jo(Ce,$e,Ve,He,tr,lr,xr,Dr,Ur){qi=!1,Wi=null,uo.apply(Cs,arguments)}function Wo(Ce,$e,Ve,He,tr,lr,xr,Dr,Ur){if(jo.apply(this,arguments),qi){if(qi){var pn=Wi;qi=!1,Wi=null}else throw Error(xe(198));Xi||(Xi=!0,Us=pn)}}function oo(Ce){var $e=Ce,Ve=Ce;if(Ce.alternate)for(;$e.return;)$e=$e.return;else{Ce=$e;do $e=Ce,($e.flags&4098)!==0&&(Ve=$e.return),Ce=$e.return;while(Ce)}return $e.tag===3?Ve:null}function $o(Ce){if(Ce.tag===13){var $e=Ce.memoizedState;if($e===null&&(Ce=Ce.alternate,Ce!==null&&($e=Ce.memoizedState)),$e!==null)return $e.dehydrated}return null}function ro(Ce){if(oo(Ce)!==Ce)throw Error(xe(188))}function is(Ce){var $e=Ce.alternate;if(!$e){if($e=oo(Ce),$e===null)throw Error(xe(188));return $e!==Ce?null:Ce}for(var Ve=Ce,He=$e;;){var tr=Ve.return;if(tr===null)break;var lr=tr.alternate;if(lr===null){if(He=tr.return,He!==null){Ve=He;continue}break}if(tr.child===lr.child){for(lr=tr.child;lr;){if(lr===Ve)return ro(tr),Ce;if(lr===He)return ro(tr),$e;lr=lr.sibling}throw Error(xe(188))}if(Ve.return!==He.return)Ve=tr,He=lr;else{for(var xr=!1,Dr=tr.child;Dr;){if(Dr===Ve){xr=!0,Ve=tr,He=lr;break}if(Dr===He){xr=!0,He=tr,Ve=lr;break}Dr=Dr.sibling}if(!xr){for(Dr=lr.child;Dr;){if(Dr===Ve){xr=!0,Ve=lr,He=tr;break}if(Dr===He){xr=!0,He=lr,Ve=tr;break}Dr=Dr.sibling}if(!xr)throw Error(xe(189))}}if(Ve.alternate!==He)throw Error(xe(190))}if(Ve.tag!==3)throw Error(xe(188));return Ve.stateNode.current===Ve?Ce:$e}function En(Ce){return Ce=is(Ce),Ce!==null?Wn(Ce):null}function Wn(Ce){if(Ce.tag===5||Ce.tag===6)return Ce;for(Ce=Ce.child;Ce!==null;){var $e=Wn(Ce);if($e!==null)return $e;Ce=Ce.sibling}return null}var di=e.unstable_scheduleCallback,Ei=e.unstable_cancelCallback,aa=e.unstable_shouldYield,cc=e.unstable_requestPaint,Ui=e.unstable_now,uc=e.unstable_getCurrentPriorityLevel,zs=e.unstable_ImmediatePriority,la=e.unstable_UserBlockingPriority,vs=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,dc=e.unstable_IdlePriority,Sa=null,os=null;function Ga(Ce){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Sa,Ce,void 0,(Ce.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:Dl,Qi=Math.log,Ml=Math.LN2;function Dl(Ce){return Ce>>>=0,Ce===0?32:31-(Qi(Ce)/Ml|0)|0}var Ka=64,wa=4194304;function Aa(Ce){switch(Ce&-Ce){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ce&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Ce&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Ce}}function ko(Ce,$e){var Ve=Ce.pendingLanes;if(Ve===0)return 0;var He=0,tr=Ce.suspendedLanes,lr=Ce.pingedLanes,xr=Ve&268435455;if(xr!==0){var Dr=xr&~tr;Dr!==0?He=Aa(Dr):(lr&=xr,lr!==0&&(He=Aa(lr)))}else xr=Ve&~tr,xr!==0?He=Aa(xr):lr!==0&&(He=Aa(lr));if(He===0)return 0;if($e!==0&&$e!==He&&($e&tr)===0&&(tr=He&-He,lr=$e&-$e,tr>=lr||tr===16&&(lr&4194240)!==0))return $e;if((He&4)!==0&&(He|=Ve&16),$e=Ce.entangledLanes,$e!==0)for(Ce=Ce.entanglements,$e&=He;0<$e;)Ve=31-Oo($e),tr=1<<Ve,He|=Ce[Ve],$e&=~tr;return He}function xl(Ce,$e){switch(Ce){case 1:case 2:case 4:return $e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(Ce,$e){for(var Ve=Ce.suspendedLanes,He=Ce.pingedLanes,tr=Ce.expirationTimes,lr=Ce.pendingLanes;0<lr;){var xr=31-Oo(lr),Dr=1<<xr,Ur=tr[xr];Ur===-1?((Dr&Ve)===0||(Dr&He)!==0)&&(tr[xr]=xl(Dr,$e)):Ur<=$e&&(Ce.expiredLanes|=Dr),lr&=~Dr}}function Lo(Ce){return Ce=Ce.pendingLanes&-1073741825,Ce!==0?Ce:Ce&1073741824?1073741824:0}function Ra(){var Ce=Ka;return Ka<<=1,(Ka&4194240)===0&&(Ka=64),Ce}function Pa(Ce){for(var $e=[],Ve=0;31>Ve;Ve++)$e.push(Ce);return $e}function ca(Ce,$e,Ve){Ce.pendingLanes|=$e,$e!==536870912&&(Ce.suspendedLanes=0,Ce.pingedLanes=0),Ce=Ce.eventTimes,$e=31-Oo($e),Ce[$e]=Ve}function Mi(Ce,$e){var Ve=Ce.pendingLanes&~$e;Ce.pendingLanes=$e,Ce.suspendedLanes=0,Ce.pingedLanes=0,Ce.expiredLanes&=$e,Ce.mutableReadLanes&=$e,Ce.entangledLanes&=$e,$e=Ce.entanglements;var He=Ce.eventTimes;for(Ce=Ce.expirationTimes;0<Ve;){var tr=31-Oo(Ve),lr=1<<tr;$e[tr]=0,He[tr]=-1,Ce[tr]=-1,Ve&=~lr}}function ua(Ce,$e){var Ve=Ce.entangledLanes|=$e;for(Ce=Ce.entanglements;Ve;){var He=31-Oo(Ve),tr=1<<He;tr&$e|Ce[He]&$e&&(Ce[He]|=$e),Ve&=~tr}}var yi=0;function Hs(Ce){return Ce&=-Ce,1<Ce?4<Ce?(Ce&268435455)!==0?16:536870912:4:1}var fc,_l,hc,Ws,Ya,Ta=!1,Is=[],wi=null,js=null,xs=null,ri=new Map,_s=new Map,Gs=[],Ks="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(Ce,$e){switch(Ce){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ri.delete($e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete($e.pointerId)}}function Mo(Ce,$e,Ve,He,tr,lr){return Ce===null||Ce.nativeEvent!==lr?(Ce={blockedOn:$e,domEventName:Ve,eventSystemFlags:He,nativeEvent:lr,targetContainers:[tr]},$e!==null&&($e=Ic($e),$e!==null&&_l($e)),Ce):(Ce.eventSystemFlags|=He,$e=Ce.targetContainers,tr!==null&&$e.indexOf(tr)===-1&&$e.push(tr),Ce)}function bl(Ce,$e,Ve,He,tr){switch($e){case"focusin":return wi=Mo(wi,Ce,$e,Ve,He,tr),!0;case"dragenter":return js=Mo(js,Ce,$e,Ve,He,tr),!0;case"mouseover":return xs=Mo(xs,Ce,$e,Ve,He,tr),!0;case"pointerover":var lr=tr.pointerId;return ri.set(lr,Mo(ri.get(lr)||null,Ce,$e,Ve,He,tr)),!0;case"gotpointercapture":return lr=tr.pointerId,_s.set(lr,Mo(_s.get(lr)||null,Ce,$e,Ve,He,tr)),!0}return!1}function El(Ce){var $e=jl(Ce.target);if($e!==null){var Ve=oo($e);if(Ve!==null){if($e=Ve.tag,$e===13){if($e=$o(Ve),$e!==null){Ce.blockedOn=$e,Ya(Ce.priority,function(){hc(Ve)});return}}else if($e===3&&Ve.stateNode.current.memoizedState.isDehydrated){Ce.blockedOn=Ve.tag===3?Ve.stateNode.containerInfo:null;return}}}Ce.blockedOn=null}function da(Ce){if(Ce.blockedOn!==null)return!1;for(var $e=Ce.targetContainers;0<$e.length;){var Ve=Qa(Ce.domEventName,Ce.eventSystemFlags,$e[0],Ce.nativeEvent);if(Ve===null){Ve=Ce.nativeEvent;var He=new Ve.constructor(Ve.type,Ve);gi=He,Ve.target.dispatchEvent(He),gi=null}else return $e=Ic(Ve),$e!==null&&_l($e),Ce.blockedOn=Ve,!1;$e.shift()}return!0}function Xa(Ce,$e,Ve){da(Ce)&&Ve.delete($e)}function pc(){Ta=!1,wi!==null&&da(wi)&&(wi=null),js!==null&&da(js)&&(js=null),xs!==null&&da(xs)&&(xs=null),ri.forEach(Xa),_s.forEach(Xa)}function ss(Ce,$e){Ce.blockedOn===$e&&(Ce.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pc)))}function Do(Ce){function $e(tr){return ss(tr,Ce)}if(0<Is.length){ss(Is[0],Ce);for(var Ve=1;Ve<Is.length;Ve++){var He=Is[Ve];He.blockedOn===Ce&&(He.blockedOn=null)}}for(wi!==null&&ss(wi,Ce),js!==null&&ss(js,Ce),xs!==null&&ss(xs,Ce),ri.forEach($e),_s.forEach($e),Ve=0;Ve<Gs.length;Ve++)He=Gs[Ve],He.blockedOn===Ce&&(He.blockedOn=null);for(;0<Gs.length&&(Ve=Gs[0],Ve.blockedOn===null);)El(Ve),Ve.blockedOn===null&&Gs.shift()}var Go=Ye.ReactCurrentBatchConfig,Ca=!0;function ji(Ce,$e,Ve,He){var tr=yi,lr=Go.transition;Go.transition=null;try{yi=1,Ia(Ce,$e,Ve,He)}finally{yi=tr,Go.transition=lr}}function Fl(Ce,$e,Ve,He){var tr=yi,lr=Go.transition;Go.transition=null;try{yi=4,Ia(Ce,$e,Ve,He)}finally{yi=tr,Go.transition=lr}}function Ia(Ce,$e,Ve,He){if(Ca){var tr=Qa(Ce,$e,Ve,He);if(tr===null)Jc(Ce,$e,He,ja,Ve),Vl(Ce,He);else if(bl(tr,Ce,$e,Ve,He))He.stopPropagation();else if(Vl(Ce,He),$e&4&&-1<Ks.indexOf(Ce)){for(;tr!==null;){var lr=Ic(tr);if(lr!==null&&fc(lr),lr=Qa(Ce,$e,Ve,He),lr===null&&Jc(Ce,$e,He,ja,Ve),lr===tr)break;tr=lr}tr!==null&&He.stopPropagation()}else Jc(Ce,$e,He,null,Ve)}}var ja=null;function Qa(Ce,$e,Ve,He){if(ja=null,Ce=ys(He),Ce=jl(Ce),Ce!==null)if($e=oo(Ce),$e===null)Ce=null;else if(Ve=$e.tag,Ve===13){if(Ce=$o($e),Ce!==null)return Ce;Ce=null}else if(Ve===3){if($e.stateNode.current.memoizedState.isDehydrated)return $e.tag===3?$e.stateNode.containerInfo:null;Ce=null}else $e!==Ce&&(Ce=null);return ja=Ce,null}function Sl(Ce){switch(Ce){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uc()){case zs:return 1;case la:return 4;case vs:case Wa:return 16;case dc:return 536870912;default:return 16}default:return 16}}var Ko=null,as=null,ho=null;function Bl(){if(ho)return ho;var Ce,$e=as,Ve=$e.length,He,tr="value"in Ko?Ko.value:Ko.textContent,lr=tr.length;for(Ce=0;Ce<Ve&&$e[Ce]===tr[Ce];Ce++);var xr=Ve-Ce;for(He=1;He<=xr&&$e[Ve-He]===tr[lr-He];He++);return ho=tr.slice(Ce,1<He?1-He:void 0)}function $s(Ce){var $e=Ce.keyCode;return"charCode"in Ce?(Ce=Ce.charCode,Ce===0&&$e===13&&(Ce=13)):Ce=$e,Ce===10&&(Ce=13),32<=Ce||Ce===13?Ce:0}function bo(){return!0}function Ja(){return!1}function so(Ce){function $e(Ve,He,tr,lr,xr){this._reactName=Ve,this._targetInst=tr,this.type=He,this.nativeEvent=lr,this.target=xr,this.currentTarget=null;for(var Dr in Ce)Ce.hasOwnProperty(Dr)&&(Ve=Ce[Dr],this[Dr]=Ve?Ve(lr):lr[Dr]);return this.isDefaultPrevented=(lr.defaultPrevented!=null?lr.defaultPrevented:lr.returnValue===!1)?bo:Ja,this.isPropagationStopped=Ja,this}return Cr($e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ve=this.nativeEvent;Ve&&(Ve.preventDefault?Ve.preventDefault():typeof Ve.returnValue!="unknown"&&(Ve.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var Ve=this.nativeEvent;Ve&&(Ve.stopPropagation?Ve.stopPropagation():typeof Ve.cancelBubble!="unknown"&&(Ve.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),$e}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Ce){return Ce.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=so(Ns),Ys=Cr({},Ns,{view:0,detail:0}),ql=so(Ys),$a,Xs,Os,ha=Cr({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(Ce){return Ce.relatedTarget===void 0?Ce.fromElement===Ce.srcElement?Ce.toElement:Ce.fromElement:Ce.relatedTarget},movementX:function(Ce){return"movementX"in Ce?Ce.movementX:(Ce!==Os&&(Os&&Ce.type==="mousemove"?($a=Ce.screenX-Os.screenX,Xs=Ce.screenY-Os.screenY):Xs=$a=0,Os=Ce),$a)},movementY:function(Ce){return"movementY"in Ce?Ce.movementY:Xs}}),Na=so(ha),wl=Cr({},ha,{dataTransfer:0}),mc=so(wl),pa=Cr({},Ys,{relatedTarget:0}),Qs=so(pa),Al=Cr({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=so(Al),Rl=Cr({},Ns,{clipboardData:function(Ce){return"clipboardData"in Ce?Ce.clipboardData:window.clipboardData}}),Je=so(Rl),gr=Cr({},Ns,{data:0}),Lr=so(gr),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(Ce){var $e=this.nativeEvent;return $e.getModifierState?$e.getModifierState(Ce):(Ce=gn[Ce])?!!$e[Ce]:!1}function Ln(){return Rn}var qe=Cr({},Ys,{key:function(Ce){if(Ce.key){var $e=Br[Ce.key]||Ce.key;if($e!=="Unidentified")return $e}return Ce.type==="keypress"?(Ce=$s(Ce),Ce===13?"Enter":String.fromCharCode(Ce)):Ce.type==="keydown"||Ce.type==="keyup"?Yr[Ce.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(Ce){return Ce.type==="keypress"?$s(Ce):0},keyCode:function(Ce){return Ce.type==="keydown"||Ce.type==="keyup"?Ce.keyCode:0},which:function(Ce){return Ce.type==="keypress"?$s(Ce):Ce.type==="keydown"||Ce.type==="keyup"?Ce.keyCode:0}}),ar=so(qe),dr=Cr({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rr=so(dr),Gr=Cr({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),fn=so(Gr),Pn=Cr({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=so(Pn),xi=Cr({},ha,{deltaX:function(Ce){return"deltaX"in Ce?Ce.deltaX:"wheelDeltaX"in Ce?-Ce.wheelDeltaX:0},deltaY:function(Ce){return"deltaY"in Ce?Ce.deltaY:"wheelDeltaY"in Ce?-Ce.wheelDeltaY:"wheelDelta"in Ce?-Ce.wheelDelta:0},deltaZ:0,deltaMode:0}),ui=so(xi),$i=[9,13,27,32],Di=Re&&"CompositionEvent"in window,ls=null;Re&&"documentMode"in document&&(ls=document.documentMode);var Vo=Re&&"TextEvent"in window&&!ls,ma=Re&&(!Di||ls&&8<ls&&11>=ls),ga=" ",gc=!1;function yc(Ce,$e){switch(Ce){case"keyup":return $i.indexOf($e.keyCode)!==-1;case"keydown":return $e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ul(Ce){return Ce=Ce.detail,typeof Ce=="object"&&"data"in Ce?Ce.data:null}var po=!1;function vc(Ce,$e){switch(Ce){case"compositionend":return Ul($e);case"keypress":return $e.which!==32?null:(gc=!0,ga);case"textInput":return Ce=$e.data,Ce===ga&&gc?null:Ce;default:return null}}function xc(Ce,$e){if(po)return Ce==="compositionend"||!Di&&yc(Ce,$e)?(Ce=Bl(),ho=as=Ko=null,po=!1,Ce):null;switch(Ce){case"paste":return null;case"keypress":if(!($e.ctrlKey||$e.altKey||$e.metaKey)||$e.ctrlKey&&$e.altKey){if($e.char&&1<$e.char.length)return $e.char;if($e.which)return String.fromCharCode($e.which)}return null;case"compositionend":return ma&&$e.locale!=="ko"?null:$e.data;default:return null}}var _c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(Ce){var $e=Ce&&Ce.nodeName&&Ce.nodeName.toLowerCase();return $e==="input"?!!_c[Ce.type]:$e==="textarea"}function cs(Ce,$e,Ve,He){Jn(He),$e=pu($e,"onChange"),0<$e.length&&(Ve=new fa("onChange","change",null,Ve,He),Ce.push({event:Ve,listeners:$e}))}var zl=null,Za=null;function du(Ce){Xc(Ce,0)}function us(Ce){var $e=Zl(Ce);if(Fr($e))return Ce}function Ec(Ce,$e){if(Ce==="change")return $e}var Wc=!1;if(Re){var Sc;if(Re){var Oa="oninput"in document;if(!Oa){var Pl=document.createElement("div");Pl.setAttribute("oninput","return;"),Oa=typeof Pl.oninput=="function"}Sc=Oa}else Sc=!1;Wc=Sc&&(!document.documentMode||9<document.documentMode)}function ds(){zl&&(zl.detachEvent("onpropertychange",Xo),Za=zl=null)}function Xo(Ce){if(Ce.propertyName==="value"&&us(Za)){var $e=[];cs($e,Za,Ce,ys(Ce)),Ho(du,$e)}}function Tl(Ce,$e,Ve){Ce==="focusin"?(ds(),zl=$e,Za=Ve,zl.attachEvent("onpropertychange",Xo)):Ce==="focusout"&&ds()}function el(Ce){if(Ce==="selectionchange"||Ce==="keyup"||Ce==="keydown")return us(Za)}function tl(Ce,$e){if(Ce==="click")return us($e)}function wc(Ce,$e){if(Ce==="input"||Ce==="change")return us($e)}function rl(Ce,$e){return Ce===$e&&(Ce!==0||1/Ce===1/$e)||Ce!==Ce&&$e!==$e}var Ti=typeof Object.is=="function"?Object.is:rl;function nl(Ce,$e){if(Ti(Ce,$e))return!0;if(typeof Ce!="object"||Ce===null||typeof $e!="object"||$e===null)return!1;var Ve=Object.keys(Ce),He=Object.keys($e);if(Ve.length!==He.length)return!1;for(He=0;He<Ve.length;He++){var tr=Ve[He];if(!Pe.call($e,tr)||!Ti(Ce[tr],$e[tr]))return!1}return!0}function Qo(Ce){for(;Ce&&Ce.firstChild;)Ce=Ce.firstChild;return Ce}function ks(Ce,$e){var Ve=Qo(Ce);Ce=0;for(var He;Ve;){if(Ve.nodeType===3){if(He=Ce+Ve.textContent.length,Ce<=$e&&He>=$e)return{node:Ve,offset:$e-Ce};Ce=He}e:{for(;Ve;){if(Ve.nextSibling){Ve=Ve.nextSibling;break e}Ve=Ve.parentNode}Ve=void 0}Ve=Qo(Ve)}}function Hl(Ce,$e){return Ce&&$e?Ce===$e?!0:Ce&&Ce.nodeType===3?!1:$e&&$e.nodeType===3?Hl(Ce,$e.parentNode):"contains"in Ce?Ce.contains($e):Ce.compareDocumentPosition?!!(Ce.compareDocumentPosition($e)&16):!1:!1}function Gc(){for(var Ce=window,$e=xn();$e instanceof Ce.HTMLIFrameElement;){try{var Ve=typeof $e.contentWindow.location.href=="string"}catch{Ve=!1}if(Ve)Ce=$e.contentWindow;else break;$e=xn(Ce.document)}return $e}function Wl(Ce){var $e=Ce&&Ce.nodeName&&Ce.nodeName.toLowerCase();return $e&&($e==="input"&&(Ce.type==="text"||Ce.type==="search"||Ce.type==="tel"||Ce.type==="url"||Ce.type==="password")||$e==="textarea"||Ce.contentEditable==="true")}function Gl(Ce){var $e=Gc(),Ve=Ce.focusedElem,He=Ce.selectionRange;if($e!==Ve&&Ve&&Ve.ownerDocument&&Hl(Ve.ownerDocument.documentElement,Ve)){if(He!==null&&Wl(Ve)){if($e=He.start,Ce=He.end,Ce===void 0&&(Ce=$e),"selectionStart"in Ve)Ve.selectionStart=$e,Ve.selectionEnd=Math.min(Ce,Ve.value.length);else if(Ce=($e=Ve.ownerDocument||document)&&$e.defaultView||window,Ce.getSelection){Ce=Ce.getSelection();var tr=Ve.textContent.length,lr=Math.min(He.start,tr);He=He.end===void 0?lr:Math.min(He.end,tr),!Ce.extend&&lr>He&&(tr=He,He=lr,lr=tr),tr=ks(Ve,lr);var xr=ks(Ve,He);tr&&xr&&(Ce.rangeCount!==1||Ce.anchorNode!==tr.node||Ce.anchorOffset!==tr.offset||Ce.focusNode!==xr.node||Ce.focusOffset!==xr.offset)&&($e=$e.createRange(),$e.setStart(tr.node,tr.offset),Ce.removeAllRanges(),lr>He?(Ce.addRange($e),Ce.extend(xr.node,xr.offset)):($e.setEnd(xr.node,xr.offset),Ce.addRange($e)))}}for($e=[],Ce=Ve;Ce=Ce.parentNode;)Ce.nodeType===1&&$e.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof Ve.focus=="function"&&Ve.focus(),Ve=0;Ve<$e.length;Ve++)Ce=$e[Ve],Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}var Kl=Re&&"documentMode"in document&&11>=document.documentMode,Ls=null,il=null,La=null,ol=!1;function sl(Ce,$e,Ve){var He=Ve.window===Ve?Ve.document:Ve.nodeType===9?Ve:Ve.ownerDocument;ol||Ls==null||Ls!==xn(He)||(He=Ls,"selectionStart"in He&&Wl(He)?He={start:He.selectionStart,end:He.selectionEnd}:(He=(He.ownerDocument&&He.ownerDocument.defaultView||window).getSelection(),He={anchorNode:He.anchorNode,anchorOffset:He.anchorOffset,focusNode:He.focusNode,focusOffset:He.focusOffset}),La&&nl(La,He)||(La=He,He=pu(il,"onSelect"),0<He.length&&($e=new fa("onSelect","select",null,$e,Ve),Ce.push({event:$e,listeners:He}),$e.target=Ls)))}function Cl(Ce,$e){var Ve={};return Ve[Ce.toLowerCase()]=$e.toLowerCase(),Ve["Webkit"+Ce]="webkit"+$e,Ve["Moz"+Ce]="moz"+$e,Ve}var Fo={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},bs={},Gi={};Re&&(Gi=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Vi(Ce){if(bs[Ce])return bs[Ce];if(!Fo[Ce])return Ce;var $e=Fo[Ce],Ve;for(Ve in $e)if($e.hasOwnProperty(Ve)&&Ve in Gi)return bs[Ce]=$e[Ve];return Ce}var mo=Vi("animationend"),Eo=Vi("animationiteration"),Ma=Vi("animationstart"),Ac=Vi("transitionend"),Yl=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(Ce,$e){Yl.set(Ce,$e),Se($e,[Ce])}for(var Rc=0;Rc<Kc.length;Rc++){var fs=Kc[Rc],Js=fs.toLowerCase(),fu=fs[0].toUpperCase()+fs.slice(1);Da(Js,"on"+fu)}Da(mo,"onAnimationEnd"),Da(Eo,"onAnimationIteration"),Da(Ma,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Ac,"onTransitionEnd"),Ae("onMouseEnter",["mouseout","mouseover"]),Ae("onMouseLeave",["mouseout","mouseover"]),Ae("onPointerEnter",["pointerout","pointerover"]),Ae("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function Yc(Ce,$e,Ve){var He=Ce.type||"unknown-event";Ce.currentTarget=Ve,Wo(He,$e,void 0,Ce),Ce.currentTarget=null}function Xc(Ce,$e){$e=($e&4)!==0;for(var Ve=0;Ve<Ce.length;Ve++){var He=Ce[Ve],tr=He.event;He=He.listeners;e:{var lr=void 0;if($e)for(var xr=He.length-1;0<=xr;xr--){var Dr=He[xr],Ur=Dr.instance,pn=Dr.currentTarget;if(Dr=Dr.listener,Ur!==lr&&tr.isPropagationStopped())break e;Yc(tr,Dr,pn),lr=Ur}else for(xr=0;xr<He.length;xr++){if(Dr=He[xr],Ur=Dr.instance,pn=Dr.currentTarget,Dr=Dr.listener,Ur!==lr&&tr.isPropagationStopped())break e;Yc(tr,Dr,pn),lr=Ur}}}if(Xi)throw Ce=Us,Xi=!1,Us=null,Ce}function Ki(Ce,$e){var Ve=$e[Ss];Ve===void 0&&(Ve=$e[Ss]=new Set);var He=Ce+"__bubble";Ve.has(He)||(Qc($e,Ce,2,!1),Ve.add(He))}function hu(Ce,$e,Ve){var He=0;$e&&(He|=4),Qc(Ve,Ce,He,$e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Xl(Ce){if(!Ce[Pc]){Ce[Pc]=!0,_e.forEach(function(Ve){Ve!=="selectionchange"&&(Yu.has(Ve)||hu(Ve,!1,Ce),hu(Ve,!0,Ce))});var $e=Ce.nodeType===9?Ce:Ce.ownerDocument;$e===null||$e[Pc]||($e[Pc]=!0,hu("selectionchange",!1,$e))}}function Qc(Ce,$e,Ve,He){switch(Sl($e)){case 1:var tr=ji;break;case 4:tr=Fl;break;default:tr=Ia}Ve=tr.bind(null,$e,Ve,Ce),tr=void 0,!Io||$e!=="touchstart"&&$e!=="touchmove"&&$e!=="wheel"||(tr=!0),He?tr!==void 0?Ce.addEventListener($e,Ve,{capture:!0,passive:tr}):Ce.addEventListener($e,Ve,!0):tr!==void 0?Ce.addEventListener($e,Ve,{passive:tr}):Ce.addEventListener($e,Ve,!1)}function Jc(Ce,$e,Ve,He,tr){var lr=He;if(($e&1)===0&&($e&2)===0&&He!==null)e:for(;;){if(He===null)return;var xr=He.tag;if(xr===3||xr===4){var Dr=He.stateNode.containerInfo;if(Dr===tr||Dr.nodeType===8&&Dr.parentNode===tr)break;if(xr===4)for(xr=He.return;xr!==null;){var Ur=xr.tag;if((Ur===3||Ur===4)&&(Ur=xr.stateNode.containerInfo,Ur===tr||Ur.nodeType===8&&Ur.parentNode===tr))return;xr=xr.return}for(;Dr!==null;){if(xr=jl(Dr),xr===null)return;if(Ur=xr.tag,Ur===5||Ur===6){He=lr=xr;continue e}Dr=Dr.parentNode}}He=He.return}Ho(function(){var pn=lr,Cn=ys(Ve),$n=[];e:{var Tn=Yl.get(Ce);if(Tn!==void 0){var Un=fa,Gn=Ce;switch(Ce){case"keypress":if($s(Ve)===0)break e;case"keydown":case"keyup":Un=ar;break;case"focusin":Gn="focus",Un=Qs;break;case"focusout":Gn="blur",Un=Qs;break;case"beforeblur":case"afterblur":Un=Qs;break;case"click":if(Ve.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Un=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Un=mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Un=fn;break;case mo:case Eo:case Ma:Un=Yo;break;case Ac:Un=ci;break;case"scroll":Un=ql;break;case"wheel":Un=ui;break;case"copy":case"cut":case"paste":Un=Je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Un=Rr}var Kn=($e&4)!==0,Co=!Kn&&Ce==="scroll",dn=Kn?Tn!==null?Tn+"Capture":null:Tn;Kn=[];for(var Wr=pn,hn;Wr!==null;){hn=Wr;var On=hn.stateNode;if(hn.tag===5&&On!==null&&(hn=On,dn!==null&&(On=Fn(Wr,dn),On!=null&&Kn.push(Zc(Wr,On,hn)))),Co)break;Wr=Wr.return}0<Kn.length&&(Tn=new Un(Tn,Gn,null,Ve,Cn),$n.push({event:Tn,listeners:Kn}))}}if(($e&7)===0){e:{if(Tn=Ce==="mouseover"||Ce==="pointerover",Un=Ce==="mouseout"||Ce==="pointerout",Tn&&Ve!==gi&&(Gn=Ve.relatedTarget||Ve.fromElement)&&(jl(Gn)||Gn[Jo]))break e;if((Un||Tn)&&(Tn=Cn.window===Cn?Cn:(Tn=Cn.ownerDocument)?Tn.defaultView||Tn.parentWindow:window,Un?(Gn=Ve.relatedTarget||Ve.toElement,Un=pn,Gn=Gn?jl(Gn):null,Gn!==null&&(Co=oo(Gn),Gn!==Co||Gn.tag!==5&&Gn.tag!==6)&&(Gn=null)):(Un=null,Gn=pn),Un!==Gn)){if(Kn=Na,On="onMouseLeave",dn="onMouseEnter",Wr="mouse",(Ce==="pointerout"||Ce==="pointerover")&&(Kn=Rr,On="onPointerLeave",dn="onPointerEnter",Wr="pointer"),Co=Un==null?Tn:Zl(Un),hn=Gn==null?Tn:Zl(Gn),Tn=new Kn(On,Wr+"leave",Un,Ve,Cn),Tn.target=Co,Tn.relatedTarget=hn,On=null,jl(Cn)===pn&&(Kn=new Kn(dn,Wr+"enter",Gn,Ve,Cn),Kn.target=hn,Kn.relatedTarget=Co,On=Kn),Co=On,Un&&Gn)t:{for(Kn=Un,dn=Gn,Wr=0,hn=Kn;hn;hn=Ql(hn))Wr++;for(hn=0,On=dn;On;On=Ql(On))hn++;for(;0<Wr-hn;)Kn=Ql(Kn),Wr--;for(;0<hn-Wr;)dn=Ql(dn),hn--;for(;Wr--;){if(Kn===dn||dn!==null&&Kn===dn.alternate)break t;Kn=Ql(Kn),dn=Ql(dn)}Kn=null}else Kn=null;Un!==null&&Xu($n,Tn,Un,Kn,!1),Gn!==null&&Co!==null&&Xu($n,Co,Gn,Kn,!0)}}e:{if(Tn=pn?Zl(pn):window,Un=Tn.nodeName&&Tn.nodeName.toLowerCase(),Un==="select"||Un==="input"&&Tn.type==="file")var Xn=Ec;else if(bc(Tn))if(Wc)Xn=wc;else{Xn=el;var ii=Tl}else(Un=Tn.nodeName)&&Un.toLowerCase()==="input"&&(Tn.type==="checkbox"||Tn.type==="radio")&&(Xn=tl);if(Xn&&(Xn=Xn(Ce,pn))){cs($n,Xn,Ve,Cn);break e}ii&&ii(Ce,Tn,pn),Ce==="focusout"&&(ii=Tn._wrapperState)&&ii.controlled&&Tn.type==="number"&&wn(Tn,"number",Tn.value)}switch(ii=pn?Zl(pn):window,Ce){case"focusin":(bc(ii)||ii.contentEditable==="true")&&(Ls=ii,il=pn,La=null);break;case"focusout":La=il=Ls=null;break;case"mousedown":ol=!0;break;case"contextmenu":case"mouseup":case"dragend":ol=!1,sl($n,Ve,Cn);break;case"selectionchange":if(Kl)break;case"keydown":case"keyup":sl($n,Ve,Cn)}var oi;if(Di)e:{switch(Ce){case"compositionstart":var li="onCompositionStart";break e;case"compositionend":li="onCompositionEnd";break e;case"compositionupdate":li="onCompositionUpdate";break e}li=void 0}else po?yc(Ce,Ve)&&(li="onCompositionEnd"):Ce==="keydown"&&Ve.keyCode===229&&(li="onCompositionStart");li&&(ma&&Ve.locale!=="ko"&&(po||li!=="onCompositionStart"?li==="onCompositionEnd"&&po&&(oi=Bl()):(Ko=Cn,as="value"in Ko?Ko.value:Ko.textContent,po=!0)),ii=pu(pn,li),0<ii.length&&(li=new Lr(li,Ce,null,Ve,Cn),$n.push({event:li,listeners:ii}),oi?li.data=oi:(oi=Ul(Ve),oi!==null&&(li.data=oi)))),(oi=Vo?vc(Ce,Ve):xc(Ce,Ve))&&(pn=pu(pn,"onBeforeInput"),0<pn.length&&(Cn=new Lr("onBeforeInput","beforeinput",null,Ve,Cn),$n.push({event:Cn,listeners:pn}),Cn.data=oi))}Xc($n,$e)})}function Zc(Ce,$e,Ve){return{instance:Ce,listener:$e,currentTarget:Ve}}function pu(Ce,$e){for(var Ve=$e+"Capture",He=[];Ce!==null;){var tr=Ce,lr=tr.stateNode;tr.tag===5&&lr!==null&&(tr=lr,lr=Fn(Ce,Ve),lr!=null&&He.unshift(Zc(Ce,lr,tr)),lr=Fn(Ce,$e),lr!=null&&He.push(Zc(Ce,lr,tr))),Ce=Ce.return}return He}function Ql(Ce){if(Ce===null)return null;do Ce=Ce.return;while(Ce&&Ce.tag!==5);return Ce||null}function Xu(Ce,$e,Ve,He,tr){for(var lr=$e._reactName,xr=[];Ve!==null&&Ve!==He;){var Dr=Ve,Ur=Dr.alternate,pn=Dr.stateNode;if(Ur!==null&&Ur===He)break;Dr.tag===5&&pn!==null&&(Dr=pn,tr?(Ur=Fn(Ve,lr),Ur!=null&&xr.unshift(Zc(Ve,Ur,Dr))):tr||(Ur=Fn(Ve,lr),Ur!=null&&xr.push(Zc(Ve,Ur,Dr)))),Ve=Ve.return}xr.length!==0&&Ce.push({event:$e,listeners:xr})}var Nd=/\r\n?/g,Od=/\u0000|\uFFFD/g;function Qu(Ce){return(typeof Ce=="string"?Ce:""+Ce).replace(Nd,`
`).replace(Od,"")}function mu(Ce,$e,Ve){if($e=Qu($e),Qu(Ce)!==$e&&Ve)throw Error(xe(425))}function Tc(){}var eu=null,Jl=null;function $u(Ce,$e){return Ce==="textarea"||Ce==="noscript"||typeof $e.children=="string"||typeof $e.children=="number"||typeof $e.dangerouslySetInnerHTML=="object"&&$e.dangerouslySetInnerHTML!==null&&$e.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,Ju=typeof clearTimeout=="function"?clearTimeout:void 0,Zu=typeof Promise=="function"?Promise:void 0,kd=typeof queueMicrotask=="function"?queueMicrotask:typeof Zu<"u"?function(Ce){return Zu.resolve(null).then(Ce).catch(Ld)}:Nu;function Ld(Ce){setTimeout(function(){throw Ce})}function Ou(Ce,$e){var Ve=$e,He=0;do{var tr=Ve.nextSibling;if(Ce.removeChild(Ve),tr&&tr.nodeType===8)if(Ve=tr.data,Ve==="/$"){if(He===0){Ce.removeChild(tr),Do($e);return}He--}else Ve!=="$"&&Ve!=="$?"&&Ve!=="$!"||He++;Ve=tr}while(Ve);Do($e)}function hs(Ce){for(;Ce!=null;Ce=Ce.nextSibling){var $e=Ce.nodeType;if($e===1||$e===3)break;if($e===8){if($e=Ce.data,$e==="$"||$e==="$!"||$e==="$?")break;if($e==="/$")return null}}return Ce}function Zs(Ce){Ce=Ce.previousSibling;for(var $e=0;Ce;){if(Ce.nodeType===8){var Ve=Ce.data;if(Ve==="$"||Ve==="$!"||Ve==="$?"){if($e===0)return Ce;$e--}else Ve==="/$"&&$e++}Ce=Ce.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Va="__reactFiber$"+Es,Cc="__reactProps$"+Es,Jo="__reactContainer$"+Es,Ss="__reactEvents$"+Es,Md="__reactListeners$"+Es,Dd="__reactHandles$"+Es;function jl(Ce){var $e=Ce[Va];if($e)return $e;for(var Ve=Ce.parentNode;Ve;){if($e=Ve[Jo]||Ve[Va]){if(Ve=$e.alternate,$e.child!==null||Ve!==null&&Ve.child!==null)for(Ce=Zs(Ce);Ce!==null;){if(Ve=Ce[Va])return Ve;Ce=Zs(Ce)}return $e}Ce=Ve,Ve=Ce.parentNode}return null}function Ic(Ce){return Ce=Ce[Va]||Ce[Jo],!Ce||Ce.tag!==5&&Ce.tag!==6&&Ce.tag!==13&&Ce.tag!==3?null:Ce}function Zl(Ce){if(Ce.tag===5||Ce.tag===6)return Ce.stateNode;throw Error(xe(33))}function tu(Ce){return Ce[Cc]||null}var ku=[],al=-1;function ya(Ce){return{current:Ce}}function Fi(Ce){0>al||(Ce.current=ku[al],ku[al]=null,al--)}function zi(Ce,$e){al++,ku[al]=Ce.current,Ce.current=$e}var $l={},Bo=ya($l),ws=ya(!1),tc=$l;function jc(Ce,$e){var Ve=Ce.type.contextTypes;if(!Ve)return $l;var He=Ce.stateNode;if(He&&He.__reactInternalMemoizedUnmaskedChildContext===$e)return He.__reactInternalMemoizedMaskedChildContext;var tr={},lr;for(lr in Ve)tr[lr]=$e[lr];return He&&(Ce=Ce.stateNode,Ce.__reactInternalMemoizedUnmaskedChildContext=$e,Ce.__reactInternalMemoizedMaskedChildContext=tr),tr}function As(Ce){return Ce=Ce.childContextTypes,Ce!=null}function gu(){Fi(ws),Fi(Bo)}function ed(Ce,$e,Ve){if(Bo.current!==$l)throw Error(xe(168));zi(Bo,$e),zi(ws,Ve)}function Lu(Ce,$e,Ve){var He=Ce.stateNode;if($e=$e.childContextTypes,typeof He.getChildContext!="function")return Ve;He=He.getChildContext();for(var tr in He)if(!(tr in $e))throw Error(xe(108,Mr(Ce)||"Unknown",tr));return Cr({},Ve,He)}function rc(Ce){return Ce=(Ce=Ce.stateNode)&&Ce.__reactInternalMemoizedMergedChildContext||$l,tc=Bo.current,zi(Bo,Ce),zi(ws,ws.current),!0}function rd(Ce,$e,Ve){var He=Ce.stateNode;if(!He)throw Error(xe(169));Ve?(Ce=Lu(Ce,$e,tc),He.__reactInternalMemoizedMergedChildContext=Ce,Fi(ws),Fi(Bo),zi(Bo,Ce)):Fi(ws),zi(ws,Ve)}var ll=null,ru=!1,Be=!1;function Ge(Ce){ll===null?ll=[Ce]:ll.push(Ce)}function nr(Ce){ru=!0,Ge(Ce)}function ur(){if(!Be&&ll!==null){Be=!0;var Ce=0,$e=yi;try{var Ve=ll;for(yi=1;Ce<Ve.length;Ce++){var He=Ve[Ce];do He=He(!0);while(He!==null)}ll=null,ru=!1}catch(tr){throw ll!==null&&(ll=ll.slice(Ce+1)),di(zs,ur),tr}finally{yi=$e,Be=!1}}return null}var pr=[],vr=0,Sr=null,Ar=0,Tr=[],$r=0,qr=null,Jr=1,Zr="";function Kr(Ce,$e){pr[vr++]=Ar,pr[vr++]=Sr,Sr=Ce,Ar=$e}function Sn(Ce,$e,Ve){Tr[$r++]=Jr,Tr[$r++]=Zr,Tr[$r++]=qr,qr=Ce;var He=Jr;Ce=Zr;var tr=32-Oo(He)-1;He&=~(1<<tr),Ve+=1;var lr=32-Oo($e)+tr;if(30<lr){var xr=tr-tr%5;lr=(He&(1<<xr)-1).toString(32),He>>=xr,tr-=xr,Jr=1<<32-Oo($e)+tr|Ve<<tr|He,Zr=lr+Ce}else Jr=1<<lr|Ve<<tr|He,Zr=Ce}function mn(Ce){Ce.return!==null&&(Kr(Ce,1),Sn(Ce,1,0))}function zr(Ce){for(;Ce===Sr;)Sr=pr[--vr],pr[vr]=null,Ar=pr[--vr],pr[vr]=null;for(;Ce===qr;)qr=Tr[--$r],Tr[$r]=null,Zr=Tr[--$r],Tr[$r]=null,Jr=Tr[--$r],Tr[$r]=null}var Hr=null,vn=null,yn=!1,bn=null;function qn(Ce,$e){var Ve=Ha(5,null,null,0);Ve.elementType="DELETED",Ve.stateNode=$e,Ve.return=Ce,$e=Ce.deletions,$e===null?(Ce.deletions=[Ve],Ce.flags|=16):$e.push(Ve)}function Mn(Ce,$e){switch(Ce.tag){case 5:var Ve=Ce.type;return $e=$e.nodeType!==1||Ve.toLowerCase()!==$e.nodeName.toLowerCase()?null:$e,$e!==null?(Ce.stateNode=$e,Hr=Ce,vn=hs($e.firstChild),!0):!1;case 6:return $e=Ce.pendingProps===""||$e.nodeType!==3?null:$e,$e!==null?(Ce.stateNode=$e,Hr=Ce,vn=null,!0):!1;case 13:return $e=$e.nodeType!==8?null:$e,$e!==null?(Ve=qr!==null?{id:Jr,overflow:Zr}:null,Ce.memoizedState={dehydrated:$e,treeContext:Ve,retryLane:1073741824},Ve=Ha(18,null,null,0),Ve.stateNode=$e,Ve.return=Ce,Ce.child=Ve,Hr=Ce,vn=null,!0):!1;default:return!1}}function Zn(Ce){return(Ce.mode&1)!==0&&(Ce.flags&128)===0}function Dn(Ce){if(yn){var $e=vn;if($e){var Ve=$e;if(!Mn(Ce,$e)){if(Zn(Ce))throw Error(xe(418));$e=hs(Ve.nextSibling);var He=Hr;$e&&Mn(Ce,$e)?qn(He,Ve):(Ce.flags=Ce.flags&-4097|2,yn=!1,Hr=Ce)}}else{if(Zn(Ce))throw Error(xe(418));Ce.flags=Ce.flags&-4097|2,yn=!1,Hr=Ce}}}function Ai(Ce){for(Ce=Ce.return;Ce!==null&&Ce.tag!==5&&Ce.tag!==3&&Ce.tag!==13;)Ce=Ce.return;Hr=Ce}function Ri(Ce){if(Ce!==Hr)return!1;if(!yn)return Ai(Ce),yn=!0,!1;var $e;if(($e=Ce.tag!==3)&&!($e=Ce.tag!==5)&&($e=Ce.type,$e=$e!=="head"&&$e!=="body"&&!$u(Ce.type,Ce.memoizedProps)),$e&&($e=vn)){if(Zn(Ce))throw Si(),Error(xe(418));for(;$e;)qn(Ce,$e),$e=hs($e.nextSibling)}if(Ai(Ce),Ce.tag===13){if(Ce=Ce.memoizedState,Ce=Ce!==null?Ce.dehydrated:null,!Ce)throw Error(xe(317));e:{for(Ce=Ce.nextSibling,$e=0;Ce;){if(Ce.nodeType===8){var Ve=Ce.data;if(Ve==="/$"){if($e===0){vn=hs(Ce.nextSibling);break e}$e--}else Ve!=="$"&&Ve!=="$!"&&Ve!=="$?"||$e++}Ce=Ce.nextSibling}vn=null}}else vn=Hr?hs(Ce.stateNode.nextSibling):null;return!0}function Si(){for(var Ce=vn;Ce;)Ce=hs(Ce.nextSibling)}function fi(){vn=Hr=null,yn=!1}function Bi(Ce){bn===null?bn=[Ce]:bn.push(Ce)}var Hi=Ye.ReactCurrentBatchConfig;function ai(Ce,$e,Ve){if(Ce=Ve.ref,Ce!==null&&typeof Ce!="function"&&typeof Ce!="object"){if(Ve._owner){if(Ve=Ve._owner,Ve){if(Ve.tag!==1)throw Error(xe(309));var He=Ve.stateNode}if(!He)throw Error(xe(147,Ce));var tr=He,lr=""+Ce;return $e!==null&&$e.ref!==null&&typeof $e.ref=="function"&&$e.ref._stringRef===lr?$e.ref:($e=function(xr){var Dr=tr.refs;xr===null?delete Dr[lr]:Dr[lr]=xr},$e._stringRef=lr,$e)}if(typeof Ce!="string")throw Error(xe(284));if(!Ve._owner)throw Error(xe(290,Ce))}return Ce}function ao(Ce,$e){throw Ce=Object.prototype.toString.call($e),Error(xe(31,Ce==="[object Object]"?"object with keys {"+Object.keys($e).join(", ")+"}":Ce))}function ps(Ce){var $e=Ce._init;return $e(Ce._payload)}function yo(Ce){function $e(dn,Wr){if(Ce){var hn=dn.deletions;hn===null?(dn.deletions=[Wr],dn.flags|=16):hn.push(Wr)}}function Ve(dn,Wr){if(!Ce)return null;for(;Wr!==null;)$e(dn,Wr),Wr=Wr.sibling;return null}function He(dn,Wr){for(dn=new Map;Wr!==null;)Wr.key!==null?dn.set(Wr.key,Wr):dn.set(Wr.index,Wr),Wr=Wr.sibling;return dn}function tr(dn,Wr){return dn=Uc(dn,Wr),dn.index=0,dn.sibling=null,dn}function lr(dn,Wr,hn){return dn.index=hn,Ce?(hn=dn.alternate,hn!==null?(hn=hn.index,hn<Wr?(dn.flags|=2,Wr):hn):(dn.flags|=2,Wr)):(dn.flags|=1048576,Wr)}function xr(dn){return Ce&&dn.alternate===null&&(dn.flags|=2),dn}function Dr(dn,Wr,hn,On){return Wr===null||Wr.tag!==6?(Wr=pf(hn,dn.mode,On),Wr.return=dn,Wr):(Wr=tr(Wr,hn),Wr.return=dn,Wr)}function Ur(dn,Wr,hn,On){var Xn=hn.type;return Xn===Qe?Cn(dn,Wr,hn.props.children,On,hn.key):Wr!==null&&(Wr.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===Er&&ps(Xn)===Wr.type)?(On=tr(Wr,hn.props),On.ref=ai(dn,Wr,hn),On.return=dn,On):(On=wd(hn.type,hn.key,hn.props,null,dn.mode,On),On.ref=ai(dn,Wr,hn),On.return=dn,On)}function pn(dn,Wr,hn,On){return Wr===null||Wr.tag!==4||Wr.stateNode.containerInfo!==hn.containerInfo||Wr.stateNode.implementation!==hn.implementation?(Wr=mf(hn,dn.mode,On),Wr.return=dn,Wr):(Wr=tr(Wr,hn.children||[]),Wr.return=dn,Wr)}function Cn(dn,Wr,hn,On,Xn){return Wr===null||Wr.tag!==7?(Wr=uu(hn,dn.mode,On,Xn),Wr.return=dn,Wr):(Wr=tr(Wr,hn),Wr.return=dn,Wr)}function $n(dn,Wr,hn){if(typeof Wr=="string"&&Wr!==""||typeof Wr=="number")return Wr=pf(""+Wr,dn.mode,hn),Wr.return=dn,Wr;if(typeof Wr=="object"&&Wr!==null){switch(Wr.$$typeof){case Xe:return hn=wd(Wr.type,Wr.key,Wr.props,null,dn.mode,hn),hn.ref=ai(dn,null,Wr),hn.return=dn,hn;case ir:return Wr=mf(Wr,dn.mode,hn),Wr.return=dn,Wr;case Er:var On=Wr._init;return $n(dn,On(Wr._payload),hn)}if(In(Wr)||Pr(Wr))return Wr=uu(Wr,dn.mode,hn,null),Wr.return=dn,Wr;ao(dn,Wr)}return null}function Tn(dn,Wr,hn,On){var Xn=Wr!==null?Wr.key:null;if(typeof hn=="string"&&hn!==""||typeof hn=="number")return Xn!==null?null:Dr(dn,Wr,""+hn,On);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case Xe:return hn.key===Xn?Ur(dn,Wr,hn,On):null;case ir:return hn.key===Xn?pn(dn,Wr,hn,On):null;case Er:return Xn=hn._init,Tn(dn,Wr,Xn(hn._payload),On)}if(In(hn)||Pr(hn))return Xn!==null?null:Cn(dn,Wr,hn,On,null);ao(dn,hn)}return null}function Un(dn,Wr,hn,On,Xn){if(typeof On=="string"&&On!==""||typeof On=="number")return dn=dn.get(hn)||null,Dr(Wr,dn,""+On,Xn);if(typeof On=="object"&&On!==null){switch(On.$$typeof){case Xe:return dn=dn.get(On.key===null?hn:On.key)||null,Ur(Wr,dn,On,Xn);case ir:return dn=dn.get(On.key===null?hn:On.key)||null,pn(Wr,dn,On,Xn);case Er:var ii=On._init;return Un(dn,Wr,hn,ii(On._payload),Xn)}if(In(On)||Pr(On))return dn=dn.get(hn)||null,Cn(Wr,dn,On,Xn,null);ao(Wr,On)}return null}function Gn(dn,Wr,hn,On){for(var Xn=null,ii=null,oi=Wr,li=Wr=0,rs=null;oi!==null&&li<hn.length;li++){oi.index>li?(rs=oi,oi=null):rs=oi.sibling;var ki=Tn(dn,oi,hn[li],On);if(ki===null){oi===null&&(oi=rs);break}Ce&&oi&&ki.alternate===null&&$e(dn,oi),Wr=lr(ki,Wr,li),ii===null?Xn=ki:ii.sibling=ki,ii=ki,oi=rs}if(li===hn.length)return Ve(dn,oi),yn&&Kr(dn,li),Xn;if(oi===null){for(;li<hn.length;li++)oi=$n(dn,hn[li],On),oi!==null&&(Wr=lr(oi,Wr,li),ii===null?Xn=oi:ii.sibling=oi,ii=oi);return yn&&Kr(dn,li),Xn}for(oi=He(dn,oi);li<hn.length;li++)rs=Un(oi,dn,li,hn[li],On),rs!==null&&(Ce&&rs.alternate!==null&&oi.delete(rs.key===null?li:rs.key),Wr=lr(rs,Wr,li),ii===null?Xn=rs:ii.sibling=rs,ii=rs);return Ce&&oi.forEach(function(zc){return $e(dn,zc)}),yn&&Kr(dn,li),Xn}function Kn(dn,Wr,hn,On){var Xn=Pr(hn);if(typeof Xn!="function")throw Error(xe(150));if(hn=Xn.call(hn),hn==null)throw Error(xe(151));for(var ii=Xn=null,oi=Wr,li=Wr=0,rs=null,ki=hn.next();oi!==null&&!ki.done;li++,ki=hn.next()){oi.index>li?(rs=oi,oi=null):rs=oi.sibling;var zc=Tn(dn,oi,ki.value,On);if(zc===null){oi===null&&(oi=rs);break}Ce&&oi&&zc.alternate===null&&$e(dn,oi),Wr=lr(zc,Wr,li),ii===null?Xn=zc:ii.sibling=zc,ii=zc,oi=rs}if(ki.done)return Ve(dn,oi),yn&&Kr(dn,li),Xn;if(oi===null){for(;!ki.done;li++,ki=hn.next())ki=$n(dn,ki.value,On),ki!==null&&(Wr=lr(ki,Wr,li),ii===null?Xn=ki:ii.sibling=ki,ii=ki);return yn&&Kr(dn,li),Xn}for(oi=He(dn,oi);!ki.done;li++,ki=hn.next())ki=Un(oi,dn,li,ki.value,On),ki!==null&&(Ce&&ki.alternate!==null&&oi.delete(ki.key===null?li:ki.key),Wr=lr(ki,Wr,li),ii===null?Xn=ki:ii.sibling=ki,ii=ki);return Ce&&oi.forEach(function(rp){return $e(dn,rp)}),yn&&Kr(dn,li),Xn}function Co(dn,Wr,hn,On){if(typeof hn=="object"&&hn!==null&&hn.type===Qe&&hn.key===null&&(hn=hn.props.children),typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case Xe:e:{for(var Xn=hn.key,ii=Wr;ii!==null;){if(ii.key===Xn){if(Xn=hn.type,Xn===Qe){if(ii.tag===7){Ve(dn,ii.sibling),Wr=tr(ii,hn.props.children),Wr.return=dn,dn=Wr;break e}}else if(ii.elementType===Xn||typeof Xn=="object"&&Xn!==null&&Xn.$$typeof===Er&&ps(Xn)===ii.type){Ve(dn,ii.sibling),Wr=tr(ii,hn.props),Wr.ref=ai(dn,ii,hn),Wr.return=dn,dn=Wr;break e}Ve(dn,ii);break}else $e(dn,ii);ii=ii.sibling}hn.type===Qe?(Wr=uu(hn.props.children,dn.mode,On,hn.key),Wr.return=dn,dn=Wr):(On=wd(hn.type,hn.key,hn.props,null,dn.mode,On),On.ref=ai(dn,Wr,hn),On.return=dn,dn=On)}return xr(dn);case ir:e:{for(ii=hn.key;Wr!==null;){if(Wr.key===ii)if(Wr.tag===4&&Wr.stateNode.containerInfo===hn.containerInfo&&Wr.stateNode.implementation===hn.implementation){Ve(dn,Wr.sibling),Wr=tr(Wr,hn.children||[]),Wr.return=dn,dn=Wr;break e}else{Ve(dn,Wr);break}else $e(dn,Wr);Wr=Wr.sibling}Wr=mf(hn,dn.mode,On),Wr.return=dn,dn=Wr}return xr(dn);case Er:return ii=hn._init,Co(dn,Wr,ii(hn._payload),On)}if(In(hn))return Gn(dn,Wr,hn,On);if(Pr(hn))return Kn(dn,Wr,hn,On);ao(dn,hn)}return typeof hn=="string"&&hn!==""||typeof hn=="number"?(hn=""+hn,Wr!==null&&Wr.tag===6?(Ve(dn,Wr.sibling),Wr=tr(Wr,hn),Wr.return=dn,dn=Wr):(Ve(dn,Wr),Wr=pf(hn,dn.mode,On),Wr.return=dn,dn=Wr),xr(dn)):Ve(dn,Wr)}return Co}var Ro=yo(!0),Ni=yo(!1),Zo=ya(null),es=null,lo=null,Po=null;function qo(){Po=lo=es=null}function Rs(Ce){var $e=Zo.current;Fi(Zo),Ce._currentValue=$e}function ea(Ce,$e,Ve){for(;Ce!==null;){var He=Ce.alternate;if((Ce.childLanes&$e)!==$e?(Ce.childLanes|=$e,He!==null&&(He.childLanes|=$e)):He!==null&&(He.childLanes&$e)!==$e&&(He.childLanes|=$e),Ce===Ve)break;Ce=Ce.return}}function co(Ce,$e){es=Ce,Po=lo=null,Ce=Ce.dependencies,Ce!==null&&Ce.firstContext!==null&&((Ce.lanes&$e)!==0&&(ia=!0),Ce.firstContext=null)}function So(Ce){var $e=Ce._currentValue;if(Po!==Ce)if(Ce={context:Ce,memoizedValue:$e,next:null},lo===null){if(es===null)throw Error(xe(308));lo=Ce,es.dependencies={lanes:0,firstContext:Ce}}else lo=lo.next=Ce;return $e}var Ms=null;function Nl(Ce){Ms===null?Ms=[Ce]:Ms.push(Ce)}function cl(Ce,$e,Ve,He){var tr=$e.interleaved;return tr===null?(Ve.next=Ve,Nl($e)):(Ve.next=tr.next,tr.next=Ve),$e.interleaved=Ve,Oi(Ce,He)}function Oi(Ce,$e){Ce.lanes|=$e;var Ve=Ce.alternate;for(Ve!==null&&(Ve.lanes|=$e),Ve=Ce,Ce=Ce.return;Ce!==null;)Ce.childLanes|=$e,Ve=Ce.alternate,Ve!==null&&(Ve.childLanes|=$e),Ve=Ce,Ce=Ce.return;return Ve.tag===3?Ve.stateNode:null}var Fa=!1;function yu(Ce){Ce.updateQueue={baseState:Ce.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(Ce,$e){Ce=Ce.updateQueue,$e.updateQueue===Ce&&($e.updateQueue={baseState:Ce.baseState,firstBaseUpdate:Ce.firstBaseUpdate,lastBaseUpdate:Ce.lastBaseUpdate,shared:Ce.shared,effects:Ce.effects})}function ta(Ce,$e){return{eventTime:Ce,lane:$e,tag:0,payload:null,callback:null,next:null}}function ra(Ce,$e,Ve){var He=Ce.updateQueue;if(He===null)return null;if(He=He.shared,(Ci&2)!==0){var tr=He.pending;return tr===null?$e.next=$e:($e.next=tr.next,tr.next=$e),He.pending=$e,Oi(Ce,Ve)}return tr=He.interleaved,tr===null?($e.next=$e,Nl(He)):($e.next=tr.next,tr.next=$e),He.interleaved=$e,Oi(Ce,Ve)}function nc(Ce,$e,Ve){if($e=$e.updateQueue,$e!==null&&($e=$e.shared,(Ve&4194240)!==0)){var He=$e.lanes;He&=Ce.pendingLanes,Ve|=He,$e.lanes=Ve,ua(Ce,Ve)}}function na(Ce,$e){var Ve=Ce.updateQueue,He=Ce.alternate;if(He!==null&&(He=He.updateQueue,Ve===He)){var tr=null,lr=null;if(Ve=Ve.firstBaseUpdate,Ve!==null){do{var xr={eventTime:Ve.eventTime,lane:Ve.lane,tag:Ve.tag,payload:Ve.payload,callback:Ve.callback,next:null};lr===null?tr=lr=xr:lr=lr.next=xr,Ve=Ve.next}while(Ve!==null);lr===null?tr=lr=$e:lr=lr.next=$e}else tr=lr=$e;Ve={baseState:He.baseState,firstBaseUpdate:tr,lastBaseUpdate:lr,shared:He.shared,effects:He.effects},Ce.updateQueue=Ve;return}Ce=Ve.lastBaseUpdate,Ce===null?Ve.firstBaseUpdate=$e:Ce.next=$e,Ve.lastBaseUpdate=$e}function ul(Ce,$e,Ve,He){var tr=Ce.updateQueue;Fa=!1;var lr=tr.firstBaseUpdate,xr=tr.lastBaseUpdate,Dr=tr.shared.pending;if(Dr!==null){tr.shared.pending=null;var Ur=Dr,pn=Ur.next;Ur.next=null,xr===null?lr=pn:xr.next=pn,xr=Ur;var Cn=Ce.alternate;Cn!==null&&(Cn=Cn.updateQueue,Dr=Cn.lastBaseUpdate,Dr!==xr&&(Dr===null?Cn.firstBaseUpdate=pn:Dr.next=pn,Cn.lastBaseUpdate=Ur))}if(lr!==null){var $n=tr.baseState;xr=0,Cn=pn=Ur=null,Dr=lr;do{var Tn=Dr.lane,Un=Dr.eventTime;if((He&Tn)===Tn){Cn!==null&&(Cn=Cn.next={eventTime:Un,lane:0,tag:Dr.tag,payload:Dr.payload,callback:Dr.callback,next:null});e:{var Gn=Ce,Kn=Dr;switch(Tn=$e,Un=Ve,Kn.tag){case 1:if(Gn=Kn.payload,typeof Gn=="function"){$n=Gn.call(Un,$n,Tn);break e}$n=Gn;break e;case 3:Gn.flags=Gn.flags&-65537|128;case 0:if(Gn=Kn.payload,Tn=typeof Gn=="function"?Gn.call(Un,$n,Tn):Gn,Tn==null)break e;$n=Cr({},$n,Tn);break e;case 2:Fa=!0}}Dr.callback!==null&&Dr.lane!==0&&(Ce.flags|=64,Tn=tr.effects,Tn===null?tr.effects=[Dr]:Tn.push(Dr))}else Un={eventTime:Un,lane:Tn,tag:Dr.tag,payload:Dr.payload,callback:Dr.callback,next:null},Cn===null?(pn=Cn=Un,Ur=$n):Cn=Cn.next=Un,xr|=Tn;if(Dr=Dr.next,Dr===null){if(Dr=tr.shared.pending,Dr===null)break;Tn=Dr,Dr=Tn.next,Tn.next=null,tr.lastBaseUpdate=Tn,tr.shared.pending=null}}while(!0);if(Cn===null&&(Ur=$n),tr.baseState=Ur,tr.firstBaseUpdate=pn,tr.lastBaseUpdate=Cn,$e=tr.shared.interleaved,$e!==null){tr=$e;do xr|=tr.lane,tr=tr.next;while(tr!==$e)}else lr===null&&(tr.shared.lanes=0);su|=xr,Ce.lanes=xr,Ce.memoizedState=$n}}function ic(Ce,$e,Ve){if(Ce=$e.effects,$e.effects=null,Ce!==null)for($e=0;$e<Ce.length;$e++){var He=Ce[$e],tr=He.callback;if(tr!==null){if(He.callback=null,He=Ve,typeof tr!="function")throw Error(xe(191,tr));tr.call(He)}}}var $c={},Ds=ya($c),Nc=ya($c),Ol=ya($c);function dl(Ce){if(Ce===$c)throw Error(xe(174));return Ce}function Oc(Ce,$e){switch(zi(Ol,$e),zi(Nc,Ce),zi(Ds,$c),Ce=$e.nodeType,Ce){case 9:case 11:$e=($e=$e.documentElement)?$e.namespaceURI:ei(null,"");break;default:Ce=Ce===8?$e.parentNode:$e,$e=Ce.namespaceURI||null,Ce=Ce.tagName,$e=ei($e,Ce)}Fi(Ds),zi(Ds,$e)}function Ba(){Fi(Ds),Fi(Nc),Fi(Ol)}function nd(Ce){dl(Ol.current);var $e=dl(Ds.current),Ve=ei($e,Ce.type);$e!==Ve&&(zi(Nc,Ce),zi(Ds,Ve))}function Du(Ce){Nc.current===Ce&&(Fi(Ds),Fi(Nc))}var Ji=ya(0);function va(Ce){for(var $e=Ce;$e!==null;){if($e.tag===13){var Ve=$e.memoizedState;if(Ve!==null&&(Ve=Ve.dehydrated,Ve===null||Ve.data==="$?"||Ve.data==="$!"))return $e}else if($e.tag===19&&$e.memoizedProps.revealOrder!==void 0){if(($e.flags&128)!==0)return $e}else if($e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===Ce)break;for(;$e.sibling===null;){if($e.return===null||$e.return===Ce)return null;$e=$e.return}$e.sibling.return=$e.return,$e=$e.sibling}return null}var Vu=[];function Fu(){for(var Ce=0;Ce<Vu.length;Ce++)Vu[Ce]._workInProgressVersionPrimary=null;Vu.length=0}var vu=Ye.ReactCurrentDispatcher,xu=Ye.ReactCurrentBatchConfig,qa=0,no=null,wo=null,vo=null,kc=!1,hl=!1,Lc=0,Vd=0;function To(){throw Error(xe(321))}function _u(Ce,$e){if($e===null)return!1;for(var Ve=0;Ve<$e.length&&Ve<Ce.length;Ve++)if(!Ti(Ce[Ve],$e[Ve]))return!1;return!0}function nu(Ce,$e,Ve,He,tr,lr){if(qa=lr,no=$e,$e.memoizedState=null,$e.updateQueue=null,$e.lanes=0,vu.current=Ce===null||Ce.memoizedState===null?Th:Ch,Ce=Ve(He,tr),hl){lr=0;do{if(hl=!1,Lc=0,25<=lr)throw Error(xe(301));lr+=1,vo=wo=null,$e.updateQueue=null,vu.current=Ih,Ce=Ve(He,tr)}while(hl)}if(vu.current=cd,$e=wo!==null&&wo.next!==null,qa=0,vo=wo=no=null,kc=!1,$e)throw Error(xe(300));return Ce}function Ua(){var Ce=Lc!==0;return Lc=0,Ce}function xa(){var Ce={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vo===null?no.memoizedState=vo=Ce:vo=vo.next=Ce,vo}function Vs(){if(wo===null){var Ce=no.alternate;Ce=Ce!==null?Ce.memoizedState:null}else Ce=wo.next;var $e=vo===null?no.memoizedState:vo.next;if($e!==null)vo=$e,wo=Ce;else{if(Ce===null)throw Error(xe(310));wo=Ce,Ce={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},vo===null?no.memoizedState=vo=Ce:vo=vo.next=Ce}return vo}function iu(Ce,$e){return typeof $e=="function"?$e(Ce):$e}function bu(Ce){var $e=Vs(),Ve=$e.queue;if(Ve===null)throw Error(xe(311));Ve.lastRenderedReducer=Ce;var He=wo,tr=He.baseQueue,lr=Ve.pending;if(lr!==null){if(tr!==null){var xr=tr.next;tr.next=lr.next,lr.next=xr}He.baseQueue=tr=lr,Ve.pending=null}if(tr!==null){lr=tr.next,He=He.baseState;var Dr=xr=null,Ur=null,pn=lr;do{var Cn=pn.lane;if((qa&Cn)===Cn)Ur!==null&&(Ur=Ur.next={lane:0,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null}),He=pn.hasEagerState?pn.eagerState:Ce(He,pn.action);else{var $n={lane:Cn,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null};Ur===null?(Dr=Ur=$n,xr=He):Ur=Ur.next=$n,no.lanes|=Cn,su|=Cn}pn=pn.next}while(pn!==null&&pn!==lr);Ur===null?xr=He:Ur.next=Dr,Ti(He,$e.memoizedState)||(ia=!0),$e.memoizedState=He,$e.baseState=xr,$e.baseQueue=Ur,Ve.lastRenderedState=He}if(Ce=Ve.interleaved,Ce!==null){tr=Ce;do lr=tr.lane,no.lanes|=lr,su|=lr,tr=tr.next;while(tr!==Ce)}else tr===null&&(Ve.lanes=0);return[$e.memoizedState,Ve.dispatch]}function kl(Ce){var $e=Vs(),Ve=$e.queue;if(Ve===null)throw Error(xe(311));Ve.lastRenderedReducer=Ce;var He=Ve.dispatch,tr=Ve.pending,lr=$e.memoizedState;if(tr!==null){Ve.pending=null;var xr=tr=tr.next;do lr=Ce(lr,xr.action),xr=xr.next;while(xr!==tr);Ti(lr,$e.memoizedState)||(ia=!0),$e.memoizedState=lr,$e.baseQueue===null&&($e.baseState=lr),Ve.lastRenderedState=lr}return[lr,He]}function od(){}function Bu(Ce,$e){var Ve=no,He=Vs(),tr=$e(),lr=!Ti(He.memoizedState,tr);if(lr&&(He.memoizedState=tr,ia=!0),He=He.queue,wu(ad.bind(null,Ve,He,Ce),[Ce]),He.getSnapshot!==$e||lr||vo!==null&&vo.memoizedState.tag&1){if(Ve.flags|=2048,Fs(9,qu.bind(null,Ve,He,tr,$e),void 0,null),ts===null)throw Error(xe(349));(qa&30)!==0||sd(Ve,$e,tr)}return tr}function sd(Ce,$e,Ve){Ce.flags|=16384,Ce={getSnapshot:$e,value:Ve},$e=no.updateQueue,$e===null?($e={lastEffect:null,stores:null},no.updateQueue=$e,$e.stores=[Ce]):(Ve=$e.stores,Ve===null?$e.stores=[Ce]:Ve.push(Ce))}function qu(Ce,$e,Ve,He){$e.value=Ve,$e.getSnapshot=He,Mc($e)&&Eu(Ce)}function ad(Ce,$e,Ve){return Ve(function(){Mc($e)&&Eu(Ce)})}function Mc(Ce){var $e=Ce.getSnapshot;Ce=Ce.value;try{var Ve=$e();return!Ti(Ce,Ve)}catch{return!0}}function Eu(Ce){var $e=Oi(Ce,1);$e!==null&&vl($e,Ce,1,-1)}function ou(Ce){var $e=xa();return typeof Ce=="function"&&(Ce=Ce()),$e.memoizedState=$e.baseState=Ce,Ce={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:iu,lastRenderedState:Ce},$e.queue=Ce,Ce=Ce.dispatch=Ph.bind(null,no,Ce),[$e.memoizedState,Ce]}function Fs(Ce,$e,Ve,He){return Ce={tag:Ce,create:$e,destroy:Ve,deps:He,next:null},$e=no.updateQueue,$e===null?($e={lastEffect:null,stores:null},no.updateQueue=$e,$e.lastEffect=Ce.next=Ce):(Ve=$e.lastEffect,Ve===null?$e.lastEffect=Ce.next=Ce:(He=Ve.next,Ve.next=Ce,Ce.next=He,$e.lastEffect=Ce)),Ce}function pl(){return Vs().memoizedState}function ba(Ce,$e,Ve,He){var tr=xa();no.flags|=Ce,tr.memoizedState=Fs(1|$e,Ve,void 0,He===void 0?null:He)}function oc(Ce,$e,Ve,He){var tr=Vs();He=He===void 0?null:He;var lr=void 0;if(wo!==null){var xr=wo.memoizedState;if(lr=xr.destroy,He!==null&&_u(He,xr.deps)){tr.memoizedState=Fs($e,Ve,lr,He);return}}no.flags|=Ce,tr.memoizedState=Fs(1|$e,Ve,lr,He)}function Su(Ce,$e){return ba(8390656,8,Ce,$e)}function wu(Ce,$e){return oc(2048,8,Ce,$e)}function ld(Ce,$e){return oc(4,2,Ce,$e)}function Au(Ce,$e){return oc(4,4,Ce,$e)}function Ru(Ce,$e){if(typeof $e=="function")return Ce=Ce(),$e(Ce),function(){$e(null)};if($e!=null)return Ce=Ce(),$e.current=Ce,function(){$e.current=null}}function Ef(Ce,$e,Ve){return Ve=Ve!=null?Ve.concat([Ce]):null,oc(4,4,Ru.bind(null,$e,Ce),Ve)}function Fd(){}function Sf(Ce,$e){var Ve=Vs();$e=$e===void 0?null:$e;var He=Ve.memoizedState;return He!==null&&$e!==null&&_u($e,He[1])?He[0]:(Ve.memoizedState=[Ce,$e],Ce)}function wf(Ce,$e){var Ve=Vs();$e=$e===void 0?null:$e;var He=Ve.memoizedState;return He!==null&&$e!==null&&_u($e,He[1])?He[0]:(Ce=Ce(),Ve.memoizedState=[Ce,$e],Ce)}function Af(Ce,$e,Ve){return(qa&21)===0?(Ce.baseState&&(Ce.baseState=!1,ia=!0),Ce.memoizedState=Ve):(Ti(Ve,$e)||(Ve=Ra(),no.lanes|=Ve,su|=Ve,Ce.baseState=!0),$e)}function Ah(Ce,$e){var Ve=yi;yi=Ve!==0&&4>Ve?Ve:4,Ce(!0);var He=xu.transition;xu.transition={};try{Ce(!1),$e()}finally{yi=Ve,xu.transition=He}}function Rf(){return Vs().memoizedState}function Rh(Ce,$e,Ve){var He=Bc(Ce);if(Ve={lane:He,action:Ve,hasEagerState:!1,eagerState:null,next:null},Pf(Ce))Tf($e,Ve);else if(Ve=cl(Ce,$e,Ve,He),Ve!==null){var tr=qs();vl(Ve,Ce,He,tr),Cf(Ve,$e,He)}}function Ph(Ce,$e,Ve){var He=Bc(Ce),tr={lane:He,action:Ve,hasEagerState:!1,eagerState:null,next:null};if(Pf(Ce))Tf($e,tr);else{var lr=Ce.alternate;if(Ce.lanes===0&&(lr===null||lr.lanes===0)&&(lr=$e.lastRenderedReducer,lr!==null))try{var xr=$e.lastRenderedState,Dr=lr(xr,Ve);if(tr.hasEagerState=!0,tr.eagerState=Dr,Ti(Dr,xr)){var Ur=$e.interleaved;Ur===null?(tr.next=tr,Nl($e)):(tr.next=Ur.next,Ur.next=tr),$e.interleaved=tr;return}}catch{}finally{}Ve=cl(Ce,$e,tr,He),Ve!==null&&(tr=qs(),vl(Ve,Ce,He,tr),Cf(Ve,$e,He))}}function Pf(Ce){var $e=Ce.alternate;return Ce===no||$e!==null&&$e===no}function Tf(Ce,$e){hl=kc=!0;var Ve=Ce.pending;Ve===null?$e.next=$e:($e.next=Ve.next,Ve.next=$e),Ce.pending=$e}function Cf(Ce,$e,Ve){if((Ve&4194240)!==0){var He=$e.lanes;He&=Ce.pendingLanes,Ve|=He,$e.lanes=Ve,ua(Ce,Ve)}}var cd={readContext:So,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},Th={readContext:So,useCallback:function(Ce,$e){return xa().memoizedState=[Ce,$e===void 0?null:$e],Ce},useContext:So,useEffect:Su,useImperativeHandle:function(Ce,$e,Ve){return Ve=Ve!=null?Ve.concat([Ce]):null,ba(4194308,4,Ru.bind(null,$e,Ce),Ve)},useLayoutEffect:function(Ce,$e){return ba(4194308,4,Ce,$e)},useInsertionEffect:function(Ce,$e){return ba(4,2,Ce,$e)},useMemo:function(Ce,$e){var Ve=xa();return $e=$e===void 0?null:$e,Ce=Ce(),Ve.memoizedState=[Ce,$e],Ce},useReducer:function(Ce,$e,Ve){var He=xa();return $e=Ve!==void 0?Ve($e):$e,He.memoizedState=He.baseState=$e,Ce={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ce,lastRenderedState:$e},He.queue=Ce,Ce=Ce.dispatch=Rh.bind(null,no,Ce),[He.memoizedState,Ce]},useRef:function(Ce){var $e=xa();return Ce={current:Ce},$e.memoizedState=Ce},useState:ou,useDebugValue:Fd,useDeferredValue:function(Ce){return xa().memoizedState=Ce},useTransition:function(){var Ce=ou(!1),$e=Ce[0];return Ce=Ah.bind(null,Ce[1]),xa().memoizedState=Ce,[$e,Ce]},useMutableSource:function(){},useSyncExternalStore:function(Ce,$e,Ve){var He=no,tr=xa();if(yn){if(Ve===void 0)throw Error(xe(407));Ve=Ve()}else{if(Ve=$e(),ts===null)throw Error(xe(349));(qa&30)!==0||sd(He,$e,Ve)}tr.memoizedState=Ve;var lr={value:Ve,getSnapshot:$e};return tr.queue=lr,Su(ad.bind(null,He,lr,Ce),[Ce]),He.flags|=2048,Fs(9,qu.bind(null,He,lr,Ve,$e),void 0,null),Ve},useId:function(){var Ce=xa(),$e=ts.identifierPrefix;if(yn){var Ve=Zr,He=Jr;Ve=(He&~(1<<32-Oo(He)-1)).toString(32)+Ve,$e=":"+$e+"R"+Ve,Ve=Lc++,0<Ve&&($e+="H"+Ve.toString(32)),$e+=":"}else Ve=Vd++,$e=":"+$e+"r"+Ve.toString(32)+":";return Ce.memoizedState=$e},unstable_isNewReconciler:!1},Ch={readContext:So,useCallback:Sf,useContext:So,useEffect:wu,useImperativeHandle:Ef,useInsertionEffect:ld,useLayoutEffect:Au,useMemo:wf,useReducer:bu,useRef:pl,useState:function(){return bu(iu)},useDebugValue:Fd,useDeferredValue:function(Ce){var $e=Vs();return Af($e,wo.memoizedState,Ce)},useTransition:function(){var Ce=bu(iu)[0],$e=Vs().memoizedState;return[Ce,$e]},useMutableSource:od,useSyncExternalStore:Bu,useId:Rf,unstable_isNewReconciler:!1},Ih={readContext:So,useCallback:Sf,useContext:So,useEffect:wu,useImperativeHandle:Ef,useInsertionEffect:ld,useLayoutEffect:Au,useMemo:wf,useReducer:kl,useRef:pl,useState:function(){return kl(iu)},useDebugValue:Fd,useDeferredValue:function(Ce){var $e=Vs();return wo===null?$e.memoizedState=Ce:Af($e,wo.memoizedState,Ce)},useTransition:function(){var Ce=kl(iu)[0],$e=Vs().memoizedState;return[Ce,$e]},useMutableSource:od,useSyncExternalStore:Bu,useId:Rf,unstable_isNewReconciler:!1};function ml(Ce,$e){if(Ce&&Ce.defaultProps){$e=Cr({},$e),Ce=Ce.defaultProps;for(var Ve in Ce)$e[Ve]===void 0&&($e[Ve]=Ce[Ve]);return $e}return $e}function Bd(Ce,$e,Ve,He){$e=Ce.memoizedState,Ve=Ve(He,$e),Ve=Ve==null?$e:Cr({},$e,Ve),Ce.memoizedState=Ve,Ce.lanes===0&&(Ce.updateQueue.baseState=Ve)}var ud={isMounted:function(Ce){return(Ce=Ce._reactInternals)?oo(Ce)===Ce:!1},enqueueSetState:function(Ce,$e,Ve){Ce=Ce._reactInternals;var He=qs(),tr=Bc(Ce),lr=ta(He,tr);lr.payload=$e,Ve!=null&&(lr.callback=Ve),$e=ra(Ce,lr,tr),$e!==null&&(vl($e,Ce,tr,He),nc($e,Ce,tr))},enqueueReplaceState:function(Ce,$e,Ve){Ce=Ce._reactInternals;var He=qs(),tr=Bc(Ce),lr=ta(He,tr);lr.tag=1,lr.payload=$e,Ve!=null&&(lr.callback=Ve),$e=ra(Ce,lr,tr),$e!==null&&(vl($e,Ce,tr,He),nc($e,Ce,tr))},enqueueForceUpdate:function(Ce,$e){Ce=Ce._reactInternals;var Ve=qs(),He=Bc(Ce),tr=ta(Ve,He);tr.tag=2,$e!=null&&(tr.callback=$e),$e=ra(Ce,tr,He),$e!==null&&(vl($e,Ce,He,Ve),nc($e,Ce,He))}};function If(Ce,$e,Ve,He,tr,lr,xr){return Ce=Ce.stateNode,typeof Ce.shouldComponentUpdate=="function"?Ce.shouldComponentUpdate(He,lr,xr):$e.prototype&&$e.prototype.isPureReactComponent?!nl(Ve,He)||!nl(tr,lr):!0}function jf(Ce,$e,Ve){var He=!1,tr=$l,lr=$e.contextType;return typeof lr=="object"&&lr!==null?lr=So(lr):(tr=As($e)?tc:Bo.current,He=$e.contextTypes,lr=(He=He!=null)?jc(Ce,tr):$l),$e=new $e(Ve,lr),Ce.memoizedState=$e.state!==null&&$e.state!==void 0?$e.state:null,$e.updater=ud,Ce.stateNode=$e,$e._reactInternals=Ce,He&&(Ce=Ce.stateNode,Ce.__reactInternalMemoizedUnmaskedChildContext=tr,Ce.__reactInternalMemoizedMaskedChildContext=lr),$e}function $f(Ce,$e,Ve,He){Ce=$e.state,typeof $e.componentWillReceiveProps=="function"&&$e.componentWillReceiveProps(Ve,He),typeof $e.UNSAFE_componentWillReceiveProps=="function"&&$e.UNSAFE_componentWillReceiveProps(Ve,He),$e.state!==Ce&&ud.enqueueReplaceState($e,$e.state,null)}function qd(Ce,$e,Ve,He){var tr=Ce.stateNode;tr.props=Ve,tr.state=Ce.memoizedState,tr.refs={},yu(Ce);var lr=$e.contextType;typeof lr=="object"&&lr!==null?tr.context=So(lr):(lr=As($e)?tc:Bo.current,tr.context=jc(Ce,lr)),tr.state=Ce.memoizedState,lr=$e.getDerivedStateFromProps,typeof lr=="function"&&(Bd(Ce,$e,lr,Ve),tr.state=Ce.memoizedState),typeof $e.getDerivedStateFromProps=="function"||typeof tr.getSnapshotBeforeUpdate=="function"||typeof tr.UNSAFE_componentWillMount!="function"&&typeof tr.componentWillMount!="function"||($e=tr.state,typeof tr.componentWillMount=="function"&&tr.componentWillMount(),typeof tr.UNSAFE_componentWillMount=="function"&&tr.UNSAFE_componentWillMount(),$e!==tr.state&&ud.enqueueReplaceState(tr,tr.state,null),ul(Ce,Ve,tr,He),tr.state=Ce.memoizedState),typeof tr.componentDidMount=="function"&&(Ce.flags|=4194308)}function Pu(Ce,$e){try{var Ve="",He=$e;do Ve+=Ir(He),He=He.return;while(He);var tr=Ve}catch(lr){tr=`
Error generating stack: `+lr.message+`
`+lr.stack}return{value:Ce,source:$e,stack:tr,digest:null}}function Ud(Ce,$e,Ve){return{value:Ce,source:null,stack:Ve??null,digest:$e??null}}function zd(Ce,$e){try{console.error($e.value)}catch(Ve){setTimeout(function(){throw Ve})}}var jh=typeof WeakMap=="function"?WeakMap:Map;function Nf(Ce,$e,Ve){Ve=ta(-1,Ve),Ve.tag=3,Ve.payload={element:null};var He=$e.value;return Ve.callback=function(){vd||(vd=!0,sf=He),zd(Ce,$e)},Ve}function Of(Ce,$e,Ve){Ve=ta(-1,Ve),Ve.tag=3;var He=Ce.type.getDerivedStateFromError;if(typeof He=="function"){var tr=$e.value;Ve.payload=function(){return He(tr)},Ve.callback=function(){zd(Ce,$e)}}var lr=Ce.stateNode;return lr!==null&&typeof lr.componentDidCatch=="function"&&(Ve.callback=function(){zd(Ce,$e),typeof He!="function"&&(Vc===null?Vc=new Set([this]):Vc.add(this));var xr=$e.stack;this.componentDidCatch($e.value,{componentStack:xr!==null?xr:""})}),Ve}function kf(Ce,$e,Ve){var He=Ce.pingCache;if(He===null){He=Ce.pingCache=new jh;var tr=new Set;He.set($e,tr)}else tr=He.get($e),tr===void 0&&(tr=new Set,He.set($e,tr));tr.has(Ve)||(tr.add(Ve),Ce=Hh.bind(null,Ce,$e,Ve),$e.then(Ce,Ce))}function Lf(Ce){do{var $e;if(($e=Ce.tag===13)&&($e=Ce.memoizedState,$e=$e!==null?$e.dehydrated!==null:!0),$e)return Ce;Ce=Ce.return}while(Ce!==null);return null}function Mf(Ce,$e,Ve,He,tr){return(Ce.mode&1)===0?(Ce===$e?Ce.flags|=65536:(Ce.flags|=128,Ve.flags|=131072,Ve.flags&=-52805,Ve.tag===1&&(Ve.alternate===null?Ve.tag=17:($e=ta(-1,1),$e.tag=2,ra(Ve,$e,1))),Ve.lanes|=1),Ce):(Ce.flags|=65536,Ce.lanes=tr,Ce)}var $h=Ye.ReactCurrentOwner,ia=!1;function Bs(Ce,$e,Ve,He){$e.child=Ce===null?Ni($e,null,Ve,He):Ro($e,Ce.child,Ve,He)}function Df(Ce,$e,Ve,He,tr){Ve=Ve.render;var lr=$e.ref;return co($e,tr),He=nu(Ce,$e,Ve,He,lr,tr),Ve=Ua(),Ce!==null&&!ia?($e.updateQueue=Ce.updateQueue,$e.flags&=-2053,Ce.lanes&=~tr,sc(Ce,$e,tr)):(yn&&Ve&&mn($e),$e.flags|=1,Bs(Ce,$e,He,tr),$e.child)}function Vf(Ce,$e,Ve,He,tr){if(Ce===null){var lr=Ve.type;return typeof lr=="function"&&!hf(lr)&&lr.defaultProps===void 0&&Ve.compare===null&&Ve.defaultProps===void 0?($e.tag=15,$e.type=lr,Ff(Ce,$e,lr,He,tr)):(Ce=wd(Ve.type,null,He,$e,$e.mode,tr),Ce.ref=$e.ref,Ce.return=$e,$e.child=Ce)}if(lr=Ce.child,(Ce.lanes&tr)===0){var xr=lr.memoizedProps;if(Ve=Ve.compare,Ve=Ve!==null?Ve:nl,Ve(xr,He)&&Ce.ref===$e.ref)return sc(Ce,$e,tr)}return $e.flags|=1,Ce=Uc(lr,He),Ce.ref=$e.ref,Ce.return=$e,$e.child=Ce}function Ff(Ce,$e,Ve,He,tr){if(Ce!==null){var lr=Ce.memoizedProps;if(nl(lr,He)&&Ce.ref===$e.ref)if(ia=!1,$e.pendingProps=He=lr,(Ce.lanes&tr)!==0)(Ce.flags&131072)!==0&&(ia=!0);else return $e.lanes=Ce.lanes,sc(Ce,$e,tr)}return Hd(Ce,$e,Ve,He,tr)}function Bf(Ce,$e,Ve){var He=$e.pendingProps,tr=He.children,lr=Ce!==null?Ce.memoizedState:null;if(He.mode==="hidden")if(($e.mode&1)===0)$e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zi(Cu,Ea),Ea|=Ve;else{if((Ve&1073741824)===0)return Ce=lr!==null?lr.baseLanes|Ve:Ve,$e.lanes=$e.childLanes=1073741824,$e.memoizedState={baseLanes:Ce,cachePool:null,transitions:null},$e.updateQueue=null,zi(Cu,Ea),Ea|=Ce,null;$e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He=lr!==null?lr.baseLanes:Ve,zi(Cu,Ea),Ea|=He}else lr!==null?(He=lr.baseLanes|Ve,$e.memoizedState=null):He=Ve,zi(Cu,Ea),Ea|=He;return Bs(Ce,$e,tr,Ve),$e.child}function qf(Ce,$e){var Ve=$e.ref;(Ce===null&&Ve!==null||Ce!==null&&Ce.ref!==Ve)&&($e.flags|=512,$e.flags|=2097152)}function Hd(Ce,$e,Ve,He,tr){var lr=As(Ve)?tc:Bo.current;return lr=jc($e,lr),co($e,tr),Ve=nu(Ce,$e,Ve,He,lr,tr),He=Ua(),Ce!==null&&!ia?($e.updateQueue=Ce.updateQueue,$e.flags&=-2053,Ce.lanes&=~tr,sc(Ce,$e,tr)):(yn&&He&&mn($e),$e.flags|=1,Bs(Ce,$e,Ve,tr),$e.child)}function Uf(Ce,$e,Ve,He,tr){if(As(Ve)){var lr=!0;rc($e)}else lr=!1;if(co($e,tr),$e.stateNode===null)hd(Ce,$e),jf($e,Ve,He),qd($e,Ve,He,tr),He=!0;else if(Ce===null){var xr=$e.stateNode,Dr=$e.memoizedProps;xr.props=Dr;var Ur=xr.context,pn=Ve.contextType;typeof pn=="object"&&pn!==null?pn=So(pn):(pn=As(Ve)?tc:Bo.current,pn=jc($e,pn));var Cn=Ve.getDerivedStateFromProps,$n=typeof Cn=="function"||typeof xr.getSnapshotBeforeUpdate=="function";$n||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||(Dr!==He||Ur!==pn)&&$f($e,xr,He,pn),Fa=!1;var Tn=$e.memoizedState;xr.state=Tn,ul($e,He,xr,tr),Ur=$e.memoizedState,Dr!==He||Tn!==Ur||ws.current||Fa?(typeof Cn=="function"&&(Bd($e,Ve,Cn,He),Ur=$e.memoizedState),(Dr=Fa||If($e,Ve,Dr,He,Tn,Ur,pn))?($n||typeof xr.UNSAFE_componentWillMount!="function"&&typeof xr.componentWillMount!="function"||(typeof xr.componentWillMount=="function"&&xr.componentWillMount(),typeof xr.UNSAFE_componentWillMount=="function"&&xr.UNSAFE_componentWillMount()),typeof xr.componentDidMount=="function"&&($e.flags|=4194308)):(typeof xr.componentDidMount=="function"&&($e.flags|=4194308),$e.memoizedProps=He,$e.memoizedState=Ur),xr.props=He,xr.state=Ur,xr.context=pn,He=Dr):(typeof xr.componentDidMount=="function"&&($e.flags|=4194308),He=!1)}else{xr=$e.stateNode,Mu(Ce,$e),Dr=$e.memoizedProps,pn=$e.type===$e.elementType?Dr:ml($e.type,Dr),xr.props=pn,$n=$e.pendingProps,Tn=xr.context,Ur=Ve.contextType,typeof Ur=="object"&&Ur!==null?Ur=So(Ur):(Ur=As(Ve)?tc:Bo.current,Ur=jc($e,Ur));var Un=Ve.getDerivedStateFromProps;(Cn=typeof Un=="function"||typeof xr.getSnapshotBeforeUpdate=="function")||typeof xr.UNSAFE_componentWillReceiveProps!="function"&&typeof xr.componentWillReceiveProps!="function"||(Dr!==$n||Tn!==Ur)&&$f($e,xr,He,Ur),Fa=!1,Tn=$e.memoizedState,xr.state=Tn,ul($e,He,xr,tr);var Gn=$e.memoizedState;Dr!==$n||Tn!==Gn||ws.current||Fa?(typeof Un=="function"&&(Bd($e,Ve,Un,He),Gn=$e.memoizedState),(pn=Fa||If($e,Ve,pn,He,Tn,Gn,Ur)||!1)?(Cn||typeof xr.UNSAFE_componentWillUpdate!="function"&&typeof xr.componentWillUpdate!="function"||(typeof xr.componentWillUpdate=="function"&&xr.componentWillUpdate(He,Gn,Ur),typeof xr.UNSAFE_componentWillUpdate=="function"&&xr.UNSAFE_componentWillUpdate(He,Gn,Ur)),typeof xr.componentDidUpdate=="function"&&($e.flags|=4),typeof xr.getSnapshotBeforeUpdate=="function"&&($e.flags|=1024)):(typeof xr.componentDidUpdate!="function"||Dr===Ce.memoizedProps&&Tn===Ce.memoizedState||($e.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||Dr===Ce.memoizedProps&&Tn===Ce.memoizedState||($e.flags|=1024),$e.memoizedProps=He,$e.memoizedState=Gn),xr.props=He,xr.state=Gn,xr.context=Ur,He=pn):(typeof xr.componentDidUpdate!="function"||Dr===Ce.memoizedProps&&Tn===Ce.memoizedState||($e.flags|=4),typeof xr.getSnapshotBeforeUpdate!="function"||Dr===Ce.memoizedProps&&Tn===Ce.memoizedState||($e.flags|=1024),He=!1)}return Wd(Ce,$e,Ve,He,lr,tr)}function Wd(Ce,$e,Ve,He,tr,lr){qf(Ce,$e);var xr=($e.flags&128)!==0;if(!He&&!xr)return tr&&rd($e,Ve,!1),sc(Ce,$e,lr);He=$e.stateNode,$h.current=$e;var Dr=xr&&typeof Ve.getDerivedStateFromError!="function"?null:He.render();return $e.flags|=1,Ce!==null&&xr?($e.child=Ro($e,Ce.child,null,lr),$e.child=Ro($e,null,Dr,lr)):Bs(Ce,$e,Dr,lr),$e.memoizedState=He.state,tr&&rd($e,Ve,!0),$e.child}function zf(Ce){var $e=Ce.stateNode;$e.pendingContext?ed(Ce,$e.pendingContext,$e.pendingContext!==$e.context):$e.context&&ed(Ce,$e.context,!1),Oc(Ce,$e.containerInfo)}function Hf(Ce,$e,Ve,He,tr){return fi(),Bi(tr),$e.flags|=256,Bs(Ce,$e,Ve,He),$e.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Kd(Ce){return{baseLanes:Ce,cachePool:null,transitions:null}}function Wf(Ce,$e,Ve){var He=$e.pendingProps,tr=Ji.current,lr=!1,xr=($e.flags&128)!==0,Dr;if((Dr=xr)||(Dr=Ce!==null&&Ce.memoizedState===null?!1:(tr&2)!==0),Dr?(lr=!0,$e.flags&=-129):(Ce===null||Ce.memoizedState!==null)&&(tr|=1),zi(Ji,tr&1),Ce===null)return Dn($e),Ce=$e.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null)?(($e.mode&1)===0?$e.lanes=1:Ce.data==="$!"?$e.lanes=8:$e.lanes=1073741824,null):(xr=He.children,Ce=He.fallback,lr?(He=$e.mode,lr=$e.child,xr={mode:"hidden",children:xr},(He&1)===0&&lr!==null?(lr.childLanes=0,lr.pendingProps=xr):lr=Ad(xr,He,0,null),Ce=uu(Ce,He,Ve,null),lr.return=$e,Ce.return=$e,lr.sibling=Ce,$e.child=lr,$e.child.memoizedState=Kd(Ve),$e.memoizedState=Gd,Ce):Yd($e,xr));if(tr=Ce.memoizedState,tr!==null&&(Dr=tr.dehydrated,Dr!==null))return Nh(Ce,$e,xr,He,Dr,tr,Ve);if(lr){lr=He.fallback,xr=$e.mode,tr=Ce.child,Dr=tr.sibling;var Ur={mode:"hidden",children:He.children};return(xr&1)===0&&$e.child!==tr?(He=$e.child,He.childLanes=0,He.pendingProps=Ur,$e.deletions=null):(He=Uc(tr,Ur),He.subtreeFlags=tr.subtreeFlags&14680064),Dr!==null?lr=Uc(Dr,lr):(lr=uu(lr,xr,Ve,null),lr.flags|=2),lr.return=$e,He.return=$e,He.sibling=lr,$e.child=He,He=lr,lr=$e.child,xr=Ce.child.memoizedState,xr=xr===null?Kd(Ve):{baseLanes:xr.baseLanes|Ve,cachePool:null,transitions:xr.transitions},lr.memoizedState=xr,lr.childLanes=Ce.childLanes&~Ve,$e.memoizedState=Gd,He}return lr=Ce.child,Ce=lr.sibling,He=Uc(lr,{mode:"visible",children:He.children}),($e.mode&1)===0&&(He.lanes=Ve),He.return=$e,He.sibling=null,Ce!==null&&(Ve=$e.deletions,Ve===null?($e.deletions=[Ce],$e.flags|=16):Ve.push(Ce)),$e.child=He,$e.memoizedState=null,He}function Yd(Ce,$e){return $e=Ad({mode:"visible",children:$e},Ce.mode,0,null),$e.return=Ce,Ce.child=$e}function dd(Ce,$e,Ve,He){return He!==null&&Bi(He),Ro($e,Ce.child,null,Ve),Ce=Yd($e,$e.pendingProps.children),Ce.flags|=2,$e.memoizedState=null,Ce}function Nh(Ce,$e,Ve,He,tr,lr,xr){if(Ve)return $e.flags&256?($e.flags&=-257,He=Ud(Error(xe(422))),dd(Ce,$e,xr,He)):$e.memoizedState!==null?($e.child=Ce.child,$e.flags|=128,null):(lr=He.fallback,tr=$e.mode,He=Ad({mode:"visible",children:He.children},tr,0,null),lr=uu(lr,tr,xr,null),lr.flags|=2,He.return=$e,lr.return=$e,He.sibling=lr,$e.child=He,($e.mode&1)!==0&&Ro($e,Ce.child,null,xr),$e.child.memoizedState=Kd(xr),$e.memoizedState=Gd,lr);if(($e.mode&1)===0)return dd(Ce,$e,xr,null);if(tr.data==="$!"){if(He=tr.nextSibling&&tr.nextSibling.dataset,He)var Dr=He.dgst;return He=Dr,lr=Error(xe(419)),He=Ud(lr,He,void 0),dd(Ce,$e,xr,He)}if(Dr=(xr&Ce.childLanes)!==0,ia||Dr){if(He=ts,He!==null){switch(xr&-xr){case 4:tr=2;break;case 16:tr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tr=32;break;case 536870912:tr=268435456;break;default:tr=0}tr=(tr&(He.suspendedLanes|xr))!==0?0:tr,tr!==0&&tr!==lr.retryLane&&(lr.retryLane=tr,Oi(Ce,tr),vl(He,Ce,tr,-1))}return ff(),He=Ud(Error(xe(421))),dd(Ce,$e,xr,He)}return tr.data==="$?"?($e.flags|=128,$e.child=Ce.child,$e=Wh.bind(null,Ce),tr._reactRetry=$e,null):(Ce=lr.treeContext,vn=hs(tr.nextSibling),Hr=$e,yn=!0,bn=null,Ce!==null&&(Tr[$r++]=Jr,Tr[$r++]=Zr,Tr[$r++]=qr,Jr=Ce.id,Zr=Ce.overflow,qr=$e),$e=Yd($e,He.children),$e.flags|=4096,$e)}function Gf(Ce,$e,Ve){Ce.lanes|=$e;var He=Ce.alternate;He!==null&&(He.lanes|=$e),ea(Ce.return,$e,Ve)}function Xd(Ce,$e,Ve,He,tr){var lr=Ce.memoizedState;lr===null?Ce.memoizedState={isBackwards:$e,rendering:null,renderingStartTime:0,last:He,tail:Ve,tailMode:tr}:(lr.isBackwards=$e,lr.rendering=null,lr.renderingStartTime=0,lr.last=He,lr.tail=Ve,lr.tailMode=tr)}function Kf(Ce,$e,Ve){var He=$e.pendingProps,tr=He.revealOrder,lr=He.tail;if(Bs(Ce,$e,He.children,Ve),He=Ji.current,(He&2)!==0)He=He&1|2,$e.flags|=128;else{if(Ce!==null&&(Ce.flags&128)!==0)e:for(Ce=$e.child;Ce!==null;){if(Ce.tag===13)Ce.memoizedState!==null&&Gf(Ce,Ve,$e);else if(Ce.tag===19)Gf(Ce,Ve,$e);else if(Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===$e)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===$e)break e;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}He&=1}if(zi(Ji,He),($e.mode&1)===0)$e.memoizedState=null;else switch(tr){case"forwards":for(Ve=$e.child,tr=null;Ve!==null;)Ce=Ve.alternate,Ce!==null&&va(Ce)===null&&(tr=Ve),Ve=Ve.sibling;Ve=tr,Ve===null?(tr=$e.child,$e.child=null):(tr=Ve.sibling,Ve.sibling=null),Xd($e,!1,tr,Ve,lr);break;case"backwards":for(Ve=null,tr=$e.child,$e.child=null;tr!==null;){if(Ce=tr.alternate,Ce!==null&&va(Ce)===null){$e.child=tr;break}Ce=tr.sibling,tr.sibling=Ve,Ve=tr,tr=Ce}Xd($e,!0,Ve,null,lr);break;case"together":Xd($e,!1,null,null,void 0);break;default:$e.memoizedState=null}return $e.child}function hd(Ce,$e){($e.mode&1)===0&&Ce!==null&&(Ce.alternate=null,$e.alternate=null,$e.flags|=2)}function sc(Ce,$e,Ve){if(Ce!==null&&($e.dependencies=Ce.dependencies),su|=$e.lanes,(Ve&$e.childLanes)===0)return null;if(Ce!==null&&$e.child!==Ce.child)throw Error(xe(153));if($e.child!==null){for(Ce=$e.child,Ve=Uc(Ce,Ce.pendingProps),$e.child=Ve,Ve.return=$e;Ce.sibling!==null;)Ce=Ce.sibling,Ve=Ve.sibling=Uc(Ce,Ce.pendingProps),Ve.return=$e;Ve.sibling=null}return $e.child}function Oh(Ce,$e,Ve){switch($e.tag){case 3:zf($e),fi();break;case 5:nd($e);break;case 1:As($e.type)&&rc($e);break;case 4:Oc($e,$e.stateNode.containerInfo);break;case 10:var He=$e.type._context,tr=$e.memoizedProps.value;zi(Zo,He._currentValue),He._currentValue=tr;break;case 13:if(He=$e.memoizedState,He!==null)return He.dehydrated!==null?(zi(Ji,Ji.current&1),$e.flags|=128,null):(Ve&$e.child.childLanes)!==0?Wf(Ce,$e,Ve):(zi(Ji,Ji.current&1),Ce=sc(Ce,$e,Ve),Ce!==null?Ce.sibling:null);zi(Ji,Ji.current&1);break;case 19:if(He=(Ve&$e.childLanes)!==0,(Ce.flags&128)!==0){if(He)return Kf(Ce,$e,Ve);$e.flags|=128}if(tr=$e.memoizedState,tr!==null&&(tr.rendering=null,tr.tail=null,tr.lastEffect=null),zi(Ji,Ji.current),He)break;return null;case 22:case 23:return $e.lanes=0,Bf(Ce,$e,Ve)}return sc(Ce,$e,Ve)}var Yf,Qd,Xf,Qf;Yf=function(Ce,$e){for(var Ve=$e.child;Ve!==null;){if(Ve.tag===5||Ve.tag===6)Ce.appendChild(Ve.stateNode);else if(Ve.tag!==4&&Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===$e)break;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===$e)return;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}},Qd=function(){},Xf=function(Ce,$e,Ve,He){var tr=Ce.memoizedProps;if(tr!==He){Ce=$e.stateNode,dl(Ds.current);var lr=null;switch(Ve){case"input":tr=An(Ce,tr),He=An(Ce,He),lr=[];break;case"select":tr=Cr({},tr,{value:void 0}),He=Cr({},He,{value:void 0}),lr=[];break;case"textarea":tr=Nn(Ce,tr),He=Nn(Ce,He),lr=[];break;default:typeof tr.onClick!="function"&&typeof He.onClick=="function"&&(Ce.onclick=Tc)}Pi(Ve,He);var xr;Ve=null;for(pn in tr)if(!He.hasOwnProperty(pn)&&tr.hasOwnProperty(pn)&&tr[pn]!=null)if(pn==="style"){var Dr=tr[pn];for(xr in Dr)Dr.hasOwnProperty(xr)&&(Ve||(Ve={}),Ve[xr]="")}else pn!=="dangerouslySetInnerHTML"&&pn!=="children"&&pn!=="suppressContentEditableWarning"&&pn!=="suppressHydrationWarning"&&pn!=="autoFocus"&&(Ee.hasOwnProperty(pn)?lr||(lr=[]):(lr=lr||[]).push(pn,null));for(pn in He){var Ur=He[pn];if(Dr=tr!=null?tr[pn]:void 0,He.hasOwnProperty(pn)&&Ur!==Dr&&(Ur!=null||Dr!=null))if(pn==="style")if(Dr){for(xr in Dr)!Dr.hasOwnProperty(xr)||Ur&&Ur.hasOwnProperty(xr)||(Ve||(Ve={}),Ve[xr]="");for(xr in Ur)Ur.hasOwnProperty(xr)&&Dr[xr]!==Ur[xr]&&(Ve||(Ve={}),Ve[xr]=Ur[xr])}else Ve||(lr||(lr=[]),lr.push(pn,Ve)),Ve=Ur;else pn==="dangerouslySetInnerHTML"?(Ur=Ur?Ur.__html:void 0,Dr=Dr?Dr.__html:void 0,Ur!=null&&Dr!==Ur&&(lr=lr||[]).push(pn,Ur)):pn==="children"?typeof Ur!="string"&&typeof Ur!="number"||(lr=lr||[]).push(pn,""+Ur):pn!=="suppressContentEditableWarning"&&pn!=="suppressHydrationWarning"&&(Ee.hasOwnProperty(pn)?(Ur!=null&&pn==="onScroll"&&Ki("scroll",Ce),lr||Dr===Ur||(lr=[])):(lr=lr||[]).push(pn,Ur))}Ve&&(lr=lr||[]).push("style",Ve);var pn=lr;($e.updateQueue=pn)&&($e.flags|=4)}},Qf=function(Ce,$e,Ve,He){Ve!==He&&($e.flags|=4)};function Uu(Ce,$e){if(!yn)switch(Ce.tailMode){case"hidden":$e=Ce.tail;for(var Ve=null;$e!==null;)$e.alternate!==null&&(Ve=$e),$e=$e.sibling;Ve===null?Ce.tail=null:Ve.sibling=null;break;case"collapsed":Ve=Ce.tail;for(var He=null;Ve!==null;)Ve.alternate!==null&&(He=Ve),Ve=Ve.sibling;He===null?$e||Ce.tail===null?Ce.tail=null:Ce.tail.sibling=null:He.sibling=null}}function Ps(Ce){var $e=Ce.alternate!==null&&Ce.alternate.child===Ce.child,Ve=0,He=0;if($e)for(var tr=Ce.child;tr!==null;)Ve|=tr.lanes|tr.childLanes,He|=tr.subtreeFlags&14680064,He|=tr.flags&14680064,tr.return=Ce,tr=tr.sibling;else for(tr=Ce.child;tr!==null;)Ve|=tr.lanes|tr.childLanes,He|=tr.subtreeFlags,He|=tr.flags,tr.return=Ce,tr=tr.sibling;return Ce.subtreeFlags|=He,Ce.childLanes=Ve,$e}function kh(Ce,$e,Ve){var He=$e.pendingProps;switch(zr($e),$e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps($e),null;case 1:return As($e.type)&&gu(),Ps($e),null;case 3:return He=$e.stateNode,Ba(),Fi(ws),Fi(Bo),Fu(),He.pendingContext&&(He.context=He.pendingContext,He.pendingContext=null),(Ce===null||Ce.child===null)&&(Ri($e)?$e.flags|=4:Ce===null||Ce.memoizedState.isDehydrated&&($e.flags&256)===0||($e.flags|=1024,bn!==null&&(cf(bn),bn=null))),Qd(Ce,$e),Ps($e),null;case 5:Du($e);var tr=dl(Ol.current);if(Ve=$e.type,Ce!==null&&$e.stateNode!=null)Xf(Ce,$e,Ve,He,tr),Ce.ref!==$e.ref&&($e.flags|=512,$e.flags|=2097152);else{if(!He){if($e.stateNode===null)throw Error(xe(166));return Ps($e),null}if(Ce=dl(Ds.current),Ri($e)){He=$e.stateNode,Ve=$e.type;var lr=$e.memoizedProps;switch(He[Va]=$e,He[Cc]=lr,Ce=($e.mode&1)!==0,Ve){case"dialog":Ki("cancel",He),Ki("close",He);break;case"iframe":case"object":case"embed":Ki("load",He);break;case"video":case"audio":for(tr=0;tr<Il.length;tr++)Ki(Il[tr],He);break;case"source":Ki("error",He);break;case"img":case"image":case"link":Ki("error",He),Ki("load",He);break;case"details":Ki("toggle",He);break;case"input":un(He,lr),Ki("invalid",He);break;case"select":He._wrapperState={wasMultiple:!!lr.multiple},Ki("invalid",He);break;case"textarea":zn(He,lr),Ki("invalid",He)}Pi(Ve,lr),tr=null;for(var xr in lr)if(lr.hasOwnProperty(xr)){var Dr=lr[xr];xr==="children"?typeof Dr=="string"?He.textContent!==Dr&&(lr.suppressHydrationWarning!==!0&&mu(He.textContent,Dr,Ce),tr=["children",Dr]):typeof Dr=="number"&&He.textContent!==""+Dr&&(lr.suppressHydrationWarning!==!0&&mu(He.textContent,Dr,Ce),tr=["children",""+Dr]):Ee.hasOwnProperty(xr)&&Dr!=null&&xr==="onScroll"&&Ki("scroll",He)}switch(Ve){case"input":Qr(He),Vn(He,lr,!0);break;case"textarea":Qr(He),ni(He);break;case"select":case"option":break;default:typeof lr.onClick=="function"&&(He.onclick=Tc)}He=tr,$e.updateQueue=He,He!==null&&($e.flags|=4)}else{xr=tr.nodeType===9?tr:tr.ownerDocument,Ce==="http://www.w3.org/1999/xhtml"&&(Ce=Yn(Ve)),Ce==="http://www.w3.org/1999/xhtml"?Ve==="script"?(Ce=xr.createElement("div"),Ce.innerHTML="<script><\/script>",Ce=Ce.removeChild(Ce.firstChild)):typeof He.is=="string"?Ce=xr.createElement(Ve,{is:He.is}):(Ce=xr.createElement(Ve),Ve==="select"&&(xr=Ce,He.multiple?xr.multiple=!0:He.size&&(xr.size=He.size))):Ce=xr.createElementNS(Ce,Ve),Ce[Va]=$e,Ce[Cc]=He,Yf(Ce,$e,!1,!1),$e.stateNode=Ce;e:{switch(xr=zo(Ve,He),Ve){case"dialog":Ki("cancel",Ce),Ki("close",Ce),tr=He;break;case"iframe":case"object":case"embed":Ki("load",Ce),tr=He;break;case"video":case"audio":for(tr=0;tr<Il.length;tr++)Ki(Il[tr],Ce);tr=He;break;case"source":Ki("error",Ce),tr=He;break;case"img":case"image":case"link":Ki("error",Ce),Ki("load",Ce),tr=He;break;case"details":Ki("toggle",Ce),tr=He;break;case"input":un(Ce,He),tr=An(Ce,He),Ki("invalid",Ce);break;case"option":tr=He;break;case"select":Ce._wrapperState={wasMultiple:!!He.multiple},tr=Cr({},He,{value:void 0}),Ki("invalid",Ce);break;case"textarea":zn(Ce,He),tr=Nn(Ce,He),Ki("invalid",Ce);break;default:tr=He}Pi(Ve,tr),Dr=tr;for(lr in Dr)if(Dr.hasOwnProperty(lr)){var Ur=Dr[lr];lr==="style"?xo(Ce,Ur):lr==="dangerouslySetInnerHTML"?(Ur=Ur?Ur.__html:void 0,Ur!=null&&ti(Ce,Ur)):lr==="children"?typeof Ur=="string"?(Ve!=="textarea"||Ur!=="")&&si(Ce,Ur):typeof Ur=="number"&&si(Ce,""+Ur):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(Ee.hasOwnProperty(lr)?Ur!=null&&lr==="onScroll"&&Ki("scroll",Ce):Ur!=null&&We(Ce,lr,Ur,xr))}switch(Ve){case"input":Qr(Ce),Vn(Ce,He,!1);break;case"textarea":Qr(Ce),ni(Ce);break;case"option":He.value!=null&&Ce.setAttribute("value",""+Vr(He.value));break;case"select":Ce.multiple=!!He.multiple,lr=He.value,lr!=null?jn(Ce,!!He.multiple,lr,!1):He.defaultValue!=null&&jn(Ce,!!He.multiple,He.defaultValue,!0);break;default:typeof tr.onClick=="function"&&(Ce.onclick=Tc)}switch(Ve){case"button":case"input":case"select":case"textarea":He=!!He.autoFocus;break e;case"img":He=!0;break e;default:He=!1}}He&&($e.flags|=4)}$e.ref!==null&&($e.flags|=512,$e.flags|=2097152)}return Ps($e),null;case 6:if(Ce&&$e.stateNode!=null)Qf(Ce,$e,Ce.memoizedProps,He);else{if(typeof He!="string"&&$e.stateNode===null)throw Error(xe(166));if(Ve=dl(Ol.current),dl(Ds.current),Ri($e)){if(He=$e.stateNode,Ve=$e.memoizedProps,He[Va]=$e,(lr=He.nodeValue!==Ve)&&(Ce=Hr,Ce!==null))switch(Ce.tag){case 3:mu(He.nodeValue,Ve,(Ce.mode&1)!==0);break;case 5:Ce.memoizedProps.suppressHydrationWarning!==!0&&mu(He.nodeValue,Ve,(Ce.mode&1)!==0)}lr&&($e.flags|=4)}else He=(Ve.nodeType===9?Ve:Ve.ownerDocument).createTextNode(He),He[Va]=$e,$e.stateNode=He}return Ps($e),null;case 13:if(Fi(Ji),He=$e.memoizedState,Ce===null||Ce.memoizedState!==null&&Ce.memoizedState.dehydrated!==null){if(yn&&vn!==null&&($e.mode&1)!==0&&($e.flags&128)===0)Si(),fi(),$e.flags|=98560,lr=!1;else if(lr=Ri($e),He!==null&&He.dehydrated!==null){if(Ce===null){if(!lr)throw Error(xe(318));if(lr=$e.memoizedState,lr=lr!==null?lr.dehydrated:null,!lr)throw Error(xe(317));lr[Va]=$e}else fi(),($e.flags&128)===0&&($e.memoizedState=null),$e.flags|=4;Ps($e),lr=!1}else bn!==null&&(cf(bn),bn=null),lr=!0;if(!lr)return $e.flags&65536?$e:null}return($e.flags&128)!==0?($e.lanes=Ve,$e):(He=He!==null,He!==(Ce!==null&&Ce.memoizedState!==null)&&He&&($e.child.flags|=8192,($e.mode&1)!==0&&(Ce===null||(Ji.current&1)!==0?Uo===0&&(Uo=3):ff())),$e.updateQueue!==null&&($e.flags|=4),Ps($e),null);case 4:return Ba(),Qd(Ce,$e),Ce===null&&Xl($e.stateNode.containerInfo),Ps($e),null;case 10:return Rs($e.type._context),Ps($e),null;case 17:return As($e.type)&&gu(),Ps($e),null;case 19:if(Fi(Ji),lr=$e.memoizedState,lr===null)return Ps($e),null;if(He=($e.flags&128)!==0,xr=lr.rendering,xr===null)if(He)Uu(lr,!1);else{if(Uo!==0||Ce!==null&&(Ce.flags&128)!==0)for(Ce=$e.child;Ce!==null;){if(xr=va(Ce),xr!==null){for($e.flags|=128,Uu(lr,!1),He=xr.updateQueue,He!==null&&($e.updateQueue=He,$e.flags|=4),$e.subtreeFlags=0,He=Ve,Ve=$e.child;Ve!==null;)lr=Ve,Ce=He,lr.flags&=14680066,xr=lr.alternate,xr===null?(lr.childLanes=0,lr.lanes=Ce,lr.child=null,lr.subtreeFlags=0,lr.memoizedProps=null,lr.memoizedState=null,lr.updateQueue=null,lr.dependencies=null,lr.stateNode=null):(lr.childLanes=xr.childLanes,lr.lanes=xr.lanes,lr.child=xr.child,lr.subtreeFlags=0,lr.deletions=null,lr.memoizedProps=xr.memoizedProps,lr.memoizedState=xr.memoizedState,lr.updateQueue=xr.updateQueue,lr.type=xr.type,Ce=xr.dependencies,lr.dependencies=Ce===null?null:{lanes:Ce.lanes,firstContext:Ce.firstContext}),Ve=Ve.sibling;return zi(Ji,Ji.current&1|2),$e.child}Ce=Ce.sibling}lr.tail!==null&&Ui()>Iu&&($e.flags|=128,He=!0,Uu(lr,!1),$e.lanes=4194304)}else{if(!He)if(Ce=va(xr),Ce!==null){if($e.flags|=128,He=!0,Ve=Ce.updateQueue,Ve!==null&&($e.updateQueue=Ve,$e.flags|=4),Uu(lr,!0),lr.tail===null&&lr.tailMode==="hidden"&&!xr.alternate&&!yn)return Ps($e),null}else 2*Ui()-lr.renderingStartTime>Iu&&Ve!==1073741824&&($e.flags|=128,He=!0,Uu(lr,!1),$e.lanes=4194304);lr.isBackwards?(xr.sibling=$e.child,$e.child=xr):(Ve=lr.last,Ve!==null?Ve.sibling=xr:$e.child=xr,lr.last=xr)}return lr.tail!==null?($e=lr.tail,lr.rendering=$e,lr.tail=$e.sibling,lr.renderingStartTime=Ui(),$e.sibling=null,Ve=Ji.current,zi(Ji,He?Ve&1|2:Ve&1),$e):(Ps($e),null);case 22:case 23:return df(),He=$e.memoizedState!==null,Ce!==null&&Ce.memoizedState!==null!==He&&($e.flags|=8192),He&&($e.mode&1)!==0?(Ea&1073741824)!==0&&(Ps($e),$e.subtreeFlags&6&&($e.flags|=8192)):Ps($e),null;case 24:return null;case 25:return null}throw Error(xe(156,$e.tag))}function Lh(Ce,$e){switch(zr($e),$e.tag){case 1:return As($e.type)&&gu(),Ce=$e.flags,Ce&65536?($e.flags=Ce&-65537|128,$e):null;case 3:return Ba(),Fi(ws),Fi(Bo),Fu(),Ce=$e.flags,(Ce&65536)!==0&&(Ce&128)===0?($e.flags=Ce&-65537|128,$e):null;case 5:return Du($e),null;case 13:if(Fi(Ji),Ce=$e.memoizedState,Ce!==null&&Ce.dehydrated!==null){if($e.alternate===null)throw Error(xe(340));fi()}return Ce=$e.flags,Ce&65536?($e.flags=Ce&-65537|128,$e):null;case 19:return Fi(Ji),null;case 4:return Ba(),null;case 10:return Rs($e.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var pd=!1,Ts=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function Tu(Ce,$e){var Ve=Ce.ref;if(Ve!==null)if(typeof Ve=="function")try{Ve(null)}catch(He){Ao(Ce,$e,He)}else Ve.current=null}function Jd(Ce,$e,Ve){try{Ve()}catch(He){Ao(Ce,$e,He)}}var Jf=!1;function Dh(Ce,$e){if(eu=Ca,Ce=Gc(),Wl(Ce)){if("selectionStart"in Ce)var Ve={start:Ce.selectionStart,end:Ce.selectionEnd};else e:{Ve=(Ve=Ce.ownerDocument)&&Ve.defaultView||window;var He=Ve.getSelection&&Ve.getSelection();if(He&&He.rangeCount!==0){Ve=He.anchorNode;var tr=He.anchorOffset,lr=He.focusNode;He=He.focusOffset;try{Ve.nodeType,lr.nodeType}catch{Ve=null;break e}var xr=0,Dr=-1,Ur=-1,pn=0,Cn=0,$n=Ce,Tn=null;t:for(;;){for(var Un;$n!==Ve||tr!==0&&$n.nodeType!==3||(Dr=xr+tr),$n!==lr||He!==0&&$n.nodeType!==3||(Ur=xr+He),$n.nodeType===3&&(xr+=$n.nodeValue.length),(Un=$n.firstChild)!==null;)Tn=$n,$n=Un;for(;;){if($n===Ce)break t;if(Tn===Ve&&++pn===tr&&(Dr=xr),Tn===lr&&++Cn===He&&(Ur=xr),(Un=$n.nextSibling)!==null)break;$n=Tn,Tn=$n.parentNode}$n=Un}Ve=Dr===-1||Ur===-1?null:{start:Dr,end:Ur}}else Ve=null}Ve=Ve||{start:0,end:0}}else Ve=null;for(Jl={focusedElem:Ce,selectionRange:Ve},Ca=!1,Hn=$e;Hn!==null;)if($e=Hn,Ce=$e.child,($e.subtreeFlags&1028)!==0&&Ce!==null)Ce.return=$e,Hn=Ce;else for(;Hn!==null;){$e=Hn;try{var Gn=$e.alternate;if(($e.flags&1024)!==0)switch($e.tag){case 0:case 11:case 15:break;case 1:if(Gn!==null){var Kn=Gn.memoizedProps,Co=Gn.memoizedState,dn=$e.stateNode,Wr=dn.getSnapshotBeforeUpdate($e.elementType===$e.type?Kn:ml($e.type,Kn),Co);dn.__reactInternalSnapshotBeforeUpdate=Wr}break;case 3:var hn=$e.stateNode.containerInfo;hn.nodeType===1?hn.textContent="":hn.nodeType===9&&hn.documentElement&&hn.removeChild(hn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(On){Ao($e,$e.return,On)}if(Ce=$e.sibling,Ce!==null){Ce.return=$e.return,Hn=Ce;break}Hn=$e.return}return Gn=Jf,Jf=!1,Gn}function zu(Ce,$e,Ve){var He=$e.updateQueue;if(He=He!==null?He.lastEffect:null,He!==null){var tr=He=He.next;do{if((tr.tag&Ce)===Ce){var lr=tr.destroy;tr.destroy=void 0,lr!==void 0&&Jd($e,Ve,lr)}tr=tr.next}while(tr!==He)}}function md(Ce,$e){if($e=$e.updateQueue,$e=$e!==null?$e.lastEffect:null,$e!==null){var Ve=$e=$e.next;do{if((Ve.tag&Ce)===Ce){var He=Ve.create;Ve.destroy=He()}Ve=Ve.next}while(Ve!==$e)}}function Zd(Ce){var $e=Ce.ref;if($e!==null){var Ve=Ce.stateNode;switch(Ce.tag){case 5:Ce=Ve;break;default:Ce=Ve}typeof $e=="function"?$e(Ce):$e.current=Ce}}function Zf(Ce){var $e=Ce.alternate;$e!==null&&(Ce.alternate=null,Zf($e)),Ce.child=null,Ce.deletions=null,Ce.sibling=null,Ce.tag===5&&($e=Ce.stateNode,$e!==null&&(delete $e[Va],delete $e[Cc],delete $e[Ss],delete $e[Md],delete $e[Dd])),Ce.stateNode=null,Ce.return=null,Ce.dependencies=null,Ce.memoizedProps=null,Ce.memoizedState=null,Ce.pendingProps=null,Ce.stateNode=null,Ce.updateQueue=null}function eh(Ce){return Ce.tag===5||Ce.tag===3||Ce.tag===4}function th(Ce){e:for(;;){for(;Ce.sibling===null;){if(Ce.return===null||eh(Ce.return))return null;Ce=Ce.return}for(Ce.sibling.return=Ce.return,Ce=Ce.sibling;Ce.tag!==5&&Ce.tag!==6&&Ce.tag!==18;){if(Ce.flags&2||Ce.child===null||Ce.tag===4)continue e;Ce.child.return=Ce,Ce=Ce.child}if(!(Ce.flags&2))return Ce.stateNode}}function ef(Ce,$e,Ve){var He=Ce.tag;if(He===5||He===6)Ce=Ce.stateNode,$e?Ve.nodeType===8?Ve.parentNode.insertBefore(Ce,$e):Ve.insertBefore(Ce,$e):(Ve.nodeType===8?($e=Ve.parentNode,$e.insertBefore(Ce,Ve)):($e=Ve,$e.appendChild(Ce)),Ve=Ve._reactRootContainer,Ve!=null||$e.onclick!==null||($e.onclick=Tc));else if(He!==4&&(Ce=Ce.child,Ce!==null))for(ef(Ce,$e,Ve),Ce=Ce.sibling;Ce!==null;)ef(Ce,$e,Ve),Ce=Ce.sibling}function tf(Ce,$e,Ve){var He=Ce.tag;if(He===5||He===6)Ce=Ce.stateNode,$e?Ve.insertBefore(Ce,$e):Ve.appendChild(Ce);else if(He!==4&&(Ce=Ce.child,Ce!==null))for(tf(Ce,$e,Ve),Ce=Ce.sibling;Ce!==null;)tf(Ce,$e,Ve),Ce=Ce.sibling}var ms=null,gl=!1;function Dc(Ce,$e,Ve){for(Ve=Ve.child;Ve!==null;)rh(Ce,$e,Ve),Ve=Ve.sibling}function rh(Ce,$e,Ve){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Sa,Ve)}catch{}switch(Ve.tag){case 5:Ts||Tu(Ve,$e);case 6:var He=ms,tr=gl;ms=null,Dc(Ce,$e,Ve),ms=He,gl=tr,ms!==null&&(gl?(Ce=ms,Ve=Ve.stateNode,Ce.nodeType===8?Ce.parentNode.removeChild(Ve):Ce.removeChild(Ve)):ms.removeChild(Ve.stateNode));break;case 18:ms!==null&&(gl?(Ce=ms,Ve=Ve.stateNode,Ce.nodeType===8?Ou(Ce.parentNode,Ve):Ce.nodeType===1&&Ou(Ce,Ve),Do(Ce)):Ou(ms,Ve.stateNode));break;case 4:He=ms,tr=gl,ms=Ve.stateNode.containerInfo,gl=!0,Dc(Ce,$e,Ve),ms=He,gl=tr;break;case 0:case 11:case 14:case 15:if(!Ts&&(He=Ve.updateQueue,He!==null&&(He=He.lastEffect,He!==null))){tr=He=He.next;do{var lr=tr,xr=lr.destroy;lr=lr.tag,xr!==void 0&&((lr&2)!==0||(lr&4)!==0)&&Jd(Ve,$e,xr),tr=tr.next}while(tr!==He)}Dc(Ce,$e,Ve);break;case 1:if(!Ts&&(Tu(Ve,$e),He=Ve.stateNode,typeof He.componentWillUnmount=="function"))try{He.props=Ve.memoizedProps,He.state=Ve.memoizedState,He.componentWillUnmount()}catch(Dr){Ao(Ve,$e,Dr)}Dc(Ce,$e,Ve);break;case 21:Dc(Ce,$e,Ve);break;case 22:Ve.mode&1?(Ts=(He=Ts)||Ve.memoizedState!==null,Dc(Ce,$e,Ve),Ts=He):Dc(Ce,$e,Ve);break;default:Dc(Ce,$e,Ve)}}function nh(Ce){var $e=Ce.updateQueue;if($e!==null){Ce.updateQueue=null;var Ve=Ce.stateNode;Ve===null&&(Ve=Ce.stateNode=new Mh),$e.forEach(function(He){var tr=Gh.bind(null,Ce,He);Ve.has(He)||(Ve.add(He),He.then(tr,tr))})}}function yl(Ce,$e){var Ve=$e.deletions;if(Ve!==null)for(var He=0;He<Ve.length;He++){var tr=Ve[He];try{var lr=Ce,xr=$e,Dr=xr;e:for(;Dr!==null;){switch(Dr.tag){case 5:ms=Dr.stateNode,gl=!1;break e;case 3:ms=Dr.stateNode.containerInfo,gl=!0;break e;case 4:ms=Dr.stateNode.containerInfo,gl=!0;break e}Dr=Dr.return}if(ms===null)throw Error(xe(160));rh(lr,xr,tr),ms=null,gl=!1;var Ur=tr.alternate;Ur!==null&&(Ur.return=null),tr.return=null}catch(pn){Ao(tr,$e,pn)}}if($e.subtreeFlags&12854)for($e=$e.child;$e!==null;)ih($e,Ce),$e=$e.sibling}function ih(Ce,$e){var Ve=Ce.alternate,He=Ce.flags;switch(Ce.tag){case 0:case 11:case 14:case 15:if(yl($e,Ce),Ll(Ce),He&4){try{zu(3,Ce,Ce.return),md(3,Ce)}catch(Kn){Ao(Ce,Ce.return,Kn)}try{zu(5,Ce,Ce.return)}catch(Kn){Ao(Ce,Ce.return,Kn)}}break;case 1:yl($e,Ce),Ll(Ce),He&512&&Ve!==null&&Tu(Ve,Ve.return);break;case 5:if(yl($e,Ce),Ll(Ce),He&512&&Ve!==null&&Tu(Ve,Ve.return),Ce.flags&32){var tr=Ce.stateNode;try{si(tr,"")}catch(Kn){Ao(Ce,Ce.return,Kn)}}if(He&4&&(tr=Ce.stateNode,tr!=null)){var lr=Ce.memoizedProps,xr=Ve!==null?Ve.memoizedProps:lr,Dr=Ce.type,Ur=Ce.updateQueue;if(Ce.updateQueue=null,Ur!==null)try{Dr==="input"&&lr.type==="radio"&&lr.name!=null&&Nr(tr,lr),zo(Dr,xr);var pn=zo(Dr,lr);for(xr=0;xr<Ur.length;xr+=2){var Cn=Ur[xr],$n=Ur[xr+1];Cn==="style"?xo(tr,$n):Cn==="dangerouslySetInnerHTML"?ti(tr,$n):Cn==="children"?si(tr,$n):We(tr,Cn,$n,pn)}switch(Dr){case"input":Bn(tr,lr);break;case"textarea":Qn(tr,lr);break;case"select":var Tn=tr._wrapperState.wasMultiple;tr._wrapperState.wasMultiple=!!lr.multiple;var Un=lr.value;Un!=null?jn(tr,!!lr.multiple,Un,!1):Tn!==!!lr.multiple&&(lr.defaultValue!=null?jn(tr,!!lr.multiple,lr.defaultValue,!0):jn(tr,!!lr.multiple,lr.multiple?[]:"",!1))}tr[Cc]=lr}catch(Kn){Ao(Ce,Ce.return,Kn)}}break;case 6:if(yl($e,Ce),Ll(Ce),He&4){if(Ce.stateNode===null)throw Error(xe(162));tr=Ce.stateNode,lr=Ce.memoizedProps;try{tr.nodeValue=lr}catch(Kn){Ao(Ce,Ce.return,Kn)}}break;case 3:if(yl($e,Ce),Ll(Ce),He&4&&Ve!==null&&Ve.memoizedState.isDehydrated)try{Do($e.containerInfo)}catch(Kn){Ao(Ce,Ce.return,Kn)}break;case 4:yl($e,Ce),Ll(Ce);break;case 13:yl($e,Ce),Ll(Ce),tr=Ce.child,tr.flags&8192&&(lr=tr.memoizedState!==null,tr.stateNode.isHidden=lr,!lr||tr.alternate!==null&&tr.alternate.memoizedState!==null||(of=Ui())),He&4&&nh(Ce);break;case 22:if(Cn=Ve!==null&&Ve.memoizedState!==null,Ce.mode&1?(Ts=(pn=Ts)||Cn,yl($e,Ce),Ts=pn):yl($e,Ce),Ll(Ce),He&8192){if(pn=Ce.memoizedState!==null,(Ce.stateNode.isHidden=pn)&&!Cn&&(Ce.mode&1)!==0)for(Hn=Ce,Cn=Ce.child;Cn!==null;){for($n=Hn=Cn;Hn!==null;){switch(Tn=Hn,Un=Tn.child,Tn.tag){case 0:case 11:case 14:case 15:zu(4,Tn,Tn.return);break;case 1:Tu(Tn,Tn.return);var Gn=Tn.stateNode;if(typeof Gn.componentWillUnmount=="function"){He=Tn,Ve=Tn.return;try{$e=He,Gn.props=$e.memoizedProps,Gn.state=$e.memoizedState,Gn.componentWillUnmount()}catch(Kn){Ao(He,Ve,Kn)}}break;case 5:Tu(Tn,Tn.return);break;case 22:if(Tn.memoizedState!==null){ah($n);continue}}Un!==null?(Un.return=Tn,Hn=Un):ah($n)}Cn=Cn.sibling}e:for(Cn=null,$n=Ce;;){if($n.tag===5){if(Cn===null){Cn=$n;try{tr=$n.stateNode,pn?(lr=tr.style,typeof lr.setProperty=="function"?lr.setProperty("display","none","important"):lr.display="none"):(Dr=$n.stateNode,Ur=$n.memoizedProps.style,xr=Ur!=null&&Ur.hasOwnProperty("display")?Ur.display:null,Dr.style.display=mi("display",xr))}catch(Kn){Ao(Ce,Ce.return,Kn)}}}else if($n.tag===6){if(Cn===null)try{$n.stateNode.nodeValue=pn?"":$n.memoizedProps}catch(Kn){Ao(Ce,Ce.return,Kn)}}else if(($n.tag!==22&&$n.tag!==23||$n.memoizedState===null||$n===Ce)&&$n.child!==null){$n.child.return=$n,$n=$n.child;continue}if($n===Ce)break e;for(;$n.sibling===null;){if($n.return===null||$n.return===Ce)break e;Cn===$n&&(Cn=null),$n=$n.return}Cn===$n&&(Cn=null),$n.sibling.return=$n.return,$n=$n.sibling}}break;case 19:yl($e,Ce),Ll(Ce),He&4&&nh(Ce);break;case 21:break;default:yl($e,Ce),Ll(Ce)}}function Ll(Ce){var $e=Ce.flags;if($e&2){try{e:{for(var Ve=Ce.return;Ve!==null;){if(eh(Ve)){var He=Ve;break e}Ve=Ve.return}throw Error(xe(160))}switch(He.tag){case 5:var tr=He.stateNode;He.flags&32&&(si(tr,""),He.flags&=-33);var lr=th(Ce);tf(Ce,lr,tr);break;case 3:case 4:var xr=He.stateNode.containerInfo,Dr=th(Ce);ef(Ce,Dr,xr);break;default:throw Error(xe(161))}}catch(Ur){Ao(Ce,Ce.return,Ur)}Ce.flags&=-3}$e&4096&&(Ce.flags&=-4097)}function Vh(Ce,$e,Ve){Hn=Ce,oh(Ce)}function oh(Ce,$e,Ve){for(var He=(Ce.mode&1)!==0;Hn!==null;){var tr=Hn,lr=tr.child;if(tr.tag===22&&He){var xr=tr.memoizedState!==null||pd;if(!xr){var Dr=tr.alternate,Ur=Dr!==null&&Dr.memoizedState!==null||Ts;Dr=pd;var pn=Ts;if(pd=xr,(Ts=Ur)&&!pn)for(Hn=tr;Hn!==null;)xr=Hn,Ur=xr.child,xr.tag===22&&xr.memoizedState!==null?lh(tr):Ur!==null?(Ur.return=xr,Hn=Ur):lh(tr);for(;lr!==null;)Hn=lr,oh(lr),lr=lr.sibling;Hn=tr,pd=Dr,Ts=pn}sh(Ce)}else(tr.subtreeFlags&8772)!==0&&lr!==null?(lr.return=tr,Hn=lr):sh(Ce)}}function sh(Ce){for(;Hn!==null;){var $e=Hn;if(($e.flags&8772)!==0){var Ve=$e.alternate;try{if(($e.flags&8772)!==0)switch($e.tag){case 0:case 11:case 15:Ts||md(5,$e);break;case 1:var He=$e.stateNode;if($e.flags&4&&!Ts)if(Ve===null)He.componentDidMount();else{var tr=$e.elementType===$e.type?Ve.memoizedProps:ml($e.type,Ve.memoizedProps);He.componentDidUpdate(tr,Ve.memoizedState,He.__reactInternalSnapshotBeforeUpdate)}var lr=$e.updateQueue;lr!==null&&ic($e,lr,He);break;case 3:var xr=$e.updateQueue;if(xr!==null){if(Ve=null,$e.child!==null)switch($e.child.tag){case 5:Ve=$e.child.stateNode;break;case 1:Ve=$e.child.stateNode}ic($e,xr,Ve)}break;case 5:var Dr=$e.stateNode;if(Ve===null&&$e.flags&4){Ve=Dr;var Ur=$e.memoizedProps;switch($e.type){case"button":case"input":case"select":case"textarea":Ur.autoFocus&&Ve.focus();break;case"img":Ur.src&&(Ve.src=Ur.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($e.memoizedState===null){var pn=$e.alternate;if(pn!==null){var Cn=pn.memoizedState;if(Cn!==null){var $n=Cn.dehydrated;$n!==null&&Do($n)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Ts||$e.flags&512&&Zd($e)}catch(Tn){Ao($e,$e.return,Tn)}}if($e===Ce){Hn=null;break}if(Ve=$e.sibling,Ve!==null){Ve.return=$e.return,Hn=Ve;break}Hn=$e.return}}function ah(Ce){for(;Hn!==null;){var $e=Hn;if($e===Ce){Hn=null;break}var Ve=$e.sibling;if(Ve!==null){Ve.return=$e.return,Hn=Ve;break}Hn=$e.return}}function lh(Ce){for(;Hn!==null;){var $e=Hn;try{switch($e.tag){case 0:case 11:case 15:var Ve=$e.return;try{md(4,$e)}catch(Ur){Ao($e,Ve,Ur)}break;case 1:var He=$e.stateNode;if(typeof He.componentDidMount=="function"){var tr=$e.return;try{He.componentDidMount()}catch(Ur){Ao($e,tr,Ur)}}var lr=$e.return;try{Zd($e)}catch(Ur){Ao($e,lr,Ur)}break;case 5:var xr=$e.return;try{Zd($e)}catch(Ur){Ao($e,xr,Ur)}}}catch(Ur){Ao($e,$e.return,Ur)}if($e===Ce){Hn=null;break}var Dr=$e.sibling;if(Dr!==null){Dr.return=$e.return,Hn=Dr;break}Hn=$e.return}}var Fh=Math.ceil,gd=Ye.ReactCurrentDispatcher,rf=Ye.ReactCurrentOwner,za=Ye.ReactCurrentBatchConfig,Ci=0,ts=null,No=null,gs=0,Ea=0,Cu=ya(0),Uo=0,Hu=null,su=0,yd=0,nf=0,Wu=null,oa=null,of=0,Iu=1/0,ac=null,vd=!1,sf=null,Vc=null,xd=!1,Fc=null,_d=0,Gu=0,af=null,bd=-1,Ed=0;function qs(){return(Ci&6)!==0?Ui():bd!==-1?bd:bd=Ui()}function Bc(Ce){return(Ce.mode&1)===0?1:(Ci&2)!==0&&gs!==0?gs&-gs:Hi.transition!==null?(Ed===0&&(Ed=Ra()),Ed):(Ce=yi,Ce!==0||(Ce=window.event,Ce=Ce===void 0?16:Sl(Ce.type)),Ce)}function vl(Ce,$e,Ve,He){if(50<Gu)throw Gu=0,af=null,Error(xe(185));ca(Ce,Ve,He),((Ci&2)===0||Ce!==ts)&&(Ce===ts&&((Ci&2)===0&&(yd|=Ve),Uo===4&&qc(Ce,gs)),sa(Ce,He),Ve===1&&Ci===0&&($e.mode&1)===0&&(Iu=Ui()+500,ru&&ur()))}function sa(Ce,$e){var Ve=Ce.callbackNode;fo(Ce,$e);var He=ko(Ce,Ce===ts?gs:0);if(He===0)Ve!==null&&Ei(Ve),Ce.callbackNode=null,Ce.callbackPriority=0;else if($e=He&-He,Ce.callbackPriority!==$e){if(Ve!=null&&Ei(Ve),$e===1)Ce.tag===0?nr(uh.bind(null,Ce)):Ge(uh.bind(null,Ce)),kd(function(){(Ci&6)===0&&ur()}),Ve=null;else{switch(Hs(He)){case 1:Ve=zs;break;case 4:Ve=la;break;case 16:Ve=vs;break;case 536870912:Ve=dc;break;default:Ve=vs}Ve=xh(Ve,ch.bind(null,Ce))}Ce.callbackPriority=$e,Ce.callbackNode=Ve}}function ch(Ce,$e){if(bd=-1,Ed=0,(Ci&6)!==0)throw Error(xe(327));var Ve=Ce.callbackNode;if(ju()&&Ce.callbackNode!==Ve)return null;var He=ko(Ce,Ce===ts?gs:0);if(He===0)return null;if((He&30)!==0||(He&Ce.expiredLanes)!==0||$e)$e=Sd(Ce,He);else{$e=He;var tr=Ci;Ci|=2;var lr=fh();(ts!==Ce||gs!==$e)&&(ac=null,Iu=Ui()+500,lu(Ce,$e));do try{Uh();break}catch(Dr){dh(Ce,Dr)}while(!0);qo(),gd.current=lr,Ci=tr,No!==null?$e=0:(ts=null,gs=0,$e=Uo)}if($e!==0){if($e===2&&(tr=Lo(Ce),tr!==0&&(He=tr,$e=lf(Ce,tr))),$e===1)throw Ve=Hu,lu(Ce,0),qc(Ce,He),sa(Ce,Ui()),Ve;if($e===6)qc(Ce,He);else{if(tr=Ce.current.alternate,(He&30)===0&&!Bh(tr)&&($e=Sd(Ce,He),$e===2&&(lr=Lo(Ce),lr!==0&&(He=lr,$e=lf(Ce,lr))),$e===1))throw Ve=Hu,lu(Ce,0),qc(Ce,He),sa(Ce,Ui()),Ve;switch(Ce.finishedWork=tr,Ce.finishedLanes=He,$e){case 0:case 1:throw Error(xe(345));case 2:cu(Ce,oa,ac);break;case 3:if(qc(Ce,He),(He&130023424)===He&&($e=of+500-Ui(),10<$e)){if(ko(Ce,0)!==0)break;if(tr=Ce.suspendedLanes,(tr&He)!==He){qs(),Ce.pingedLanes|=Ce.suspendedLanes&tr;break}Ce.timeoutHandle=Nu(cu.bind(null,Ce,oa,ac),$e);break}cu(Ce,oa,ac);break;case 4:if(qc(Ce,He),(He&4194240)===He)break;for($e=Ce.eventTimes,tr=-1;0<He;){var xr=31-Oo(He);lr=1<<xr,xr=$e[xr],xr>tr&&(tr=xr),He&=~lr}if(He=tr,He=Ui()-He,He=(120>He?120:480>He?480:1080>He?1080:1920>He?1920:3e3>He?3e3:4320>He?4320:1960*Fh(He/1960))-He,10<He){Ce.timeoutHandle=Nu(cu.bind(null,Ce,oa,ac),He);break}cu(Ce,oa,ac);break;case 5:cu(Ce,oa,ac);break;default:throw Error(xe(329))}}}return sa(Ce,Ui()),Ce.callbackNode===Ve?ch.bind(null,Ce):null}function lf(Ce,$e){var Ve=Wu;return Ce.current.memoizedState.isDehydrated&&(lu(Ce,$e).flags|=256),Ce=Sd(Ce,$e),Ce!==2&&($e=oa,oa=Ve,$e!==null&&cf($e)),Ce}function cf(Ce){oa===null?oa=Ce:oa.push.apply(oa,Ce)}function Bh(Ce){for(var $e=Ce;;){if($e.flags&16384){var Ve=$e.updateQueue;if(Ve!==null&&(Ve=Ve.stores,Ve!==null))for(var He=0;He<Ve.length;He++){var tr=Ve[He],lr=tr.getSnapshot;tr=tr.value;try{if(!Ti(lr(),tr))return!1}catch{return!1}}}if(Ve=$e.child,$e.subtreeFlags&16384&&Ve!==null)Ve.return=$e,$e=Ve;else{if($e===Ce)break;for(;$e.sibling===null;){if($e.return===null||$e.return===Ce)return!0;$e=$e.return}$e.sibling.return=$e.return,$e=$e.sibling}}return!0}function qc(Ce,$e){for($e&=~nf,$e&=~yd,Ce.suspendedLanes|=$e,Ce.pingedLanes&=~$e,Ce=Ce.expirationTimes;0<$e;){var Ve=31-Oo($e),He=1<<Ve;Ce[Ve]=-1,$e&=~He}}function uh(Ce){if((Ci&6)!==0)throw Error(xe(327));ju();var $e=ko(Ce,0);if(($e&1)===0)return sa(Ce,Ui()),null;var Ve=Sd(Ce,$e);if(Ce.tag!==0&&Ve===2){var He=Lo(Ce);He!==0&&($e=He,Ve=lf(Ce,He))}if(Ve===1)throw Ve=Hu,lu(Ce,0),qc(Ce,$e),sa(Ce,Ui()),Ve;if(Ve===6)throw Error(xe(345));return Ce.finishedWork=Ce.current.alternate,Ce.finishedLanes=$e,cu(Ce,oa,ac),sa(Ce,Ui()),null}function uf(Ce,$e){var Ve=Ci;Ci|=1;try{return Ce($e)}finally{Ci=Ve,Ci===0&&(Iu=Ui()+500,ru&&ur())}}function au(Ce){Fc!==null&&Fc.tag===0&&(Ci&6)===0&&ju();var $e=Ci;Ci|=1;var Ve=za.transition,He=yi;try{if(za.transition=null,yi=1,Ce)return Ce()}finally{yi=He,za.transition=Ve,Ci=$e,(Ci&6)===0&&ur()}}function df(){Ea=Cu.current,Fi(Cu)}function lu(Ce,$e){Ce.finishedWork=null,Ce.finishedLanes=0;var Ve=Ce.timeoutHandle;if(Ve!==-1&&(Ce.timeoutHandle=-1,Ju(Ve)),No!==null)for(Ve=No.return;Ve!==null;){var He=Ve;switch(zr(He),He.tag){case 1:He=He.type.childContextTypes,He!=null&&gu();break;case 3:Ba(),Fi(ws),Fi(Bo),Fu();break;case 5:Du(He);break;case 4:Ba();break;case 13:Fi(Ji);break;case 19:Fi(Ji);break;case 10:Rs(He.type._context);break;case 22:case 23:df()}Ve=Ve.return}if(ts=Ce,No=Ce=Uc(Ce.current,null),gs=Ea=$e,Uo=0,Hu=null,nf=yd=su=0,oa=Wu=null,Ms!==null){for($e=0;$e<Ms.length;$e++)if(Ve=Ms[$e],He=Ve.interleaved,He!==null){Ve.interleaved=null;var tr=He.next,lr=Ve.pending;if(lr!==null){var xr=lr.next;lr.next=tr,He.next=xr}Ve.pending=He}Ms=null}return Ce}function dh(Ce,$e){do{var Ve=No;try{if(qo(),vu.current=cd,kc){for(var He=no.memoizedState;He!==null;){var tr=He.queue;tr!==null&&(tr.pending=null),He=He.next}kc=!1}if(qa=0,vo=wo=no=null,hl=!1,Lc=0,rf.current=null,Ve===null||Ve.return===null){Uo=1,Hu=$e,No=null;break}e:{var lr=Ce,xr=Ve.return,Dr=Ve,Ur=$e;if($e=gs,Dr.flags|=32768,Ur!==null&&typeof Ur=="object"&&typeof Ur.then=="function"){var pn=Ur,Cn=Dr,$n=Cn.tag;if((Cn.mode&1)===0&&($n===0||$n===11||$n===15)){var Tn=Cn.alternate;Tn?(Cn.updateQueue=Tn.updateQueue,Cn.memoizedState=Tn.memoizedState,Cn.lanes=Tn.lanes):(Cn.updateQueue=null,Cn.memoizedState=null)}var Un=Lf(xr);if(Un!==null){Un.flags&=-257,Mf(Un,xr,Dr,lr,$e),Un.mode&1&&kf(lr,pn,$e),$e=Un,Ur=pn;var Gn=$e.updateQueue;if(Gn===null){var Kn=new Set;Kn.add(Ur),$e.updateQueue=Kn}else Gn.add(Ur);break e}else{if(($e&1)===0){kf(lr,pn,$e),ff();break e}Ur=Error(xe(426))}}else if(yn&&Dr.mode&1){var Co=Lf(xr);if(Co!==null){(Co.flags&65536)===0&&(Co.flags|=256),Mf(Co,xr,Dr,lr,$e),Bi(Pu(Ur,Dr));break e}}lr=Ur=Pu(Ur,Dr),Uo!==4&&(Uo=2),Wu===null?Wu=[lr]:Wu.push(lr),lr=xr;do{switch(lr.tag){case 3:lr.flags|=65536,$e&=-$e,lr.lanes|=$e;var dn=Nf(lr,Ur,$e);na(lr,dn);break e;case 1:Dr=Ur;var Wr=lr.type,hn=lr.stateNode;if((lr.flags&128)===0&&(typeof Wr.getDerivedStateFromError=="function"||hn!==null&&typeof hn.componentDidCatch=="function"&&(Vc===null||!Vc.has(hn)))){lr.flags|=65536,$e&=-$e,lr.lanes|=$e;var On=Of(lr,Dr,$e);na(lr,On);break e}}lr=lr.return}while(lr!==null)}ph(Ve)}catch(Xn){$e=Xn,No===Ve&&Ve!==null&&(No=Ve=Ve.return);continue}break}while(!0)}function fh(){var Ce=gd.current;return gd.current=cd,Ce===null?cd:Ce}function ff(){(Uo===0||Uo===3||Uo===2)&&(Uo=4),ts===null||(su&268435455)===0&&(yd&268435455)===0||qc(ts,gs)}function Sd(Ce,$e){var Ve=Ci;Ci|=2;var He=fh();(ts!==Ce||gs!==$e)&&(ac=null,lu(Ce,$e));do try{qh();break}catch(tr){dh(Ce,tr)}while(!0);if(qo(),Ci=Ve,gd.current=He,No!==null)throw Error(xe(261));return ts=null,gs=0,Uo}function qh(){for(;No!==null;)hh(No)}function Uh(){for(;No!==null&&!aa();)hh(No)}function hh(Ce){var $e=yh(Ce.alternate,Ce,Ea);Ce.memoizedProps=Ce.pendingProps,$e===null?ph(Ce):No=$e,rf.current=null}function ph(Ce){var $e=Ce;do{var Ve=$e.alternate;if(Ce=$e.return,($e.flags&32768)===0){if(Ve=kh(Ve,$e,Ea),Ve!==null){No=Ve;return}}else{if(Ve=Lh(Ve,$e),Ve!==null){Ve.flags&=32767,No=Ve;return}if(Ce!==null)Ce.flags|=32768,Ce.subtreeFlags=0,Ce.deletions=null;else{Uo=6,No=null;return}}if($e=$e.sibling,$e!==null){No=$e;return}No=$e=Ce}while($e!==null);Uo===0&&(Uo=5)}function cu(Ce,$e,Ve){var He=yi,tr=za.transition;try{za.transition=null,yi=1,zh(Ce,$e,Ve,He)}finally{za.transition=tr,yi=He}return null}function zh(Ce,$e,Ve,He){do ju();while(Fc!==null);if((Ci&6)!==0)throw Error(xe(327));Ve=Ce.finishedWork;var tr=Ce.finishedLanes;if(Ve===null)return null;if(Ce.finishedWork=null,Ce.finishedLanes=0,Ve===Ce.current)throw Error(xe(177));Ce.callbackNode=null,Ce.callbackPriority=0;var lr=Ve.lanes|Ve.childLanes;if(Mi(Ce,lr),Ce===ts&&(No=ts=null,gs=0),(Ve.subtreeFlags&2064)===0&&(Ve.flags&2064)===0||xd||(xd=!0,xh(vs,function(){return ju(),null})),lr=(Ve.flags&15990)!==0,(Ve.subtreeFlags&15990)!==0||lr){lr=za.transition,za.transition=null;var xr=yi;yi=1;var Dr=Ci;Ci|=4,rf.current=null,Dh(Ce,Ve),ih(Ve,Ce),Gl(Jl),Ca=!!eu,Jl=eu=null,Ce.current=Ve,Vh(Ve),cc(),Ci=Dr,yi=xr,za.transition=lr}else Ce.current=Ve;if(xd&&(xd=!1,Fc=Ce,_d=tr),lr=Ce.pendingLanes,lr===0&&(Vc=null),Ga(Ve.stateNode),sa(Ce,Ui()),$e!==null)for(He=Ce.onRecoverableError,Ve=0;Ve<$e.length;Ve++)tr=$e[Ve],He(tr.value,{componentStack:tr.stack,digest:tr.digest});if(vd)throw vd=!1,Ce=sf,sf=null,Ce;return(_d&1)!==0&&Ce.tag!==0&&ju(),lr=Ce.pendingLanes,(lr&1)!==0?Ce===af?Gu++:(Gu=0,af=Ce):Gu=0,ur(),null}function ju(){if(Fc!==null){var Ce=Hs(_d),$e=za.transition,Ve=yi;try{if(za.transition=null,yi=16>Ce?16:Ce,Fc===null)var He=!1;else{if(Ce=Fc,Fc=null,_d=0,(Ci&6)!==0)throw Error(xe(331));var tr=Ci;for(Ci|=4,Hn=Ce.current;Hn!==null;){var lr=Hn,xr=lr.child;if((Hn.flags&16)!==0){var Dr=lr.deletions;if(Dr!==null){for(var Ur=0;Ur<Dr.length;Ur++){var pn=Dr[Ur];for(Hn=pn;Hn!==null;){var Cn=Hn;switch(Cn.tag){case 0:case 11:case 15:zu(8,Cn,lr)}var $n=Cn.child;if($n!==null)$n.return=Cn,Hn=$n;else for(;Hn!==null;){Cn=Hn;var Tn=Cn.sibling,Un=Cn.return;if(Zf(Cn),Cn===pn){Hn=null;break}if(Tn!==null){Tn.return=Un,Hn=Tn;break}Hn=Un}}}var Gn=lr.alternate;if(Gn!==null){var Kn=Gn.child;if(Kn!==null){Gn.child=null;do{var Co=Kn.sibling;Kn.sibling=null,Kn=Co}while(Kn!==null)}}Hn=lr}}if((lr.subtreeFlags&2064)!==0&&xr!==null)xr.return=lr,Hn=xr;else e:for(;Hn!==null;){if(lr=Hn,(lr.flags&2048)!==0)switch(lr.tag){case 0:case 11:case 15:zu(9,lr,lr.return)}var dn=lr.sibling;if(dn!==null){dn.return=lr.return,Hn=dn;break e}Hn=lr.return}}var Wr=Ce.current;for(Hn=Wr;Hn!==null;){xr=Hn;var hn=xr.child;if((xr.subtreeFlags&2064)!==0&&hn!==null)hn.return=xr,Hn=hn;else e:for(xr=Wr;Hn!==null;){if(Dr=Hn,(Dr.flags&2048)!==0)try{switch(Dr.tag){case 0:case 11:case 15:md(9,Dr)}}catch(Xn){Ao(Dr,Dr.return,Xn)}if(Dr===xr){Hn=null;break e}var On=Dr.sibling;if(On!==null){On.return=Dr.return,Hn=On;break e}Hn=Dr.return}}if(Ci=tr,ur(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Sa,Ce)}catch{}He=!0}return He}finally{yi=Ve,za.transition=$e}}return!1}function mh(Ce,$e,Ve){$e=Pu(Ve,$e),$e=Nf(Ce,$e,1),Ce=ra(Ce,$e,1),$e=qs(),Ce!==null&&(ca(Ce,1,$e),sa(Ce,$e))}function Ao(Ce,$e,Ve){if(Ce.tag===3)mh(Ce,Ce,Ve);else for(;$e!==null;){if($e.tag===3){mh($e,Ce,Ve);break}else if($e.tag===1){var He=$e.stateNode;if(typeof $e.type.getDerivedStateFromError=="function"||typeof He.componentDidCatch=="function"&&(Vc===null||!Vc.has(He))){Ce=Pu(Ve,Ce),Ce=Of($e,Ce,1),$e=ra($e,Ce,1),Ce=qs(),$e!==null&&(ca($e,1,Ce),sa($e,Ce));break}}$e=$e.return}}function Hh(Ce,$e,Ve){var He=Ce.pingCache;He!==null&&He.delete($e),$e=qs(),Ce.pingedLanes|=Ce.suspendedLanes&Ve,ts===Ce&&(gs&Ve)===Ve&&(Uo===4||Uo===3&&(gs&130023424)===gs&&500>Ui()-of?lu(Ce,0):nf|=Ve),sa(Ce,$e)}function gh(Ce,$e){$e===0&&((Ce.mode&1)===0?$e=1:($e=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var Ve=qs();Ce=Oi(Ce,$e),Ce!==null&&(ca(Ce,$e,Ve),sa(Ce,Ve))}function Wh(Ce){var $e=Ce.memoizedState,Ve=0;$e!==null&&(Ve=$e.retryLane),gh(Ce,Ve)}function Gh(Ce,$e){var Ve=0;switch(Ce.tag){case 13:var He=Ce.stateNode,tr=Ce.memoizedState;tr!==null&&(Ve=tr.retryLane);break;case 19:He=Ce.stateNode;break;default:throw Error(xe(314))}He!==null&&He.delete($e),gh(Ce,Ve)}var yh;yh=function(Ce,$e,Ve){if(Ce!==null)if(Ce.memoizedProps!==$e.pendingProps||ws.current)ia=!0;else{if((Ce.lanes&Ve)===0&&($e.flags&128)===0)return ia=!1,Oh(Ce,$e,Ve);ia=(Ce.flags&131072)!==0}else ia=!1,yn&&($e.flags&1048576)!==0&&Sn($e,Ar,$e.index);switch($e.lanes=0,$e.tag){case 2:var He=$e.type;hd(Ce,$e),Ce=$e.pendingProps;var tr=jc($e,Bo.current);co($e,Ve),tr=nu(null,$e,He,Ce,tr,Ve);var lr=Ua();return $e.flags|=1,typeof tr=="object"&&tr!==null&&typeof tr.render=="function"&&tr.$$typeof===void 0?($e.tag=1,$e.memoizedState=null,$e.updateQueue=null,As(He)?(lr=!0,rc($e)):lr=!1,$e.memoizedState=tr.state!==null&&tr.state!==void 0?tr.state:null,yu($e),tr.updater=ud,$e.stateNode=tr,tr._reactInternals=$e,qd($e,He,Ce,Ve),$e=Wd(null,$e,He,!0,lr,Ve)):($e.tag=0,yn&&lr&&mn($e),Bs(null,$e,tr,Ve),$e=$e.child),$e;case 16:He=$e.elementType;e:{switch(hd(Ce,$e),Ce=$e.pendingProps,tr=He._init,He=tr(He._payload),$e.type=He,tr=$e.tag=Yh(He),Ce=ml(He,Ce),tr){case 0:$e=Hd(null,$e,He,Ce,Ve);break e;case 1:$e=Uf(null,$e,He,Ce,Ve);break e;case 11:$e=Df(null,$e,He,Ce,Ve);break e;case 14:$e=Vf(null,$e,He,ml(He.type,Ce),Ve);break e}throw Error(xe(306,He,""))}return $e;case 0:return He=$e.type,tr=$e.pendingProps,tr=$e.elementType===He?tr:ml(He,tr),Hd(Ce,$e,He,tr,Ve);case 1:return He=$e.type,tr=$e.pendingProps,tr=$e.elementType===He?tr:ml(He,tr),Uf(Ce,$e,He,tr,Ve);case 3:e:{if(zf($e),Ce===null)throw Error(xe(387));He=$e.pendingProps,lr=$e.memoizedState,tr=lr.element,Mu(Ce,$e),ul($e,He,null,Ve);var xr=$e.memoizedState;if(He=xr.element,lr.isDehydrated)if(lr={element:He,isDehydrated:!1,cache:xr.cache,pendingSuspenseBoundaries:xr.pendingSuspenseBoundaries,transitions:xr.transitions},$e.updateQueue.baseState=lr,$e.memoizedState=lr,$e.flags&256){tr=Pu(Error(xe(423)),$e),$e=Hf(Ce,$e,He,Ve,tr);break e}else if(He!==tr){tr=Pu(Error(xe(424)),$e),$e=Hf(Ce,$e,He,Ve,tr);break e}else for(vn=hs($e.stateNode.containerInfo.firstChild),Hr=$e,yn=!0,bn=null,Ve=Ni($e,null,He,Ve),$e.child=Ve;Ve;)Ve.flags=Ve.flags&-3|4096,Ve=Ve.sibling;else{if(fi(),He===tr){$e=sc(Ce,$e,Ve);break e}Bs(Ce,$e,He,Ve)}$e=$e.child}return $e;case 5:return nd($e),Ce===null&&Dn($e),He=$e.type,tr=$e.pendingProps,lr=Ce!==null?Ce.memoizedProps:null,xr=tr.children,$u(He,tr)?xr=null:lr!==null&&$u(He,lr)&&($e.flags|=32),qf(Ce,$e),Bs(Ce,$e,xr,Ve),$e.child;case 6:return Ce===null&&Dn($e),null;case 13:return Wf(Ce,$e,Ve);case 4:return Oc($e,$e.stateNode.containerInfo),He=$e.pendingProps,Ce===null?$e.child=Ro($e,null,He,Ve):Bs(Ce,$e,He,Ve),$e.child;case 11:return He=$e.type,tr=$e.pendingProps,tr=$e.elementType===He?tr:ml(He,tr),Df(Ce,$e,He,tr,Ve);case 7:return Bs(Ce,$e,$e.pendingProps,Ve),$e.child;case 8:return Bs(Ce,$e,$e.pendingProps.children,Ve),$e.child;case 12:return Bs(Ce,$e,$e.pendingProps.children,Ve),$e.child;case 10:e:{if(He=$e.type._context,tr=$e.pendingProps,lr=$e.memoizedProps,xr=tr.value,zi(Zo,He._currentValue),He._currentValue=xr,lr!==null)if(Ti(lr.value,xr)){if(lr.children===tr.children&&!ws.current){$e=sc(Ce,$e,Ve);break e}}else for(lr=$e.child,lr!==null&&(lr.return=$e);lr!==null;){var Dr=lr.dependencies;if(Dr!==null){xr=lr.child;for(var Ur=Dr.firstContext;Ur!==null;){if(Ur.context===He){if(lr.tag===1){Ur=ta(-1,Ve&-Ve),Ur.tag=2;var pn=lr.updateQueue;if(pn!==null){pn=pn.shared;var Cn=pn.pending;Cn===null?Ur.next=Ur:(Ur.next=Cn.next,Cn.next=Ur),pn.pending=Ur}}lr.lanes|=Ve,Ur=lr.alternate,Ur!==null&&(Ur.lanes|=Ve),ea(lr.return,Ve,$e),Dr.lanes|=Ve;break}Ur=Ur.next}}else if(lr.tag===10)xr=lr.type===$e.type?null:lr.child;else if(lr.tag===18){if(xr=lr.return,xr===null)throw Error(xe(341));xr.lanes|=Ve,Dr=xr.alternate,Dr!==null&&(Dr.lanes|=Ve),ea(xr,Ve,$e),xr=lr.sibling}else xr=lr.child;if(xr!==null)xr.return=lr;else for(xr=lr;xr!==null;){if(xr===$e){xr=null;break}if(lr=xr.sibling,lr!==null){lr.return=xr.return,xr=lr;break}xr=xr.return}lr=xr}Bs(Ce,$e,tr.children,Ve),$e=$e.child}return $e;case 9:return tr=$e.type,He=$e.pendingProps.children,co($e,Ve),tr=So(tr),He=He(tr),$e.flags|=1,Bs(Ce,$e,He,Ve),$e.child;case 14:return He=$e.type,tr=ml(He,$e.pendingProps),tr=ml(He.type,tr),Vf(Ce,$e,He,tr,Ve);case 15:return Ff(Ce,$e,$e.type,$e.pendingProps,Ve);case 17:return He=$e.type,tr=$e.pendingProps,tr=$e.elementType===He?tr:ml(He,tr),hd(Ce,$e),$e.tag=1,As(He)?(Ce=!0,rc($e)):Ce=!1,co($e,Ve),jf($e,He,tr),qd($e,He,tr,Ve),Wd(null,$e,He,!0,Ce,Ve);case 19:return Kf(Ce,$e,Ve);case 22:return Bf(Ce,$e,Ve)}throw Error(xe(156,$e.tag))};function xh(Ce,$e){return di(Ce,$e)}function Kh(Ce,$e,Ve,He){this.tag=Ce,this.key=Ve,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=He,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(Ce,$e,Ve,He){return new Kh(Ce,$e,Ve,He)}function hf(Ce){return Ce=Ce.prototype,!(!Ce||!Ce.isReactComponent)}function Yh(Ce){if(typeof Ce=="function")return hf(Ce)?1:0;if(Ce!=null){if(Ce=Ce.$$typeof,Ce===er)return 11;if(Ce===_r)return 14}return 2}function Uc(Ce,$e){var Ve=Ce.alternate;return Ve===null?(Ve=Ha(Ce.tag,$e,Ce.key,Ce.mode),Ve.elementType=Ce.elementType,Ve.type=Ce.type,Ve.stateNode=Ce.stateNode,Ve.alternate=Ce,Ce.alternate=Ve):(Ve.pendingProps=$e,Ve.type=Ce.type,Ve.flags=0,Ve.subtreeFlags=0,Ve.deletions=null),Ve.flags=Ce.flags&14680064,Ve.childLanes=Ce.childLanes,Ve.lanes=Ce.lanes,Ve.child=Ce.child,Ve.memoizedProps=Ce.memoizedProps,Ve.memoizedState=Ce.memoizedState,Ve.updateQueue=Ce.updateQueue,$e=Ce.dependencies,Ve.dependencies=$e===null?null:{lanes:$e.lanes,firstContext:$e.firstContext},Ve.sibling=Ce.sibling,Ve.index=Ce.index,Ve.ref=Ce.ref,Ve}function wd(Ce,$e,Ve,He,tr,lr){var xr=2;if(He=Ce,typeof Ce=="function")hf(Ce)&&(xr=1);else if(typeof Ce=="string")xr=5;else e:switch(Ce){case Qe:return uu(Ve.children,tr,lr,$e);case Ke:xr=8,tr|=8;break;case rr:return Ce=Ha(12,Ve,$e,tr|2),Ce.elementType=rr,Ce.lanes=lr,Ce;case sr:return Ce=Ha(13,Ve,$e,tr),Ce.elementType=sr,Ce.lanes=lr,Ce;case fr:return Ce=Ha(19,Ve,$e,tr),Ce.elementType=fr,Ce.lanes=lr,Ce;case yr:return Ad(Ve,tr,lr,$e);default:if(typeof Ce=="object"&&Ce!==null)switch(Ce.$$typeof){case cr:xr=10;break e;case Ze:xr=9;break e;case er:xr=11;break e;case _r:xr=14;break e;case Er:xr=16,He=null;break e}throw Error(xe(130,Ce==null?Ce:typeof Ce,""))}return $e=Ha(xr,Ve,$e,tr),$e.elementType=Ce,$e.type=He,$e.lanes=lr,$e}function uu(Ce,$e,Ve,He){return Ce=Ha(7,Ce,He,$e),Ce.lanes=Ve,Ce}function Ad(Ce,$e,Ve,He){return Ce=Ha(22,Ce,He,$e),Ce.elementType=yr,Ce.lanes=Ve,Ce.stateNode={isHidden:!1},Ce}function pf(Ce,$e,Ve){return Ce=Ha(6,Ce,null,$e),Ce.lanes=Ve,Ce}function mf(Ce,$e,Ve){return $e=Ha(4,Ce.children!==null?Ce.children:[],Ce.key,$e),$e.lanes=Ve,$e.stateNode={containerInfo:Ce.containerInfo,pendingChildren:null,implementation:Ce.implementation},$e}function Xh(Ce,$e,Ve,He,tr){this.tag=$e,this.containerInfo=Ce,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=He,this.onRecoverableError=tr,this.mutableSourceEagerHydrationData=null}function gf(Ce,$e,Ve,He,tr,lr,xr,Dr,Ur){return Ce=new Xh(Ce,$e,Ve,Dr,Ur),$e===1?($e=1,lr===!0&&($e|=8)):$e=0,lr=Ha(3,null,null,$e),Ce.current=lr,lr.stateNode=Ce,lr.memoizedState={element:He,isDehydrated:Ve,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(lr),Ce}function Qh(Ce,$e,Ve){var He=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:He==null?null:""+He,children:Ce,containerInfo:$e,implementation:Ve}}function _h(Ce){if(!Ce)return $l;Ce=Ce._reactInternals;e:{if(oo(Ce)!==Ce||Ce.tag!==1)throw Error(xe(170));var $e=Ce;do{switch($e.tag){case 3:$e=$e.stateNode.context;break e;case 1:if(As($e.type)){$e=$e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$e=$e.return}while($e!==null);throw Error(xe(171))}if(Ce.tag===1){var Ve=Ce.type;if(As(Ve))return Lu(Ce,Ve,$e)}return $e}function bh(Ce,$e,Ve,He,tr,lr,xr,Dr,Ur){return Ce=gf(Ve,He,!0,Ce,tr,lr,xr,Dr,Ur),Ce.context=_h(null),Ve=Ce.current,He=qs(),tr=Bc(Ve),lr=ta(He,tr),lr.callback=$e??null,ra(Ve,lr,tr),Ce.current.lanes=tr,ca(Ce,tr,He),sa(Ce,He),Ce}function Rd(Ce,$e,Ve,He){var tr=$e.current,lr=qs(),xr=Bc(tr);return Ve=_h(Ve),$e.context===null?$e.context=Ve:$e.pendingContext=Ve,$e=ta(lr,xr),$e.payload={element:Ce},He=He===void 0?null:He,He!==null&&($e.callback=He),Ce=ra(tr,$e,xr),Ce!==null&&(vl(Ce,tr,xr,lr),nc(Ce,tr,xr)),xr}function Pd(Ce){if(Ce=Ce.current,!Ce.child)return null;switch(Ce.child.tag){case 5:return Ce.child.stateNode;default:return Ce.child.stateNode}}function Eh(Ce,$e){if(Ce=Ce.memoizedState,Ce!==null&&Ce.dehydrated!==null){var Ve=Ce.retryLane;Ce.retryLane=Ve!==0&&Ve<$e?Ve:$e}}function yf(Ce,$e){Eh(Ce,$e),(Ce=Ce.alternate)&&Eh(Ce,$e)}function Jh(){return null}var Sh=typeof reportError=="function"?reportError:function(Ce){console.error(Ce)};function vf(Ce){this._internalRoot=Ce}Td.prototype.render=vf.prototype.render=function(Ce){var $e=this._internalRoot;if($e===null)throw Error(xe(409));Rd(Ce,$e,null,null)},Td.prototype.unmount=vf.prototype.unmount=function(){var Ce=this._internalRoot;if(Ce!==null){this._internalRoot=null;var $e=Ce.containerInfo;au(function(){Rd(null,Ce,null,null)}),$e[Jo]=null}};function Td(Ce){this._internalRoot=Ce}Td.prototype.unstable_scheduleHydration=function(Ce){if(Ce){var $e=Ws();Ce={blockedOn:null,target:Ce,priority:$e};for(var Ve=0;Ve<Gs.length&&$e!==0&&$e<Gs[Ve].priority;Ve++);Gs.splice(Ve,0,Ce),Ve===0&&El(Ce)}};function xf(Ce){return!(!Ce||Ce.nodeType!==1&&Ce.nodeType!==9&&Ce.nodeType!==11)}function Cd(Ce){return!(!Ce||Ce.nodeType!==1&&Ce.nodeType!==9&&Ce.nodeType!==11&&(Ce.nodeType!==8||Ce.nodeValue!==" react-mount-point-unstable "))}function wh(){}function Zh(Ce,$e,Ve,He,tr){if(tr){if(typeof He=="function"){var lr=He;He=function(){var pn=Pd(xr);lr.call(pn)}}var xr=bh($e,He,Ce,0,null,!1,!1,"",wh);return Ce._reactRootContainer=xr,Ce[Jo]=xr.current,Xl(Ce.nodeType===8?Ce.parentNode:Ce),au(),xr}for(;tr=Ce.lastChild;)Ce.removeChild(tr);if(typeof He=="function"){var Dr=He;He=function(){var pn=Pd(Ur);Dr.call(pn)}}var Ur=gf(Ce,0,!1,null,null,!1,!1,"",wh);return Ce._reactRootContainer=Ur,Ce[Jo]=Ur.current,Xl(Ce.nodeType===8?Ce.parentNode:Ce),au(function(){Rd($e,Ur,Ve,He)}),Ur}function Id(Ce,$e,Ve,He,tr){var lr=Ve._reactRootContainer;if(lr){var xr=lr;if(typeof tr=="function"){var Dr=tr;tr=function(){var Ur=Pd(xr);Dr.call(Ur)}}Rd($e,xr,Ce,tr)}else xr=Zh(Ve,$e,Ce,tr,He);return Pd(xr)}fc=function(Ce){switch(Ce.tag){case 3:var $e=Ce.stateNode;if($e.current.memoizedState.isDehydrated){var Ve=Aa($e.pendingLanes);Ve!==0&&(ua($e,Ve|1),sa($e,Ui()),(Ci&6)===0&&(Iu=Ui()+500,ur()))}break;case 13:au(function(){var He=Oi(Ce,1);if(He!==null){var tr=qs();vl(He,Ce,1,tr)}}),yf(Ce,1)}},_l=function(Ce){if(Ce.tag===13){var $e=Oi(Ce,134217728);if($e!==null){var Ve=qs();vl($e,Ce,134217728,Ve)}yf(Ce,134217728)}},hc=function(Ce){if(Ce.tag===13){var $e=Bc(Ce),Ve=Oi(Ce,$e);if(Ve!==null){var He=qs();vl(Ve,Ce,$e,He)}yf(Ce,$e)}},Ws=function(){return yi},Ya=function(Ce,$e){var Ve=yi;try{return yi=Ce,$e()}finally{yi=Ve}},Ii=function(Ce,$e,Ve){switch($e){case"input":if(Bn(Ce,Ve),$e=Ve.name,Ve.type==="radio"&&$e!=null){for(Ve=Ce;Ve.parentNode;)Ve=Ve.parentNode;for(Ve=Ve.querySelectorAll("input[name="+JSON.stringify(""+$e)+'][type="radio"]'),$e=0;$e<Ve.length;$e++){var He=Ve[$e];if(He!==Ce&&He.form===Ce.form){var tr=tu(He);if(!tr)throw Error(xe(90));Fr(He),Bn(He,tr)}}}break;case"textarea":Qn(Ce,Ve);break;case"select":$e=Ve.value,$e!=null&&jn(Ce,!!Ve.multiple,$e,!1)}},ns=uf,Yi=au;var ep={usingClientEntryPoint:!1,Events:[Ic,Zl,tu,Jn,vi,uf]},Ku={findFiberByHostInstance:jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tp={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(Ce){return Ce=En(Ce),Ce===null?null:Ce.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||Jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Sa=jd.inject(tp),os=jd}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep,reactDom_production_min.createPortal=function(Ce,$e){var Ve=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf($e))throw Error(xe(200));return Qh(Ce,$e,null,Ve)},reactDom_production_min.createRoot=function(Ce,$e){if(!xf(Ce))throw Error(xe(299));var Ve=!1,He="",tr=Sh;return $e!=null&&($e.unstable_strictMode===!0&&(Ve=!0),$e.identifierPrefix!==void 0&&(He=$e.identifierPrefix),$e.onRecoverableError!==void 0&&(tr=$e.onRecoverableError)),$e=gf(Ce,1,!1,null,null,Ve,!1,He,tr),Ce[Jo]=$e.current,Xl(Ce.nodeType===8?Ce.parentNode:Ce),new vf($e)},reactDom_production_min.findDOMNode=function(Ce){if(Ce==null)return null;if(Ce.nodeType===1)return Ce;var $e=Ce._reactInternals;if($e===void 0)throw typeof Ce.render=="function"?Error(xe(188)):(Ce=Object.keys(Ce).join(","),Error(xe(268,Ce)));return Ce=En($e),Ce=Ce===null?null:Ce.stateNode,Ce},reactDom_production_min.flushSync=function(Ce){return au(Ce)},reactDom_production_min.hydrate=function(Ce,$e,Ve){if(!Cd($e))throw Error(xe(200));return Id(null,Ce,$e,!0,Ve)},reactDom_production_min.hydrateRoot=function(Ce,$e,Ve){if(!xf(Ce))throw Error(xe(405));var He=Ve!=null&&Ve.hydratedSources||null,tr=!1,lr="",xr=Sh;if(Ve!=null&&(Ve.unstable_strictMode===!0&&(tr=!0),Ve.identifierPrefix!==void 0&&(lr=Ve.identifierPrefix),Ve.onRecoverableError!==void 0&&(xr=Ve.onRecoverableError)),$e=bh($e,null,Ce,1,Ve??null,tr,!1,lr,xr),Ce[Jo]=$e.current,Xl(Ce),He)for(Ce=0;Ce<He.length;Ce++)Ve=He[Ce],tr=Ve._getVersion,tr=tr(Ve._source),$e.mutableSourceEagerHydrationData==null?$e.mutableSourceEagerHydrationData=[Ve,tr]:$e.mutableSourceEagerHydrationData.push(Ve,tr);return new Td($e)},reactDom_production_min.render=function(Ce,$e,Ve){if(!Cd($e))throw Error(xe(200));return Id(null,Ce,$e,!1,Ve)},reactDom_production_min.unmountComponentAtNode=function(Ce){if(!Cd(Ce))throw Error(xe(40));return Ce._reactRootContainer?(au(function(){Id(null,null,Ce,!1,function(){Ce._reactRootContainer=null,Ce[Jo]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=uf,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Ce,$e,Ve,He){if(!Cd(Ve))throw Error(xe(200));if(Ce==null||Ce._reactInternals===void 0)throw Error(xe(38));return Id(Ce,$e,Ve,!1,He)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$w.apply(this,arguments)}var Action$1;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(_e,Ee){let{pathname:Se,search:Ae,hash:Re}=_e.location;return createLocation("",{pathname:Se,search:Ae,hash:Re},Ee.state&&Ee.state.usr||null,Ee.state&&Ee.state.key||"default")}function xe(_e,Ee){return typeof Ee=="string"?Ee:createPath(Ee)}return getUrlBasedHistory(e,xe,null,t)}function invariant$2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,xe,_e){return xe===void 0&&(xe=null),_extends$w({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:xe,key:e&&e.key||_e||createKey()})}function createPath(t){let{pathname:e="/",search:xe="",hash:_e=""}=t;return xe&&xe!=="?"&&(e+=xe.charAt(0)==="?"?xe:"?"+xe),_e&&_e!=="#"&&(e+=_e.charAt(0)==="#"?_e:"#"+_e),e}function parsePath(t){let e={};if(t){let xe=t.indexOf("#");xe>=0&&(e.hash=t.substr(xe),t=t.substr(0,xe));let _e=t.indexOf("?");_e>=0&&(e.search=t.substr(_e),t=t.substr(0,_e)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,xe,_e){_e===void 0&&(_e={});let{window:Ee=document.defaultView,v5Compat:Se=!1}=_e,Ae=Ee.history,Re=Action$1.Pop,Pe=null,Te=Ie();Te==null&&(Te=0,Ae.replaceState(_extends$w({},Ae.state,{idx:Te}),""));function Ie(){return(Ae.state||{idx:null}).idx}function je(){Re=Action$1.Pop;let De=Ie(),Ue=De==null?null:De-Te;Te=De,Pe&&Pe({action:Re,location:Me.location,delta:Ue})}function Oe(De,Ue){Re=Action$1.Push;let ze=createLocation(Me.location,De,Ue);Te=Ie()+1;let We=getHistoryState(ze,Te),Ye=Me.createHref(ze);try{Ae.pushState(We,"",Ye)}catch(Xe){if(Xe instanceof DOMException&&Xe.name==="DataCloneError")throw Xe;Ee.location.assign(Ye)}Se&&Pe&&Pe({action:Re,location:Me.location,delta:1})}function ke(De,Ue){Re=Action$1.Replace;let ze=createLocation(Me.location,De,Ue);Te=Ie();let We=getHistoryState(ze,Te),Ye=Me.createHref(ze);Ae.replaceState(We,"",Ye),Se&&Pe&&Pe({action:Re,location:Me.location,delta:0})}function Fe(De){let Ue=Ee.location.origin!=="null"?Ee.location.origin:Ee.location.href,ze=typeof De=="string"?De:createPath(De);return ze=ze.replace(/ $/,"%20"),invariant$2(Ue,"No window.location.(origin|href) available to create URL for href: "+ze),new URL(ze,Ue)}let Me={get action(){return Re},get location(){return t(Ee,Ae)},listen(De){if(Pe)throw new Error("A history only accepts one active listener");return Ee.addEventListener(PopStateEventType,je),Pe=De,()=>{Ee.removeEventListener(PopStateEventType,je),Pe=null}},createHref(De){return e(Ee,De)},createURL:Fe,encodeLocation(De){let Ue=Fe(De);return{pathname:Ue.pathname,search:Ue.search,hash:Ue.hash}},push:Oe,replace:ke,go(De){return Ae.go(De)}};return Me}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,xe){return xe===void 0&&(xe="/"),matchRoutesImpl(t,e,xe)}function matchRoutesImpl(t,e,xe,_e){let Ee=typeof e=="string"?parsePath(e):e,Se=stripBasename(Ee.pathname||"/",xe);if(Se==null)return null;let Ae=flattenRoutes(t);rankRouteBranches(Ae);let Re=null;for(let Pe=0;Re==null&&Pe<Ae.length;++Pe){let Te=decodePath(Se);Re=matchRouteBranch(Ae[Pe],Te)}return Re}function flattenRoutes(t,e,xe,_e){e===void 0&&(e=[]),xe===void 0&&(xe=[]),_e===void 0&&(_e="");let Ee=(Se,Ae,Re)=>{let Pe={relativePath:Re===void 0?Se.path||"":Re,caseSensitive:Se.caseSensitive===!0,childrenIndex:Ae,route:Se};Pe.relativePath.startsWith("/")&&(invariant$2(Pe.relativePath.startsWith(_e),'Absolute route path "'+Pe.relativePath+'" nested under path '+('"'+_e+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Pe.relativePath=Pe.relativePath.slice(_e.length));let Te=joinPaths([_e,Pe.relativePath]),Ie=xe.concat(Pe);Se.children&&Se.children.length>0&&(invariant$2(Se.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Te+'".')),flattenRoutes(Se.children,e,Ie,Te)),!(Se.path==null&&!Se.index)&&e.push({path:Te,score:computeScore(Te,Se.index),routesMeta:Ie})};return t.forEach((Se,Ae)=>{var Re;if(Se.path===""||!((Re=Se.path)!=null&&Re.includes("?")))Ee(Se,Ae);else for(let Pe of explodeOptionalSegments(Se.path))Ee(Se,Ae,Pe)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[xe,..._e]=e,Ee=xe.endsWith("?"),Se=xe.replace(/\?$/,"");if(_e.length===0)return Ee?[Se,""]:[Se];let Ae=explodeOptionalSegments(_e.join("/")),Re=[];return Re.push(...Ae.map(Pe=>Pe===""?Se:[Se,Pe].join("/"))),Ee&&Re.push(...Ae),Re.map(Pe=>t.startsWith("/")&&Pe===""?"/":Pe)}function rankRouteBranches(t){t.sort((e,xe)=>e.score!==xe.score?xe.score-e.score:compareIndexes(e.routesMeta.map(_e=>_e.childrenIndex),xe.routesMeta.map(_e=>_e.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let xe=t.split("/"),_e=xe.length;return xe.some(isSplat)&&(_e+=splatPenalty),e&&(_e+=indexRouteValue),xe.filter(Ee=>!isSplat(Ee)).reduce((Ee,Se)=>Ee+(paramRe.test(Se)?dynamicSegmentValue:Se===""?emptySegmentValue:staticSegmentValue),_e)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((_e,Ee)=>_e===e[Ee])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,xe){let{routesMeta:_e}=t,Ee={},Se="/",Ae=[];for(let Re=0;Re<_e.length;++Re){let Pe=_e[Re],Te=Re===_e.length-1,Ie=Se==="/"?e:e.slice(Se.length)||"/",je=matchPath({path:Pe.relativePath,caseSensitive:Pe.caseSensitive,end:Te},Ie),Oe=Pe.route;if(!je)return null;Object.assign(Ee,je.params),Ae.push({params:Ee,pathname:joinPaths([Se,je.pathname]),pathnameBase:normalizePathname(joinPaths([Se,je.pathnameBase])),route:Oe}),je.pathnameBase!=="/"&&(Se=joinPaths([Se,je.pathnameBase]))}return Ae}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[xe,_e]=compilePath(t.path,t.caseSensitive,t.end),Ee=e.match(xe);if(!Ee)return null;let Se=Ee[0],Ae=Se.replace(/(.)\/+$/,"$1"),Re=Ee.slice(1);return{params:_e.reduce((Te,Ie,je)=>{let{paramName:Oe,isOptional:ke}=Ie;if(Oe==="*"){let Me=Re[je]||"";Ae=Se.slice(0,Se.length-Me.length).replace(/(.)\/+$/,"$1")}const Fe=Re[je];return ke&&!Fe?Te[Oe]=void 0:Te[Oe]=(Fe||"").replace(/%2F/g,"/"),Te},{}),pathname:Se,pathnameBase:Ae,pattern:t}}function compilePath(t,e,xe){e===void 0&&(e=!1),xe===void 0&&(xe=!0),warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let _e=[],Ee="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ae,Re,Pe)=>(_e.push({paramName:Re,isOptional:Pe!=null}),Pe?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(_e.push({paramName:"*"}),Ee+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):xe?Ee+="\\/*$":t!==""&&t!=="/"&&(Ee+="(?:(?=\\/|$))"),[new RegExp(Ee,e?void 0:"i"),_e]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let xe=e.endsWith("/")?e.length-1:e.length,_e=t.charAt(xe);return _e&&_e!=="/"?null:t.slice(xe)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:xe,search:_e="",hash:Ee=""}=typeof t=="string"?parsePath(t):t;return{pathname:xe?xe.startsWith("/")?xe:resolvePathname(xe,e):e,search:normalizeSearch(_e),hash:normalizeHash(Ee)}}function resolvePathname(t,e){let xe=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(Ee=>{Ee===".."?xe.length>1&&xe.pop():Ee!=="."&&xe.push(Ee)}),xe.length>1?xe.join("/"):"/"}function getInvalidPathError(t,e,xe,_e){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(_e)+"].  Please separate it out to the ")+("`to."+xe+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,xe)=>xe===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let xe=getPathContributingMatches(t);return e?xe.map((_e,Ee)=>Ee===xe.length-1?_e.pathname:_e.pathnameBase):xe.map(_e=>_e.pathnameBase)}function resolveTo(t,e,xe,_e){_e===void 0&&(_e=!1);let Ee;typeof t=="string"?Ee=parsePath(t):(Ee=_extends$w({},t),invariant$2(!Ee.pathname||!Ee.pathname.includes("?"),getInvalidPathError("?","pathname","search",Ee)),invariant$2(!Ee.pathname||!Ee.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Ee)),invariant$2(!Ee.search||!Ee.search.includes("#"),getInvalidPathError("#","search","hash",Ee)));let Se=t===""||Ee.pathname==="",Ae=Se?"/":Ee.pathname,Re;if(Ae==null)Re=xe;else{let je=e.length-1;if(!_e&&Ae.startsWith("..")){let Oe=Ae.split("/");for(;Oe[0]==="..";)Oe.shift(),je-=1;Ee.pathname=Oe.join("/")}Re=je>=0?e[je]:"/"}let Pe=resolvePath(Ee,Re),Te=Ae&&Ae!=="/"&&Ae.endsWith("/"),Ie=(Se||Ae===".")&&xe.endsWith("/");return!Pe.pathname.endsWith("/")&&(Te||Ie)&&(Pe.pathname+="/"),Pe}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$v.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(t,e){let{relative:xe}=e===void 0?{}:e;useInRouterContext()||invariant$2(!1);let{basename:_e,navigator:Ee}=reactExports.useContext(NavigationContext),{hash:Se,pathname:Ae,search:Re}=useResolvedPath(t,{relative:xe}),Pe=Ae;return _e!=="/"&&(Pe=Ae==="/"?_e:joinPaths([_e,Ae])),Ee.createHref({pathname:Pe,search:Re,hash:Se})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:xe,navigator:_e}=reactExports.useContext(NavigationContext),{matches:Ee}=reactExports.useContext(RouteContext),{pathname:Se}=useLocation(),Ae=JSON.stringify(getResolveToMatches(Ee,xe.v7_relativeSplatPath)),Re=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Re.current=!0}),reactExports.useCallback(function(Te,Ie){if(Ie===void 0&&(Ie={}),!Re.current)return;if(typeof Te=="number"){_e.go(Te);return}let je=resolveTo(Te,JSON.parse(Ae),Se,Ie.relative==="path");t==null&&e!=="/"&&(je.pathname=je.pathname==="/"?e:joinPaths([e,je.pathname])),(Ie.replace?_e.replace:_e.push)(je,Ie.state,Ie)},[e,_e,Ae,Se,t])}const OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:t},e)}function useParams(){let{matches:t}=reactExports.useContext(RouteContext),e=t[t.length-1];return e?e.params:{}}function useResolvedPath(t,e){let{relative:xe}=e===void 0?{}:e,{future:_e}=reactExports.useContext(NavigationContext),{matches:Ee}=reactExports.useContext(RouteContext),{pathname:Se}=useLocation(),Ae=JSON.stringify(getResolveToMatches(Ee,_e.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(Ae),Se,xe==="path"),[t,Ae,Se,xe])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,xe,_e){useInRouterContext()||invariant$2(!1);let{navigator:Ee}=reactExports.useContext(NavigationContext),{matches:Se}=reactExports.useContext(RouteContext),Ae=Se[Se.length-1],Re=Ae?Ae.params:{};Ae&&Ae.pathname;let Pe=Ae?Ae.pathnameBase:"/";Ae&&Ae.route;let Te=useLocation(),Ie;if(e){var je;let De=typeof e=="string"?parsePath(e):e;Pe==="/"||(je=De.pathname)!=null&&je.startsWith(Pe)||invariant$2(!1),Ie=De}else Ie=Te;let Oe=Ie.pathname||"/",ke=Oe;if(Pe!=="/"){let De=Pe.replace(/^\//,"").split("/");ke="/"+Oe.replace(/^\//,"").split("/").slice(De.length).join("/")}let Fe=matchRoutes(t,{pathname:ke}),Me=_renderMatches(Fe&&Fe.map(De=>Object.assign({},De,{params:Object.assign({},Re,De.params),pathname:joinPaths([Pe,Ee.encodeLocation?Ee.encodeLocation(De.pathname).pathname:De.pathname]),pathnameBase:De.pathnameBase==="/"?Pe:joinPaths([Pe,Ee.encodeLocation?Ee.encodeLocation(De.pathnameBase).pathname:De.pathnameBase])})),Se,xe,_e);return e&&Me?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$v({pathname:"/",search:"",hash:"",state:null,key:"default"},Ie),navigationType:Action$1.Pop}},Me):Me}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),xe=t instanceof Error?t.stack:null,Ee={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),xe?reactExports.createElement("pre",{style:Ee},xe):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,xe){return xe.location!==e.location||xe.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:xe.error,location:xe.location,revalidation:e.revalidation||xe.revalidation}}componentDidCatch(e,xe){console.error("React Router caught the following error during render",e,xe)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:xe,children:_e}=t,Ee=reactExports.useContext(DataRouterContext);return Ee&&Ee.static&&Ee.staticContext&&(xe.route.errorElement||xe.route.ErrorBoundary)&&(Ee.staticContext._deepestRenderedBoundaryId=xe.route.id),reactExports.createElement(RouteContext.Provider,{value:e},_e)}function _renderMatches(t,e,xe,_e){var Ee;if(e===void 0&&(e=[]),xe===void 0&&(xe=null),_e===void 0&&(_e=null),t==null){var Se;if(!xe)return null;if(xe.errors)t=xe.matches;else if((Se=_e)!=null&&Se.v7_partialHydration&&e.length===0&&!xe.initialized&&xe.matches.length>0)t=xe.matches;else return null}let Ae=t,Re=(Ee=xe)==null?void 0:Ee.errors;if(Re!=null){let Ie=Ae.findIndex(je=>je.route.id&&(Re==null?void 0:Re[je.route.id])!==void 0);Ie>=0||invariant$2(!1),Ae=Ae.slice(0,Math.min(Ae.length,Ie+1))}let Pe=!1,Te=-1;if(xe&&_e&&_e.v7_partialHydration)for(let Ie=0;Ie<Ae.length;Ie++){let je=Ae[Ie];if((je.route.HydrateFallback||je.route.hydrateFallbackElement)&&(Te=Ie),je.route.id){let{loaderData:Oe,errors:ke}=xe,Fe=je.route.loader&&Oe[je.route.id]===void 0&&(!ke||ke[je.route.id]===void 0);if(je.route.lazy||Fe){Pe=!0,Te>=0?Ae=Ae.slice(0,Te+1):Ae=[Ae[0]];break}}}return Ae.reduceRight((Ie,je,Oe)=>{let ke,Fe=!1,Me=null,De=null;xe&&(ke=Re&&je.route.id?Re[je.route.id]:void 0,Me=je.route.errorElement||defaultErrorElement,Pe&&(Te<0&&Oe===0?(warningOnce("route-fallback"),Fe=!0,De=null):Te===Oe&&(Fe=!0,De=je.route.hydrateFallbackElement||null)));let Ue=e.concat(Ae.slice(0,Oe+1)),ze=()=>{let We;return ke?We=Me:Fe?We=De:je.route.Component?We=reactExports.createElement(je.route.Component,null):je.route.element?We=je.route.element:We=Ie,reactExports.createElement(RenderedRoute,{match:je,routeContext:{outlet:Ie,matches:Ue,isDataRoute:xe!=null},children:We})};return xe&&(je.route.ErrorBoundary||je.route.errorElement||Oe===0)?reactExports.createElement(RenderErrorBoundary,{location:xe.location,revalidation:xe.revalidation,component:Me,error:ke,children:ze(),routeContext:{outlet:null,matches:Ue,isDataRoute:!0}}):ze()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant$2(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$2(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant$2(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),xe=e.matches[e.matches.length-1];return xe.route.id||invariant$2(!1),xe.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),xe=useDataRouterState(),_e=useCurrentRouteId();return e!==void 0?e:(t=xe.errors)==null?void 0:t[_e]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),xe=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{xe.current=!0}),reactExports.useCallback(function(Ee,Se){Se===void 0&&(Se={}),xe.current&&(typeof Ee=="number"?t.navigate(Ee):t.navigate(Ee,_extends$v({fromRouteId:e},Se)))},[t,e])}const alreadyWarned$1={};function warningOnce(t,e,xe){alreadyWarned$1[t]||(alreadyWarned$1[t]=!0)}function logV6DeprecationWarnings(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Navigate(t){let{to:e,replace:xe,state:_e,relative:Ee}=t;useInRouterContext()||invariant$2(!1);let{future:Se,static:Ae}=reactExports.useContext(NavigationContext),{matches:Re}=reactExports.useContext(RouteContext),{pathname:Pe}=useLocation(),Te=useNavigate(),Ie=resolveTo(e,getResolveToMatches(Re,Se.v7_relativeSplatPath),Pe,Ee==="path"),je=JSON.stringify(Ie);return reactExports.useEffect(()=>Te(JSON.parse(je),{replace:xe,state:_e,relative:Ee}),[Te,je,Ee,xe,_e]),null}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$2(!1)}function Router(t){let{basename:e="/",children:xe=null,location:_e,navigationType:Ee=Action$1.Pop,navigator:Se,static:Ae=!1,future:Re}=t;useInRouterContext()&&invariant$2(!1);let Pe=e.replace(/^\/*/,"/"),Te=reactExports.useMemo(()=>({basename:Pe,navigator:Se,static:Ae,future:_extends$v({v7_relativeSplatPath:!1},Re)}),[Pe,Re,Se,Ae]);typeof _e=="string"&&(_e=parsePath(_e));let{pathname:Ie="/",search:je="",hash:Oe="",state:ke=null,key:Fe="default"}=_e,Me=reactExports.useMemo(()=>{let De=stripBasename(Ie,Pe);return De==null?null:{location:{pathname:De,search:je,hash:Oe,state:ke,key:Fe},navigationType:Ee}},[Pe,Ie,je,Oe,ke,Fe,Ee]);return Me==null?null:reactExports.createElement(NavigationContext.Provider,{value:Te},reactExports.createElement(LocationContext.Provider,{children:xe,value:Me}))}function Routes(t){let{children:e,location:xe}=t;return useRoutes(createRoutesFromChildren(e),xe)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let xe=[];return reactExports.Children.forEach(t,(_e,Ee)=>{if(!reactExports.isValidElement(_e))return;let Se=[...e,Ee];if(_e.type===reactExports.Fragment){xe.push.apply(xe,createRoutesFromChildren(_e.props.children,Se));return}_e.type!==Route&&invariant$2(!1),!_e.props.index||!_e.props.children||invariant$2(!1);let Ae={id:_e.props.id||Se.join("-"),caseSensitive:_e.props.caseSensitive,element:_e.props.element,Component:_e.props.Component,index:_e.props.index,path:_e.props.path,loader:_e.props.loader,action:_e.props.action,errorElement:_e.props.errorElement,ErrorBoundary:_e.props.ErrorBoundary,hasErrorBoundary:_e.props.ErrorBoundary!=null||_e.props.errorElement!=null,shouldRevalidate:_e.props.shouldRevalidate,handle:_e.props.handle,lazy:_e.props.lazy};_e.props.children&&(Ae.children=createRoutesFromChildren(_e.props.children,Se)),xe.push(Ae)}),xe}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$u.apply(this,arguments)}function _objectWithoutPropertiesLoose$i(t,e){if(t==null)return{};var xe={},_e=Object.keys(t),Ee,Se;for(Se=0;Se<_e.length;Se++)Ee=_e[Se],!(e.indexOf(Ee)>=0)&&(xe[Ee]=t[Ee]);return xe}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}const _excluded$i=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:xe,future:_e,window:Ee}=t,Se=reactExports.useRef();Se.current==null&&(Se.current=createBrowserHistory({window:Ee,v5Compat:!0}));let Ae=Se.current,[Re,Pe]=reactExports.useState({action:Ae.action,location:Ae.location}),{v7_startTransition:Te}=_e||{},Ie=reactExports.useCallback(je=>{Te&&startTransitionImpl?startTransitionImpl(()=>Pe(je)):Pe(je)},[Pe,Te]);return reactExports.useLayoutEffect(()=>Ae.listen(Ie),[Ae,Ie]),reactExports.useEffect(()=>logV6DeprecationWarnings(_e),[_e]),reactExports.createElement(Router,{basename:e,children:xe,location:Re.location,navigationType:Re.action,navigator:Ae,future:_e})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,xe){let{onClick:_e,relative:Ee,reloadDocument:Se,replace:Ae,state:Re,target:Pe,to:Te,preventScrollReset:Ie,viewTransition:je}=e,Oe=_objectWithoutPropertiesLoose$i(e,_excluded$i),{basename:ke}=reactExports.useContext(NavigationContext),Fe,Me=!1;if(typeof Te=="string"&&ABSOLUTE_URL_REGEX.test(Te)&&(Fe=Te,isBrowser$1))try{let We=new URL(window.location.href),Ye=Te.startsWith("//")?new URL(We.protocol+Te):new URL(Te),Xe=stripBasename(Ye.pathname,ke);Ye.origin===We.origin&&Xe!=null?Te=Xe+Ye.search+Ye.hash:Me=!0}catch{}let De=useHref(Te,{relative:Ee}),Ue=useLinkClickHandler(Te,{replace:Ae,state:Re,target:Pe,preventScrollReset:Ie,relative:Ee,viewTransition:je});function ze(We){_e&&_e(We),We.defaultPrevented||Ue(We)}return reactExports.createElement("a",_extends$u({},Oe,{href:Fe||De,onClick:Me||Se?_e:ze,ref:xe,target:Pe}))});var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(t,e){let{target:xe,replace:_e,state:Ee,preventScrollReset:Se,relative:Ae,viewTransition:Re}=e===void 0?{}:e,Pe=useNavigate(),Te=useLocation(),Ie=useResolvedPath(t,{relative:Ae});return reactExports.useCallback(je=>{if(shouldProcessLinkClick(je,xe)){je.preventDefault();let Oe=_e!==void 0?_e:createPath(Te)===createPath(Ie);Pe(t,{replace:Oe,state:Ee,preventScrollReset:Se,relative:Ae,viewTransition:Re})}},[Te,Pe,Ie,_e,Ee,xe,t,Se,Ae,Re])}const MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function useVisualElement(t,e,xe,_e){const{visualElement:Ee}=reactExports.useContext(MotionContext),Se=reactExports.useContext(LazyContext),Ae=reactExports.useContext(PresenceContext),Re=reactExports.useContext(MotionConfigContext).reducedMotion,Pe=reactExports.useRef();_e=_e||Se.renderer,!Pe.current&&_e&&(Pe.current=_e(t,{visualState:e,parent:Ee,props:xe,presenceContext:Ae,blockInitialAnimation:Ae?Ae.initial===!1:!1,reducedMotionConfig:Re}));const Te=Pe.current;reactExports.useInsertionEffect(()=>{Te&&Te.update(xe,Ae)});const Ie=reactExports.useRef(!!(xe[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect$1(()=>{Te&&(Te.render(),Ie.current&&Te.animationState&&Te.animationState.animateChanges())}),reactExports.useEffect(()=>{Te&&(Te.updateFeatures(),!Ie.current&&Te.animationState&&Te.animationState.animateChanges(),Ie.current&&(Ie.current=!1,window.HandoffComplete=!0))}),Te}function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,xe){return reactExports.useCallback(_e=>{_e&&t.mount&&t.mount(_e),e&&(_e?e.mount(_e):e.unmount()),xe&&(typeof xe=="function"?xe(_e):isRefObject(xe)&&(xe.current=_e))},[e])}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:xe,animate:_e}=t;return{initial:xe===!1||isVariantLabel(xe)?xe:void 0,animate:isVariantLabel(_e)?_e:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:xe}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:xe}),[variantLabelsAsDependency(e),variantLabelsAsDependency(xe)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(xe=>!!e[xe])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:t,createVisualElement:e,useRender:xe,useVisualState:_e,Component:Ee}){t&&loadFeatures(t);function Se(Re,Pe){let Te;const Ie={...reactExports.useContext(MotionConfigContext),...Re,layoutId:useLayoutId(Re)},{isStatic:je}=Ie,Oe=useCreateMotionContext(Re),ke=_e(Re,je);if(!je&&isBrowser){Oe.visualElement=useVisualElement(Ee,ke,Ie,e);const Fe=reactExports.useContext(SwitchLayoutGroupContext),Me=reactExports.useContext(LazyContext).strict;Oe.visualElement&&(Te=Oe.visualElement.loadFeatures(Ie,Me,t,Fe))}return reactExports.createElement(MotionContext.Provider,{value:Oe},Te&&Oe.visualElement?reactExports.createElement(Te,{visualElement:Oe.visualElement,...Ie}):null,xe(Ee,Re,useMotionRef(ke,Oe.visualElement,Pe),ke,je,Oe.visualElement))}const Ae=reactExports.forwardRef(Se);return Ae[motionComponentSymbol]=Ee,Ae}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function createMotionProxy(t){function e(_e,Ee={}){return createMotionComponent(t(_e,Ee))}if(typeof Proxy>"u")return e;const xe=new Map;return new Proxy(e,{get:(_e,Ee)=>(xe.has(Ee)||xe.set(Ee,e(Ee)),xe.get(Ee))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/.test(t))}const scaleCorrectors={};function addScaleCorrector(t){Object.assign(scaleCorrectors,t)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(t,{layout:e,layoutId:xe}){return transformProps.has(t)||t.startsWith("origin")||(e||xe!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const isMotionValue=t=>!!(t&&t.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,{enableHardwareAcceleration:e=!0,allowTransformNone:xe=!0},_e,Ee){let Se="";for(let Ae=0;Ae<numTransforms;Ae++){const Re=transformPropOrder[Ae];if(t[Re]!==void 0){const Pe=translateAlias[Re]||Re;Se+=`${Pe}(${t[Re]}) `}}return e&&!t.z&&(Se+="translateZ(0)"),Se=Se.trim(),Ee?Se=Ee(t,_e?"":Se):xe&&_e&&(Se="none"),Se}const checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),cssVariableRegex=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t,clamp$1=(t,e,xe)=>Math.min(Math.max(xe,t),e),number$3={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha$2={...number$3,transform:t=>clamp$1(0,1,t)},scale={...number$3,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(t){return typeof t=="string"}const createUnitType=t=>({test:e=>isString$1(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},int={...number$3,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int};function buildHTMLStyles(t,e,xe,_e){const{style:Ee,vars:Se,transform:Ae,transformOrigin:Re}=t;let Pe=!1,Te=!1,Ie=!0;for(const je in e){const Oe=e[je];if(isCSSVariableName(je)){Se[je]=Oe;continue}const ke=numberValueTypes[je],Fe=getValueAsType(Oe,ke);if(transformProps.has(je)){if(Pe=!0,Ae[je]=Fe,!Ie)continue;Oe!==(ke.default||0)&&(Ie=!1)}else je.startsWith("origin")?(Te=!0,Re[je]=Fe):Ee[je]=Fe}if(e.transform||(Pe||_e?Ee.transform=buildTransform(t.transform,xe,Ie,_e):Ee.transform&&(Ee.transform="none")),Te){const{originX:je="50%",originY:Oe="50%",originZ:ke=0}=Re;Ee.transformOrigin=`${je} ${Oe} ${ke}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,xe){for(const _e in e)!isMotionValue(e[_e])&&!isForcedMotionValue(_e,xe)&&(t[_e]=e[_e])}function useInitialMotionValues({transformTemplate:t},e,xe){return reactExports.useMemo(()=>{const _e=createHtmlRenderState();return buildHTMLStyles(_e,e,{enableHardwareAcceleration:!xe},t),Object.assign({},_e.vars,_e.style)},[e])}function useStyle(t,e,xe){const _e=t.style||{},Ee={};return copyRawValuesOnly(Ee,_e,t),Object.assign(Ee,useInitialMotionValues(t,e,xe)),t.transformValues?t.transformValues(Ee):Ee}function useHTMLProps(t,e,xe){const _e={},Ee=useStyle(t,e,xe);return t.drag&&t.dragListener!==!1&&(_e.draggable=!1,Ee.userSelect=Ee.WebkitUserSelect=Ee.WebkitTouchCallout="none",Ee.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(_e.tabIndex=0),_e.style=Ee,_e}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(t,e,xe){const _e={};for(const Ee in t)Ee==="values"&&typeof t.values=="object"||(shouldForward(Ee)||xe===!0&&isValidMotionProp(Ee)||!e&&!isValidMotionProp(Ee)||t.draggable&&Ee.startsWith("onDrag"))&&(_e[Ee]=t[Ee]);return _e}function calcOrigin$1(t,e,xe){return typeof t=="string"?t:px.transform(e+xe*t)}function calcSVGTransformOrigin(t,e,xe){const _e=calcOrigin$1(e,t.x,t.width),Ee=calcOrigin$1(xe,t.y,t.height);return`${_e} ${Ee}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,xe=1,_e=0,Ee=!0){t.pathLength=1;const Se=Ee?dashKeys:camelKeys;t[Se.offset]=px.transform(-_e);const Ae=px.transform(e),Re=px.transform(xe);t[Se.array]=`${Ae} ${Re}`}function buildSVGAttrs(t,{attrX:e,attrY:xe,attrScale:_e,originX:Ee,originY:Se,pathLength:Ae,pathSpacing:Re=1,pathOffset:Pe=0,...Te},Ie,je,Oe){if(buildHTMLStyles(t,Te,Ie,Oe),je){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:ke,style:Fe,dimensions:Me}=t;ke.transform&&(Me&&(Fe.transform=ke.transform),delete ke.transform),Me&&(Ee!==void 0||Se!==void 0||Fe.transform)&&(Fe.transformOrigin=calcSVGTransformOrigin(Me,Ee!==void 0?Ee:.5,Se!==void 0?Se:.5)),e!==void 0&&(ke.x=e),xe!==void 0&&(ke.y=xe),_e!==void 0&&(ke.scale=_e),Ae!==void 0&&buildSVGPath(ke,Ae,Re,Pe,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,xe,_e){const Ee=reactExports.useMemo(()=>{const Se=createSvgRenderState();return buildSVGAttrs(Se,e,{enableHardwareAcceleration:!1},isSVGTag(_e),t.transformTemplate),{...Se.attrs,style:{...Se.style}}},[e]);if(t.style){const Se={};copyRawValuesOnly(Se,t.style,t),Ee.style={...Se,...Ee.style}}return Ee}function createUseRender(t=!1){return(xe,_e,Ee,{latestValues:Se},Ae)=>{const Pe=(isSVGComponent(xe)?useSVGProps:useHTMLProps)(_e,Se,Ae,xe),Ie={...filterProps$1(_e,typeof xe=="string",t),...Pe,ref:Ee},{children:je}=_e,Oe=reactExports.useMemo(()=>isMotionValue(je)?je.get():je,[je]);return reactExports.createElement(xe,{...Ie,children:Oe})}}function renderHTML(t,{style:e,vars:xe},_e,Ee){Object.assign(t.style,e,Ee&&Ee.getProjectionStyles(_e));for(const Se in xe)t.style.setProperty(Se,xe[Se])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,xe,_e){renderHTML(t,e,void 0,_e);for(const Ee in e.attrs)t.setAttribute(camelCaseAttributes.has(Ee)?Ee:camelToDash(Ee),e.attrs[Ee])}function scrapeMotionValuesFromProps$1(t,e){const{style:xe}=t,_e={};for(const Ee in xe)(isMotionValue(xe[Ee])||e.style&&isMotionValue(e.style[Ee])||isForcedMotionValue(Ee,t))&&(_e[Ee]=xe[Ee]);return _e}function scrapeMotionValuesFromProps(t,e){const xe=scrapeMotionValuesFromProps$1(t,e);for(const _e in t)if(isMotionValue(t[_e])||isMotionValue(e[_e])){const Ee=transformPropOrder.indexOf(_e)!==-1?"attr"+_e.charAt(0).toUpperCase()+_e.substring(1):_e;xe[Ee]=t[_e]}return xe}function resolveVariantFromProps(t,e,xe,_e={},Ee={}){return typeof e=="function"&&(e=e(xe!==void 0?xe:t.custom,_e,Ee)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(xe!==void 0?xe:t.custom,_e,Ee)),e}function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const e=isMotionValue(t)?t.get():t;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:xe},_e,Ee,Se){const Ae={latestValues:makeLatestValues(_e,Ee,Se,t),renderState:e()};return xe&&(Ae.mount=Re=>xe(_e,Re,Ae)),Ae}const makeUseVisualState=t=>(e,xe)=>{const _e=reactExports.useContext(MotionContext),Ee=reactExports.useContext(PresenceContext),Se=()=>makeState(t,e,_e,Ee);return xe?Se():useConstant(Se)};function makeLatestValues(t,e,xe,_e){const Ee={},Se=_e(t,{});for(const Oe in Se)Ee[Oe]=resolveMotionValue(Se[Oe]);let{initial:Ae,animate:Re}=t;const Pe=isControllingVariants(t),Te=isVariantNode(t);e&&Te&&!Pe&&t.inherit!==!1&&(Ae===void 0&&(Ae=e.initial),Re===void 0&&(Re=e.animate));let Ie=xe?xe.initial===!1:!1;Ie=Ie||Ae===!1;const je=Ie?Re:Ae;return je&&typeof je!="boolean"&&!isAnimationControls(je)&&(Array.isArray(je)?je:[je]).forEach(ke=>{const Fe=resolveVariantFromProps(t,ke);if(!Fe)return;const{transitionEnd:Me,transition:De,...Ue}=Fe;for(const ze in Ue){let We=Ue[ze];if(Array.isArray(We)){const Ye=Ie?We.length-1:0;We=We[Ye]}We!==null&&(Ee[ze]=We)}for(const ze in Me)Ee[ze]=Me[ze]}),Ee}const noop$3=t=>t;class Queue{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const xe=this.order.indexOf(e);xe!==-1&&(this.order.splice(xe,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(t){let e=new Queue,xe=new Queue,_e=0,Ee=!1,Se=!1;const Ae=new WeakSet,Re={schedule:(Pe,Te=!1,Ie=!1)=>{const je=Ie&&Ee,Oe=je?e:xe;return Te&&Ae.add(Pe),Oe.add(Pe)&&je&&Ee&&(_e=e.order.length),Pe},cancel:Pe=>{xe.remove(Pe),Ae.delete(Pe)},process:Pe=>{if(Ee){Se=!0;return}if(Ee=!0,[e,xe]=[xe,e],xe.clear(),_e=e.order.length,_e)for(let Te=0;Te<_e;Te++){const Ie=e.order[Te];Ie(Pe),Ae.has(Ie)&&(Re.schedule(Ie),t())}Ee=!1,Se&&(Se=!1,Re.process(Pe))}};return Re}const stepsOrder=["prepare","read","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(t,e){let xe=!1,_e=!0;const Ee={delta:0,timestamp:0,isProcessing:!1},Se=stepsOrder.reduce((je,Oe)=>(je[Oe]=createRenderStep(()=>xe=!0),je),{}),Ae=je=>Se[je].process(Ee),Re=()=>{const je=performance.now();xe=!1,Ee.delta=_e?1e3/60:Math.max(Math.min(je-Ee.timestamp,maxElapsed),1),Ee.timestamp=je,Ee.isProcessing=!0,stepsOrder.forEach(Ae),Ee.isProcessing=!1,xe&&e&&(_e=!1,t(Re))},Pe=()=>{xe=!0,_e=!0,Ee.isProcessing||t(Re)};return{schedule:stepsOrder.reduce((je,Oe)=>{const ke=Se[Oe];return je[Oe]=(Fe,Me=!1,De=!1)=>(xe||Pe(),ke.schedule(Fe,Me,De)),je},{}),cancel:je=>stepsOrder.forEach(Oe=>Se[Oe].cancel(je)),state:Ee,steps:Se}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$3,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(t,e,{renderState:xe,latestValues:_e})=>{frame.read(()=>{try{xe.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{xe.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(xe,_e,{enableHardwareAcceleration:!1},isSVGTag(e.tagName),t.transformTemplate),renderSVG(e,xe)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(t,{forwardMotionProps:e=!1},xe,_e){return{...isSVGComponent(t)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:xe,useRender:createUseRender(e),createVisualElement:_e,Component:t}}function addDomEvent(t,e,xe,_e={passive:!0}){return t.addEventListener(e,xe,_e),()=>t.removeEventListener(e,xe)}const isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function extractEventInfo(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,xe,_e){return addDomEvent(t,e,addPointerInfo(xe),_e)}const combineFunctions=(t,e)=>xe=>e(t(xe)),pipe=(...t)=>t.reduce(combineFunctions);function createLock(t){let e=null;return()=>{const xe=()=>{e=null};return e===null?(e=t,xe):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(t){let e=!1;if(t==="y")e=globalVerticalLock();else if(t==="x")e=globalHorizontalLock();else{const xe=globalHorizontalLock(),_e=globalVerticalLock();xe&&_e?e=()=>{xe(),_e()}:(xe&&xe(),_e&&_e())}return e}function isDragActive(){const t=getGlobalLock(!0);return t?(t(),!1):!0}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}function addHoverEvent(t,e){const xe="pointer"+(e?"enter":"leave"),_e="onHover"+(e?"Start":"End"),Ee=(Se,Ae)=>{if(Se.pointerType==="touch"||isDragActive())return;const Re=t.getProps();t.animationState&&Re.whileHover&&t.animationState.setActive("whileHover",e),Re[_e]&&frame.update(()=>Re[_e](Se,Ae))};return addPointerEvent(t.current,xe,Ee,{passive:!t.getProps()[_e]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1;function fireSyntheticPointerEvent(t,e){if(!e)return;const xe=new PointerEvent("pointer"+t);e(xe,extractEventInfo(xe))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$3,this.removeEndListeners=noop$3,this.removeAccessibleListeners=noop$3,this.startPointerPress=(e,xe)=>{if(this.isPressing)return;this.removeEndListeners();const _e=this.node.getProps(),Se=addPointerEvent(window,"pointerup",(Re,Pe)=>{if(!this.checkPressEnd())return;const{onTap:Te,onTapCancel:Ie,globalTapTarget:je}=this.node.getProps();frame.update(()=>{!je&&!isNodeOrChild(this.node.current,Re.target)?Ie&&Ie(Re,Pe):Te&&Te(Re,Pe)})},{passive:!(_e.onTap||_e.onPointerUp)}),Ae=addPointerEvent(window,"pointercancel",(Re,Pe)=>this.cancelPress(Re,Pe),{passive:!(_e.onTapCancel||_e.onPointerCancel)});this.removeEndListeners=pipe(Se,Ae),this.startPress(e,xe)},this.startAccessiblePress=()=>{const e=Se=>{if(Se.key!=="Enter"||this.isPressing)return;const Ae=Re=>{Re.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(Pe,Te)=>{const{onTap:Ie}=this.node.getProps();Ie&&frame.update(()=>Ie(Pe,Te))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Ae),fireSyntheticPointerEvent("down",(Re,Pe)=>{this.startPress(Re,Pe)})},xe=addDomEvent(this.node.current,"keydown",e),_e=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(Se,Ae)=>this.cancelPress(Se,Ae))},Ee=addDomEvent(this.node.current,"blur",_e);this.removeAccessibleListeners=pipe(xe,Ee)}}startPress(e,xe){this.isPressing=!0;const{onTapStart:_e,whileTap:Ee}=this.node.getProps();Ee&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),_e&&frame.update(()=>_e(e,xe))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,xe){if(!this.checkPressEnd())return;const{onTapCancel:_e}=this.node.getProps();_e&&frame.update(()=>_e(e,xe))}mount(){const e=this.node.getProps(),xe=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),_e=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(xe,_e)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const xe=t||document;observers.has(xe)||observers.set(xe,{});const _e=observers.get(xe),Ee=JSON.stringify(e);return _e[Ee]||(_e[Ee]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),_e[Ee]}function observeIntersection(t,e,xe){const _e=initIntersectionObserver(e);return observerCallbacks.set(t,xe),_e.observe(t),()=>{observerCallbacks.delete(t),_e.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:xe,margin:_e,amount:Ee="some",once:Se}=e,Ae={root:xe?xe.current:void 0,rootMargin:_e,threshold:typeof Ee=="number"?Ee:thresholdNames[Ee]},Re=Pe=>{const{isIntersecting:Te}=Pe;if(this.isInView===Te||(this.isInView=Te,Se&&!Te&&this.hasEnteredView))return;Te&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Te);const{onViewportEnter:Ie,onViewportLeave:je}=this.node.getProps(),Oe=Te?Ie:je;Oe&&Oe(Pe)};return observeIntersection(this.node.current,Ae,Re)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:xe}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,xe))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return xe=>t[xe]!==e[xe]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(t,e){if(!Array.isArray(e))return!1;const xe=e.length;if(xe!==t.length)return!1;for(let _e=0;_e<xe;_e++)if(e[_e]!==t[_e])return!1;return!0}function getCurrent(t){const e={};return t.values.forEach((xe,_e)=>e[_e]=xe.get()),e}function getVelocity$1(t){const e={};return t.values.forEach((xe,_e)=>e[_e]=xe.getVelocity()),e}function resolveVariant(t,e,xe){const _e=t.getProps();return resolveVariantFromProps(_e,e,xe!==void 0?xe:_e.custom,getCurrent(t),getVelocity$1(t))}let invariant$1=noop$3;const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3,instantAnimationState={current:!1},isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number";function isWaapiSupportedEasing(t){return!!(!t||typeof t=="string"&&supportedWaapiEasing[t]||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,e,xe,_e])=>`cubic-bezier(${t}, ${e}, ${xe}, ${_e})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t){if(t)return isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(mapEasingToNativeEasing):supportedWaapiEasing[t]}function animateStyle(t,e,xe,{delay:_e=0,duration:Ee,repeat:Se=0,repeatType:Ae="loop",ease:Re,times:Pe}={}){const Te={[e]:xe};Pe&&(Te.offset=Pe);const Ie=mapEasingToNativeEasing(Re);return Array.isArray(Ie)&&(Te.easing=Ie),t.animate(Te,{delay:_e,duration:Ee,easing:Array.isArray(Ie)?"linear":Ie,fill:"both",iterations:Se+1,direction:Ae==="reverse"?"alternate":"normal"})}function getFinalKeyframe(t,{repeat:e,repeatType:xe="loop"}){const _e=e&&xe!=="loop"&&e%2===1?0:t.length-1;return t[_e]}const calcBezier=(t,e,xe)=>(((1-3*xe+3*e)*t+(3*xe-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,xe,_e,Ee){let Se,Ae,Re=0;do Ae=e+(xe-e)/2,Se=calcBezier(Ae,_e,Ee)-t,Se>0?xe=Ae:e=Ae;while(Math.abs(Se)>subdivisionPrecision&&++Re<subdivisionMaxIterations);return Ae}function cubicBezier$1(t,e,xe,_e){if(t===e&&xe===_e)return noop$3;const Ee=Se=>binarySubdivide(Se,0,1,t,xe);return Se=>Se===0||Se===1?Se:calcBezier(Ee(Se),e,_e)}const easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),easingLookup={linear:noop$3,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=t=>{if(Array.isArray(t)){invariant$1(t.length===4);const[e,xe,_e,Ee]=t;return cubicBezier$1(e,xe,_e,Ee)}else if(typeof t=="string")return easingLookup[t];return t},isColorString=(t,e)=>xe=>!!(isString$1(xe)&&singleColorRegex.test(xe)&&xe.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(xe,e)),splitColor=(t,e,xe)=>_e=>{if(!isString$1(_e))return _e;const[Ee,Se,Ae,Re]=_e.match(floatRegex);return{[t]:parseFloat(Ee),[e]:parseFloat(Se),[xe]:parseFloat(Ae),alpha:Re!==void 0?parseFloat(Re):1}},clampRgbUnit=t=>clamp$1(0,255,t),rgbUnit={...number$3,transform:t=>Math.round(clampRgbUnit(t))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:xe,alpha:_e=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(xe)+", "+sanitize(alpha$2.transform(_e))+")"};function parseHex(t){let e="",xe="",_e="",Ee="";return t.length>5?(e=t.substring(1,3),xe=t.substring(3,5),_e=t.substring(5,7),Ee=t.substring(7,9)):(e=t.substring(1,2),xe=t.substring(2,3),_e=t.substring(3,4),Ee=t.substring(4,5),e+=e,xe+=xe,_e+=_e,Ee+=Ee),{red:parseInt(e,16),green:parseInt(xe,16),blue:parseInt(_e,16),alpha:Ee?parseInt(Ee,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:xe,alpha:_e=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(xe))+", "+sanitize(alpha$2.transform(_e))+")"},color$2={test:t=>rgba$1.test(t)||hex$2.test(t)||hsla$1.test(t),parse:t=>rgba$1.test(t)?rgba$1.parse(t):hsla$1.test(t)?hsla$1.parse(t):hex$2.parse(t),transform:t=>isString$1(t)?t:t.hasOwnProperty("red")?rgba$1.transform(t):hsla$1.transform(t)},mix=(t,e,xe)=>-xe*t+xe*e+t;function hueToRgb(t,e,xe){return xe<0&&(xe+=1),xe>1&&(xe-=1),xe<1/6?t+(e-t)*6*xe:xe<1/2?e:xe<2/3?t+(e-t)*(2/3-xe)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:xe,alpha:_e}){t/=360,e/=100,xe/=100;let Ee=0,Se=0,Ae=0;if(!e)Ee=Se=Ae=xe;else{const Re=xe<.5?xe*(1+e):xe+e-xe*e,Pe=2*xe-Re;Ee=hueToRgb(Pe,Re,t+1/3),Se=hueToRgb(Pe,Re,t),Ae=hueToRgb(Pe,Re,t-1/3)}return{red:Math.round(Ee*255),green:Math.round(Se*255),blue:Math.round(Ae*255),alpha:_e}}const mixLinearColor=(t,e,xe)=>{const _e=t*t;return Math.sqrt(Math.max(0,xe*(e*e-_e)+_e))},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);let xe=e.parse(t);return e===hsla$1&&(xe=hslaToRgba(xe)),xe}const mixColor=(t,e)=>{const xe=asRGBA(t),_e=asRGBA(e),Ee={...xe};return Se=>(Ee.red=mixLinearColor(xe.red,_e.red,Se),Ee.green=mixLinearColor(xe.green,_e.green,Se),Ee.blue=mixLinearColor(xe.blue,_e.blue,Se),Ee.alpha=mix(xe.alpha,_e.alpha,Se),rgba$1.transform(Ee))};function test(t){var e,xe;return isNaN(t)&&isString$1(t)&&(((e=t.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((xe=t.match(colorRegex))===null||xe===void 0?void 0:xe.length)||0)>0}const cssVarTokeniser={regex:cssVariableRegex,countKey:"Vars",token:"${v}",parse:noop$3},colorTokeniser={regex:colorRegex,countKey:"Colors",token:"${c}",parse:color$2.parse},numberTokeniser={regex:floatRegex,countKey:"Numbers",token:"${n}",parse:number$3.parse};function tokenise(t,{regex:e,countKey:xe,token:_e,parse:Ee}){const Se=t.tokenised.match(e);Se&&(t["num"+xe]=Se.length,t.tokenised=t.tokenised.replace(e,_e),t.values.push(...Se.map(Ee)))}function analyseComplexValue(t){const e=t.toString(),xe={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return xe.value.includes("var(--")&&tokenise(xe,cssVarTokeniser),tokenise(xe,colorTokeniser),tokenise(xe,numberTokeniser),xe}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{values:e,numColors:xe,numVars:_e,tokenised:Ee}=analyseComplexValue(t),Se=e.length;return Ae=>{let Re=Ee;for(let Pe=0;Pe<Se;Pe++)Pe<_e?Re=Re.replace(cssVarTokeniser.token,Ae[Pe]):Pe<_e+xe?Re=Re.replace(colorTokeniser.token,color$2.transform(Ae[Pe])):Re=Re.replace(numberTokeniser.token,sanitize(Ae[Pe]));return Re}}const convertNumbersToZero=t=>typeof t=="number"?0:t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(t,e)=>xe=>`${xe>0?e:t}`;function getMixer(t,e){return typeof t=="number"?xe=>mix(t,e,xe):color$2.test(t)?mixColor(t,e):t.startsWith("var(")?mixImmediate(t,e):mixComplex(t,e)}const mixArray=(t,e)=>{const xe=[...t],_e=xe.length,Ee=t.map((Se,Ae)=>getMixer(Se,e[Ae]));return Se=>{for(let Ae=0;Ae<_e;Ae++)xe[Ae]=Ee[Ae](Se);return xe}},mixObject=(t,e)=>{const xe={...t,...e},_e={};for(const Ee in xe)t[Ee]!==void 0&&e[Ee]!==void 0&&(_e[Ee]=getMixer(t[Ee],e[Ee]));return Ee=>{for(const Se in _e)xe[Se]=_e[Se](Ee);return xe}},mixComplex=(t,e)=>{const xe=complex.createTransformer(e),_e=analyseComplexValue(t),Ee=analyseComplexValue(e);return _e.numVars===Ee.numVars&&_e.numColors===Ee.numColors&&_e.numNumbers>=Ee.numNumbers?pipe(mixArray(_e.values,Ee.values),xe):mixImmediate(t,e)},progress=(t,e,xe)=>{const _e=e-t;return _e===0?1:(xe-t)/_e},mixNumber=(t,e)=>xe=>mix(t,e,xe);function detectMixerFactory(t){return typeof t=="number"?mixNumber:typeof t=="string"?color$2.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?mixObject:mixNumber}function createMixers(t,e,xe){const _e=[],Ee=xe||detectMixerFactory(t[0]),Se=t.length-1;for(let Ae=0;Ae<Se;Ae++){let Re=Ee(t[Ae],t[Ae+1]);if(e){const Pe=Array.isArray(e)?e[Ae]||noop$3:e;Re=pipe(Pe,Re)}_e.push(Re)}return _e}function interpolate$3(t,e,{clamp:xe=!0,ease:_e,mixer:Ee}={}){const Se=t.length;if(invariant$1(Se===e.length),Se===1)return()=>e[0];t[0]>t[Se-1]&&(t=[...t].reverse(),e=[...e].reverse());const Ae=createMixers(e,_e,Ee),Re=Ae.length,Pe=Te=>{let Ie=0;if(Re>1)for(;Ie<t.length-2&&!(Te<t[Ie+1]);Ie++);const je=progress(t[Ie],t[Ie+1],Te);return Ae[Ie](je)};return xe?Te=>Pe(clamp$1(t[0],t[Se-1],Te)):Pe}function fillOffset(t,e){const xe=t[t.length-1];for(let _e=1;_e<=e;_e++){const Ee=progress(0,e,_e);t.push(mix(xe,1,Ee))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(xe=>xe*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:xe,ease:_e="easeInOut"}){const Ee=isEasingArray(_e)?_e.map(easingDefinitionToFunction):easingDefinitionToFunction(_e),Se={done:!1,value:e[0]},Ae=convertOffsetToTimes(xe&&xe.length===e.length?xe:defaultOffset(e),t),Re=interpolate$3(Ae,e,{ease:Array.isArray(Ee)?Ee:defaultEasing(e,Ee)});return{calculatedDuration:t,next:Pe=>(Se.value=Re(Pe),Se.done=Pe>=t,Se)}}function velocityPerSecond(t,e){return e?t*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,xe){const _e=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(xe-t(_e),e-_e)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:t=800,bounce:e=.25,velocity:xe=0,mass:_e=1}){let Ee,Se,Ae=1-e;Ae=clamp$1(minDamping,maxDamping,Ae),t=clamp$1(minDuration,maxDuration$1,millisecondsToSeconds(t)),Ae<1?(Ee=Te=>{const Ie=Te*Ae,je=Ie*t,Oe=Ie-xe,ke=calcAngularFreq(Te,Ae),Fe=Math.exp(-je);return safeMin-Oe/ke*Fe},Se=Te=>{const je=Te*Ae*t,Oe=je*xe+xe,ke=Math.pow(Ae,2)*Math.pow(Te,2)*t,Fe=Math.exp(-je),Me=calcAngularFreq(Math.pow(Te,2),Ae);return(-Ee(Te)+safeMin>0?-1:1)*((Oe-ke)*Fe)/Me}):(Ee=Te=>{const Ie=Math.exp(-Te*t),je=(Te-xe)*t+1;return-.001+Ie*je},Se=Te=>{const Ie=Math.exp(-Te*t),je=(xe-Te)*(t*t);return Ie*je});const Re=5/t,Pe=approximateRoot(Ee,Se,Re);if(t=secondsToMilliseconds(t),isNaN(Pe))return{stiffness:100,damping:10,duration:t};{const Te=Math.pow(Pe,2)*_e;return{stiffness:Te,damping:Ae*2*Math.sqrt(_e*Te),duration:t}}}const rootIterations=12;function approximateRoot(t,e,xe){let _e=xe;for(let Ee=1;Ee<rootIterations;Ee++)_e=_e-t(_e)/e(_e);return _e}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(xe=>t[xe]!==void 0)}function getSpringOptions(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys)){const xe=findSpring(t);e={...e,...xe,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:t,restDelta:e,restSpeed:xe,..._e}){const Ee=t[0],Se=t[t.length-1],Ae={done:!1,value:Ee},{stiffness:Re,damping:Pe,mass:Te,duration:Ie,velocity:je,isResolvedFromDuration:Oe}=getSpringOptions({..._e,velocity:-millisecondsToSeconds(_e.velocity||0)}),ke=je||0,Fe=Pe/(2*Math.sqrt(Re*Te)),Me=Se-Ee,De=millisecondsToSeconds(Math.sqrt(Re/Te)),Ue=Math.abs(Me)<5;xe||(xe=Ue?.01:2),e||(e=Ue?.005:.5);let ze;if(Fe<1){const We=calcAngularFreq(De,Fe);ze=Ye=>{const Xe=Math.exp(-Fe*De*Ye);return Se-Xe*((ke+Fe*De*Me)/We*Math.sin(We*Ye)+Me*Math.cos(We*Ye))}}else if(Fe===1)ze=We=>Se-Math.exp(-De*We)*(Me+(ke+De*Me)*We);else{const We=De*Math.sqrt(Fe*Fe-1);ze=Ye=>{const Xe=Math.exp(-Fe*De*Ye),ir=Math.min(We*Ye,300);return Se-Xe*((ke+Fe*De*Me)*Math.sinh(ir)+We*Me*Math.cosh(ir))/We}}return{calculatedDuration:Oe&&Ie||null,next:We=>{const Ye=ze(We);if(Oe)Ae.done=We>=Ie;else{let Xe=ke;We!==0&&(Fe<1?Xe=calcGeneratorVelocity(ze,We,Ye):Xe=0);const ir=Math.abs(Xe)<=xe,Qe=Math.abs(Se-Ye)<=e;Ae.done=ir&&Qe}return Ae.value=Ae.done?Se:Ye,Ae}}}function inertia({keyframes:t,velocity:e=0,power:xe=.8,timeConstant:_e=325,bounceDamping:Ee=10,bounceStiffness:Se=500,modifyTarget:Ae,min:Re,max:Pe,restDelta:Te=.5,restSpeed:Ie}){const je=t[0],Oe={done:!1,value:je},ke=Ke=>Re!==void 0&&Ke<Re||Pe!==void 0&&Ke>Pe,Fe=Ke=>Re===void 0?Pe:Pe===void 0||Math.abs(Re-Ke)<Math.abs(Pe-Ke)?Re:Pe;let Me=xe*e;const De=je+Me,Ue=Ae===void 0?De:Ae(De);Ue!==De&&(Me=Ue-je);const ze=Ke=>-Me*Math.exp(-Ke/_e),We=Ke=>Ue+ze(Ke),Ye=Ke=>{const rr=ze(Ke),cr=We(Ke);Oe.done=Math.abs(rr)<=Te,Oe.value=Oe.done?Ue:cr};let Xe,ir;const Qe=Ke=>{ke(Oe.value)&&(Xe=Ke,ir=spring({keyframes:[Oe.value,Fe(Oe.value)],velocity:calcGeneratorVelocity(We,Ke,Oe.value),damping:Ee,stiffness:Se,restDelta:Te,restSpeed:Ie}))};return Qe(0),{calculatedDuration:null,next:Ke=>{let rr=!1;return!ir&&Xe===void 0&&(rr=!0,Ye(Ke),Qe(Ke)),Xe!==void 0&&Ke>Xe?ir.next(Ke-Xe):(!rr&&Ye(Ke),Oe)}}}const frameloopDriver=t=>{const e=({timestamp:xe})=>t(xe);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const xe=50;let _e=t.next(e);for(;!_e.done&&e<maxGeneratorDuration;)e+=xe,_e=t.next(e);return e>=maxGeneratorDuration?1/0:e}const types={decay:inertia,inertia,tween:keyframes,keyframes,spring};function animateValue({autoplay:t=!0,delay:e=0,driver:xe=frameloopDriver,keyframes:_e,type:Ee="keyframes",repeat:Se=0,repeatDelay:Ae=0,repeatType:Re="loop",onPlay:Pe,onStop:Te,onComplete:Ie,onUpdate:je,...Oe}){let ke=1,Fe=!1,Me,De;const Ue=()=>{De=new Promise(wr=>{Me=wr})};Ue();let ze;const We=types[Ee]||keyframes;let Ye;We!==keyframes&&typeof _e[0]!="number"&&(Ye=interpolate$3([0,100],_e,{clamp:!1}),_e=[0,100]);const Xe=We({...Oe,keyframes:_e});let ir;Re==="mirror"&&(ir=We({...Oe,keyframes:[..._e].reverse(),velocity:-(Oe.velocity||0)}));let Qe="idle",Ke=null,rr=null,cr=null;Xe.calculatedDuration===null&&Se&&(Xe.calculatedDuration=calcGeneratorDuration(Xe));const{calculatedDuration:Ze}=Xe;let er=1/0,sr=1/0;Ze!==null&&(er=Ze+Ae,sr=er*(Se+1)-Ae);let fr=0;const _r=wr=>{if(rr===null)return;ke>0&&(rr=Math.min(rr,wr)),ke<0&&(rr=Math.min(wr-sr/ke,rr)),Ke!==null?fr=Ke:fr=Math.round(wr-rr)*ke;const or=fr-e*(ke>=0?1:-1),hr=ke>=0?or<0:or>sr;fr=Math.max(or,0),Qe==="finished"&&Ke===null&&(fr=sr);let br=fr,Ir=Xe;if(Se){const Or=Math.min(fr,sr)/er;let Xr=Math.floor(Or),Qr=Or%1;!Qr&&Or>=1&&(Qr=1),Qr===1&&Xr--,Xr=Math.min(Xr,Se+1),!!(Xr%2)&&(Re==="reverse"?(Qr=1-Qr,Ae&&(Qr-=Ae/er)):Re==="mirror"&&(Ir=ir)),br=clamp$1(0,1,Qr)*er}const jr=hr?{done:!1,value:_e[0]}:Ir.next(br);Ye&&(jr.value=Ye(jr.value));let{done:Mr}=jr;!hr&&Ze!==null&&(Mr=ke>=0?fr>=sr:fr<=0);const Vr=Ke===null&&(Qe==="finished"||Qe==="running"&&Mr);return je&&je(jr.value),Vr&&mr(),jr},Er=()=>{ze&&ze.stop(),ze=void 0},yr=()=>{Qe="idle",Er(),Me(),Ue(),rr=cr=null},mr=()=>{Qe="finished",Ie&&Ie(),Er(),Me()},Pr=()=>{if(Fe)return;ze||(ze=xe(_r));const wr=ze.now();Pe&&Pe(),Ke!==null?rr=wr-Ke:(!rr||Qe==="finished")&&(rr=wr),Qe==="finished"&&Ue(),cr=rr,Ke=null,Qe="running",ze.start()};t&&Pr();const Cr={then(wr,or){return De.then(wr,or)},get time(){return millisecondsToSeconds(fr)},set time(wr){wr=secondsToMilliseconds(wr),fr=wr,Ke!==null||!ze||ke===0?Ke=wr:rr=ze.now()-wr/ke},get duration(){const wr=Xe.calculatedDuration===null?calcGeneratorDuration(Xe):Xe.calculatedDuration;return millisecondsToSeconds(wr)},get speed(){return ke},set speed(wr){wr===ke||!ze||(ke=wr,Cr.time=millisecondsToSeconds(fr))},get state(){return Qe},play:Pr,pause:()=>{Qe="paused",Ke=fr},stop:()=>{Fe=!0,Qe!=="idle"&&(Qe="idle",Te&&Te(),yr())},cancel:()=>{cr!==null&&_r(cr),yr()},complete:()=>{Qe="finished"},sample:wr=>(rr=0,_r(wr))};return Cr}function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(t,e)=>e.type==="spring"||t==="backgroundColor"||!isWaapiSupportedEasing(e.ease);function createAcceleratedAnimation(t,e,{onUpdate:xe,onComplete:_e,...Ee}){if(!(supportsWaapi()&&acceleratedValues.has(e)&&!Ee.repeatDelay&&Ee.repeatType!=="mirror"&&Ee.damping!==0&&Ee.type!=="inertia"))return!1;let Ae=!1,Re,Pe,Te=!1;const Ie=()=>{Pe=new Promise(We=>{Re=We})};Ie();let{keyframes:je,duration:Oe=300,ease:ke,times:Fe}=Ee;if(requiresPregeneratedKeyframes(e,Ee)){const We=animateValue({...Ee,repeat:0,delay:0});let Ye={done:!1,value:je[0]};const Xe=[];let ir=0;for(;!Ye.done&&ir<maxDuration;)Ye=We.sample(ir),Xe.push(Ye.value),ir+=sampleDelta;Fe=void 0,je=Xe,Oe=ir-sampleDelta,ke="linear"}const Me=animateStyle(t.owner.current,e,je,{...Ee,duration:Oe,ease:ke,times:Fe}),De=()=>{Te=!1,Me.cancel()},Ue=()=>{Te=!0,frame.update(De),Re(),Ie()};return Me.onfinish=()=>{Te||(t.set(getFinalKeyframe(je,Ee)),_e&&_e(),Ue())},{then(We,Ye){return Pe.then(We,Ye)},attachTimeline(We){return Me.timeline=We,Me.onfinish=null,noop$3},get time(){return millisecondsToSeconds(Me.currentTime||0)},set time(We){Me.currentTime=secondsToMilliseconds(We)},get speed(){return Me.playbackRate},set speed(We){Me.playbackRate=We},get duration(){return millisecondsToSeconds(Oe)},play:()=>{Ae||(Me.play(),cancelFrame(De))},pause:()=>Me.pause(),stop:()=>{if(Ae=!0,Me.playState==="idle")return;const{currentTime:We}=Me;if(We){const Ye=animateValue({...Ee,autoplay:!1});t.setWithVelocity(Ye.sample(We-sampleDelta).value,Ye.sample(We).value,sampleDelta)}Ue()},complete:()=>{Te||Me.finish()},cancel:Ue}}function createInstantAnimation({keyframes:t,delay:e,onUpdate:xe,onComplete:_e}){const Ee=()=>(xe&&xe(t[t.length-1]),_e&&_e(),{time:0,speed:1,duration:0,play:noop$3,pause:noop$3,stop:noop$3,then:Se=>(Se(),Promise.resolve()),cancel:noop$3,complete:noop$3});return e?animateValue({keyframes:[0,1],duration:0,delay:e,onComplete:Ee}):Ee()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease,isAnimatable=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,xe]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[_e]=xe.match(floatRegex)||[];if(!_e)return t;const Ee=xe.replace(_e,"");let Se=maxDefaults.has(e)?1:0;return _e!==xe&&(Se*=100),e+"("+Se+Ee+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},defaultValueTypes={...numberValueTypes,color:color$2,backgroundColor:color$2,outlineColor:color$2,fill:color$2,stroke:color$2,borderColor:color$2,borderTopColor:color$2,borderRightColor:color$2,borderBottomColor:color$2,borderLeftColor:color$2,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let xe=getDefaultValueType(t);return xe!==filter&&(xe=complex),xe.getAnimatableNone?xe.getAnimatableNone(e):void 0}const isZeroValueString=t=>/^0[^.\s]+$/.test(t);function isNone(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||isZeroValueString(t)}function getKeyframes(t,e,xe,_e){const Ee=isAnimatable(e,xe);let Se;Array.isArray(xe)?Se=[...xe]:Se=[null,xe];const Ae=_e.from!==void 0?_e.from:t.get();let Re;const Pe=[];for(let Te=0;Te<Se.length;Te++)Se[Te]===null&&(Se[Te]=Te===0?Ae:Se[Te-1]),isNone(Se[Te])&&Pe.push(Te),typeof Se[Te]=="string"&&Se[Te]!=="none"&&Se[Te]!=="0"&&(Re=Se[Te]);if(Ee&&Pe.length&&Re)for(let Te=0;Te<Pe.length;Te++){const Ie=Pe[Te];Se[Ie]=getAnimatableNone(e,Re)}return Se}function isTransitionDefined({when:t,delay:e,delayChildren:xe,staggerChildren:_e,staggerDirection:Ee,repeat:Se,repeatType:Ae,repeatDelay:Re,from:Pe,elapsed:Te,...Ie}){return!!Object.keys(Ie).length}function getValueTransition(t,e){return t[e]||t.default||t}const MotionGlobalConfig={skipAnimations:!1},animateMotionValue=(t,e,xe,_e={})=>Ee=>{const Se=getValueTransition(_e,t)||{},Ae=Se.delay||_e.delay||0;let{elapsed:Re=0}=_e;Re=Re-secondsToMilliseconds(Ae);const Pe=getKeyframes(e,t,xe,Se),Te=Pe[0],Ie=Pe[Pe.length-1],je=isAnimatable(t,Te),Oe=isAnimatable(t,Ie);let ke={keyframes:Pe,velocity:e.getVelocity(),ease:"easeOut",...Se,delay:-Re,onUpdate:Fe=>{e.set(Fe),Se.onUpdate&&Se.onUpdate(Fe)},onComplete:()=>{Ee(),Se.onComplete&&Se.onComplete()}};if(isTransitionDefined(Se)||(ke={...ke,...getDefaultTransition(t,ke)}),ke.duration&&(ke.duration=secondsToMilliseconds(ke.duration)),ke.repeatDelay&&(ke.repeatDelay=secondsToMilliseconds(ke.repeatDelay)),!je||!Oe||instantAnimationState.current||Se.type===!1||MotionGlobalConfig.skipAnimations)return createInstantAnimation(ke);if(!_e.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const Fe=createAcceleratedAnimation(e,t,ke);if(Fe)return Fe}return animateValue(ke)};function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}const isNumericalString=t=>/^\-?\d*\.?\d+$/.test(t);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const xe=t.indexOf(e);xe>-1&&t.splice(xe,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,xe,_e){const Ee=this.subscriptions.length;if(Ee)if(Ee===1)this.subscriptions[0](e,xe,_e);else for(let Se=0;Se<Ee;Se++){const Ae=this.subscriptions[Se];Ae&&Ae(e,xe,_e)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,xe={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(_e,Ee=!0)=>{this.prev=this.current,this.current=_e;const{delta:Se,timestamp:Ae}=frameData;this.lastUpdated!==Ae&&(this.timeDelta=Se,this.lastUpdated=Ae,frame.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),Ee&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>frame.postRender(this.velocityCheck),this.velocityCheck=({timestamp:_e})=>{_e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=isFloat(this.current),this.owner=xe.owner}onChange(e){return this.on("change",e)}on(e,xe){this.events[e]||(this.events[e]=new SubscriptionManager);const _e=this.events[e].add(xe);return e==="change"?()=>{_e(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:_e}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,xe){this.passiveEffect=e,this.stopPassiveEffect=xe}set(e,xe=!0){!xe||!this.passiveEffect?this.updateAndNotify(e,xe):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,xe,_e){this.set(xe),this.prev=e,this.timeDelta=_e}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(xe=>{this.hasAnimated=!0,this.animation=e(xe),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const testValueType=t=>e=>e.test(t),auto={test:t=>t==="auto",parse:t=>t},dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t)),valueTypes=[...dimensionValueTypes,color$2,complex],findValueType=t=>valueTypes.find(testValueType(t));function setMotionValue(t,e,xe){t.hasValue(e)?t.getValue(e).set(xe):t.addValue(e,motionValue(xe))}function setTarget(t,e){const xe=resolveVariant(t,e);let{transitionEnd:_e={},transition:Ee={},...Se}=xe?t.makeTargetAnimatable(xe,!1):{};Se={...Se,..._e};for(const Ae in Se){const Re=resolveFinalValueInKeyframes(Se[Ae]);setMotionValue(t,Ae,Re)}}function checkTargetForNewValues(t,e,xe){var _e,Ee;const Se=Object.keys(e).filter(Re=>!t.hasValue(Re)),Ae=Se.length;if(Ae)for(let Re=0;Re<Ae;Re++){const Pe=Se[Re],Te=e[Pe];let Ie=null;Array.isArray(Te)&&(Ie=Te[0]),Ie===null&&(Ie=(Ee=(_e=xe[Pe])!==null&&_e!==void 0?_e:t.readValue(Pe))!==null&&Ee!==void 0?Ee:e[Pe]),Ie!=null&&(typeof Ie=="string"&&(isNumericalString(Ie)||isZeroValueString(Ie))?Ie=parseFloat(Ie):!findValueType(Ie)&&complex.test(Te)&&(Ie=getAnimatableNone(Pe,Te)),t.addValue(Pe,motionValue(Ie,{owner:t})),xe[Pe]===void 0&&(xe[Pe]=Ie),Ie!==null&&t.setBaseTarget(Pe,Ie))}}function getOriginFromTransition(t,e){return e?(e[t]||e.default||e).from:void 0}function getOrigin(t,e,xe){const _e={};for(const Ee in t){const Se=getOriginFromTransition(Ee,e);if(Se!==void 0)_e[Ee]=Se;else{const Ae=xe.getValue(Ee);Ae&&(_e[Ee]=Ae.get())}}return _e}function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},xe){const _e=t.hasOwnProperty(xe)&&e[xe]!==!0;return e[xe]=!1,_e}function hasKeyframesChanged(t,e){const xe=t.get();if(Array.isArray(e)){for(let _e=0;_e<e.length;_e++)if(e[_e]!==xe)return!0}else return xe!==e}function animateTarget(t,e,{delay:xe=0,transitionOverride:_e,type:Ee}={}){let{transition:Se=t.getDefaultTransition(),transitionEnd:Ae,...Re}=t.makeTargetAnimatable(e);const Pe=t.getValue("willChange");_e&&(Se=_e);const Te=[],Ie=Ee&&t.animationState&&t.animationState.getState()[Ee];for(const je in Re){const Oe=t.getValue(je),ke=Re[je];if(!Oe||ke===void 0||Ie&&shouldBlockAnimation(Ie,je))continue;const Fe={delay:xe,elapsed:0,...getValueTransition(Se||{},je)};if(window.HandoffAppearAnimations){const Ue=t.getProps()[optimizedAppearDataAttribute];if(Ue){const ze=window.HandoffAppearAnimations(Ue,je,Oe,frame);ze!==null&&(Fe.elapsed=ze,Fe.isHandoff=!0)}}let Me=!Fe.isHandoff&&!hasKeyframesChanged(Oe,ke);if(Fe.type==="spring"&&(Oe.getVelocity()||Fe.velocity)&&(Me=!1),Oe.animation&&(Me=!1),Me)continue;Oe.start(animateMotionValue(je,Oe,ke,t.shouldReduceMotion&&transformProps.has(je)?{type:!1}:Fe));const De=Oe.animation;isWillChangeMotionValue(Pe)&&(Pe.add(je),De.then(()=>Pe.remove(je))),Te.push(De)}return Ae&&Promise.all(Te).then(()=>{Ae&&setTarget(t,Ae)}),Te}function animateVariant(t,e,xe={}){const _e=resolveVariant(t,e,xe.custom);let{transition:Ee=t.getDefaultTransition()||{}}=_e||{};xe.transitionOverride&&(Ee=xe.transitionOverride);const Se=_e?()=>Promise.all(animateTarget(t,_e,xe)):()=>Promise.resolve(),Ae=t.variantChildren&&t.variantChildren.size?(Pe=0)=>{const{delayChildren:Te=0,staggerChildren:Ie,staggerDirection:je}=Ee;return animateChildren(t,e,Te+Pe,Ie,je,xe)}:()=>Promise.resolve(),{when:Re}=Ee;if(Re){const[Pe,Te]=Re==="beforeChildren"?[Se,Ae]:[Ae,Se];return Pe().then(()=>Te())}else return Promise.all([Se(),Ae(xe.delay)])}function animateChildren(t,e,xe=0,_e=0,Ee=1,Se){const Ae=[],Re=(t.variantChildren.size-1)*_e,Pe=Ee===1?(Te=0)=>Te*_e:(Te=0)=>Re-Te*_e;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((Te,Ie)=>{Te.notify("AnimationStart",e),Ae.push(animateVariant(Te,e,{...Se,delay:xe+Pe(Ie)}).then(()=>Te.notify("AnimationComplete",e)))}),Promise.all(Ae)}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function animateVisualElement(t,e,xe={}){t.notify("AnimationStart",e);let _e;if(Array.isArray(e)){const Ee=e.map(Se=>animateVariant(t,Se,xe));_e=Promise.all(Ee)}else if(typeof e=="string")_e=animateVariant(t,e,xe);else{const Ee=typeof e=="function"?resolveVariant(t,e,xe.custom):e;_e=Promise.all(animateTarget(t,Ee,xe))}return _e.then(()=>t.notify("AnimationComplete",e))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:xe,options:_e})=>animateVisualElement(t,xe,_e)))}function createAnimationState(t){let e=animateList(t);const xe=createState();let _e=!0;const Ee=(Pe,Te)=>{const Ie=resolveVariant(t,Te);if(Ie){const{transition:je,transitionEnd:Oe,...ke}=Ie;Pe={...Pe,...ke,...Oe}}return Pe};function Se(Pe){e=Pe(t)}function Ae(Pe,Te){const Ie=t.getProps(),je=t.getVariantContext(!0)||{},Oe=[],ke=new Set;let Fe={},Me=1/0;for(let Ue=0;Ue<numAnimationTypes;Ue++){const ze=reversePriorityOrder[Ue],We=xe[ze],Ye=Ie[ze]!==void 0?Ie[ze]:je[ze],Xe=isVariantLabel(Ye),ir=ze===Te?We.isActive:null;ir===!1&&(Me=Ue);let Qe=Ye===je[ze]&&Ye!==Ie[ze]&&Xe;if(Qe&&_e&&t.manuallyAnimateOnMount&&(Qe=!1),We.protectedKeys={...Fe},!We.isActive&&ir===null||!Ye&&!We.prevProp||isAnimationControls(Ye)||typeof Ye=="boolean")continue;let rr=checkVariantsDidChange(We.prevProp,Ye)||ze===Te&&We.isActive&&!Qe&&Xe||Ue>Me&&Xe,cr=!1;const Ze=Array.isArray(Ye)?Ye:[Ye];let er=Ze.reduce(Ee,{});ir===!1&&(er={});const{prevResolvedValues:sr={}}=We,fr={...sr,...er},_r=Er=>{rr=!0,ke.has(Er)&&(cr=!0,ke.delete(Er)),We.needsAnimating[Er]=!0};for(const Er in fr){const yr=er[Er],mr=sr[Er];if(Fe.hasOwnProperty(Er))continue;let Pr=!1;isKeyframesTarget(yr)&&isKeyframesTarget(mr)?Pr=!shallowCompare(yr,mr):Pr=yr!==mr,Pr?yr!==void 0?_r(Er):ke.add(Er):yr!==void 0&&ke.has(Er)?_r(Er):We.protectedKeys[Er]=!0}We.prevProp=Ye,We.prevResolvedValues=er,We.isActive&&(Fe={...Fe,...er}),_e&&t.blockInitialAnimation&&(rr=!1),rr&&(!Qe||cr)&&Oe.push(...Ze.map(Er=>({animation:Er,options:{type:ze,...Pe}})))}if(ke.size){const Ue={};ke.forEach(ze=>{const We=t.getBaseTarget(ze);We!==void 0&&(Ue[ze]=We)}),Oe.push({animation:Ue})}let De=!!Oe.length;return _e&&(Ie.initial===!1||Ie.initial===Ie.animate)&&!t.manuallyAnimateOnMount&&(De=!1),_e=!1,De?e(Oe):Promise.resolve()}function Re(Pe,Te,Ie){var je;if(xe[Pe].isActive===Te)return Promise.resolve();(je=t.variantChildren)===null||je===void 0||je.forEach(ke=>{var Fe;return(Fe=ke.animationState)===null||Fe===void 0?void 0:Fe.setActive(Pe,Te)}),xe[Pe].isActive=Te;const Oe=Ae(Ie,Pe);for(const ke in xe)xe[ke].protectedKeys={};return Oe}return{animateChanges:Ae,setActive:Re,setAnimateFunction:Se,getState:()=>xe}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),isAnimationControls(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:xe}=this.node.prevProps||{};e!==xe&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:xe,custom:_e}=this.node.presenceContext,{isPresent:Ee}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===Ee)return;const Se=this.node.animationState.setActive("exit",!e,{custom:_e??this.node.getProps().custom});xe&&!e&&Se.then(()=>xe(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const xe=distance(t.x,e.x),_e=distance(t.y,e.y);return Math.sqrt(xe**2+_e**2)}class PanSession{constructor(e,xe,{transformPagePoint:_e,contextWindow:Ee,dragSnapToOrigin:Se=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const je=getPanInfo(this.lastMoveEventInfo,this.history),Oe=this.startEvent!==null,ke=distance2D(je.offset,{x:0,y:0})>=3;if(!Oe&&!ke)return;const{point:Fe}=je,{timestamp:Me}=frameData;this.history.push({...Fe,timestamp:Me});const{onStart:De,onMove:Ue}=this.handlers;Oe||(De&&De(this.lastMoveEvent,je),this.startEvent=this.lastMoveEvent),Ue&&Ue(this.lastMoveEvent,je)},this.handlePointerMove=(je,Oe)=>{this.lastMoveEvent=je,this.lastMoveEventInfo=transformPoint(Oe,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(je,Oe)=>{this.end();const{onEnd:ke,onSessionEnd:Fe,resumeAnimation:Me}=this.handlers;if(this.dragSnapToOrigin&&Me&&Me(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const De=getPanInfo(je.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Oe,this.transformPagePoint),this.history);this.startEvent&&ke&&ke(je,De),Fe&&Fe(je,De)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=Se,this.handlers=xe,this.transformPagePoint=_e,this.contextWindow=Ee||window;const Ae=extractEventInfo(e),Re=transformPoint(Ae,this.transformPagePoint),{point:Pe}=Re,{timestamp:Te}=frameData;this.history=[{...Pe,timestamp:Te}];const{onSessionStart:Ie}=xe;Ie&&Ie(e,getPanInfo(Re,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let xe=t.length-1,_e=null;const Ee=lastDevicePoint(t);for(;xe>=0&&(_e=t[xe],!(Ee.timestamp-_e.timestamp>secondsToMilliseconds(e)));)xe--;if(!_e)return{x:0,y:0};const Se=millisecondsToSeconds(Ee.timestamp-_e.timestamp);if(Se===0)return{x:0,y:0};const Ae={x:(Ee.x-_e.x)/Se,y:(Ee.y-_e.y)/Se};return Ae.x===1/0&&(Ae.x=0),Ae.y===1/0&&(Ae.y=0),Ae}function calcLength(t){return t.max-t.min}function isNear(t,e=0,xe=.01){return Math.abs(t-e)<=xe}function calcAxisDelta(t,e,xe,_e=.5){t.origin=_e,t.originPoint=mix(e.min,e.max,t.origin),t.scale=calcLength(xe)/calcLength(e),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mix(xe.min,xe.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,xe,_e){calcAxisDelta(t.x,e.x,xe.x,_e?_e.originX:void 0),calcAxisDelta(t.y,e.y,xe.y,_e?_e.originY:void 0)}function calcRelativeAxis(t,e,xe){t.min=xe.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,xe){calcRelativeAxis(t.x,e.x,xe.x),calcRelativeAxis(t.y,e.y,xe.y)}function calcRelativeAxisPosition(t,e,xe){t.min=e.min-xe.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,xe){calcRelativeAxisPosition(t.x,e.x,xe.x),calcRelativeAxisPosition(t.y,e.y,xe.y)}function applyConstraints(t,{min:e,max:xe},_e){return e!==void 0&&t<e?t=_e?mix(e,t,_e.min):Math.max(t,e):xe!==void 0&&t>xe&&(t=_e?mix(xe,t,_e.max):Math.min(t,xe)),t}function calcRelativeAxisConstraints(t,e,xe){return{min:e!==void 0?t.min+e:void 0,max:xe!==void 0?t.max+xe-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:xe,bottom:_e,right:Ee}){return{x:calcRelativeAxisConstraints(t.x,xe,Ee),y:calcRelativeAxisConstraints(t.y,e,_e)}}function calcViewportAxisConstraints(t,e){let xe=e.min-t.min,_e=e.max-t.max;return e.max-e.min<t.max-t.min&&([xe,_e]=[_e,xe]),{min:xe,max:_e}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let xe=.5;const _e=calcLength(t),Ee=calcLength(e);return Ee>_e?xe=progress(e.min,e.max-_e,t.min):_e>Ee&&(xe=progress(t.min,t.max-Ee,e.min)),clamp$1(0,1,xe)}function rebaseAxisConstraints(t,e){const xe={};return e.min!==void 0&&(xe.min=e.min-t.min),e.max!==void 0&&(xe.max=e.max-t.min),xe}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,xe){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,xe)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:e,right:xe,bottom:_e}){return{x:{min:e,max:xe},y:{min:t,max:_e}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const xe=e({x:t.left,y:t.top}),_e=e({x:t.right,y:t.bottom});return{top:xe.y,left:xe.x,bottom:_e.y,right:_e.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:xe}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(xe)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,xe){const _e=t-xe,Ee=e*_e;return xe+Ee}function applyPointDelta(t,e,xe,_e,Ee){return Ee!==void 0&&(t=scalePoint(t,Ee,_e)),scalePoint(t,xe,_e)+e}function applyAxisDelta(t,e=0,xe=1,_e,Ee){t.min=applyPointDelta(t.min,e,xe,_e,Ee),t.max=applyPointDelta(t.max,e,xe,_e,Ee)}function applyBoxDelta(t,{x:e,y:xe}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,xe.translate,xe.scale,xe.originPoint)}function applyTreeDeltas(t,e,xe,_e=!1){const Ee=xe.length;if(!Ee)return;e.x=e.y=1;let Se,Ae;for(let Re=0;Re<Ee;Re++){Se=xe[Re],Ae=Se.projectionDelta;const Pe=Se.instance;Pe&&Pe.style&&Pe.style.display==="contents"||(_e&&Se.options.layoutScroll&&Se.scroll&&Se!==Se.root&&transformBox(t,{x:-Se.scroll.offset.x,y:-Se.scroll.offset.y}),Ae&&(e.x*=Ae.x.scale,e.y*=Ae.y.scale,applyBoxDelta(t,Ae)),_e&&hasTransform(Se.latestValues)&&transformBox(t,Se.latestValues))}e.x=snapToDefault(e.x),e.y=snapToDefault(e.y)}function snapToDefault(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,[xe,_e,Ee]){const Se=e[Ee]!==void 0?e[Ee]:.5,Ae=mix(t.min,t.max,Se);applyAxisDelta(t,e[xe],e[_e],Ae,e.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(t,e){transformAxis(t.x,e,xKeys$1),transformAxis(t.y,e,yKeys$1)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,xe){const _e=measureViewportBox(t,xe),{scroll:Ee}=e;return Ee&&(translateAxis(_e.x,Ee.offset.x),translateAxis(_e.y,Ee.offset.y)),_e}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:xe=!1}={}){const{presenceContext:_e}=this.visualElement;if(_e&&_e.isPresent===!1)return;const Ee=Ie=>{const{dragSnapToOrigin:je}=this.getProps();je?this.pauseAnimation():this.stopAnimation(),xe&&this.snapToCursor(extractEventInfo(Ie,"page").point)},Se=(Ie,je)=>{const{drag:Oe,dragPropagation:ke,onDragStart:Fe}=this.getProps();if(Oe&&!ke&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(Oe),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(De=>{let Ue=this.getAxisMotionValue(De).get()||0;if(percent.test(Ue)){const{projection:ze}=this.visualElement;if(ze&&ze.layout){const We=ze.layout.layoutBox[De];We&&(Ue=calcLength(We)*(parseFloat(Ue)/100))}}this.originPoint[De]=Ue}),Fe&&frame.update(()=>Fe(Ie,je),!1,!0);const{animationState:Me}=this.visualElement;Me&&Me.setActive("whileDrag",!0)},Ae=(Ie,je)=>{const{dragPropagation:Oe,dragDirectionLock:ke,onDirectionLock:Fe,onDrag:Me}=this.getProps();if(!Oe&&!this.openGlobalLock)return;const{offset:De}=je;if(ke&&this.currentDirection===null){this.currentDirection=getCurrentDirection(De),this.currentDirection!==null&&Fe&&Fe(this.currentDirection);return}this.updateAxis("x",je.point,De),this.updateAxis("y",je.point,De),this.visualElement.render(),Me&&Me(Ie,je)},Re=(Ie,je)=>this.stop(Ie,je),Pe=()=>eachAxis(Ie=>{var je;return this.getAnimationState(Ie)==="paused"&&((je=this.getAxisMotionValue(Ie).animation)===null||je===void 0?void 0:je.play())}),{dragSnapToOrigin:Te}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:Ee,onStart:Se,onMove:Ae,onSessionEnd:Re,resumeAnimation:Pe},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Te,contextWindow:getContextWindow(this.visualElement)})}stop(e,xe){const _e=this.isDragging;if(this.cancel(),!_e)return;const{velocity:Ee}=xe;this.startAnimation(Ee);const{onDragEnd:Se}=this.getProps();Se&&frame.update(()=>Se(e,xe))}cancel(){this.isDragging=!1;const{projection:e,animationState:xe}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:_e}=this.getProps();!_e&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),xe&&xe.setActive("whileDrag",!1)}updateAxis(e,xe,_e){const{drag:Ee}=this.getProps();if(!_e||!shouldDrag(e,Ee,this.currentDirection))return;const Se=this.getAxisMotionValue(e);let Ae=this.originPoint[e]+_e[e];this.constraints&&this.constraints[e]&&(Ae=applyConstraints(Ae,this.constraints[e],this.elastic[e])),Se.set(Ae)}resolveConstraints(){var e;const{dragConstraints:xe,dragElastic:_e}=this.getProps(),Ee=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,Se=this.constraints;xe&&isRefObject(xe)?this.constraints||(this.constraints=this.resolveRefConstraints()):xe&&Ee?this.constraints=calcRelativeConstraints(Ee.layoutBox,xe):this.constraints=!1,this.elastic=resolveDragElastic(_e),Se!==this.constraints&&Ee&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ae=>{this.getAxisMotionValue(Ae)&&(this.constraints[Ae]=rebaseAxisConstraints(Ee.layoutBox[Ae],this.constraints[Ae]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:xe}=this.getProps();if(!e||!isRefObject(e))return!1;const _e=e.current,{projection:Ee}=this.visualElement;if(!Ee||!Ee.layout)return!1;const Se=measurePageBox(_e,Ee.root,this.visualElement.getTransformPagePoint());let Ae=calcViewportConstraints(Ee.layout.layoutBox,Se);if(xe){const Re=xe(convertBoxToBoundingBox(Ae));this.hasMutatedConstraints=!!Re,Re&&(Ae=convertBoundingBoxToBox(Re))}return Ae}startAnimation(e){const{drag:xe,dragMomentum:_e,dragElastic:Ee,dragTransition:Se,dragSnapToOrigin:Ae,onDragTransitionEnd:Re}=this.getProps(),Pe=this.constraints||{},Te=eachAxis(Ie=>{if(!shouldDrag(Ie,xe,this.currentDirection))return;let je=Pe&&Pe[Ie]||{};Ae&&(je={min:0,max:0});const Oe=Ee?200:1e6,ke=Ee?40:1e7,Fe={type:"inertia",velocity:_e?e[Ie]:0,bounceStiffness:Oe,bounceDamping:ke,timeConstant:750,restDelta:1,restSpeed:10,...Se,...je};return this.startAxisValueAnimation(Ie,Fe)});return Promise.all(Te).then(Re)}startAxisValueAnimation(e,xe){const _e=this.getAxisMotionValue(e);return _e.start(animateMotionValue(e,_e,0,xe))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var xe;return(xe=this.getAxisMotionValue(e).animation)===null||xe===void 0?void 0:xe.pause()})}getAnimationState(e){var xe;return(xe=this.getAxisMotionValue(e).animation)===null||xe===void 0?void 0:xe.state}getAxisMotionValue(e){const xe="_drag"+e.toUpperCase(),_e=this.visualElement.getProps(),Ee=_e[xe];return Ee||this.visualElement.getValue(e,(_e.initial?_e.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(xe=>{const{drag:_e}=this.getProps();if(!shouldDrag(xe,_e,this.currentDirection))return;const{projection:Ee}=this.visualElement,Se=this.getAxisMotionValue(xe);if(Ee&&Ee.layout){const{min:Ae,max:Re}=Ee.layout.layoutBox[xe];Se.set(e[xe]-mix(Ae,Re,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:xe}=this.getProps(),{projection:_e}=this.visualElement;if(!isRefObject(xe)||!_e||!this.constraints)return;this.stopAnimation();const Ee={x:0,y:0};eachAxis(Ae=>{const Re=this.getAxisMotionValue(Ae);if(Re){const Pe=Re.get();Ee[Ae]=calcOrigin({min:Pe,max:Pe},this.constraints[Ae])}});const{transformTemplate:Se}=this.visualElement.getProps();this.visualElement.current.style.transform=Se?Se({},""):"none",_e.root&&_e.root.updateScroll(),_e.updateLayout(),this.resolveConstraints(),eachAxis(Ae=>{if(!shouldDrag(Ae,e,null))return;const Re=this.getAxisMotionValue(Ae),{min:Pe,max:Te}=this.constraints[Ae];Re.set(mix(Pe,Te,Ee[Ae]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,xe=addPointerEvent(e,"pointerdown",Pe=>{const{drag:Te,dragListener:Ie=!0}=this.getProps();Te&&Ie&&this.start(Pe)}),_e=()=>{const{dragConstraints:Pe}=this.getProps();isRefObject(Pe)&&(this.constraints=this.resolveRefConstraints())},{projection:Ee}=this.visualElement,Se=Ee.addEventListener("measure",_e);Ee&&!Ee.layout&&(Ee.root&&Ee.root.updateScroll(),Ee.updateLayout()),_e();const Ae=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Re=Ee.addEventListener("didUpdate",({delta:Pe,hasLayoutChanged:Te})=>{this.isDragging&&Te&&(eachAxis(Ie=>{const je=this.getAxisMotionValue(Ie);je&&(this.originPoint[Ie]+=Pe[Ie].translate,je.set(je.get()+Pe[Ie].translate))}),this.visualElement.render())});return()=>{Ae(),xe(),Se(),Re&&Re()}}getProps(){const e=this.visualElement.getProps(),{drag:xe=!1,dragDirectionLock:_e=!1,dragPropagation:Ee=!1,dragConstraints:Se=!1,dragElastic:Ae=defaultElastic,dragMomentum:Re=!0}=e;return{...e,drag:xe,dragDirectionLock:_e,dragPropagation:Ee,dragConstraints:Se,dragElastic:Ae,dragMomentum:Re}}}function shouldDrag(t,e,xe){return(e===!0||e===t)&&(xe===null||xe===t)}function getCurrentDirection(t,e=10){let xe=null;return Math.abs(t.y)>e?xe="y":Math.abs(t.x)>e&&(xe="x"),xe}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$3,this.removeListeners=noop$3,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$3}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,xe)=>{t&&frame.update(()=>t(e,xe))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$3}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:xe,onPan:_e,onPanEnd:Ee}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(xe),onMove:_e,onEnd:(Se,Ae)=>{delete this.session,Ee&&frame.update(()=>Ee(Se,Ae))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence$1(){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:xe,register:_e}=t,Ee=reactExports.useId();return reactExports.useEffect(()=>_e(Ee),[]),!e&&xe?[!1,()=>xe&&xe(Ee)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const xe=pixelsToPercent(t,e.target.x),_e=pixelsToPercent(t,e.target.y);return`${xe}% ${_e}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:xe})=>{const _e=t,Ee=complex.parse(t);if(Ee.length>5)return _e;const Se=complex.createTransformer(t),Ae=typeof Ee[0]!="number"?1:0,Re=xe.x.scale*e.x,Pe=xe.y.scale*e.y;Ee[0+Ae]/=Re,Ee[1+Ae]/=Pe;const Te=mix(Re,Pe,.5);return typeof Ee[2+Ae]=="number"&&(Ee[2+Ae]/=Te),typeof Ee[3+Ae]=="number"&&(Ee[3+Ae]/=Te),Se(Ee)}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:e,layoutGroup:xe,switchLayoutGroup:_e,layoutId:Ee}=this.props,{projection:Se}=e;addScaleCorrector(defaultScaleCorrectors),Se&&(xe.group&&xe.group.add(Se),_e&&_e.register&&Ee&&_e.register(Se),Se.root.didUpdate(),Se.addEventListener("animationComplete",()=>{this.safeToRemove()}),Se.setOptions({...Se.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:xe,visualElement:_e,drag:Ee,isPresent:Se}=this.props,Ae=_e.projection;return Ae&&(Ae.isPresent=Se,Ee||e.layoutDependency!==xe||xe===void 0?Ae.willUpdate():this.safeToRemove(),e.isPresent!==Se&&(Se?Ae.promote():Ae.relegate()||frame.postRender(()=>{const Re=Ae.getStack();(!Re||!Re.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:xe,switchLayoutGroup:_e}=this.props,{projection:Ee}=e;Ee&&(Ee.scheduleCheckAfterUnmount(),xe&&xe.group&&xe.group.remove(Ee),_e&&_e.deregister&&_e.deregister(Ee))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,xe]=usePresence$1(),_e=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...t,layoutGroup:_e,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:xe})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber$1=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,xe,_e,Ee,Se){Ee?(t.opacity=mix(0,xe.opacity!==void 0?xe.opacity:1,easeCrossfadeIn(_e)),t.opacityExit=mix(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(_e))):Se&&(t.opacity=mix(e.opacity!==void 0?e.opacity:1,xe.opacity!==void 0?xe.opacity:1,_e));for(let Ae=0;Ae<numBorders;Ae++){const Re=`border${borders[Ae]}Radius`;let Pe=getRadius(e,Re),Te=getRadius(xe,Re);if(Pe===void 0&&Te===void 0)continue;Pe||(Pe=0),Te||(Te=0),Pe===0||Te===0||isPx(Pe)===isPx(Te)?(t[Re]=Math.max(mix(asNumber$1(Pe),asNumber$1(Te),_e),0),(percent.test(Te)||percent.test(Pe))&&(t[Re]+="%")):t[Re]=Te}(e.rotate||xe.rotate)&&(t.rotate=mix(e.rotate||0,xe.rotate||0,_e))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$3);function compress(t,e,xe){return _e=>_e<t?0:_e>e?1:xe(progress(t,e,_e))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function removePointDelta(t,e,xe,_e,Ee){return t-=e,t=scalePoint(t,1/xe,_e),Ee!==void 0&&(t=scalePoint(t,1/Ee,_e)),t}function removeAxisDelta(t,e=0,xe=1,_e=.5,Ee,Se=t,Ae=t){if(percent.test(e)&&(e=parseFloat(e),e=mix(Ae.min,Ae.max,e/100)-Ae.min),typeof e!="number")return;let Re=mix(Se.min,Se.max,_e);t===Se&&(Re-=e),t.min=removePointDelta(t.min,e,xe,Re,Ee),t.max=removePointDelta(t.max,e,xe,Re,Ee)}function removeAxisTransforms(t,e,[xe,_e,Ee],Se,Ae){removeAxisDelta(t,e[xe],e[_e],e[Ee],e.scale,Se,Ae)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,xe,_e){removeAxisTransforms(t.x,e,xKeys,xe?xe.x:void 0,_e?_e.x:void 0),removeAxisTransforms(t.y,e,yKeys,xe?xe.y:void 0,_e?_e.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function boxEqualsRounded(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const xe=this.members[this.members.length-1];xe&&this.promote(xe)}}relegate(e){const xe=this.members.findIndex(Ee=>e===Ee);if(xe===0)return!1;let _e;for(let Ee=xe;Ee>=0;Ee--){const Se=this.members[Ee];if(Se.isPresent!==!1){_e=Se;break}}return _e?(this.promote(_e),!0):!1}promote(e,xe){const _e=this.lead;if(e!==_e&&(this.prevLead=_e,this.lead=e,e.show(),_e)){_e.instance&&_e.scheduleRender(),e.scheduleRender(),e.resumeFrom=_e,xe&&(e.resumeFrom.preserveOpacity=!0),_e.snapshot&&(e.snapshot=_e.snapshot,e.snapshot.latestValues=_e.animationValues||_e.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:Ee}=e.options;Ee===!1&&_e.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:xe,resumingFrom:_e}=e;xe.onExitComplete&&xe.onExitComplete(),_e&&_e.options.onExitComplete&&_e.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,xe){let _e="";const Ee=t.x.translate/e.x,Se=t.y.translate/e.y;if((Ee||Se)&&(_e=`translate3d(${Ee}px, ${Se}px, 0) `),(e.x!==1||e.y!==1)&&(_e+=`scale(${1/e.x}, ${1/e.y}) `),xe){const{rotate:Pe,rotateX:Te,rotateY:Ie}=xe;Pe&&(_e+=`rotate(${Pe}deg) `),Te&&(_e+=`rotateX(${Te}deg) `),Ie&&(_e+=`rotateY(${Ie}deg) `)}const Ae=t.x.scale*e.x,Re=t.y.scale*e.y;return(Ae!==1||Re!==1)&&(_e+=`scale(${Ae}, ${Re})`),_e||"none"}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const xe=performance.now(),_e=({timestamp:Ee})=>{const Se=Ee-xe;Se>=e&&(cancelFrame(_e),t(Se-e))};return frame.read(_e,!0),()=>cancelFrame(_e)}function record(t){window.MotionDebug&&window.MotionDebug.record(t)}function isSVGElement(t){return t instanceof SVGElement&&t.tagName!=="svg"}function animateSingleValue(t,e,xe){const _e=isMotionValue(t)?t:motionValue(t);return _e.start(animateMotionValue("",_e,e,xe)),_e.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:xe,checkIsScrollRoot:_e,resetTransform:Ee}){return class{constructor(Ae={},Re=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ae,this.root=Re?Re.root||Re:this,this.path=Re?[...Re.path,Re]:[],this.parent=Re,this.depth=Re?Re.depth+1:0;for(let Pe=0;Pe<this.path.length;Pe++)this.path[Pe].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Ae,Re){return this.eventHandlers.has(Ae)||this.eventHandlers.set(Ae,new SubscriptionManager),this.eventHandlers.get(Ae).add(Re)}notifyListeners(Ae,...Re){const Pe=this.eventHandlers.get(Ae);Pe&&Pe.notify(...Re)}hasListeners(Ae){return this.eventHandlers.has(Ae)}mount(Ae,Re=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Ae),this.instance=Ae;const{layoutId:Pe,layout:Te,visualElement:Ie}=this.options;if(Ie&&!Ie.current&&Ie.mount(Ae),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Re&&(Te||Pe)&&(this.isLayoutDirty=!0),t){let je;const Oe=()=>this.root.updateBlockedByResize=!1;t(Ae,()=>{this.root.updateBlockedByResize=!0,je&&je(),je=delay(Oe,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Pe&&this.root.registerSharedNode(Pe,this),this.options.animate!==!1&&Ie&&(Pe||Te)&&this.addEventListener("didUpdate",({delta:je,hasLayoutChanged:Oe,hasRelativeTargetChanged:ke,layout:Fe})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Me=this.options.transition||Ie.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:De,onLayoutAnimationComplete:Ue}=Ie.getProps(),ze=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Fe)||ke,We=!Oe&&ke;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||We||Oe&&(ze||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(je,We);const Ye={...getValueTransition(Me,"layout"),onPlay:De,onComplete:Ue};(Ie.shouldReduceMotion||this.options.layoutRoot)&&(Ye.delay=0,Ye.type=!1),this.startAnimation(Ye)}else Oe||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Fe})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ae=this.getStack();Ae&&Ae.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Ae}=this.options;return Ae&&Ae.getProps().transformTemplate}willUpdate(Ae=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Ie=0;Ie<this.path.length;Ie++){const je=this.path[Ie];je.shouldResetTransform=!0,je.updateScroll("snapshot"),je.options.layoutRoot&&je.willUpdate(!1)}const{layoutId:Re,layout:Pe}=this.options;if(Re===void 0&&!Pe)return;const Te=this.getTransformTemplate();this.prevTransformTemplateValue=Te?Te(this.latestValues,""):void 0,this.updateSnapshot(),Ae&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Re=performance.now();frameData.delta=clamp$1(0,1e3/60,Re-frameData.timestamp),frameData.timestamp=Re,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Pe=0;Pe<this.path.length;Pe++)this.path[Pe].updateScroll();const Ae=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Re}=this.options;Re&&Re.notify("LayoutMeasure",this.layout.layoutBox,Ae?Ae.layoutBox:void 0)}updateScroll(Ae="measure"){let Re=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ae&&(Re=!1),Re&&(this.scroll={animationId:this.root.animationId,phase:Ae,isRoot:_e(this.instance),offset:xe(this.instance)})}resetTransform(){if(!Ee)return;const Ae=this.isLayoutDirty||this.shouldResetTransform,Re=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Pe=this.getTransformTemplate(),Te=Pe?Pe(this.latestValues,""):void 0,Ie=Te!==this.prevTransformTemplateValue;Ae&&(Re||hasTransform(this.latestValues)||Ie)&&(Ee(this.instance,Te),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ae=!0){const Re=this.measurePageBox();let Pe=this.removeElementScroll(Re);return Ae&&(Pe=this.removeTransform(Pe)),roundBox(Pe),{animationId:this.root.animationId,measuredBox:Re,layoutBox:Pe,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Ae}=this.options;if(!Ae)return createBox();const Re=Ae.measureViewportBox(),{scroll:Pe}=this.root;return Pe&&(translateAxis(Re.x,Pe.offset.x),translateAxis(Re.y,Pe.offset.y)),Re}removeElementScroll(Ae){const Re=createBox();copyBoxInto(Re,Ae);for(let Pe=0;Pe<this.path.length;Pe++){const Te=this.path[Pe],{scroll:Ie,options:je}=Te;if(Te!==this.root&&Ie&&je.layoutScroll){if(Ie.isRoot){copyBoxInto(Re,Ae);const{scroll:Oe}=this.root;Oe&&(translateAxis(Re.x,-Oe.offset.x),translateAxis(Re.y,-Oe.offset.y))}translateAxis(Re.x,Ie.offset.x),translateAxis(Re.y,Ie.offset.y)}}return Re}applyTransform(Ae,Re=!1){const Pe=createBox();copyBoxInto(Pe,Ae);for(let Te=0;Te<this.path.length;Te++){const Ie=this.path[Te];!Re&&Ie.options.layoutScroll&&Ie.scroll&&Ie!==Ie.root&&transformBox(Pe,{x:-Ie.scroll.offset.x,y:-Ie.scroll.offset.y}),hasTransform(Ie.latestValues)&&transformBox(Pe,Ie.latestValues)}return hasTransform(this.latestValues)&&transformBox(Pe,this.latestValues),Pe}removeTransform(Ae){const Re=createBox();copyBoxInto(Re,Ae);for(let Pe=0;Pe<this.path.length;Pe++){const Te=this.path[Pe];if(!Te.instance||!hasTransform(Te.latestValues))continue;hasScale(Te.latestValues)&&Te.updateSnapshot();const Ie=createBox(),je=Te.measurePageBox();copyBoxInto(Ie,je),removeBoxTransforms(Re,Te.latestValues,Te.snapshot?Te.snapshot.layoutBox:void 0,Ie)}return hasTransform(this.latestValues)&&removeBoxTransforms(Re,this.latestValues),Re}setTargetDelta(Ae){this.targetDelta=Ae,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ae){this.options={...this.options,...Ae,crossfade:Ae.crossfade!==void 0?Ae.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ae=!1){var Re;const Pe=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Pe.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Pe.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Pe.isSharedProjectionDirty);const Te=!!this.resumingFrom||this!==Pe;if(!(Ae||Te&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Re=this.parent)===null||Re===void 0)&&Re.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:je,layoutId:Oe}=this.options;if(!(!this.layout||!(je||Oe))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ke=this.getClosestProjectingParent();ke&&ke.layout&&this.animationProgress!==1?(this.relativeParent=ke,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ke.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ke=this.getClosestProjectingParent();ke&&!!ke.resumingFrom==!!this.resumingFrom&&!ke.options.layoutScroll&&ke.target&&this.animationProgress!==1?(this.relativeParent=ke,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ke.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ae;const Re=this.getLead(),Pe=!!this.resumingFrom||this!==Re;let Te=!0;if((this.isProjectionDirty||!((Ae=this.parent)===null||Ae===void 0)&&Ae.isProjectionDirty)&&(Te=!1),Pe&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Te=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Te=!1),Te)return;const{layout:Ie,layoutId:je}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ie||je))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Oe=this.treeScale.x,ke=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Pe),Re.layout&&!Re.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Re.target=Re.layout.layoutBox);const{target:Fe}=Re;if(!Fe){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const Me=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Fe,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Me||this.treeScale.x!==Oe||this.treeScale.y!==ke)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Fe)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ae=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),Ae){const Re=this.getStack();Re&&Re.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Ae,Re=!1){const Pe=this.snapshot,Te=Pe?Pe.latestValues:{},Ie={...this.latestValues},je=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Re;const Oe=createBox(),ke=Pe?Pe.source:void 0,Fe=this.layout?this.layout.source:void 0,Me=ke!==Fe,De=this.getStack(),Ue=!De||De.members.length<=1,ze=!!(Me&&!Ue&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let We;this.mixTargetDelta=Ye=>{const Xe=Ye/1e3;mixAxisDelta(je.x,Ae.x,Xe),mixAxisDelta(je.y,Ae.y,Xe),this.setTargetDelta(je),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Oe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Oe,Xe),We&&boxEquals(this.relativeTarget,We)&&(this.isProjectionDirty=!1),We||(We=createBox()),copyBoxInto(We,this.relativeTarget)),Me&&(this.animationValues=Ie,mixValues(Ie,Te,this.latestValues,Xe,ze,Ue)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Xe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ae){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Ae,onUpdate:Re=>{this.mixTargetDelta(Re),Ae.onUpdate&&Ae.onUpdate(Re)},onComplete:()=>{Ae.onComplete&&Ae.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ae=this.getStack();Ae&&Ae.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ae=this.getLead();let{targetWithTransforms:Re,target:Pe,layout:Te,latestValues:Ie}=Ae;if(!(!Re||!Pe||!Te)){if(this!==Ae&&this.layout&&Te&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Te.layoutBox)){Pe=this.target||createBox();const je=calcLength(this.layout.layoutBox.x);Pe.x.min=Ae.target.x.min,Pe.x.max=Pe.x.min+je;const Oe=calcLength(this.layout.layoutBox.y);Pe.y.min=Ae.target.y.min,Pe.y.max=Pe.y.min+Oe}copyBoxInto(Re,Pe),transformBox(Re,Ie),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Re,Ie)}}registerSharedNode(Ae,Re){this.sharedNodes.has(Ae)||this.sharedNodes.set(Ae,new NodeStack),this.sharedNodes.get(Ae).add(Re);const Te=Re.options.initialPromotionConfig;Re.promote({transition:Te?Te.transition:void 0,preserveFollowOpacity:Te&&Te.shouldPreserveFollowOpacity?Te.shouldPreserveFollowOpacity(Re):void 0})}isLead(){const Ae=this.getStack();return Ae?Ae.lead===this:!0}getLead(){var Ae;const{layoutId:Re}=this.options;return Re?((Ae=this.getStack())===null||Ae===void 0?void 0:Ae.lead)||this:this}getPrevLead(){var Ae;const{layoutId:Re}=this.options;return Re?(Ae=this.getStack())===null||Ae===void 0?void 0:Ae.prevLead:void 0}getStack(){const{layoutId:Ae}=this.options;if(Ae)return this.root.sharedNodes.get(Ae)}promote({needsReset:Ae,transition:Re,preserveFollowOpacity:Pe}={}){const Te=this.getStack();Te&&Te.promote(this,Pe),Ae&&(this.projectionDelta=void 0,this.needsReset=!0),Re&&this.setOptions({transition:Re})}relegate(){const Ae=this.getStack();return Ae?Ae.relegate(this):!1}resetRotation(){const{visualElement:Ae}=this.options;if(!Ae)return;let Re=!1;const{latestValues:Pe}=Ae;if((Pe.rotate||Pe.rotateX||Pe.rotateY||Pe.rotateZ)&&(Re=!0),!Re)return;const Te={};for(let Ie=0;Ie<transformAxes.length;Ie++){const je="rotate"+transformAxes[Ie];Pe[je]&&(Te[je]=Pe[je],Ae.setStaticValue(je,0))}Ae.render();for(const Ie in Te)Ae.setStaticValue(Ie,Te[Ie]);Ae.scheduleRender()}getProjectionStyles(Ae){var Re,Pe;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Te={visibility:""},Ie=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Te.opacity="",Te.pointerEvents=resolveMotionValue(Ae==null?void 0:Ae.pointerEvents)||"",Te.transform=Ie?Ie(this.latestValues,""):"none",Te;const je=this.getLead();if(!this.projectionDelta||!this.layout||!je.target){const Me={};return this.options.layoutId&&(Me.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Me.pointerEvents=resolveMotionValue(Ae==null?void 0:Ae.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Me.transform=Ie?Ie({},""):"none",this.hasProjected=!1),Me}const Oe=je.animationValues||je.latestValues;this.applyTransformsToTarget(),Te.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Oe),Ie&&(Te.transform=Ie(Oe,Te.transform));const{x:ke,y:Fe}=this.projectionDelta;Te.transformOrigin=`${ke.origin*100}% ${Fe.origin*100}% 0`,je.animationValues?Te.opacity=je===this?(Pe=(Re=Oe.opacity)!==null&&Re!==void 0?Re:this.latestValues.opacity)!==null&&Pe!==void 0?Pe:1:this.preserveOpacity?this.latestValues.opacity:Oe.opacityExit:Te.opacity=je===this?Oe.opacity!==void 0?Oe.opacity:"":Oe.opacityExit!==void 0?Oe.opacityExit:0;for(const Me in scaleCorrectors){if(Oe[Me]===void 0)continue;const{correct:De,applyTo:Ue}=scaleCorrectors[Me],ze=Te.transform==="none"?Oe[Me]:De(Oe[Me],je);if(Ue){const We=Ue.length;for(let Ye=0;Ye<We;Ye++)Te[Ue[Ye]]=ze}else Te[Me]=ze}return this.options.layoutId&&(Te.pointerEvents=je===this?resolveMotionValue(Ae==null?void 0:Ae.pointerEvents)||"":"none"),Te}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ae=>{var Re;return(Re=Ae.currentAnimation)===null||Re===void 0?void 0:Re.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e;const xe=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&xe&&t.hasListeners("didUpdate")){const{layoutBox:_e,measuredBox:Ee}=t.layout,{animationType:Se}=t.options,Ae=xe.source!==t.layout.source;Se==="size"?eachAxis(je=>{const Oe=Ae?xe.measuredBox[je]:xe.layoutBox[je],ke=calcLength(Oe);Oe.min=_e[je].min,Oe.max=Oe.min+ke}):shouldAnimatePositionOnly(Se,xe.layoutBox,_e)&&eachAxis(je=>{const Oe=Ae?xe.measuredBox[je]:xe.layoutBox[je],ke=calcLength(_e[je]);Oe.max=Oe.min+ke,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[je].max=t.relativeTarget[je].min+ke)});const Re=createDelta();calcBoxDelta(Re,_e,xe.layoutBox);const Pe=createDelta();Ae?calcBoxDelta(Pe,t.applyTransform(Ee,!0),xe.measuredBox):calcBoxDelta(Pe,_e,xe.layoutBox);const Te=!isDeltaZero(Re);let Ie=!1;if(!t.resumeFrom){const je=t.getClosestProjectingParent();if(je&&!je.resumeFrom){const{snapshot:Oe,layout:ke}=je;if(Oe&&ke){const Fe=createBox();calcRelativePosition(Fe,xe.layoutBox,Oe.layoutBox);const Me=createBox();calcRelativePosition(Me,_e,ke.layoutBox),boxEqualsRounded(Fe,Me)||(Ie=!0),je.options.layoutRoot&&(t.relativeTarget=Me,t.relativeTargetOrigin=Fe,t.relativeParent=je)}}}t.notifyListeners("didUpdate",{layout:_e,snapshot:xe,delta:Pe,layoutDelta:Re,hasLayoutChanged:Te,hasRelativeTargetChanged:Ie})}else if(t.isLead()){const{onExitComplete:_e}=t.options;_e&&_e()}t.options.transition=void 0}function propagateDirtyNodes(t){projectionFrameData.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,xe){t.translate=mix(e.translate,0,xe),t.scale=mix(e.scale,1,xe),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,xe,_e){t.min=mix(e.min,xe.min,_e),t.max=mix(e.max,xe.max,_e)}function mixBox(t,e,xe,_e){mixAxis(t.x,e.x,xe.x,_e),mixAxis(t.y,e.y,xe.y,_e)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$3;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,xe){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(xe),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},splitCSSVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,xe,_e]=e;return[xe,_e]}function getVariableValue(t,e,xe=1){const[_e,Ee]=parseCSSVariable(t);if(!_e)return;const Se=window.getComputedStyle(e).getPropertyValue(_e);if(Se){const Ae=Se.trim();return isNumericalString(Ae)?parseFloat(Ae):Ae}else return isCSSVariableToken(Ee)?getVariableValue(Ee,e,xe+1):Ee}function resolveCSSVariables(t,{...e},xe){const _e=t.current;if(!(_e instanceof Element))return{target:e,transitionEnd:xe};xe&&(xe={...xe}),t.values.forEach(Ee=>{const Se=Ee.get();if(!isCSSVariableToken(Se))return;const Ae=getVariableValue(Se,_e);Ae&&Ee.set(Ae)});for(const Ee in e){const Se=e[Ee];if(!isCSSVariableToken(Se))continue;const Ae=getVariableValue(Se,_e);Ae&&(e[Ee]=Ae,xe||(xe={}),xe[Ee]===void 0&&(xe[Ee]=Se))}return{target:e,transitionEnd:xe}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=t=>positionalKeys.has(t),hasPositionalKey=t=>Object.keys(t).some(isPositionalKey),isNumOrPxType=t=>t===number$3||t===px,getPosFromMatrix=(t,e)=>parseFloat(t.split(", ")[e]),getTranslateFromMatrix=(t,e)=>(xe,{transform:_e})=>{if(_e==="none"||!_e)return 0;const Ee=_e.match(/^matrix3d\((.+)\)$/);if(Ee)return getPosFromMatrix(Ee[1],e);{const Se=_e.match(/^matrix\((.+)\)$/);return Se?getPosFromMatrix(Se[1],t):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(xe=>{const _e=t.getValue(xe);_e!==void 0&&(e.push([xe,_e.get()]),_e.set(xe.startsWith("scale")?1:0))}),e.length&&t.render(),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:xe="0"})=>t.max-t.min-parseFloat(e)-parseFloat(xe),height:({y:t},{paddingTop:e="0",paddingBottom:xe="0"})=>t.max-t.min-parseFloat(e)-parseFloat(xe),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const convertChangedValueTypes=(t,e,xe)=>{const _e=e.measureViewportBox(),Ee=e.current,Se=getComputedStyle(Ee),{display:Ae}=Se,Re={};Ae==="none"&&e.setStaticValue("display",t.display||"block"),xe.forEach(Te=>{Re[Te]=positionalValues[Te](_e,Se)}),e.render();const Pe=e.measureViewportBox();return xe.forEach(Te=>{const Ie=e.getValue(Te);Ie&&Ie.jump(Re[Te]),t[Te]=positionalValues[Te](Pe,Se)}),t},checkAndConvertChangedValueTypes=(t,e,xe={},_e={})=>{e={...e},_e={..._e};const Ee=Object.keys(e).filter(isPositionalKey);let Se=[],Ae=!1;const Re=[];if(Ee.forEach(Pe=>{const Te=t.getValue(Pe);if(!t.hasValue(Pe))return;let Ie=xe[Pe],je=findDimensionValueType(Ie);const Oe=e[Pe];let ke;if(isKeyframesTarget(Oe)){const Fe=Oe.length,Me=Oe[0]===null?1:0;Ie=Oe[Me],je=findDimensionValueType(Ie);for(let De=Me;De<Fe&&Oe[De]!==null;De++)ke?invariant$1(findDimensionValueType(Oe[De])===ke):ke=findDimensionValueType(Oe[De])}else ke=findDimensionValueType(Oe);if(je!==ke)if(isNumOrPxType(je)&&isNumOrPxType(ke)){const Fe=Te.get();typeof Fe=="string"&&Te.set(parseFloat(Fe)),typeof Oe=="string"?e[Pe]=parseFloat(Oe):Array.isArray(Oe)&&ke===px&&(e[Pe]=Oe.map(parseFloat))}else je!=null&&je.transform&&(ke!=null&&ke.transform)&&(Ie===0||Oe===0)?Ie===0?Te.set(ke.transform(Ie)):e[Pe]=je.transform(Oe):(Ae||(Se=removeNonTranslationalTransform(t),Ae=!0),Re.push(Pe),_e[Pe]=_e[Pe]!==void 0?_e[Pe]:e[Pe],Te.jump(Oe))}),Re.length){const Pe=Re.indexOf("height")>=0?window.pageYOffset:null,Te=convertChangedValueTypes(e,t,Re);return Se.length&&Se.forEach(([Ie,je])=>{t.getValue(Ie).set(je)}),t.render(),isBrowser&&Pe!==null&&window.scrollTo({top:Pe}),{target:Te,transitionEnd:_e}}else return{target:e,transitionEnd:_e}};function unitConversion(t,e,xe,_e){return hasPositionalKey(e)?checkAndConvertChangedValueTypes(t,e,xe,_e):{target:e,transitionEnd:_e}}const parseDomVariant=(t,e,xe,_e)=>{const Ee=resolveCSSVariables(t,e,_e);return e=Ee.target,_e=Ee.transitionEnd,unitConversion(t,e,xe,_e)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(t,e,xe){const{willChange:_e}=e;for(const Ee in e){const Se=e[Ee],Ae=xe[Ee];if(isMotionValue(Se))t.addValue(Ee,Se),isWillChangeMotionValue(_e)&&_e.add(Ee);else if(isMotionValue(Ae))t.addValue(Ee,motionValue(Se,{owner:t})),isWillChangeMotionValue(_e)&&_e.remove(Ee);else if(Ae!==Se)if(t.hasValue(Ee)){const Re=t.getValue(Ee);!Re.hasAnimated&&Re.set(Se)}else{const Re=t.getStaticValue(Ee);t.addValue(Ee,motionValue(Re!==void 0?Re:Se,{owner:t}))}}for(const Ee in xe)e[Ee]===void 0&&t.removeValue(Ee);return e}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:e,props:xe,presenceContext:_e,reducedMotionConfig:Ee,visualState:Se},Ae={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:Re,renderState:Pe}=Se;this.latestValues=Re,this.baseTarget={...Re},this.initialValues=xe.initial?{...Re}:{},this.renderState=Pe,this.parent=e,this.props=xe,this.presenceContext=_e,this.depth=e?e.depth+1:0,this.reducedMotionConfig=Ee,this.options=Ae,this.isControllingVariants=isControllingVariants(xe),this.isVariantNode=isVariantNode(xe),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:Te,...Ie}=this.scrapeMotionValuesFromProps(xe,{});for(const je in Ie){const Oe=Ie[je];Re[je]!==void 0&&isMotionValue(Oe)&&(Oe.set(Re[je],!1),isWillChangeMotionValue(Te)&&Te.add(je))}}scrapeMotionValuesFromProps(e,xe){return{}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xe,_e)=>this.bindToMotionValue(_e,xe)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,xe){const _e=transformProps.has(e),Ee=xe.on("change",Ae=>{this.latestValues[e]=Ae,this.props.onUpdate&&frame.update(this.notifyUpdate,!1,!0),_e&&this.projection&&(this.projection.isTransformDirty=!0)}),Se=xe.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{Ee(),Se()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...xe},_e,Ee,Se){let Ae,Re;for(let Pe=0;Pe<numFeatures;Pe++){const Te=featureNames[Pe],{isEnabled:Ie,Feature:je,ProjectionNode:Oe,MeasureLayout:ke}=featureDefinitions[Te];Oe&&(Ae=Oe),Ie(xe)&&(!this.features[Te]&&je&&(this.features[Te]=new je(this)),ke&&(Re=ke))}if((this.type==="html"||this.type==="svg")&&!this.projection&&Ae){this.projection=new Ae(this.latestValues,this.parent&&this.parent.projection);const{layoutId:Pe,layout:Te,drag:Ie,dragConstraints:je,layoutScroll:Oe,layoutRoot:ke}=xe;this.projection.setOptions({layoutId:Pe,layout:Te,alwaysMeasureLayout:!!Ie||je&&isRefObject(je),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof Te=="string"?Te:"both",initialPromotionConfig:Se,layoutScroll:Oe,layoutRoot:ke})}return Re}updateFeatures(){for(const e in this.features){const xe=this.features[e];xe.isMounted?xe.update():(xe.mount(),xe.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,xe){this.latestValues[e]=xe}makeTargetAnimatable(e,xe=!0){return this.makeTargetAnimatableFromInstance(e,this.props,xe)}update(e,xe){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=xe;for(let _e=0;_e<propEventHandlers.length;_e++){const Ee=propEventHandlers[_e];this.propEventSubscriptions[Ee]&&(this.propEventSubscriptions[Ee](),delete this.propEventSubscriptions[Ee]);const Se=e["on"+Ee];Se&&(this.propEventSubscriptions[Ee]=this.on(Ee,Se))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const _e=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(_e.initial=this.props.initial),_e}const xe={};for(let _e=0;_e<numVariantProps;_e++){const Ee=variantProps[_e],Se=this.props[Ee];(isVariantLabel(Se)||Se===!1)&&(xe[Ee]=Se)}return xe}addVariantChild(e){const xe=this.getClosestVariantNode();if(xe)return xe.variantChildren&&xe.variantChildren.add(e),()=>xe.variantChildren.delete(e)}addValue(e,xe){xe!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,xe)),this.values.set(e,xe),this.latestValues[e]=xe.get()}removeValue(e){this.values.delete(e);const xe=this.valueSubscriptions.get(e);xe&&(xe(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,xe){if(this.props.values&&this.props.values[e])return this.props.values[e];let _e=this.values.get(e);return _e===void 0&&xe!==void 0&&(_e=motionValue(xe,{owner:this}),this.addValue(e,_e)),_e}readValue(e){var xe;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(xe=this.getBaseTargetFromProps(this.props,e))!==null&&xe!==void 0?xe:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,xe){this.baseTarget[e]=xe}getBaseTarget(e){var xe;const{initial:_e}=this.props,Ee=typeof _e=="string"||typeof _e=="object"?(xe=resolveVariantFromProps(this.props,_e))===null||xe===void 0?void 0:xe[e]:void 0;if(_e&&Ee!==void 0)return Ee;const Se=this.getBaseTargetFromProps(this.props,e);return Se!==void 0&&!isMotionValue(Se)?Se:this.initialValues[e]!==void 0&&Ee===void 0?void 0:this.baseTarget[e]}on(e,xe){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(xe)}notify(e,...xe){this.events[e]&&this.events[e].notify(...xe)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(e,xe){return e.compareDocumentPosition(xe)&2?1:-1}getBaseTargetFromProps(e,xe){return e.style?e.style[xe]:void 0}removeValueFromRenderState(e,{vars:xe,style:_e}){delete xe[e],delete _e[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:xe,..._e},{transformValues:Ee},Se){let Ae=getOrigin(_e,e||{},this);if(Ee&&(xe&&(xe=Ee(xe)),_e&&(_e=Ee(_e)),Ae&&(Ae=Ee(Ae))),Se){checkTargetForNewValues(this,_e,Ae);const Re=parseDomVariant(this,_e,Ae,xe);xe=Re.transitionEnd,_e=Re.target}return{transition:e,transitionEnd:xe,..._e}}}function getComputedStyle$3(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,xe){if(transformProps.has(xe)){const _e=getDefaultValueType(xe);return _e&&_e.default||0}else{const _e=getComputedStyle$3(e),Ee=(isCSSVariableName(xe)?_e.getPropertyValue(xe):_e[xe])||0;return typeof Ee=="string"?Ee.trim():Ee}}measureInstanceViewportBox(e,{transformPagePoint:xe}){return measureViewportBox(e,xe)}build(e,xe,_e,Ee){buildHTMLStyles(e,xe,_e,Ee.transformTemplate)}scrapeMotionValuesFromProps(e,xe){return scrapeMotionValuesFromProps$1(e,xe)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",xe=>{this.current&&(this.current.textContent=`${xe}`)}))}renderInstance(e,xe,_e,Ee){renderHTML(e,xe,_e,Ee)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,xe){return e[xe]}readValueFromInstance(e,xe){if(transformProps.has(xe)){const _e=getDefaultValueType(xe);return _e&&_e.default||0}return xe=camelCaseAttributes.has(xe)?xe:camelToDash(xe),e.getAttribute(xe)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(e,xe){return scrapeMotionValuesFromProps(e,xe)}build(e,xe,_e,Ee){buildSVGAttrs(e,xe,_e,this.isSVGTag,Ee.transformTemplate)}renderInstance(e,xe,_e,Ee){renderSVG(e,xe,_e,Ee)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e,{enableHardwareAcceleration:!1}):new HTMLVisualElement(e,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((t,e)=>createDomMotionConfig(t,e,preloadedFeatures,createDomVisualElement));var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(t,e)=>{const xe=reactExports.forwardRef(({color:_e="currentColor",size:Ee=24,strokeWidth:Se=2,absoluteStrokeWidth:Ae,children:Re,...Pe},Te)=>reactExports.createElement("svg",{ref:Te,...defaultAttributes,width:Ee,height:Ee,stroke:_e,strokeWidth:Ae?Number(Se)*24/Number(Ee):Se,className:`lucide lucide-${toKebabCase(t)}`,...Pe},[...e.map(([Ie,je])=>reactExports.createElement(Ie,je)),...(Array.isArray(Re)?Re:[Re])||[]]));return xe.displayName=`${t}`,xe},Atom=createLucideIcon("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]),Award=createLucideIcon("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),BookOpenText=createLucideIcon("BookOpenText",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}],["path",{d:"M6 8h2",key:"30oboj"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M16 12h2",key:"7q9ll5"}]]),BookOpen=createLucideIcon("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Brain=createLucideIcon("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Calculator$1=createLucideIcon("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),CalendarCheck=createLucideIcon("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Code2=createLucideIcon("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Flame=createLucideIcon("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),FlaskConical=createLucideIcon("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]),Headphones=createLucideIcon("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Landmark=createLucideIcon("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Palette=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),PencilLine=createLucideIcon("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]),PlayCircle=createLucideIcon("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),PlusCircle=createLucideIcon("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Rocket=createLucideIcon("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ShieldCheck=createLucideIcon("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Smile=createLucideIcon("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),User$1=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function r(t){var e,xe,_e="";if(typeof t=="string"||typeof t=="number")_e+=t;else if(typeof t=="object")if(Array.isArray(t)){var Ee=t.length;for(e=0;e<Ee;e++)t[e]&&(xe=r(t[e]))&&(_e&&(_e+=" "),_e+=xe)}else for(xe in t)t[xe]&&(_e&&(_e+=" "),_e+=xe);return _e}function clsx(){for(var t,e,xe=0,_e="",Ee=arguments.length;xe<Ee;xe++)(t=arguments[xe])&&(e=r(t))&&(_e&&(_e+=" "),_e+=e);return _e}function twJoin(){for(var t=0,e,xe,_e="";t<arguments.length;)(e=arguments[t++])&&(xe=toValue(e))&&(_e&&(_e+=" "),_e+=xe);return _e}function toValue(t){if(typeof t=="string")return t;for(var e,xe="",_e=0;_e<t.length;_e++)t[_e]&&(e=toValue(t[_e]))&&(xe&&(xe+=" "),xe+=e);return xe}var CLASS_PART_SEPARATOR="-";function createClassUtils(t){var e=createClassMap(t),xe=t.conflictingClassGroups,_e=t.conflictingClassGroupModifiers,Ee=_e===void 0?{}:_e;function Se(Re){var Pe=Re.split(CLASS_PART_SEPARATOR);return Pe[0]===""&&Pe.length!==1&&Pe.shift(),getGroupRecursive(Pe,e)||getGroupIdForArbitraryProperty(Re)}function Ae(Re,Pe){var Te=xe[Re]||[];return Pe&&Ee[Re]?[].concat(Te,Ee[Re]):Te}return{getClassGroupId:Se,getConflictingClassGroupIds:Ae}}function getGroupRecursive(t,e){var Ae;if(t.length===0)return e.classGroupId;var xe=t[0],_e=e.nextPart.get(xe),Ee=_e?getGroupRecursive(t.slice(1),_e):void 0;if(Ee)return Ee;if(e.validators.length!==0){var Se=t.join(CLASS_PART_SEPARATOR);return(Ae=e.validators.find(function(Re){var Pe=Re.validator;return Pe(Se)}))==null?void 0:Ae.classGroupId}}var arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(t){if(arbitraryPropertyRegex.test(t)){var e=arbitraryPropertyRegex.exec(t)[1],xe=e==null?void 0:e.substring(0,e.indexOf(":"));if(xe)return"arbitrary.."+xe}}function createClassMap(t){var e=t.theme,xe=t.prefix,_e={nextPart:new Map,validators:[]},Ee=getPrefixedClassGroupEntries(Object.entries(t.classGroups),xe);return Ee.forEach(function(Se){var Ae=Se[0],Re=Se[1];processClassesRecursively(Re,_e,Ae,e)}),_e}function processClassesRecursively(t,e,xe,_e){t.forEach(function(Ee){if(typeof Ee=="string"){var Se=Ee===""?e:getPart(e,Ee);Se.classGroupId=xe;return}if(typeof Ee=="function"){if(isThemeGetter(Ee)){processClassesRecursively(Ee(_e),e,xe,_e);return}e.validators.push({validator:Ee,classGroupId:xe});return}Object.entries(Ee).forEach(function(Ae){var Re=Ae[0],Pe=Ae[1];processClassesRecursively(Pe,getPart(e,Re),xe,_e)})})}function getPart(t,e){var xe=t;return e.split(CLASS_PART_SEPARATOR).forEach(function(_e){xe.nextPart.has(_e)||xe.nextPart.set(_e,{nextPart:new Map,validators:[]}),xe=xe.nextPart.get(_e)}),xe}function isThemeGetter(t){return t.isThemeGetter}function getPrefixedClassGroupEntries(t,e){return e?t.map(function(xe){var _e=xe[0],Ee=xe[1],Se=Ee.map(function(Ae){return typeof Ae=="string"?e+Ae:typeof Ae=="object"?Object.fromEntries(Object.entries(Ae).map(function(Re){var Pe=Re[0],Te=Re[1];return[e+Pe,Te]})):Ae});return[_e,Se]}):t}function createLruCache(t){if(t<1)return{get:function(){},set:function(){}};var e=0,xe=new Map,_e=new Map;function Ee(Se,Ae){xe.set(Se,Ae),e++,e>t&&(e=0,_e=xe,xe=new Map)}return{get:function(Ae){var Re=xe.get(Ae);if(Re!==void 0)return Re;if((Re=_e.get(Ae))!==void 0)return Ee(Ae,Re),Re},set:function(Ae,Re){xe.has(Ae)?xe.set(Ae,Re):Ee(Ae,Re)}}}var IMPORTANT_MODIFIER="!";function createSplitModifiers(t){var e=t.separator||":",xe=e.length===1,_e=e[0],Ee=e.length;return function(Ae){for(var Re=[],Pe=0,Te=0,Ie,je=0;je<Ae.length;je++){var Oe=Ae[je];if(Pe===0){if(Oe===_e&&(xe||Ae.slice(je,je+Ee)===e)){Re.push(Ae.slice(Te,je)),Te=je+Ee;continue}if(Oe==="/"){Ie=je;continue}}Oe==="["?Pe++:Oe==="]"&&Pe--}var ke=Re.length===0?Ae:Ae.substring(Te),Fe=ke.startsWith(IMPORTANT_MODIFIER),Me=Fe?ke.substring(1):ke,De=Ie&&Ie>Te?Ie-Te:void 0;return{modifiers:Re,hasImportantModifier:Fe,baseClassName:Me,maybePostfixModifierPosition:De}}}function sortModifiers(t){if(t.length<=1)return t;var e=[],xe=[];return t.forEach(function(_e){var Ee=_e[0]==="[";Ee?(e.push.apply(e,xe.sort().concat([_e])),xe=[]):xe.push(_e)}),e.push.apply(e,xe.sort()),e}function createConfigUtils(t){return{cache:createLruCache(t.cacheSize),splitModifiers:createSplitModifiers(t),...createClassUtils(t)}}var SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(t,e){var xe=e.splitModifiers,_e=e.getClassGroupId,Ee=e.getConflictingClassGroupIds,Se=new Set;return t.trim().split(SPLIT_CLASSES_REGEX).map(function(Ae){var Re=xe(Ae),Pe=Re.modifiers,Te=Re.hasImportantModifier,Ie=Re.baseClassName,je=Re.maybePostfixModifierPosition,Oe=_e(je?Ie.substring(0,je):Ie),ke=!!je;if(!Oe){if(!je)return{isTailwindClass:!1,originalClassName:Ae};if(Oe=_e(Ie),!Oe)return{isTailwindClass:!1,originalClassName:Ae};ke=!1}var Fe=sortModifiers(Pe).join(":"),Me=Te?Fe+IMPORTANT_MODIFIER:Fe;return{isTailwindClass:!0,modifierId:Me,classGroupId:Oe,originalClassName:Ae,hasPostfixModifier:ke}}).reverse().filter(function(Ae){if(!Ae.isTailwindClass)return!0;var Re=Ae.modifierId,Pe=Ae.classGroupId,Te=Ae.hasPostfixModifier,Ie=Re+Pe;return Se.has(Ie)?!1:(Se.add(Ie),Ee(Pe,Te).forEach(function(je){return Se.add(Re+je)}),!0)}).reverse().map(function(Ae){return Ae.originalClassName}).join(" ")}function createTailwindMerge(){for(var t=arguments.length,e=new Array(t),xe=0;xe<t;xe++)e[xe]=arguments[xe];var _e,Ee,Se,Ae=Re;function Re(Te){var Ie=e[0],je=e.slice(1),Oe=je.reduce(function(ke,Fe){return Fe(ke)},Ie());return _e=createConfigUtils(Oe),Ee=_e.cache.get,Se=_e.cache.set,Ae=Pe,Pe(Te)}function Pe(Te){var Ie=Ee(Te);if(Ie)return Ie;var je=mergeClassList(Te,_e);return Se(Te,je),je}return function(){return Ae(twJoin.apply(null,arguments))}}function fromTheme(t){var e=function(_e){return _e[t]||[]};return e.isThemeGetter=!0,e}var arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,shadowRegex=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength(t){return isNumber$3(t)||stringLengths.has(t)||fractionRegex.test(t)||isArbitraryLength(t)}function isArbitraryLength(t){return getIsArbitraryValue(t,"length",isLengthOnly)}function isArbitrarySize(t){return getIsArbitraryValue(t,"size",isNever)}function isArbitraryPosition(t){return getIsArbitraryValue(t,"position",isNever)}function isArbitraryUrl(t){return getIsArbitraryValue(t,"url",isUrl)}function isArbitraryNumber(t){return getIsArbitraryValue(t,"number",isNumber$3)}function isNumber$3(t){return!Number.isNaN(Number(t))}function isPercent$1(t){return t.endsWith("%")&&isNumber$3(t.slice(0,-1))}function isInteger$1(t){return isIntegerOnly(t)||getIsArbitraryValue(t,"number",isIntegerOnly)}function isArbitraryValue(t){return arbitraryValueRegex.test(t)}function isAny(){return!0}function isTshirtSize(t){return tshirtUnitRegex.test(t)}function isArbitraryShadow(t){return getIsArbitraryValue(t,"",isShadow)}function getIsArbitraryValue(t,e,xe){var _e=arbitraryValueRegex.exec(t);return _e?_e[1]?_e[1]===e:xe(_e[2]):!1}function isLengthOnly(t){return lengthUnitRegex.test(t)}function isNever(){return!1}function isUrl(t){return t.startsWith("url(")}function isIntegerOnly(t){return Number.isInteger(Number(t))}function isShadow(t){return shadowRegex.test(t)}function getDefaultConfig(){var t=fromTheme("colors"),e=fromTheme("spacing"),xe=fromTheme("blur"),_e=fromTheme("brightness"),Ee=fromTheme("borderColor"),Se=fromTheme("borderRadius"),Ae=fromTheme("borderSpacing"),Re=fromTheme("borderWidth"),Pe=fromTheme("contrast"),Te=fromTheme("grayscale"),Ie=fromTheme("hueRotate"),je=fromTheme("invert"),Oe=fromTheme("gap"),ke=fromTheme("gradientColorStops"),Fe=fromTheme("gradientColorStopPositions"),Me=fromTheme("inset"),De=fromTheme("margin"),Ue=fromTheme("opacity"),ze=fromTheme("padding"),We=fromTheme("saturate"),Ye=fromTheme("scale"),Xe=fromTheme("sepia"),ir=fromTheme("skew"),Qe=fromTheme("space"),Ke=fromTheme("translate"),rr=function(){return["auto","contain","none"]},cr=function(){return["auto","hidden","clip","visible","scroll"]},Ze=function(){return["auto",isArbitraryValue,e]},er=function(){return[isArbitraryValue,e]},sr=function(){return["",isLength]},fr=function(){return["auto",isNumber$3,isArbitraryValue]},_r=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Er=function(){return["solid","dashed","dotted","double","none"]},yr=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},mr=function(){return["start","end","center","between","around","evenly","stretch"]},Pr=function(){return["","0",isArbitraryValue]},Cr=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},wr=function(){return[isNumber$3,isArbitraryNumber]},or=function(){return[isNumber$3,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:wr(),borderColor:[t],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:er(),borderWidth:sr(),contrast:wr(),grayscale:Pr(),hueRotate:or(),invert:Pr(),gap:er(),gradientColorStops:[t],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:Ze(),margin:Ze(),opacity:wr(),padding:er(),saturate:wr(),scale:wr(),sepia:Pr(),skew:or(),space:er(),translate:er()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Cr()}],"break-before":[{"break-before":Cr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(_r(),[isArbitraryValue])}],overflow:[{overflow:cr()}],"overflow-x":[{"overflow-x":cr()}],"overflow-y":[{"overflow-y":cr()}],overscroll:[{overscroll:rr()}],"overscroll-x":[{"overscroll-x":rr()}],"overscroll-y":[{"overscroll-y":rr()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Me]}],"inset-x":[{"inset-x":[Me]}],"inset-y":[{"inset-y":[Me]}],start:[{start:[Me]}],end:[{end:[Me]}],top:[{top:[Me]}],right:[{right:[Me]}],bottom:[{bottom:[Me]}],left:[{left:[Me]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger$1]}],basis:[{basis:Ze()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Pr()}],shrink:[{shrink:Pr()}],order:[{order:["first","last","none",isInteger$1]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger$1]},isArbitraryValue]}],"col-start":[{"col-start":fr()}],"col-end":[{"col-end":fr()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger$1]},isArbitraryValue]}],"row-start":[{"row-start":fr()}],"row-end":[{"row-end":fr()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[Oe]}],"gap-x":[{"gap-x":[Oe]}],"gap-y":[{"gap-y":[Oe]}],"justify-content":[{justify:["normal"].concat(mr())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(mr(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(mr(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ze]}],px:[{px:[ze]}],py:[{py:[ze]}],ps:[{ps:[ze]}],pe:[{pe:[ze]}],pt:[{pt:[ze]}],pr:[{pr:[ze]}],pb:[{pb:[ze]}],pl:[{pl:[ze]}],m:[{m:[De]}],mx:[{mx:[De]}],my:[{my:[De]}],ms:[{ms:[De]}],me:[{me:[De]}],mt:[{mt:[De]}],mr:[{mr:[De]}],mb:[{mb:[De]}],ml:[{ml:[De]}],"space-x":[{"space-x":[Qe]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Qe]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",isArbitraryValue,e]}],"min-w":[{"min-w":["min","max","fit",isArbitraryValue,isLength]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryValue]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isArbitraryValue,isLength]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$3,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isArbitraryValue,isLength]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[Ue]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Er(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength]}],"underline-offset":[{"underline-offset":["auto",isArbitraryValue,isLength]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:er()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[Ue]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(_r(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[Fe]}],"gradient-via-pos":[{via:[Fe]}],"gradient-to-pos":[{to:[Fe]}],"gradient-from":[{from:[ke]}],"gradient-via":[{via:[ke]}],"gradient-to":[{to:[ke]}],rounded:[{rounded:[Se]}],"rounded-s":[{"rounded-s":[Se]}],"rounded-e":[{"rounded-e":[Se]}],"rounded-t":[{"rounded-t":[Se]}],"rounded-r":[{"rounded-r":[Se]}],"rounded-b":[{"rounded-b":[Se]}],"rounded-l":[{"rounded-l":[Se]}],"rounded-ss":[{"rounded-ss":[Se]}],"rounded-se":[{"rounded-se":[Se]}],"rounded-ee":[{"rounded-ee":[Se]}],"rounded-es":[{"rounded-es":[Se]}],"rounded-tl":[{"rounded-tl":[Se]}],"rounded-tr":[{"rounded-tr":[Se]}],"rounded-br":[{"rounded-br":[Se]}],"rounded-bl":[{"rounded-bl":[Se]}],"border-w":[{border:[Re]}],"border-w-x":[{"border-x":[Re]}],"border-w-y":[{"border-y":[Re]}],"border-w-s":[{"border-s":[Re]}],"border-w-e":[{"border-e":[Re]}],"border-w-t":[{"border-t":[Re]}],"border-w-r":[{"border-r":[Re]}],"border-w-b":[{"border-b":[Re]}],"border-w-l":[{"border-l":[Re]}],"border-opacity":[{"border-opacity":[Ue]}],"border-style":[{border:[].concat(Er(),["hidden"])}],"divide-x":[{"divide-x":[Re]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[Re]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[Ue]}],"divide-style":[{divide:Er()}],"border-color":[{border:[Ee]}],"border-color-x":[{"border-x":[Ee]}],"border-color-y":[{"border-y":[Ee]}],"border-color-t":[{"border-t":[Ee]}],"border-color-r":[{"border-r":[Ee]}],"border-color-b":[{"border-b":[Ee]}],"border-color-l":[{"border-l":[Ee]}],"divide-color":[{divide:[Ee]}],"outline-style":[{outline:[""].concat(Er())}],"outline-offset":[{"outline-offset":[isArbitraryValue,isLength]}],"outline-w":[{outline:[isLength]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:sr()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[Ue]}],"ring-offset-w":[{"ring-offset":[isLength]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[Ue]}],"mix-blend":[{"mix-blend":yr()}],"bg-blend":[{"bg-blend":yr()}],filter:[{filter:["","none"]}],blur:[{blur:[xe]}],brightness:[{brightness:[_e]}],contrast:[{contrast:[Pe]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[Te]}],"hue-rotate":[{"hue-rotate":[Ie]}],invert:[{invert:[je]}],saturate:[{saturate:[We]}],sepia:[{sepia:[Xe]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[xe]}],"backdrop-brightness":[{"backdrop-brightness":[_e]}],"backdrop-contrast":[{"backdrop-contrast":[Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":[Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ie]}],"backdrop-invert":[{"backdrop-invert":[je]}],"backdrop-opacity":[{"backdrop-opacity":[Ue]}],"backdrop-saturate":[{"backdrop-saturate":[We]}],"backdrop-sepia":[{"backdrop-sepia":[Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[Ae]}],"border-spacing-x":[{"border-spacing-x":[Ae]}],"border-spacing-y":[{"border-spacing-y":[Ae]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:or()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:or()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Ye]}],"scale-x":[{"scale-x":[Ye]}],"scale-y":[{"scale-y":[Ye]}],rotate:[{rotate:[isInteger$1,isArbitraryValue]}],"translate-x":[{"translate-x":[Ke]}],"translate-y":[{"translate-y":[Ke]}],"skew-x":[{"skew-x":[ir]}],"skew-y":[{"skew-y":[ir]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":er()}],"scroll-mx":[{"scroll-mx":er()}],"scroll-my":[{"scroll-my":er()}],"scroll-ms":[{"scroll-ms":er()}],"scroll-me":[{"scroll-me":er()}],"scroll-mt":[{"scroll-mt":er()}],"scroll-mr":[{"scroll-mr":er()}],"scroll-mb":[{"scroll-mb":er()}],"scroll-ml":[{"scroll-ml":er()}],"scroll-p":[{"scroll-p":er()}],"scroll-px":[{"scroll-px":er()}],"scroll-py":[{"scroll-py":er()}],"scroll-ps":[{"scroll-ps":er()}],"scroll-pe":[{"scroll-pe":er()}],"scroll-pt":[{"scroll-pt":er()}],"scroll-pr":[{"scroll-pr":er()}],"scroll-pb":[{"scroll-pb":er()}],"scroll-pl":[{"scroll-pl":er()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryNumber]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var twMerge=createTailwindMerge(getDefaultConfig);function cn$1(...t){return twMerge(clsx(t))}function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let xe=!1;const _e=t.map(Ee=>{const Se=setRef(Ee,e);return!xe&&typeof Se=="function"&&(xe=!0),Se});if(xe)return()=>{for(let Ee=0;Ee<_e.length;Ee++){const Se=_e[Ee];typeof Se=="function"?Se():setRef(t[Ee],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}function createSlot(t){const e=createSlotClone(t),xe=reactExports.forwardRef((_e,Ee)=>{const{children:Se,...Ae}=_e,Re=reactExports.Children.toArray(Se),Pe=Re.find(isSlottable);if(Pe){const Te=Pe.props.children,Ie=Re.map(je=>je===Pe?reactExports.Children.count(Te)>1?reactExports.Children.only(null):reactExports.isValidElement(Te)?Te.props.children:null:je);return jsxRuntimeExports.jsx(e,{...Ae,ref:Ee,children:reactExports.isValidElement(Te)?reactExports.cloneElement(Te,void 0,Ie):null})}return jsxRuntimeExports.jsx(e,{...Ae,ref:Ee,children:Se})});return xe.displayName=`${t}.Slot`,xe}var Slot=createSlot("Slot");function createSlotClone(t){const e=reactExports.forwardRef((xe,_e)=>{const{children:Ee,...Se}=xe,Ae=reactExports.isValidElement(Ee)?getElementRef$1(Ee):void 0,Re=useComposedRefs(Ae,_e);if(reactExports.isValidElement(Ee)){const Pe=mergeProps(Se,Ee.props);return Ee.type!==reactExports.Fragment&&(Pe.ref=Re),reactExports.cloneElement(Ee,Pe)}return reactExports.Children.count(Ee)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(t,e){const xe={...e};for(const _e in e){const Ee=t[_e],Se=e[_e];/^on[A-Z]/.test(_e)?Ee&&Se?xe[_e]=(...Re)=>{const Pe=Se(...Re);return Ee(...Re),Pe}:Ee&&(xe[_e]=Ee):_e==="style"?xe[_e]={...Ee,...Se}:_e==="className"&&(xe[_e]=[Ee,Se].filter(Boolean).join(" "))}return{...t,...xe}}function getElementRef$1(t){var _e,Ee;let e=(_e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:_e.get,xe=e&&"isReactWarning"in e&&e.isReactWarning;return xe?t.ref:(e=(Ee=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:Ee.get,xe=e&&"isReactWarning"in e&&e.isReactWarning,xe?t.props.ref:t.props.ref||t.ref)}const falsyToString=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=clsx,cva=(t,e)=>xe=>{var _e;if((e==null?void 0:e.variants)==null)return cx(t,xe==null?void 0:xe.class,xe==null?void 0:xe.className);const{variants:Ee,defaultVariants:Se}=e,Ae=Object.keys(Ee).map(Te=>{const Ie=xe==null?void 0:xe[Te],je=Se==null?void 0:Se[Te];if(Ie===null)return null;const Oe=falsyToString(Ie)||falsyToString(je);return Ee[Te][Oe]}),Re=xe&&Object.entries(xe).reduce((Te,Ie)=>{let[je,Oe]=Ie;return Oe===void 0||(Te[je]=Oe),Te},{}),Pe=e==null||(_e=e.compoundVariants)===null||_e===void 0?void 0:_e.reduce((Te,Ie)=>{let{class:je,className:Oe,...ke}=Ie;return Object.entries(ke).every(Fe=>{let[Me,De]=Fe;return Array.isArray(De)?De.includes({...Se,...Re}[Me]):{...Se,...Re}[Me]===De})?[...Te,je,Oe]:Te},[]);return cx(t,Ae,Pe,xe==null?void 0:xe.class,xe==null?void 0:xe.className)},buttonVariants=cva("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=React.forwardRef(({className:t,variant:e,size:xe,asChild:_e=!1,...Ee},Se)=>{const Ae=_e?Slot:"button";return jsxRuntimeExports.jsx(Ae,{className:cn$1(buttonVariants({variant:e,size:xe,className:t})),ref:Se,...Ee})});Button.displayName="Button";const getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let xe=0;for(let _e=0;_e<t.length;_e++){let Ee=t.charCodeAt(_e);Ee<128?e[xe++]=Ee:Ee<2048?(e[xe++]=Ee>>6|192,e[xe++]=Ee&63|128):(Ee&64512)===55296&&_e+1<t.length&&(t.charCodeAt(_e+1)&64512)===56320?(Ee=65536+((Ee&1023)<<10)+(t.charCodeAt(++_e)&1023),e[xe++]=Ee>>18|240,e[xe++]=Ee>>12&63|128,e[xe++]=Ee>>6&63|128,e[xe++]=Ee&63|128):(e[xe++]=Ee>>12|224,e[xe++]=Ee>>6&63|128,e[xe++]=Ee&63|128)}return e},byteArrayToString=function(t){const e=[];let xe=0,_e=0;for(;xe<t.length;){const Ee=t[xe++];if(Ee<128)e[_e++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const Se=t[xe++];e[_e++]=String.fromCharCode((Ee&31)<<6|Se&63)}else if(Ee>239&&Ee<365){const Se=t[xe++],Ae=t[xe++],Re=t[xe++],Pe=((Ee&7)<<18|(Se&63)<<12|(Ae&63)<<6|Re&63)-65536;e[_e++]=String.fromCharCode(55296+(Pe>>10)),e[_e++]=String.fromCharCode(56320+(Pe&1023))}else{const Se=t[xe++],Ae=t[xe++];e[_e++]=String.fromCharCode((Ee&15)<<12|(Se&63)<<6|Ae&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let Ee=0;Ee<t.length;Ee+=3){const Se=t[Ee],Ae=Ee+1<t.length,Re=Ae?t[Ee+1]:0,Pe=Ee+2<t.length,Te=Pe?t[Ee+2]:0,Ie=Se>>2,je=(Se&3)<<4|Re>>4;let Oe=(Re&15)<<2|Te>>6,ke=Te&63;Pe||(ke=64,Ae||(Oe=64)),_e.push(xe[Ie],xe[je],xe[Oe],xe[ke])}return _e.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const xe=e?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let Ee=0;Ee<t.length;){const Se=xe[t.charAt(Ee++)],Re=Ee<t.length?xe[t.charAt(Ee)]:0;++Ee;const Te=Ee<t.length?xe[t.charAt(Ee)]:64;++Ee;const je=Ee<t.length?xe[t.charAt(Ee)]:64;if(++Ee,Se==null||Re==null||Te==null||je==null)throw new DecodeBase64StringError;const Oe=Se<<2|Re>>4;if(_e.push(Oe),Te!==64){const ke=Re<<4&240|Te>>2;if(_e.push(ke),je!==64){const Fe=Te<<6&192|je;_e.push(Fe)}}}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,xe;return(xe=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||xe===void 0?void 0:xe[t]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,xe)=>{this.resolve=e,this.reject=xe})}wrapCallback(e){return(xe,_e)=>{xe?this.reject(xe):this.resolve(_e),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(xe):e(xe,_e))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(t){return t.endsWith(".cloudworkstations.dev")}async function pingServer(t){return(await fetch(t,{credentials:"include"})).ok}const emulatorStatus={};function getEmulatorSummary(){const t={prod:[],emulator:[]};for(const e of Object.keys(emulatorStatus))emulatorStatus[e]?t.emulator.push(e):t.prod.push(e);return t}function getOrCreateEl(t){let e=document.getElementById(t),xe=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),xe=!0),{created:xe,element:e}}let previouslyDismissed=!1;function updateEmulatorBanner(t,e){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[t]===e||emulatorStatus[t]||previouslyDismissed)return;emulatorStatus[t]=e;function xe(Oe){return`__firebase__banner__${Oe}`}const _e="__firebase__banner",Se=getEmulatorSummary().prod.length>0;function Ae(){const Oe=document.getElementById(_e);Oe&&Oe.remove()}function Re(Oe){Oe.style.display="flex",Oe.style.background="#7faaf0",Oe.style.position="fixed",Oe.style.bottom="5px",Oe.style.left="5px",Oe.style.padding=".5em",Oe.style.borderRadius="5px",Oe.style.alignItems="center"}function Pe(Oe,ke){Oe.setAttribute("width","24"),Oe.setAttribute("id",ke),Oe.setAttribute("height","24"),Oe.setAttribute("viewBox","0 0 24 24"),Oe.setAttribute("fill","none"),Oe.style.marginLeft="-6px"}function Te(){const Oe=document.createElement("span");return Oe.style.cursor="pointer",Oe.style.marginLeft="16px",Oe.style.fontSize="24px",Oe.innerHTML=" &times;",Oe.onclick=()=>{previouslyDismissed=!0,Ae()},Oe}function Ie(Oe,ke){Oe.setAttribute("id",ke),Oe.innerText="Learn more",Oe.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Oe.setAttribute("target","__blank"),Oe.style.paddingLeft="5px",Oe.style.textDecoration="underline"}function je(){const Oe=getOrCreateEl(_e),ke=xe("text"),Fe=document.getElementById(ke)||document.createElement("span"),Me=xe("learnmore"),De=document.getElementById(Me)||document.createElement("a"),Ue=xe("preprendIcon"),ze=document.getElementById(Ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Oe.created){const We=Oe.element;Re(We),Ie(De,Me);const Ye=Te();Pe(ze,Ue),We.append(ze,Fe,De,Ye),document.body.appendChild(We)}Se?(Fe.innerText="Preview backend disconnected.",ze.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ze.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Fe.innerText="Preview backend running in this workspace."),Fe.setAttribute("id",ke)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",je):je()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var t;const e=(t=getDefaults())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let xe=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(_e);Ee.onsuccess=()=>{Ee.result.close(),xe||self.indexedDB.deleteDatabase(_e),t(!0)},Ee.onupgradeneeded=()=>{xe=!1},Ee.onerror=()=>{var Se;e(((Se=Ee.error)===null||Se===void 0?void 0:Se.message)||"")}}catch(xe){e(xe)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,xe,_e){super(xe),this.code=e,this.customData=_e,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,xe,_e){this.service=e,this.serviceName=xe,this.errors=_e}create(e,...xe){const _e=xe[0]||{},Ee=`${this.service}/${e}`,Se=this.errors[e],Ae=Se?replaceTemplate(Se,_e):"Error",Re=`${this.serviceName}: ${Ae} (${Ee}).`;return new FirebaseError(Ee,Re,_e)}}function replaceTemplate(t,e){return t.replace(PATTERN,(xe,_e)=>{const Ee=e[_e];return Ee!=null?String(Ee):`<${_e}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function deepEqual$2(t,e){if(t===e)return!0;const xe=Object.keys(t),_e=Object.keys(e);for(const Ee of xe){if(!_e.includes(Ee))return!1;const Se=t[Ee],Ae=e[Ee];if(isObject$2(Se)&&isObject$2(Ae)){if(!deepEqual$2(Se,Ae))return!1}else if(Se!==Ae)return!1}for(const Ee of _e)if(!xe.includes(Ee))return!1;return!0}function isObject$2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[xe,_e]of Object.entries(t))Array.isArray(_e)?_e.forEach(Ee=>{e.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ee))}):e.push(encodeURIComponent(xe)+"="+encodeURIComponent(_e));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[Ee,Se]=_e.split("=");e[decodeURIComponent(Ee)]=decodeURIComponent(Se)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const xe=t.indexOf("#",e);return t.substring(e,xe>0?xe:void 0)}function createSubscribe(t,e){const xe=new ObserverProxy(t,e);return xe.subscribe.bind(xe)}class ObserverProxy{constructor(e,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{e(this)}).catch(_e=>{this.error(_e)})}next(e){this.forEachObserver(xe=>{xe.next(e)})}error(e){this.forEachObserver(xe=>{xe.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,xe,_e){let Ee;if(e===void 0&&xe===void 0&&_e===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?Ee=e:Ee={next:e,error:xe,complete:_e},Ee.next===void 0&&(Ee.next=noop$2),Ee.error===void 0&&(Ee.error=noop$2),Ee.complete===void 0&&(Ee.complete=noop$2);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),Se}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,e)}sendOne(e,xe){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{xe(this.observers[e])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const xe of e)if(xe in t&&typeof t[xe]=="function")return!0;return!1}function noop$2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,xe,_e){this.name=e,this.instanceFactory=xe,this.type=_e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,xe){this.name=e,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const xe=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(xe)){const _e=new Deferred;if(this.instancesDeferred.set(xe,_e),this.isInitialized(xe)||this.shouldAutoInitialize())try{const Ee=this.getOrInitializeService({instanceIdentifier:xe});Ee&&_e.resolve(Ee)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(e){var xe;const _e=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),Ee=(xe=e==null?void 0:e.optional)!==null&&xe!==void 0?xe:!1;if(this.isInitialized(_e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:_e})}catch(Se){if(Ee)return null;throw Se}else{if(Ee)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[xe,_e]of this.instancesDeferred.entries()){const Ee=this.normalizeInstanceIdentifier(xe);try{const Se=this.getOrInitializeService({instanceIdentifier:Ee});_e.resolve(Se)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...e.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:xe={}}=e,_e=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(_e))throw Error(`${this.name}(${_e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ee=this.getOrInitializeService({instanceIdentifier:_e,options:xe});for(const[Se,Ae]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(Se);_e===Re&&Ae.resolve(Ee)}return Ee}onInit(e,xe){var _e;const Ee=this.normalizeInstanceIdentifier(xe),Se=(_e=this.onInitCallbacks.get(Ee))!==null&&_e!==void 0?_e:new Set;Se.add(e),this.onInitCallbacks.set(Ee,Se);const Ae=this.instances.get(Ee);return Ae&&e(Ae,Ee),()=>{Se.delete(e)}}invokeOnInitCallbacks(e,xe){const _e=this.onInitCallbacks.get(xe);if(_e)for(const Ee of _e)try{Ee(e,xe)}catch{}}getOrInitializeService({instanceIdentifier:e,options:xe={}}){let _e=this.instances.get(e);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:xe}),this.instances.set(e,_e),this.instancesOptions.set(e,xe),this.invokeOnInitCallbacks(_e,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,_e)}catch{}return _e||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const xe=this.getProvider(e.name);if(xe.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);xe.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const xe=new Provider(e,this);return this.providers.set(e,xe),xe}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...xe)=>{if(e<t.logLevel)return;const _e=new Date().toISOString(),Ee=ConsoleMethod[e];if(Ee)console[Ee](`[${_e}]  ${t.name}:`,...xe);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(xe=>t instanceof xe);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((xe,_e)=>{const Ee=()=>{t.removeEventListener("success",Se),t.removeEventListener("error",Ae)},Se=()=>{xe(wrap(t.result)),Ee()},Ae=()=>{_e(t.error),Ee()};t.addEventListener("success",Se),t.addEventListener("error",Ae)});return e.then(xe=>{xe instanceof IDBCursor&&cursorRequestMap.set(xe,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((xe,_e)=>{const Ee=()=>{t.removeEventListener("complete",Se),t.removeEventListener("error",Ae),t.removeEventListener("abort",Ae)},Se=()=>{xe(),Ee()},Ae=()=>{_e(t.error||new DOMException("AbortError","AbortError")),Ee()};t.addEventListener("complete",Se),t.addEventListener("error",Ae),t.addEventListener("abort",Ae)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,xe){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return wrap(t[e])},set(t,e,xe){return t[e]=xe,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...xe){const _e=t.call(unwrap(this),e,...xe);return transactionStoreNamesMap.set(_e,e.sort?e.sort():[e]),wrap(_e)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:xe,upgrade:_e,blocking:Ee,terminated:Se}={}){const Ae=indexedDB.open(t,e),Re=wrap(Ae);return _e&&Ae.addEventListener("upgradeneeded",Pe=>{_e(wrap(Ae.result),Pe.oldVersion,Pe.newVersion,wrap(Ae.transaction),Pe)}),xe&&Ae.addEventListener("blocked",Pe=>xe(Pe.oldVersion,Pe.newVersion,Pe)),Re.then(Pe=>{Se&&Pe.addEventListener("close",()=>Se()),Ee&&Pe.addEventListener("versionchange",Te=>Ee(Te.oldVersion,Te.newVersion,Te))}).catch(()=>{}),Re}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const xe=e.replace(/FromIndex$/,""),_e=e!==xe,Ee=writeMethods.includes(xe);if(!(xe in(_e?IDBIndex:IDBObjectStore).prototype)||!(Ee||readMethods.includes(xe)))return;const Se=async function(Ae,...Re){const Pe=this.transaction(Ae,Ee?"readwrite":"readonly");let Te=Pe.store;return _e&&(Te=Te.index(Re.shift())),(await Promise.all([Te[xe](...Re),Ee&&Pe.done]))[0]};return cachedMethods.set(e,Se),Se}replaceTraps(t=>({...t,get:(e,xe,_e)=>getMethod(e,xe)||t.get(e,xe,_e),has:(e,xe)=>!!getMethod(e,xe)||t.has(e,xe)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(isVersionServiceProvider(xe)){const _e=xe.getImmediate();return`${_e.library}/${_e.version}`}else return null}).filter(xe=>xe).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1$1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$3="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(xe){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,xe)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const xe of _apps.values())_addComponent(xe,t);for(const xe of _serverApps.values())_addComponent(xe,t);return!0}function _getProvider(t,e){const xe=t.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),t.container.getProvider(e)}function _isFirebaseServerApp(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,xe,_e){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=_e,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(t,e={}){let xe=t;typeof e!="object"&&(e={name:e});const _e=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0},e),Ee=_e.name;if(typeof Ee!="string"||!Ee)throw ERROR_FACTORY.create("bad-app-name",{appName:String(Ee)});if(xe||(xe=getDefaultAppConfig()),!xe)throw ERROR_FACTORY.create("no-options");const Se=_apps.get(Ee);if(Se){if(deepEqual$2(xe,Se.options)&&deepEqual$2(_e,Se.config))return Se;throw ERROR_FACTORY.create("duplicate-app",{appName:Ee})}const Ae=new ComponentContainer(Ee);for(const Pe of _components.values())Ae.addComponent(Pe);const Re=new FirebaseAppImpl(xe,_e,Ae);return _apps.set(Ee,Re),Re}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:t});return e}function registerVersion(t,e,xe){var _e;let Ee=(_e=PLATFORM_LOG_STRING[t])!==null&&_e!==void 0?_e:t;xe&&(Ee+=`-${xe}`);const Se=Ee.match(/\s|\//),Ae=e.match(/\s|\//);if(Se||Ae){const Re=[`Unable to register library "${Ee}" with version "${e}":`];Se&&Re.push(`library name "${Ee}" contains illegal characters (whitespace or "/")`),Se&&Ae&&Re.push("and"),Ae&&Re.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(Re.join(" "));return}_registerComponent(new Component(`${Ee}-version`,()=>({library:Ee,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(STORE_NAME)}catch(xe){console.warn(xe)}}}}).catch(t=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:t.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(t){try{const xe=(await getDbPromise()).transaction(STORE_NAME),_e=await xe.objectStore(STORE_NAME).get(computeKey(t));return await xe.done,_e}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const xe=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger.warn(xe.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const _e=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await _e.objectStore(STORE_NAME).put(e,computeKey(t)),await _e.done}catch(xe){if(xe instanceof FirebaseError)logger.warn(xe.message);else{const _e=ERROR_FACTORY.create("idb-set",{originalErrorMessage:xe==null?void 0:xe.message});logger.warn(_e.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(xe),this._heartbeatsCachePromise=this._storage.read().then(_e=>(this._heartbeatsCache=_e,_e))}async triggerHeartbeat(){var e,xe;try{const Ee=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=getUTCDateString();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((xe=this._heartbeatsCache)===null||xe===void 0?void 0:xe.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===Se||this._heartbeatsCache.heartbeats.some(Ae=>Ae.date===Se))return;if(this._heartbeatsCache.heartbeats.push({date:Se,agent:Ee}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const Ae=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(Ae,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(_e){logger.warn(_e)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const xe=getUTCDateString(),{heartbeatsToSend:_e,unsentEntries:Ee}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Se=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_e}));return this._heartbeatsCache.lastSentHeartbeatDate=xe,Ee.length>0?(this._heartbeatsCache.heartbeats=Ee,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Se}catch(xe){return logger.warn(xe),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const xe=[];let _e=t.slice();for(const Ee of t){const Se=xe.find(Ae=>Ae.agent===Ee.agent);if(Se){if(Se.dates.push(Ee.date),countBytes(xe)>e){Se.dates.pop();break}}else if(xe.push({agent:Ee.agent,dates:[Ee.date]}),countBytes(xe)>e){xe.pop();break}_e=_e.slice(1)}return{heartbeatsToSend:xe,unsentEntries:_e}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const xe=await readHeartbeatsFromIndexedDB(this.app);return xe!=null&&xe.heartbeats?xe:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var xe;if(await this._canUseIndexedDBPromise){const Ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(xe=e.lastSentHeartbeatDate)!==null&&xe!==void 0?xe:Ee.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var xe;if(await this._canUseIndexedDBPromise){const Ee=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(xe=e.lastSentHeartbeatDate)!==null&&xe!==void 0?xe:Ee.lastSentHeartbeatDate,heartbeats:[...Ee.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function getEarliestHeartbeatIdx(t){if(t.length===0)return-1;let e=0,xe=t[0].date;for(let _e=1;_e<t.length;_e++)t[_e].date<xe&&(xe=t[_e].date,e=_e);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$1="firebase",version$2="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$2,"app");var __assign=function(){return __assign=Object.assign||function(e){for(var xe,_e=1,Ee=arguments.length;_e<Ee;_e++){xe=arguments[_e];for(var Se in xe)Object.prototype.hasOwnProperty.call(xe,Se)&&(e[Se]=xe[Se])}return e},__assign.apply(this,arguments)};function __rest(t,e){var xe={};for(var _e in t)Object.prototype.hasOwnProperty.call(t,_e)&&e.indexOf(_e)<0&&(xe[_e]=t[_e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ee=0,_e=Object.getOwnPropertySymbols(t);Ee<_e.length;Ee++)e.indexOf(_e[Ee])<0&&Object.prototype.propertyIsEnumerable.call(t,_e[Ee])&&(xe[_e[Ee]]=t[_e[Ee]]);return xe}function __spreadArray(t,e,xe){if(xe||arguments.length===2)for(var _e=0,Ee=e.length,Se;_e<Ee;_e++)(Se||!(_e in e))&&(Se||(Se=Array.prototype.slice.call(e,0,_e)),Se[_e]=e[_e]);return t.concat(Se||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(t,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${t}`,...e)}function _logError(t,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,xe){const _e=Object.assign(Object.assign({},prodErrorMap()),{[e]:xe});return new ErrorFactory("auth","Firebase",_e).create(e,{appName:t.name})}function _serverAppCurrentUserOperationNotSupportedError(t){return _errorWithCustomMessage(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(t,...e){if(typeof t!="string"){const xe=e[0],_e=[...e.slice(1)];return _e[0]&&(_e[0].appName=t.name),t._errorFactory.create(xe,..._e)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...xe){if(!t)throw createErrorInternal(e,...xe)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,xe){this.shortDelay=e,this.longDelay=xe,debugAssert(xe>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:xe}=t.emulator;return e?`${xe}${e.startsWith("/")?e.slice(1):e}`:xe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,xe,_e){this.fetchImpl=e,xe&&(this.headersImpl=xe),_e&&(this.responseImpl=_e)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,xe,_e,Ee={}){return _performFetchWithErrorHandling(t,Ee,async()=>{let Se={},Ae={};_e&&(e==="GET"?Ae=_e:Se={body:JSON.stringify(_e)});const Re=querystring(Object.assign({key:t.config.apiKey},Ae)).slice(1),Pe=await t._getAdditionalHeaders();Pe["Content-Type"]="application/json",t.languageCode&&(Pe["X-Firebase-Locale"]=t.languageCode);const Te=Object.assign({method:e,headers:Pe},Se);return isCloudflareWorker()||(Te.referrerPolicy="no-referrer"),t.emulatorConfig&&isCloudWorkstation(t.emulatorConfig.host)&&(Te.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(t,t.config.apiHost,xe,Re),Te)})}async function _performFetchWithErrorHandling(t,e,xe){t._canInitEmulator=!1;const _e=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const Ee=new NetworkTimeout(t),Se=await Promise.race([xe(),Ee.promise]);Ee.clearNetworkTimeout();const Ae=await Se.json();if("needConfirmation"in Ae)throw _makeTaggedError(t,"account-exists-with-different-credential",Ae);if(Se.ok&&!("errorMessage"in Ae))return Ae;{const Re=Se.ok?Ae.errorMessage:Ae.error.message,[Pe,Te]=Re.split(" : ");if(Pe==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",Ae);if(Pe==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",Ae);if(Pe==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",Ae);const Ie=_e[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw _errorWithCustomMessage(t,Ie,Te);_fail(t,Ie)}}catch(Ee){if(Ee instanceof FirebaseError)throw Ee;_fail(t,"network-request-failed",{message:String(Ee)})}}async function _performSignInRequest(t,e,xe,_e,Ee={}){const Se=await _performApiRequest(t,e,xe,_e,Ee);return"mfaPendingCredential"in Se&&_fail(t,"multi-factor-auth-required",{_serverResponse:Se}),Se}async function _getFinalTarget(t,e,xe,_e){const Ee=`${e}${xe}?${_e}`,Se=t,Ae=Se.config.emulator?_emulatorUrl(t.config,Ee):`${t.config.apiScheme}://${Ee}`;return CookieAuthProxiedEndpoints.includes(xe)&&(await Se._persistenceManagerAvailable,Se._getPersistenceType()==="COOKIE")?Se._getPersistence()._getFinalTarget(Ae).toString():Ae}function _parseEnforcementState(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((xe,_e)=>{this.timer=setTimeout(()=>_e(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(t,e,xe){const _e={appName:t.name};xe.email&&(_e.email=xe.email),xe.phoneNumber&&(_e.phoneNumber=xe.phoneNumber);const Ee=_createError(t,e,_e);return Ee.customData._tokenResponse=xe,Ee}function isEnterprise(t){return t!==void 0&&t.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const xe of this.recaptchaEnforcementState)if(xe.provider&&xe.provider===e)return _parseEnforcementState(xe.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(t,e){return _performApiRequest(t,"GET","/v2/recaptchaConfig",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const xe=getModularInstance(t),_e=await xe.getIdToken(e),Ee=_parseToken(_e);_assert(Ee&&Ee.exp&&Ee.auth_time&&Ee.iat,xe.auth,"internal-error");const Se=typeof Ee.firebase=="object"?Ee.firebase:void 0,Ae=Se==null?void 0:Se.sign_in_provider;return{claims:Ee,token:_e,authTime:utcTimestampToDateString(secondsStringToMilliseconds(Ee.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(Ee.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(Ee.exp)),signInProvider:Ae||null,signInSecondFactor:(Se==null?void 0:Se.sign_in_second_factor)||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,xe,_e]=t.split(".");if(e===void 0||xe===void 0||_e===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const Ee=base64Decode(xe);return Ee?JSON.parse(Ee):(_logError("Failed to decode base64 JWT payload"),null)}catch(Ee){return _logError("Caught error parsing JWT payload as JSON",Ee==null?void 0:Ee.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,xe=!1){if(xe)return e;try{return await e}catch(_e){throw _e instanceof FirebaseError&&isUserInvalidated(_e)&&t.auth.currentUser===t&&await t.auth.signOut(),_e}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var xe;if(e){const _e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),_e}else{this.errorBackoff=3e4;const Ee=((xe=this.user.stsTokenManager.expirationTime)!==null&&xe!==void 0?xe:0)-Date.now()-3e5;return Math.max(0,Ee)}}schedule(e=!1){if(!this.isRunning)return;const xe=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},xe)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,xe){this.createdAt=e,this.lastLoginAt=xe,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const xe=t.auth,_e=await t.getIdToken(),Ee=await _logoutIfInvalidated(t,getAccountInfo(xe,{idToken:_e}));_assert(Ee==null?void 0:Ee.users.length,xe,"internal-error");const Se=Ee.users[0];t._notifyReloadListener(Se);const Ae=!((e=Se.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(Se.providerUserInfo):[],Re=mergeProviderData(t.providerData,Ae),Pe=t.isAnonymous,Te=!(t.email&&Se.passwordHash)&&!(Re!=null&&Re.length),Ie=Pe?Te:!1,je={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:Re,metadata:new UserMetadata(Se.createdAt,Se.lastLoginAt),isAnonymous:Ie};Object.assign(t,je)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(_e=>!e.some(Ee=>Ee.providerId===_e.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:xe}=e,_e=__rest(e,["providerId"]);return{providerId:xe,uid:_e.rawId||"",displayName:_e.displayName||null,email:_e.email||null,phoneNumber:_e.phoneNumber||null,photoURL:_e.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const xe=await _performFetchWithErrorHandling(t,{},async()=>{const _e=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:Ee,apiKey:Se}=t.config,Ae=await _getFinalTarget(t,Ee,"/v1/token",`key=${Se}`),Re=await t._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Ae,{method:"POST",headers:Re,body:_e})});return{accessToken:xe.access_token,expiresIn:xe.expires_in,refreshToken:xe.refresh_token}}async function revokeToken(t,e){return _performApiRequest(t,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const xe="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,xe)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const xe=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,xe)}async getToken(e,xe=!1){return!xe&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,xe){const{accessToken:_e,refreshToken:Ee,expiresIn:Se}=await requestStsToken(e,xe);this.updateTokensAndExpiration(_e,Ee,Number(Se))}updateTokensAndExpiration(e,xe,_e){this.refreshToken=xe||null,this.accessToken=e||null,this.expirationTime=Date.now()+_e*1e3}static fromJSON(e,xe){const{refreshToken:_e,accessToken:Ee,expirationTime:Se}=xe,Ae=new StsTokenManager;return _e&&(_assert(typeof _e=="string","internal-error",{appName:e}),Ae.refreshToken=_e),Ee&&(_assert(typeof Ee=="string","internal-error",{appName:e}),Ae.accessToken=Ee),Se&&(_assert(typeof Se=="number","internal-error",{appName:e}),Ae.expirationTime=Se),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:xe,auth:_e,stsTokenManager:Ee}=e,Se=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=xe,this.auth=_e,this.stsTokenManager=Ee,this.accessToken=Ee.accessToken,this.displayName=Se.displayName||null,this.email=Se.email||null,this.emailVerified=Se.emailVerified||!1,this.phoneNumber=Se.phoneNumber||null,this.photoURL=Se.photoURL||null,this.isAnonymous=Se.isAnonymous||!1,this.tenantId=Se.tenantId||null,this.providerData=Se.providerData?[...Se.providerData]:[],this.metadata=new UserMetadata(Se.createdAt||void 0,Se.lastLoginAt||void 0)}async getIdToken(e){const xe=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(xe,this.auth,"internal-error"),this.accessToken!==xe&&(this.accessToken=xe,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),xe}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(xe=>Object.assign({},xe)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const xe=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return xe.metadata._copy(this.metadata),xe}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,xe=!1){let _e=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),_e=!0),xe&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),_e&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie;const je=(_e=xe.displayName)!==null&&_e!==void 0?_e:void 0,Oe=(Ee=xe.email)!==null&&Ee!==void 0?Ee:void 0,ke=(Se=xe.phoneNumber)!==null&&Se!==void 0?Se:void 0,Fe=(Ae=xe.photoURL)!==null&&Ae!==void 0?Ae:void 0,Me=(Re=xe.tenantId)!==null&&Re!==void 0?Re:void 0,De=(Pe=xe._redirectEventId)!==null&&Pe!==void 0?Pe:void 0,Ue=(Te=xe.createdAt)!==null&&Te!==void 0?Te:void 0,ze=(Ie=xe.lastLoginAt)!==null&&Ie!==void 0?Ie:void 0,{uid:We,emailVerified:Ye,isAnonymous:Xe,providerData:ir,stsTokenManager:Qe}=xe;_assert(We&&Qe,e,"internal-error");const Ke=StsTokenManager.fromJSON(this.name,Qe);_assert(typeof We=="string",e,"internal-error"),assertStringOrUndefined(je,e.name),assertStringOrUndefined(Oe,e.name),_assert(typeof Ye=="boolean",e,"internal-error"),_assert(typeof Xe=="boolean",e,"internal-error"),assertStringOrUndefined(ke,e.name),assertStringOrUndefined(Fe,e.name),assertStringOrUndefined(Me,e.name),assertStringOrUndefined(De,e.name),assertStringOrUndefined(Ue,e.name),assertStringOrUndefined(ze,e.name);const rr=new UserImpl({uid:We,auth:e,email:Oe,emailVerified:Ye,displayName:je,isAnonymous:Xe,photoURL:Fe,phoneNumber:ke,tenantId:Me,stsTokenManager:Ke,createdAt:Ue,lastLoginAt:ze});return ir&&Array.isArray(ir)&&(rr.providerData=ir.map(cr=>Object.assign({},cr))),De&&(rr._redirectEventId=De),rr}static async _fromIdTokenResponse(e,xe,_e=!1){const Ee=new StsTokenManager;Ee.updateFromServerResponse(xe);const Se=new UserImpl({uid:xe.localId,auth:e,stsTokenManager:Ee,isAnonymous:_e});return await _reloadWithoutSaving(Se),Se}static async _fromGetAccountInfoResponse(e,xe,_e){const Ee=xe.users[0];_assert(Ee.localId!==void 0,"internal-error");const Se=Ee.providerUserInfo!==void 0?extractProviderData(Ee.providerUserInfo):[],Ae=!(Ee.email&&Ee.passwordHash)&&!(Se!=null&&Se.length),Re=new StsTokenManager;Re.updateFromIdToken(_e);const Pe=new UserImpl({uid:Ee.localId,auth:e,stsTokenManager:Re,isAnonymous:Ae}),Te={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:Se,metadata:new UserMetadata(Ee.createdAt,Ee.lastLoginAt),isAnonymous:!(Ee.email&&Ee.passwordHash)&&!(Se!=null&&Se.length)};return Object.assign(Pe,Te),Pe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,xe){this.storage[e]=xe}async _get(e){const xe=this.storage[e];return xe===void 0?null:xe}async _remove(e){delete this.storage[e]}_addListener(e,xe){}_removeListener(e,xe){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,xe){return`firebase:${t}:${e}:${xe}`}class PersistenceUserManager{constructor(e,xe,_e){this.persistence=e,this.auth=xe,this.userKey=_e;const{config:Ee,name:Se}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,Ee.apiKey,Se),this.fullPersistenceKey=_persistenceKeyName("persistence",Ee.apiKey,Se),this.boundEventHandler=xe._onStorageEvent.bind(xe),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const xe=await getAccountInfo(this.auth,{idToken:e}).catch(()=>{});return xe?UserImpl._fromGetAccountInfoResponse(this.auth,xe,e):null}return UserImpl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const xe=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,xe)return this.setCurrentUser(xe)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,xe,_e="authUser"){if(!xe.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,_e);const Ee=(await Promise.all(xe.map(async Te=>{if(await Te._isAvailable())return Te}))).filter(Te=>Te);let Se=Ee[0]||_getInstance(inMemoryPersistence);const Ae=_persistenceKeyName(_e,e.config.apiKey,e.name);let Re=null;for(const Te of xe)try{const Ie=await Te._get(Ae);if(Ie){let je;if(typeof Ie=="string"){const Oe=await getAccountInfo(e,{idToken:Ie}).catch(()=>{});if(!Oe)break;je=await UserImpl._fromGetAccountInfoResponse(e,Oe,Ie)}else je=UserImpl._fromJSON(e,Ie);Te!==Se&&(Re=je),Se=Te;break}}catch{}const Pe=Ee.filter(Te=>Te._shouldAllowMigration);return!Se._shouldAllowMigration||!Pe.length?new PersistenceUserManager(Se,e,_e):(Se=Pe[0],Re&&await Se._set(Ae,Re.toJSON()),await Promise.all(xe.map(async Te=>{if(Te!==Se)try{await Te._remove(Ae)}catch{}})),new PersistenceUserManager(Se,e,_e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const xe=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,_e=t.match(xe);if((_e==null?void 0:_e.length)===2)return _e[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let xe;switch(t){case"Browser":xe=_getBrowserName(getUA());break;case"Worker":xe=`${_getBrowserName(getUA())}-${t}`;break;default:xe=t}const _e=e.length?e.join(","):"FirebaseCore-web";return`${xe}/JsCore/${SDK_VERSION}/${_e}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,xe){const _e=Se=>new Promise((Ae,Re)=>{try{const Pe=e(Se);Ae(Pe)}catch(Pe){Re(Pe)}});_e.onAbort=xe,this.queue.push(_e);const Ee=this.queue.length-1;return()=>{this.queue[Ee]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const xe=[];try{for(const _e of this.queue)await _e(e),_e.onAbort&&xe.push(_e.onAbort)}catch(_e){xe.reverse();for(const Ee of xe)try{Ee()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:_e==null?void 0:_e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(t,e={}){return _performApiRequest(t,"GET","/v2/passwordPolicy",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var xe,_e,Ee,Se;const Ae=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(xe=Ae.minPasswordLength)!==null&&xe!==void 0?xe:MINIMUM_MIN_PASSWORD_LENGTH,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),Ae.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),Ae.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),Ae.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),Ae.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(Ee=(_e=e.allowedNonAlphanumericCharacters)===null||_e===void 0?void 0:_e.join(""))!==null&&Ee!==void 0?Ee:"",this.forceUpgradeOnSignin=(Se=e.forceUpgradeOnSignin)!==null&&Se!==void 0?Se:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var xe,_e,Ee,Se,Ae,Re;const Pe={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,Pe),this.validatePasswordCharacterOptions(e,Pe),Pe.isValid&&(Pe.isValid=(xe=Pe.meetsMinPasswordLength)!==null&&xe!==void 0?xe:!0),Pe.isValid&&(Pe.isValid=(_e=Pe.meetsMaxPasswordLength)!==null&&_e!==void 0?_e:!0),Pe.isValid&&(Pe.isValid=(Ee=Pe.containsLowercaseLetter)!==null&&Ee!==void 0?Ee:!0),Pe.isValid&&(Pe.isValid=(Se=Pe.containsUppercaseLetter)!==null&&Se!==void 0?Se:!0),Pe.isValid&&(Pe.isValid=(Ae=Pe.containsNumericCharacter)!==null&&Ae!==void 0?Ae:!0),Pe.isValid&&(Pe.isValid=(Re=Pe.containsNonAlphanumericCharacter)!==null&&Re!==void 0?Re:!0),Pe}validatePasswordLengthOptions(e,xe){const _e=this.customStrengthOptions.minPasswordLength,Ee=this.customStrengthOptions.maxPasswordLength;_e&&(xe.meetsMinPasswordLength=e.length>=_e),Ee&&(xe.meetsMaxPasswordLength=e.length<=Ee)}validatePasswordCharacterOptions(e,xe){this.updatePasswordCharacterOptionsStatuses(xe,!1,!1,!1,!1);let _e;for(let Ee=0;Ee<e.length;Ee++)_e=e.charAt(Ee),this.updatePasswordCharacterOptionsStatuses(xe,_e>="a"&&_e<="z",_e>="A"&&_e<="Z",_e>="0"&&_e<="9",this.allowedNonAlphanumericCharacters.includes(_e))}updatePasswordCharacterOptionsStatuses(e,xe,_e,Ee,Se){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=xe)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=_e)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=Ee)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=Se))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,xe,_e,Ee){this.app=e,this.heartbeatServiceProvider=xe,this.appCheckServiceProvider=_e,this.config=Ee,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=Ee.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Se=>this._resolvePersistenceManagerAvailable=Se)}_initializeWithPersistence(e,xe){return xe&&(this._popupRedirectResolver=_getInstance(xe)),this._initializationPromise=this.queue(async()=>{var _e,Ee,Se;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),(_e=this._resolvePersistenceManagerAvailable)===null||_e===void 0||_e.call(this),!this._deleted)){if(!((Ee=this._popupRedirectResolver)===null||Ee===void 0)&&Ee._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(xe),this.lastNotifiedUid=((Se=this.currentUser)===null||Se===void 0?void 0:Se.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const xe=await getAccountInfo(this,{idToken:e}),_e=await UserImpl._fromGetAccountInfoResponse(this,xe,e);await this.directlySetCurrentUser(_e)}catch(xe){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",xe),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var xe;if(_isFirebaseServerApp(this.app)){const Ae=this.app.settings.authIdToken;return Ae?new Promise(Re=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(Ae).then(Re,Re))}):this.directlySetCurrentUser(null)}const _e=await this.assertedPersistence.getCurrentUser();let Ee=_e,Se=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Ae=(xe=this.redirectUser)===null||xe===void 0?void 0:xe._redirectEventId,Re=Ee==null?void 0:Ee._redirectEventId,Pe=await this.tryRedirectSignIn(e);(!Ae||Ae===Re)&&(Pe!=null&&Pe.user)&&(Ee=Pe.user,Se=!0)}if(!Ee)return this.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(Se)try{await this.beforeStateQueue.runMiddleware(Ee)}catch(Ae){Ee=_e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ae))}return Ee?this.reloadAndSetCurrentUserOrClear(Ee):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===Ee._redirectEventId?this.directlySetCurrentUser(Ee):this.reloadAndSetCurrentUserOrClear(Ee)}async tryRedirectSignIn(e){let xe=null;try{xe=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return xe}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(xe){if((xe==null?void 0:xe.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const xe=e?getModularInstance(e):null;return xe&&_assert(xe.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(xe&&xe._clone(this))}async _updateCurrentUser(e,xe=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),xe||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const xe=this._getPasswordPolicyInternal();return xe.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):xe.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),xe=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=xe:this._tenantPasswordPolicies[this.tenantId]=xe}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,xe,_e){return this.registerStateListener(this.authStateSubscription,e,xe,_e)}beforeAuthStateChanged(e,xe){return this.beforeStateQueue.pushCallback(e,xe)}onIdTokenChanged(e,xe,_e){return this.registerStateListener(this.idTokenSubscription,e,xe,_e)}authStateReady(){return new Promise((e,xe)=>{if(this.currentUser)e();else{const _e=this.onAuthStateChanged(()=>{_e(),e()},xe)}})}async revokeAccessToken(e){if(this.currentUser){const xe=await this.currentUser.getIdToken(),_e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:xe};this.tenantId!=null&&(_e.tenantId=this.tenantId),await revokeToken(this,_e)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,xe){const _e=await this.getOrInitRedirectPersistenceManager(xe);return e===null?_e.removeCurrentUser():_e.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const xe=e&&_getInstance(e)||this._popupRedirectResolver;_assert(xe,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(xe._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var xe,_e;return this._isInitialized&&await this.queue(async()=>{}),((xe=this._currentUser)===null||xe===void 0?void 0:xe._redirectEventId)===e?this._currentUser:((_e=this.redirectUser)===null||_e===void 0?void 0:_e._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,xe;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _e=(xe=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&xe!==void 0?xe:null;this.lastNotifiedUid!==_e&&(this.lastNotifiedUid=_e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,xe,_e,Ee){if(this._deleted)return()=>{};const Se=typeof xe=="function"?xe:xe.next.bind(xe);let Ae=!1;const Re=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(Re,this,"internal-error"),Re.then(()=>{Ae||Se(this.currentUser)}),typeof xe=="function"){const Pe=e.addObserver(xe,_e,Ee);return()=>{Ae=!0,Pe()}}else{const Pe=e.addObserver(xe);return()=>{Ae=!0,Pe()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const xe={"X-Client-Version":this.clientVersion};this.app.options.appId&&(xe["X-Firebase-gmpid"]=this.app.options.appId);const _e=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());_e&&(xe["X-Firebase-Client"]=_e);const Ee=await this._getAppCheckToken();return Ee&&(xe["X-Firebase-AppCheck"]=Ee),xe}async _getAppCheckToken(){var e;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const xe=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return xe!=null&&xe.error&&_logWarn(`Error while retrieving App Check token: ${xe.error}`),xe==null?void 0:xe.token}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(xe=>this.observer=xe)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(t){externalJSProvider=t}function _loadJS(t){return externalJSProvider.loadJS(t)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(e){e()}execute(e,xe){return Promise.resolve("token")}render(e,xe){return""}}class MockGreCAPTCHA{ready(e){e()}execute(e,xe){return Promise.resolve("token")}render(e,xe){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",xe=!1){async function _e(Se){if(!xe){if(Se.tenantId==null&&Se._agentRecaptchaConfig!=null)return Se._agentRecaptchaConfig.siteKey;if(Se.tenantId!=null&&Se._tenantRecaptchaConfigs[Se.tenantId]!==void 0)return Se._tenantRecaptchaConfigs[Se.tenantId].siteKey}return new Promise(async(Ae,Re)=>{getRecaptchaConfig(Se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pe=>{if(Pe.recaptchaKey===void 0)Re(new Error("recaptcha Enterprise site key undefined"));else{const Te=new RecaptchaConfig(Pe);return Se.tenantId==null?Se._agentRecaptchaConfig=Te:Se._tenantRecaptchaConfigs[Se.tenantId]=Te,Ae(Te.siteKey)}}).catch(Pe=>{Re(Pe)})})}function Ee(Se,Ae,Re){const Pe=window.grecaptcha;isEnterprise(Pe)?Pe.enterprise.ready(()=>{Pe.enterprise.execute(Se,{action:e}).then(Te=>{Ae(Te)}).catch(()=>{Ae(FAKE_TOKEN)})}):Re(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((Se,Ae)=>{_e(this.auth).then(Re=>{if(!xe&&isEnterprise(window.grecaptcha))Ee(Re,Se,Ae);else{if(typeof window>"u"){Ae(new Error("RecaptchaVerifier is only supported in browser"));return}let Pe=_recaptchaEnterpriseScriptUrl();Pe.length!==0&&(Pe+=Re),_loadJS(Pe).then(()=>{Ee(Re,Se,Ae)}).catch(Te=>{Ae(Te)})}}).catch(Re=>{Ae(Re)})})}}async function injectRecaptchaFields(t,e,xe,_e=!1,Ee=!1){const Se=new RecaptchaEnterpriseVerifier(t);let Ae;if(Ee)Ae=FAKE_TOKEN;else try{Ae=await Se.verify(xe)}catch{Ae=await Se.verify(xe,!0)}const Re=Object.assign({},e);if(xe==="mfaSmsEnrollment"||xe==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in Re){const Pe=Re.phoneEnrollmentInfo.phoneNumber,Te=Re.phoneEnrollmentInfo.recaptchaToken;Object.assign(Re,{phoneEnrollmentInfo:{phoneNumber:Pe,recaptchaToken:Te,captchaResponse:Ae,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in Re){const Pe=Re.phoneSignInInfo.recaptchaToken;Object.assign(Re,{phoneSignInInfo:{recaptchaToken:Pe,captchaResponse:Ae,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return Re}return _e?Object.assign(Re,{captchaResp:Ae}):Object.assign(Re,{captchaResponse:Ae}),Object.assign(Re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Re}async function handleRecaptchaFlow(t,e,xe,_e,Ee){var Se;if(!((Se=t._getRecaptchaConfig())===null||Se===void 0)&&Se.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ae=await injectRecaptchaFields(t,e,xe,xe==="getOobCode");return _e(t,Ae)}else return _e(t,e).catch(async Ae=>{if(Ae.code==="auth/missing-recaptcha-token"){console.log(`${xe} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Re=await injectRecaptchaFields(t,e,xe,xe==="getOobCode");return _e(t,Re)}else return Promise.reject(Ae)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const xe=_getProvider(t,"auth");if(xe.isInitialized()){const Ee=xe.getImmediate(),Se=xe.getOptions();if(deepEqual$2(Se,e??{}))return Ee;_fail(Ee,"already-initialized")}return xe.initialize({options:e})}function _initializeAuthInstance(t,e){const xe=(e==null?void 0:e.persistence)||[],_e=(Array.isArray(xe)?xe:[xe]).map(_getInstance);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(_e,e==null?void 0:e.popupRedirectResolver)}function connectAuthEmulator(t,e,xe){const _e=_castAuth(t);_assert(/^https?:\/\//.test(e),_e,"invalid-emulator-scheme");const Ee=!1,Se=extractProtocol(e),{host:Ae,port:Re}=extractHostAndPort(e),Pe=Re===null?"":`:${Re}`,Te={url:`${Se}//${Ae}${Pe}/`},Ie=Object.freeze({host:Ae,port:Re,protocol:Se.replace(":",""),options:Object.freeze({disableWarnings:Ee})});if(!_e._canInitEmulator){_assert(_e.config.emulator&&_e.emulatorConfig,_e,"emulator-config-failed"),_assert(deepEqual$2(Te,_e.config.emulator)&&deepEqual$2(Ie,_e.emulatorConfig),_e,"emulator-config-failed");return}_e.config.emulator=Te,_e.emulatorConfig=Ie,_e.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(Ae)?(pingServer(`${Se}//${Ae}${Pe}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),xe=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!xe)return{host:"",port:null};const _e=xe[2].split("@").pop()||"",Ee=/^(\[[^\]]+\])(:|$)/.exec(_e);if(Ee){const Se=Ee[1];return{host:Se,port:parsePort(_e.substr(Se.length+1))}}else{const[Se,Ae]=_e.split(":");return{host:Se,port:parsePort(Ae)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),xe=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",xe.position="fixed",xe.width="100%",xe.backgroundColor="#ffffff",xe.border=".1em solid #000000",xe.color="#b50000",xe.bottom="0px",xe.left="0px",xe.margin="0px",xe.zIndex="10000",xe.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,xe){this.providerId=e,this.signInMethod=xe}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,xe){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,xe,_e,Ee=null){super("password",_e),this._email=e,this._password=xe,this._tenantId=Ee}static _fromEmailAndPassword(e,xe){return new EmailAuthCredential(e,xe,"password")}static _fromEmailAndCode(e,xe,_e=null){return new EmailAuthCredential(e,xe,"emailLink",_e)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const xe=typeof e=="string"?JSON.parse(e):e;if(xe!=null&&xe.email&&(xe!=null&&xe.password)){if(xe.signInMethod==="password")return this._fromEmailAndPassword(xe.email,xe.password);if(xe.signInMethod==="emailLink")return this._fromEmailAndCode(xe.email,xe.password,xe.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const xe={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,xe,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,xe){switch(this.signInMethod){case"password":const _e={idToken:xe,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,_e,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:xe,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const xe=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(xe.idToken=e.idToken),e.accessToken&&(xe.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(xe.nonce=e.nonce),e.pendingToken&&(xe.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(xe.accessToken=e.oauthToken,xe.secret=e.oauthTokenSecret):_fail("argument-error"),xe}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const xe=typeof e=="string"?JSON.parse(e):e,{providerId:_e,signInMethod:Ee}=xe,Se=__rest(xe,["providerId","signInMethod"]);if(!_e||!Ee)return null;const Ae=new OAuthCredential(_e,Ee);return Ae.idToken=Se.idToken||void 0,Ae.accessToken=Se.accessToken||void 0,Ae.secret=Se.secret,Ae.nonce=Se.nonce,Ae.pendingToken=Se.pendingToken||null,Ae}_getIdTokenResponse(e){const xe=this.buildRequest();return signInWithIdp(e,xe)}_linkToIdToken(e,xe){const _e=this.buildRequest();return _e.idToken=xe,signInWithIdp(e,_e)}_getReauthenticationResolver(e){const xe=this.buildRequest();return xe.autoCreate=!1,signInWithIdp(e,xe)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const xe={};this.idToken&&(xe.id_token=this.idToken),this.accessToken&&(xe.access_token=this.accessToken),this.secret&&(xe.oauth_token_secret=this.secret),xe.providerId=this.providerId,this.nonce&&!this.pendingToken&&(xe.nonce=this.nonce),e.postBody=querystring(xe)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,xe=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,_e=querystringDecode(extractQuerystring(t)).deep_link_id;return(_e?querystringDecode(extractQuerystring(_e)).link:null)||_e||xe||e||t}class ActionCodeURL{constructor(e){var xe,_e,Ee,Se,Ae,Re;const Pe=querystringDecode(extractQuerystring(e)),Te=(xe=Pe.apiKey)!==null&&xe!==void 0?xe:null,Ie=(_e=Pe.oobCode)!==null&&_e!==void 0?_e:null,je=parseMode((Ee=Pe.mode)!==null&&Ee!==void 0?Ee:null);_assert(Te&&Ie&&je,"argument-error"),this.apiKey=Te,this.operation=je,this.code=Ie,this.continueUrl=(Se=Pe.continueUrl)!==null&&Se!==void 0?Se:null,this.languageCode=(Ae=Pe.lang)!==null&&Ae!==void 0?Ae:null,this.tenantId=(Re=Pe.tenantId)!==null&&Re!==void 0?Re:null}static parseLink(e){const xe=parseDeepLink(e);try{return new ActionCodeURL(xe)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,xe){return EmailAuthCredential._fromEmailAndPassword(e,xe)}static credentialWithLink(e,xe){const _e=ActionCodeURL.parseLink(xe);return _assert(_e,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,_e.code,_e.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,xe){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:xe})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:xe,oauthAccessToken:_e}=e;if(!xe&&!_e)return null;try{return GoogleAuthProvider.credential(xe,_e)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,xe){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:xe})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:xe,oauthTokenSecret:_e}=e;if(!xe||!_e)return null;try{return TwitterAuthProvider.credential(xe,_e)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,xe,_e,Ee=!1){const Se=await UserImpl._fromIdTokenResponse(e,_e,Ee),Ae=providerIdForResponse(_e);return new UserCredentialImpl({user:Se,providerId:Ae,_tokenResponse:_e,operationType:xe})}static async _forOperation(e,xe,_e){await e._updateTokensIfNecessary(_e,!0);const Ee=providerIdForResponse(_e);return new UserCredentialImpl({user:e,providerId:Ee,_tokenResponse:_e,operationType:xe})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,xe,_e,Ee){var Se;super(xe.code,xe.message),this.operationType=_e,this.user=Ee,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(Se=e.tenantId)!==null&&Se!==void 0?Se:void 0,_serverResponse:xe.customData._serverResponse,operationType:_e}}static _fromErrorAndOperation(e,xe,_e,Ee){return new MultiFactorError(e,xe,_e,Ee)}}function _processCredentialSavingMfaContextIfNecessary(t,e,xe,_e){return(e==="reauthenticate"?xe._getReauthenticationResolver(t):xe._getIdTokenResponse(t)).catch(Se=>{throw Se.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,Se,e,_e):Se})}async function _link$1(t,e,xe=!1){const _e=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),xe);return UserCredentialImpl._forOperation(t,"link",_e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,xe=!1){const{auth:_e}=t;if(_isFirebaseServerApp(_e.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(_e));const Ee="reauthenticate";try{const Se=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(_e,Ee,e,t),xe);_assert(Se.idToken,_e,"internal-error");const Ae=_parseToken(Se.idToken);_assert(Ae,_e,"internal-error");const{sub:Re}=Ae;return _assert(t.uid===Re,_e,"user-mismatch"),UserCredentialImpl._forOperation(t,Ee,Se)}catch(Se){throw(Se==null?void 0:Se.code)==="auth/user-not-found"&&_fail(_e,"user-mismatch"),Se}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,xe=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const _e="signIn",Ee=await _processCredentialSavingMfaContextIfNecessary(t,_e,e),Se=await UserCredentialImpl._fromIdTokenResponse(t,_e,Ee);return xe||await t._updateCurrentUser(Se.user),Se}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(t){const e=_castAuth(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(t,e,xe){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const _e=_castAuth(t),Ae=await handleRecaptchaFlow(_e,{returnSecureToken:!0,email:e,password:xe,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Pe=>{throw Pe.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),Pe}),Re=await UserCredentialImpl._fromIdTokenResponse(_e,"signIn",Ae);return await _e._updateCurrentUser(Re.user),Re}function signInWithEmailAndPassword(t,e,xe){return _isFirebaseServerApp(t.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t)):signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,xe)).catch(async _e=>{throw _e.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),_e})}function onIdTokenChanged(t,e,xe,_e){return getModularInstance(t).onIdTokenChanged(e,xe,_e)}function beforeAuthStateChanged(t,e,xe){return getModularInstance(t).beforeAuthStateChanged(e,xe)}function onAuthStateChanged(t,e,xe,_e){return getModularInstance(t).onAuthStateChanged(e,xe,_e)}function signOut(t){return getModularInstance(t).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,xe){this.storageRetriever=e,this.type=xe}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,xe){return this.storage.setItem(e,JSON.stringify(xe)),Promise.resolve()}_get(e){const xe=this.storage.getItem(e);return Promise.resolve(xe?JSON.parse(xe):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,xe)=>this.onStorageEvent(e,xe),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const xe of Object.keys(this.listeners)){const _e=this.storage.getItem(xe),Ee=this.localCache[xe];_e!==Ee&&e(xe,Ee,_e)}}onStorageEvent(e,xe=!1){if(!e.key){this.forAllChangedKeys((Ae,Re,Pe)=>{this.notifyListeners(Ae,Pe)});return}const _e=e.key;xe?this.detachListener():this.stopPolling();const Ee=()=>{const Ae=this.storage.getItem(_e);!xe&&this.localCache[_e]===Ae||this.notifyListeners(_e,Ae)},Se=this.storage.getItem(_e);_isIE10()&&Se!==e.newValue&&e.newValue!==e.oldValue?setTimeout(Ee,IE10_LOCAL_STORAGE_SYNC_DELAY):Ee()}notifyListeners(e,xe){this.localCache[e]=xe;const _e=this.listeners[e];if(_e)for(const Ee of Array.from(_e))Ee(xe&&JSON.parse(xe))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,xe,_e)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:xe,newValue:_e}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,xe){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(xe)}_removeListener(e,xe){this.listeners[e]&&(this.listeners[e].delete(xe),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,xe){await super._set(e,xe),this.localCache[e]=JSON.stringify(xe)}async _get(e){const xe=await super._get(e);return this.localCache[e]=JSON.stringify(xe),xe}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,xe){}_removeListener(e,xe){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(xe){return{fulfilled:!1,reason:xe}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const xe=this.receivers.find(Ee=>Ee.isListeningto(e));if(xe)return xe;const _e=new Receiver(e);return this.receivers.push(_e),_e}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const xe=e,{eventId:_e,eventType:Ee,data:Se}=xe.data,Ae=this.handlersMap[Ee];if(!(Ae!=null&&Ae.size))return;xe.ports[0].postMessage({status:"ack",eventId:_e,eventType:Ee});const Re=Array.from(Ae).map(async Te=>Te(xe.origin,Se)),Pe=await _allSettled(Re);xe.ports[0].postMessage({status:"done",eventId:_e,eventType:Ee,response:Pe})}_subscribe(e,xe){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(xe)}_unsubscribe(e,xe){this.handlersMap[e]&&xe&&this.handlersMap[e].delete(xe),(!xe||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let xe="";for(let _e=0;_e<e;_e++)xe+=Math.floor(Math.random()*10);return t+xe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,xe,_e=50){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let Se,Ae;return new Promise((Re,Pe)=>{const Te=_generateEventId("",20);Ee.port1.start();const Ie=setTimeout(()=>{Pe(new Error("unsupported_event"))},_e);Ae={messageChannel:Ee,onMessage(je){const Oe=je;if(Oe.data.eventId===Te)switch(Oe.data.status){case"ack":clearTimeout(Ie),Se=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Re(Oe.data.response);break;default:clearTimeout(Ie),clearTimeout(Se),Pe(new Error("invalid_response"));break}}},this.handlers.add(Ae),Ee.port1.addEventListener("message",Ae.onMessage),this.target.postMessage({eventType:e,eventId:Te,data:xe},[Ee.port2])}).finally(()=>{Ae&&this.removeMessageHandler(Ae)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,xe)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{xe(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,xe)=>{t.addEventListener("error",()=>{xe(t.error)}),t.addEventListener("upgradeneeded",()=>{const _e=t.result;try{_e.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(Ee){xe(Ee)}}),t.addEventListener("success",async()=>{const _e=t.result;_e.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(_e):(_e.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,xe){const _e=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:xe});return new DBPromise(_e).toPromise()}async function getObject(t,e){const xe=getObjectStore(t,!1).get(e),_e=await new DBPromise(xe).toPromise();return _e===void 0?null:_e.value}function _deleteObject(t,e){const xe=getObjectStore(t,!0).delete(e);return new DBPromise(xe).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let xe=0;for(;;)try{const _e=await this._openDb();return await e(_e)}catch(_e){if(xe++>_TRANSACTION_RETRY_COUNT)throw _e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,xe)=>({keyProcessed:(await this._poll()).includes(xe.key)})),this.receiver._subscribe("ping",async(e,xe)=>["keyChanged"])}async initializeSender(){var e,xe;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const _e=await this.sender._send("ping",{},800);_e&&!((e=_e[0])===null||e===void 0)&&e.fulfilled&&!((xe=_e[0])===null||xe===void 0)&&xe.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,xe){return this._withPendingWrite(async()=>(await this._withRetries(_e=>_putObject(_e,e,xe)),this.localCache[e]=xe,this.notifyServiceWorker(e)))}async _get(e){const xe=await this._withRetries(_e=>getObject(_e,e));return this.localCache[e]=xe,xe}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(xe=>_deleteObject(xe,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(Ee=>{const Se=getObjectStore(Ee,!1).getAll();return new DBPromise(Se).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const xe=[],_e=new Set;if(e.length!==0)for(const{fbase_key:Ee,value:Se}of e)_e.add(Ee),JSON.stringify(this.localCache[Ee])!==JSON.stringify(Se)&&(this.notifyListeners(Ee,Se),xe.push(Ee));for(const Ee of Object.keys(this.localCache))this.localCache[Ee]&&!_e.has(Ee)&&(this.notifyListeners(Ee,null),xe.push(Ee));return xe}notifyListeners(e,xe){this.localCache[e]=xe;const _e=this.listeners[e];if(_e)for(const Ee of Array.from(_e))Ee(xe)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,xe){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(xe)}_removeListener(e,xe){this.listeners[e]&&(this.listeners[e].delete(xe),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,xe){return signInWithIdp(e,this._buildIdpRequest(xe))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const xe={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(xe.idToken=e),xe}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:xe}=t;return _assert(xe,e,"internal-error"),_reauthenticate(xe,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:xe}=t;return _assert(xe,e,"internal-error"),_link$1(xe,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,xe,_e,Ee,Se=!1){this.auth=e,this.resolver=_e,this.user=Ee,this.bypassAuthState=Se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(xe)?xe:[xe]}execute(){return new Promise(async(e,xe)=>{this.pendingPromise={resolve:e,reject:xe};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(_e){this.reject(_e)}})}async onAuthEvent(e){const{urlResponse:xe,sessionId:_e,postBody:Ee,tenantId:Se,error:Ae,type:Re}=e;if(Ae){this.reject(Ae);return}const Pe={auth:this.auth,requestUri:xe,sessionId:_e,tenantId:Se||void 0,postBody:Ee||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Re)(Pe))}catch(Te){this.reject(Te)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,xe,_e,Ee,Se){super(e,xe,Ee,Se),this.provider=_e,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(xe=>{this.reject(xe)}),this.resolver._isIframeWebStorageSupported(this.auth,xe=>{xe||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var xe,_e;if(!((_e=(xe=this.authWindow)===null||xe===void 0?void 0:xe.window)===null||_e===void 0)&&_e.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,xe,_e=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],xe,void 0,_e),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const _e=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(_e)}catch(xe){e=()=>Promise.reject(xe)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const xe=await this.auth._redirectUserForId(e.eventId);if(xe)return this.user=xe,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const xe=pendingRedirectKey(e),_e=resolverPersistence(t);if(!await _e._isAvailable())return!1;const Ee=await _e._get(xe)==="true";return await _e._remove(xe),Ee}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,xe=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const _e=_castAuth(t),Ee=_withDefaultResolver(_e,e),Ae=await new RedirectAction(_e,Ee,xe).execute();return Ae&&!xe&&(delete Ae.user._redirectEventId,await _e._persistUserIfCurrent(Ae.user),await _e._setRedirectUser(null,e)),Ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let xe=!1;return this.consumers.forEach(_e=>{this.isEventForConsumer(e,_e)&&(xe=!0,this.sendToConsumer(e,_e),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,xe||(this.queuedRedirectEvent=e,xe=!0)),xe}sendToConsumer(e,xe){var _e;if(e.error&&!isNullRedirectEvent(e)){const Ee=((_e=e.error.code)===null||_e===void 0?void 0:_e.split("auth/")[1])||"internal-error";xe.onError(_createError(this.auth,Ee))}else xe.onAuthEvent(e)}isEventForConsumer(e,xe){const _e=xe.eventId===null||!!e.eventId&&e.eventId===xe.eventId;return xe.filter.includes(e.type)&&_e}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const xe of e)try{if(matchDomain(xe))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:xe,hostname:_e}=new URL(e);if(t.startsWith("chrome-extension://")){const Ae=new URL(t);return Ae.hostname===""&&_e===""?xe==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):xe==="chrome-extension:"&&Ae.hostname===_e}if(!HTTP_REGEX.test(xe))return!1;if(IP_ADDRESS_REGEX.test(t))return _e===t;const Ee=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ee+"|"+Ee+")$","i").test(_e)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let xe=0;xe<t.CP.length;xe++)t.CP[xe]=null}}function loadGapi(t){return new Promise((e,xe)=>{var _e,Ee,Se;function Ae(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),xe(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((Ee=(_e=_window().gapi)===null||_e===void 0?void 0:_e.iframes)===null||Ee===void 0)&&Ee.Iframe)e(gapi.iframes.getContext());else if(!((Se=_window().gapi)===null||Se===void 0)&&Se.load)Ae();else{const Re=_generateCallbackName("iframefcb");return _window()[Re]=()=>{gapi.load?Ae():xe(_createError(t,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Re}`).catch(Pe=>xe(Pe))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const xe=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,_e={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION},Ee=EID_FROM_APIHOST.get(t.config.apiHost);Ee&&(_e.eid=Ee);const Se=t._getFrameworks();return Se.length&&(_e.fw=Se.join(",")),`${xe}?${querystring(_e).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),xe=_window().gapi;return _assert(xe,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:xe.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},_e=>new Promise(async(Ee,Se)=>{await _e.restyle({setHideOnLeave:!1});const Ae=_createError(t,"network-request-failed"),Re=_window().setTimeout(()=>{Se(Ae)},PING_TIMEOUT.get());function Pe(){_window().clearTimeout(Re),Ee(_e)}_e.ping(Pe).then(Pe,()=>{Se(Ae)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,xe,_e=DEFAULT_WIDTH,Ee=DEFAULT_HEIGHT){const Se=Math.max((window.screen.availHeight-Ee)/2,0).toString(),Ae=Math.max((window.screen.availWidth-_e)/2,0).toString();let Re="";const Pe=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:_e.toString(),height:Ee.toString(),top:Se,left:Ae}),Te=getUA().toLowerCase();xe&&(Re=_isChromeIOS(Te)?TARGET_BLANK:xe),_isFirefox(Te)&&(e=e||FIREFOX_EMPTY_URL,Pe.scrollbars="yes");const Ie=Object.entries(Pe).reduce((Oe,[ke,Fe])=>`${Oe}${ke}=${Fe},`,"");if(_isIOSStandalone(Te)&&Re!=="_self")return openAsNewWindowIOS(e||"",Re),new AuthPopup(null);const je=window.open(e||"",Re,Ie);_assert(je,t,"popup-blocked");try{je.focus()}catch{}return new AuthPopup(je)}function openAsNewWindowIOS(t,e){const xe=document.createElement("a");xe.href=t,xe.target=e;const _e=document.createEvent("MouseEvent");_e.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),xe.dispatchEvent(_e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(t,e,xe,_e,Ee,Se){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const Ae={apiKey:t.config.apiKey,appName:t.name,authType:xe,redirectUrl:_e,v:SDK_VERSION,eventId:Ee};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),Ae.providerId=e.providerId||"",isEmpty$1(e.getCustomParameters())||(Ae.customParameters=JSON.stringify(e.getCustomParameters()));for(const[Ie,je]of Object.entries({}))Ae[Ie]=je}if(e instanceof BaseOAuthProvider){const Ie=e.getScopes().filter(je=>je!=="");Ie.length>0&&(Ae.scopes=Ie.join(","))}t.tenantId&&(Ae.tid=t.tenantId);const Re=Ae;for(const Ie of Object.keys(Re))Re[Ie]===void 0&&delete Re[Ie];const Pe=await t._getAppCheckToken(),Te=Pe?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Pe)}`:"";return`${getHandlerBase(t)}?${querystring(Re).slice(1)}${Te}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,xe,_e,Ee){var Se;debugAssert((Se=this.eventManagers[e._key()])===null||Se===void 0?void 0:Se.manager,"_initialize() not called before _openPopup()");const Ae=await _getRedirectUrl(e,xe,_e,_getCurrentUrl(),Ee);return _open(e,Ae,_generateEventId())}async _openRedirect(e,xe,_e,Ee){await this._originValidation(e);const Se=await _getRedirectUrl(e,xe,_e,_getCurrentUrl(),Ee);return _setWindowLocation(Se),new Promise(()=>{})}_initialize(e){const xe=e._key();if(this.eventManagers[xe]){const{manager:Ee,promise:Se}=this.eventManagers[xe];return Ee?Promise.resolve(Ee):(debugAssert(Se,"If manager is not set, promise should be"),Se)}const _e=this.initAndGetManager(e);return this.eventManagers[xe]={promise:_e},_e.catch(()=>{delete this.eventManagers[xe]}),_e}async initAndGetManager(e){const xe=await _openIframe(e),_e=new AuthEventManager(e);return xe.register("authEvent",Ee=>(_assert(Ee==null?void 0:Ee.authEvent,e,"invalid-auth-event"),{status:_e.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:_e},this.iframes[e._key()]=xe,_e}_isIframeWebStorageSupported(e,xe){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},Ee=>{var Se;const Ae=(Se=Ee==null?void 0:Ee[0])===null||Se===void 0?void 0:Se[WEB_STORAGE_SUPPORT_KEY];Ae!==void 0&&xe(!!Ae),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const xe=e._key();return this.originValidationPromises[xe]||(this.originValidationPromises[xe]=_validateOrigin(e)),this.originValidationPromises[xe]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name="@firebase/auth",version$1="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const xe=this.auth.onIdTokenChanged(_e=>{e((_e==null?void 0:_e.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,xe),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const xe=this.internalListeners.get(e);xe&&(this.internalListeners.delete(e),xe(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:xe})=>{const _e=e.getProvider("app").getImmediate(),Ee=e.getProvider("heartbeat"),Se=e.getProvider("app-check-internal"),{apiKey:Ae,authDomain:Re}=_e.options;_assert(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:_e.name});const Pe={apiKey:Ae,authDomain:Re,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},Te=new AuthImpl(_e,Ee,Se,Pe);return _initializeAuthInstance(Te,xe),Te},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,xe,_e)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const xe=_castAuth(e.getProvider("auth").getImmediate());return(_e=>new AuthInterop(_e))(xe)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name,version$1,getVersionForPlatform(t)),registerVersion(name,version$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const xe=e&&await e.getIdTokenResult(),_e=xe&&(new Date().getTime()-Date.parse(xe.issuedAtTime))/1e3;if(_e&&_e>authIdTokenMaxAge)return;const Ee=xe==null?void 0:xe.token;lastPostedIdToken!==Ee&&(lastPostedIdToken=Ee,await fetch(t,{method:Ee?"POST":"DELETE",headers:Ee?{Authorization:`Bearer ${Ee}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const xe=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),_e=getExperimentalSetting("authTokenSyncURL");if(_e&&typeof isSecureContext=="boolean"&&isSecureContext){const Se=new URL(_e,location.origin);if(location.origin===Se.origin){const Ae=mintCookieFactory(Se.toString());beforeAuthStateChanged(xe,Ae,()=>Ae(xe.currentUser)),onIdTokenChanged(xe,Re=>Ae(Re))}}const Ee=getDefaultEmulatorHost("auth");return Ee&&connectAuthEmulator(xe,`http://${Ee}`),xe}function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(t){return new Promise((e,xe)=>{const _e=document.createElement("script");_e.setAttribute("src",t),_e.onload=e,_e.onerror=Ee=>{const Se=_createError("internal-error");Se.customData=Ee,xe(Se)},_e.type="text/javascript",_e.charset="UTF-8",getScriptParentElement().appendChild(_e)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Qe,Ke){function rr(){}rr.prototype=Ke.prototype,Qe.D=Ke.prototype,Qe.prototype=new rr,Qe.prototype.constructor=Qe,Qe.C=function(cr,Ze,er){for(var sr=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)sr[fr-2]=arguments[fr];return Ke.prototype[Ze].apply(cr,sr)}}function xe(){this.blockSize=-1}function _e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(_e,xe),_e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function Ee(Qe,Ke,rr){rr||(rr=0);var cr=Array(16);if(typeof Ke=="string")for(var Ze=0;16>Ze;++Ze)cr[Ze]=Ke.charCodeAt(rr++)|Ke.charCodeAt(rr++)<<8|Ke.charCodeAt(rr++)<<16|Ke.charCodeAt(rr++)<<24;else for(Ze=0;16>Ze;++Ze)cr[Ze]=Ke[rr++]|Ke[rr++]<<8|Ke[rr++]<<16|Ke[rr++]<<24;Ke=Qe.g[0],rr=Qe.g[1],Ze=Qe.g[2];var er=Qe.g[3],sr=Ke+(er^rr&(Ze^er))+cr[0]+3614090360&4294967295;Ke=rr+(sr<<7&4294967295|sr>>>25),sr=er+(Ze^Ke&(rr^Ze))+cr[1]+3905402710&4294967295,er=Ke+(sr<<12&4294967295|sr>>>20),sr=Ze+(rr^er&(Ke^rr))+cr[2]+606105819&4294967295,Ze=er+(sr<<17&4294967295|sr>>>15),sr=rr+(Ke^Ze&(er^Ke))+cr[3]+3250441966&4294967295,rr=Ze+(sr<<22&4294967295|sr>>>10),sr=Ke+(er^rr&(Ze^er))+cr[4]+4118548399&4294967295,Ke=rr+(sr<<7&4294967295|sr>>>25),sr=er+(Ze^Ke&(rr^Ze))+cr[5]+1200080426&4294967295,er=Ke+(sr<<12&4294967295|sr>>>20),sr=Ze+(rr^er&(Ke^rr))+cr[6]+2821735955&4294967295,Ze=er+(sr<<17&4294967295|sr>>>15),sr=rr+(Ke^Ze&(er^Ke))+cr[7]+4249261313&4294967295,rr=Ze+(sr<<22&4294967295|sr>>>10),sr=Ke+(er^rr&(Ze^er))+cr[8]+1770035416&4294967295,Ke=rr+(sr<<7&4294967295|sr>>>25),sr=er+(Ze^Ke&(rr^Ze))+cr[9]+2336552879&4294967295,er=Ke+(sr<<12&4294967295|sr>>>20),sr=Ze+(rr^er&(Ke^rr))+cr[10]+4294925233&4294967295,Ze=er+(sr<<17&4294967295|sr>>>15),sr=rr+(Ke^Ze&(er^Ke))+cr[11]+2304563134&4294967295,rr=Ze+(sr<<22&4294967295|sr>>>10),sr=Ke+(er^rr&(Ze^er))+cr[12]+1804603682&4294967295,Ke=rr+(sr<<7&4294967295|sr>>>25),sr=er+(Ze^Ke&(rr^Ze))+cr[13]+4254626195&4294967295,er=Ke+(sr<<12&4294967295|sr>>>20),sr=Ze+(rr^er&(Ke^rr))+cr[14]+2792965006&4294967295,Ze=er+(sr<<17&4294967295|sr>>>15),sr=rr+(Ke^Ze&(er^Ke))+cr[15]+1236535329&4294967295,rr=Ze+(sr<<22&4294967295|sr>>>10),sr=Ke+(Ze^er&(rr^Ze))+cr[1]+4129170786&4294967295,Ke=rr+(sr<<5&4294967295|sr>>>27),sr=er+(rr^Ze&(Ke^rr))+cr[6]+3225465664&4294967295,er=Ke+(sr<<9&4294967295|sr>>>23),sr=Ze+(Ke^rr&(er^Ke))+cr[11]+643717713&4294967295,Ze=er+(sr<<14&4294967295|sr>>>18),sr=rr+(er^Ke&(Ze^er))+cr[0]+3921069994&4294967295,rr=Ze+(sr<<20&4294967295|sr>>>12),sr=Ke+(Ze^er&(rr^Ze))+cr[5]+3593408605&4294967295,Ke=rr+(sr<<5&4294967295|sr>>>27),sr=er+(rr^Ze&(Ke^rr))+cr[10]+38016083&4294967295,er=Ke+(sr<<9&4294967295|sr>>>23),sr=Ze+(Ke^rr&(er^Ke))+cr[15]+3634488961&4294967295,Ze=er+(sr<<14&4294967295|sr>>>18),sr=rr+(er^Ke&(Ze^er))+cr[4]+3889429448&4294967295,rr=Ze+(sr<<20&4294967295|sr>>>12),sr=Ke+(Ze^er&(rr^Ze))+cr[9]+568446438&4294967295,Ke=rr+(sr<<5&4294967295|sr>>>27),sr=er+(rr^Ze&(Ke^rr))+cr[14]+3275163606&4294967295,er=Ke+(sr<<9&4294967295|sr>>>23),sr=Ze+(Ke^rr&(er^Ke))+cr[3]+4107603335&4294967295,Ze=er+(sr<<14&4294967295|sr>>>18),sr=rr+(er^Ke&(Ze^er))+cr[8]+1163531501&4294967295,rr=Ze+(sr<<20&4294967295|sr>>>12),sr=Ke+(Ze^er&(rr^Ze))+cr[13]+2850285829&4294967295,Ke=rr+(sr<<5&4294967295|sr>>>27),sr=er+(rr^Ze&(Ke^rr))+cr[2]+4243563512&4294967295,er=Ke+(sr<<9&4294967295|sr>>>23),sr=Ze+(Ke^rr&(er^Ke))+cr[7]+1735328473&4294967295,Ze=er+(sr<<14&4294967295|sr>>>18),sr=rr+(er^Ke&(Ze^er))+cr[12]+2368359562&4294967295,rr=Ze+(sr<<20&4294967295|sr>>>12),sr=Ke+(rr^Ze^er)+cr[5]+4294588738&4294967295,Ke=rr+(sr<<4&4294967295|sr>>>28),sr=er+(Ke^rr^Ze)+cr[8]+2272392833&4294967295,er=Ke+(sr<<11&4294967295|sr>>>21),sr=Ze+(er^Ke^rr)+cr[11]+1839030562&4294967295,Ze=er+(sr<<16&4294967295|sr>>>16),sr=rr+(Ze^er^Ke)+cr[14]+4259657740&4294967295,rr=Ze+(sr<<23&4294967295|sr>>>9),sr=Ke+(rr^Ze^er)+cr[1]+2763975236&4294967295,Ke=rr+(sr<<4&4294967295|sr>>>28),sr=er+(Ke^rr^Ze)+cr[4]+1272893353&4294967295,er=Ke+(sr<<11&4294967295|sr>>>21),sr=Ze+(er^Ke^rr)+cr[7]+4139469664&4294967295,Ze=er+(sr<<16&4294967295|sr>>>16),sr=rr+(Ze^er^Ke)+cr[10]+3200236656&4294967295,rr=Ze+(sr<<23&4294967295|sr>>>9),sr=Ke+(rr^Ze^er)+cr[13]+681279174&4294967295,Ke=rr+(sr<<4&4294967295|sr>>>28),sr=er+(Ke^rr^Ze)+cr[0]+3936430074&4294967295,er=Ke+(sr<<11&4294967295|sr>>>21),sr=Ze+(er^Ke^rr)+cr[3]+3572445317&4294967295,Ze=er+(sr<<16&4294967295|sr>>>16),sr=rr+(Ze^er^Ke)+cr[6]+76029189&4294967295,rr=Ze+(sr<<23&4294967295|sr>>>9),sr=Ke+(rr^Ze^er)+cr[9]+3654602809&4294967295,Ke=rr+(sr<<4&4294967295|sr>>>28),sr=er+(Ke^rr^Ze)+cr[12]+3873151461&4294967295,er=Ke+(sr<<11&4294967295|sr>>>21),sr=Ze+(er^Ke^rr)+cr[15]+530742520&4294967295,Ze=er+(sr<<16&4294967295|sr>>>16),sr=rr+(Ze^er^Ke)+cr[2]+3299628645&4294967295,rr=Ze+(sr<<23&4294967295|sr>>>9),sr=Ke+(Ze^(rr|~er))+cr[0]+4096336452&4294967295,Ke=rr+(sr<<6&4294967295|sr>>>26),sr=er+(rr^(Ke|~Ze))+cr[7]+1126891415&4294967295,er=Ke+(sr<<10&4294967295|sr>>>22),sr=Ze+(Ke^(er|~rr))+cr[14]+2878612391&4294967295,Ze=er+(sr<<15&4294967295|sr>>>17),sr=rr+(er^(Ze|~Ke))+cr[5]+4237533241&4294967295,rr=Ze+(sr<<21&4294967295|sr>>>11),sr=Ke+(Ze^(rr|~er))+cr[12]+1700485571&4294967295,Ke=rr+(sr<<6&4294967295|sr>>>26),sr=er+(rr^(Ke|~Ze))+cr[3]+2399980690&4294967295,er=Ke+(sr<<10&4294967295|sr>>>22),sr=Ze+(Ke^(er|~rr))+cr[10]+4293915773&4294967295,Ze=er+(sr<<15&4294967295|sr>>>17),sr=rr+(er^(Ze|~Ke))+cr[1]+2240044497&4294967295,rr=Ze+(sr<<21&4294967295|sr>>>11),sr=Ke+(Ze^(rr|~er))+cr[8]+1873313359&4294967295,Ke=rr+(sr<<6&4294967295|sr>>>26),sr=er+(rr^(Ke|~Ze))+cr[15]+4264355552&4294967295,er=Ke+(sr<<10&4294967295|sr>>>22),sr=Ze+(Ke^(er|~rr))+cr[6]+2734768916&4294967295,Ze=er+(sr<<15&4294967295|sr>>>17),sr=rr+(er^(Ze|~Ke))+cr[13]+1309151649&4294967295,rr=Ze+(sr<<21&4294967295|sr>>>11),sr=Ke+(Ze^(rr|~er))+cr[4]+4149444226&4294967295,Ke=rr+(sr<<6&4294967295|sr>>>26),sr=er+(rr^(Ke|~Ze))+cr[11]+3174756917&4294967295,er=Ke+(sr<<10&4294967295|sr>>>22),sr=Ze+(Ke^(er|~rr))+cr[2]+718787259&4294967295,Ze=er+(sr<<15&4294967295|sr>>>17),sr=rr+(er^(Ze|~Ke))+cr[9]+3951481745&4294967295,Qe.g[0]=Qe.g[0]+Ke&4294967295,Qe.g[1]=Qe.g[1]+(Ze+(sr<<21&4294967295|sr>>>11))&4294967295,Qe.g[2]=Qe.g[2]+Ze&4294967295,Qe.g[3]=Qe.g[3]+er&4294967295}_e.prototype.u=function(Qe,Ke){Ke===void 0&&(Ke=Qe.length);for(var rr=Ke-this.blockSize,cr=this.B,Ze=this.h,er=0;er<Ke;){if(Ze==0)for(;er<=rr;)Ee(this,Qe,er),er+=this.blockSize;if(typeof Qe=="string"){for(;er<Ke;)if(cr[Ze++]=Qe.charCodeAt(er++),Ze==this.blockSize){Ee(this,cr),Ze=0;break}}else for(;er<Ke;)if(cr[Ze++]=Qe[er++],Ze==this.blockSize){Ee(this,cr),Ze=0;break}}this.h=Ze,this.o+=Ke},_e.prototype.v=function(){var Qe=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Qe[0]=128;for(var Ke=1;Ke<Qe.length-8;++Ke)Qe[Ke]=0;var rr=8*this.o;for(Ke=Qe.length-8;Ke<Qe.length;++Ke)Qe[Ke]=rr&255,rr/=256;for(this.u(Qe),Qe=Array(16),Ke=rr=0;4>Ke;++Ke)for(var cr=0;32>cr;cr+=8)Qe[rr++]=this.g[Ke]>>>cr&255;return Qe};function Se(Qe,Ke){var rr=Re;return Object.prototype.hasOwnProperty.call(rr,Qe)?rr[Qe]:rr[Qe]=Ke(Qe)}function Ae(Qe,Ke){this.h=Ke;for(var rr=[],cr=!0,Ze=Qe.length-1;0<=Ze;Ze--){var er=Qe[Ze]|0;cr&&er==Ke||(rr[Ze]=er,cr=!1)}this.g=rr}var Re={};function Pe(Qe){return-128<=Qe&&128>Qe?Se(Qe,function(Ke){return new Ae([Ke|0],0>Ke?-1:0)}):new Ae([Qe|0],0>Qe?-1:0)}function Te(Qe){if(isNaN(Qe)||!isFinite(Qe))return je;if(0>Qe)return De(Te(-Qe));for(var Ke=[],rr=1,cr=0;Qe>=rr;cr++)Ke[cr]=Qe/rr|0,rr*=4294967296;return new Ae(Ke,0)}function Ie(Qe,Ke){if(Qe.length==0)throw Error("number format error: empty string");if(Ke=Ke||10,2>Ke||36<Ke)throw Error("radix out of range: "+Ke);if(Qe.charAt(0)=="-")return De(Ie(Qe.substring(1),Ke));if(0<=Qe.indexOf("-"))throw Error('number format error: interior "-" character');for(var rr=Te(Math.pow(Ke,8)),cr=je,Ze=0;Ze<Qe.length;Ze+=8){var er=Math.min(8,Qe.length-Ze),sr=parseInt(Qe.substring(Ze,Ze+er),Ke);8>er?(er=Te(Math.pow(Ke,er)),cr=cr.j(er).add(Te(sr))):(cr=cr.j(rr),cr=cr.add(Te(sr)))}return cr}var je=Pe(0),Oe=Pe(1),ke=Pe(16777216);t=Ae.prototype,t.m=function(){if(Me(this))return-De(this).m();for(var Qe=0,Ke=1,rr=0;rr<this.g.length;rr++){var cr=this.i(rr);Qe+=(0<=cr?cr:4294967296+cr)*Ke,Ke*=4294967296}return Qe},t.toString=function(Qe){if(Qe=Qe||10,2>Qe||36<Qe)throw Error("radix out of range: "+Qe);if(Fe(this))return"0";if(Me(this))return"-"+De(this).toString(Qe);for(var Ke=Te(Math.pow(Qe,6)),rr=this,cr="";;){var Ze=Ye(rr,Ke).g;rr=Ue(rr,Ze.j(Ke));var er=((0<rr.g.length?rr.g[0]:rr.h)>>>0).toString(Qe);if(rr=Ze,Fe(rr))return er+cr;for(;6>er.length;)er="0"+er;cr=er+cr}},t.i=function(Qe){return 0>Qe?0:Qe<this.g.length?this.g[Qe]:this.h};function Fe(Qe){if(Qe.h!=0)return!1;for(var Ke=0;Ke<Qe.g.length;Ke++)if(Qe.g[Ke]!=0)return!1;return!0}function Me(Qe){return Qe.h==-1}t.l=function(Qe){return Qe=Ue(this,Qe),Me(Qe)?-1:Fe(Qe)?0:1};function De(Qe){for(var Ke=Qe.g.length,rr=[],cr=0;cr<Ke;cr++)rr[cr]=~Qe.g[cr];return new Ae(rr,~Qe.h).add(Oe)}t.abs=function(){return Me(this)?De(this):this},t.add=function(Qe){for(var Ke=Math.max(this.g.length,Qe.g.length),rr=[],cr=0,Ze=0;Ze<=Ke;Ze++){var er=cr+(this.i(Ze)&65535)+(Qe.i(Ze)&65535),sr=(er>>>16)+(this.i(Ze)>>>16)+(Qe.i(Ze)>>>16);cr=sr>>>16,er&=65535,sr&=65535,rr[Ze]=sr<<16|er}return new Ae(rr,rr[rr.length-1]&-2147483648?-1:0)};function Ue(Qe,Ke){return Qe.add(De(Ke))}t.j=function(Qe){if(Fe(this)||Fe(Qe))return je;if(Me(this))return Me(Qe)?De(this).j(De(Qe)):De(De(this).j(Qe));if(Me(Qe))return De(this.j(De(Qe)));if(0>this.l(ke)&&0>Qe.l(ke))return Te(this.m()*Qe.m());for(var Ke=this.g.length+Qe.g.length,rr=[],cr=0;cr<2*Ke;cr++)rr[cr]=0;for(cr=0;cr<this.g.length;cr++)for(var Ze=0;Ze<Qe.g.length;Ze++){var er=this.i(cr)>>>16,sr=this.i(cr)&65535,fr=Qe.i(Ze)>>>16,_r=Qe.i(Ze)&65535;rr[2*cr+2*Ze]+=sr*_r,ze(rr,2*cr+2*Ze),rr[2*cr+2*Ze+1]+=er*_r,ze(rr,2*cr+2*Ze+1),rr[2*cr+2*Ze+1]+=sr*fr,ze(rr,2*cr+2*Ze+1),rr[2*cr+2*Ze+2]+=er*fr,ze(rr,2*cr+2*Ze+2)}for(cr=0;cr<Ke;cr++)rr[cr]=rr[2*cr+1]<<16|rr[2*cr];for(cr=Ke;cr<2*Ke;cr++)rr[cr]=0;return new Ae(rr,0)};function ze(Qe,Ke){for(;(Qe[Ke]&65535)!=Qe[Ke];)Qe[Ke+1]+=Qe[Ke]>>>16,Qe[Ke]&=65535,Ke++}function We(Qe,Ke){this.g=Qe,this.h=Ke}function Ye(Qe,Ke){if(Fe(Ke))throw Error("division by zero");if(Fe(Qe))return new We(je,je);if(Me(Qe))return Ke=Ye(De(Qe),Ke),new We(De(Ke.g),De(Ke.h));if(Me(Ke))return Ke=Ye(Qe,De(Ke)),new We(De(Ke.g),Ke.h);if(30<Qe.g.length){if(Me(Qe)||Me(Ke))throw Error("slowDivide_ only works with positive integers.");for(var rr=Oe,cr=Ke;0>=cr.l(Qe);)rr=Xe(rr),cr=Xe(cr);var Ze=ir(rr,1),er=ir(cr,1);for(cr=ir(cr,2),rr=ir(rr,2);!Fe(cr);){var sr=er.add(cr);0>=sr.l(Qe)&&(Ze=Ze.add(rr),er=sr),cr=ir(cr,1),rr=ir(rr,1)}return Ke=Ue(Qe,Ze.j(Ke)),new We(Ze,Ke)}for(Ze=je;0<=Qe.l(Ke);){for(rr=Math.max(1,Math.floor(Qe.m()/Ke.m())),cr=Math.ceil(Math.log(rr)/Math.LN2),cr=48>=cr?1:Math.pow(2,cr-48),er=Te(rr),sr=er.j(Ke);Me(sr)||0<sr.l(Qe);)rr-=cr,er=Te(rr),sr=er.j(Ke);Fe(er)&&(er=Oe),Ze=Ze.add(er),Qe=Ue(Qe,sr)}return new We(Ze,Qe)}t.A=function(Qe){return Ye(this,Qe).h},t.and=function(Qe){for(var Ke=Math.max(this.g.length,Qe.g.length),rr=[],cr=0;cr<Ke;cr++)rr[cr]=this.i(cr)&Qe.i(cr);return new Ae(rr,this.h&Qe.h)},t.or=function(Qe){for(var Ke=Math.max(this.g.length,Qe.g.length),rr=[],cr=0;cr<Ke;cr++)rr[cr]=this.i(cr)|Qe.i(cr);return new Ae(rr,this.h|Qe.h)},t.xor=function(Qe){for(var Ke=Math.max(this.g.length,Qe.g.length),rr=[],cr=0;cr<Ke;cr++)rr[cr]=this.i(cr)^Qe.i(cr);return new Ae(rr,this.h^Qe.h)};function Xe(Qe){for(var Ke=Qe.g.length+1,rr=[],cr=0;cr<Ke;cr++)rr[cr]=Qe.i(cr)<<1|Qe.i(cr-1)>>>31;return new Ae(rr,Qe.h)}function ir(Qe,Ke){var rr=Ke>>5;Ke%=32;for(var cr=Qe.g.length-rr,Ze=[],er=0;er<cr;er++)Ze[er]=0<Ke?Qe.i(er+rr)>>>Ke|Qe.i(er+rr+1)<<32-Ke:Qe.i(er+rr);return new Ae(Ze,Qe.h)}_e.prototype.digest=_e.prototype.v,_e.prototype.reset=_e.prototype.s,_e.prototype.update=_e.prototype.u,Md5=_e,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.j,Ae.prototype.modulo=Ae.prototype.A,Ae.prototype.compare=Ae.prototype.l,Ae.prototype.toNumber=Ae.prototype.m,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.i,Ae.fromNumber=Te,Ae.fromString=Ie,Integer=Ae}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(qe,ar,dr){return qe==Array.prototype||qe==Object.prototype||(qe[ar]=dr.value),qe};function xe(qe){qe=[typeof globalThis=="object"&&globalThis,qe,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var ar=0;ar<qe.length;++ar){var dr=qe[ar];if(dr&&dr.Math==Math)return dr}throw Error("Cannot find global object")}var _e=xe(this);function Ee(qe,ar){if(ar)e:{var dr=_e;qe=qe.split(".");for(var Rr=0;Rr<qe.length-1;Rr++){var Gr=qe[Rr];if(!(Gr in dr))break e;dr=dr[Gr]}qe=qe[qe.length-1],Rr=dr[qe],ar=ar(Rr),ar!=Rr&&ar!=null&&e(dr,qe,{configurable:!0,writable:!0,value:ar})}}function Se(qe,ar){qe instanceof String&&(qe+="");var dr=0,Rr=!1,Gr={next:function(){if(!Rr&&dr<qe.length){var fn=dr++;return{value:ar(fn,qe[fn]),done:!1}}return Rr=!0,{done:!0,value:void 0}}};return Gr[Symbol.iterator]=function(){return Gr},Gr}Ee("Array.prototype.values",function(qe){return qe||function(){return Se(this,function(ar,dr){return dr})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var Ae=Ae||{},Re=this||self;function Pe(qe){var ar=typeof qe;return ar=ar!="object"?ar:qe?Array.isArray(qe)?"array":ar:"null",ar=="array"||ar=="object"&&typeof qe.length=="number"}function Te(qe){var ar=typeof qe;return ar=="object"&&qe!=null||ar=="function"}function Ie(qe,ar,dr){return qe.call.apply(qe.bind,arguments)}function je(qe,ar,dr){if(!qe)throw Error();if(2<arguments.length){var Rr=Array.prototype.slice.call(arguments,2);return function(){var Gr=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Gr,Rr),qe.apply(ar,Gr)}}return function(){return qe.apply(ar,arguments)}}function Oe(qe,ar,dr){return Oe=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie:je,Oe.apply(null,arguments)}function ke(qe,ar){var dr=Array.prototype.slice.call(arguments,1);return function(){var Rr=dr.slice();return Rr.push.apply(Rr,arguments),qe.apply(this,Rr)}}function Fe(qe,ar){function dr(){}dr.prototype=ar.prototype,qe.aa=ar.prototype,qe.prototype=new dr,qe.prototype.constructor=qe,qe.Qb=function(Rr,Gr,fn){for(var Pn=Array(arguments.length-2),ci=2;ci<arguments.length;ci++)Pn[ci-2]=arguments[ci];return ar.prototype[Gr].apply(Rr,Pn)}}function Me(qe){const ar=qe.length;if(0<ar){const dr=Array(ar);for(let Rr=0;Rr<ar;Rr++)dr[Rr]=qe[Rr];return dr}return[]}function De(qe,ar){for(let dr=1;dr<arguments.length;dr++){const Rr=arguments[dr];if(Pe(Rr)){const Gr=qe.length||0,fn=Rr.length||0;qe.length=Gr+fn;for(let Pn=0;Pn<fn;Pn++)qe[Gr+Pn]=Rr[Pn]}else qe.push(Rr)}}class Ue{constructor(ar,dr){this.i=ar,this.j=dr,this.h=0,this.g=null}get(){let ar;return 0<this.h?(this.h--,ar=this.g,this.g=ar.next,ar.next=null):ar=this.i(),ar}}function ze(qe){return/^[\s\xa0]*$/.test(qe)}function We(){var qe=Re.navigator;return qe&&(qe=qe.userAgent)?qe:""}function Ye(qe){return Ye[" "](qe),qe}Ye[" "]=function(){};var Xe=We().indexOf("Gecko")!=-1&&!(We().toLowerCase().indexOf("webkit")!=-1&&We().indexOf("Edge")==-1)&&!(We().indexOf("Trident")!=-1||We().indexOf("MSIE")!=-1)&&We().indexOf("Edge")==-1;function ir(qe,ar,dr){for(const Rr in qe)ar.call(dr,qe[Rr],Rr,qe)}function Qe(qe,ar){for(const dr in qe)ar.call(void 0,qe[dr],dr,qe)}function Ke(qe){const ar={};for(const dr in qe)ar[dr]=qe[dr];return ar}const rr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cr(qe,ar){let dr,Rr;for(let Gr=1;Gr<arguments.length;Gr++){Rr=arguments[Gr];for(dr in Rr)qe[dr]=Rr[dr];for(let fn=0;fn<rr.length;fn++)dr=rr[fn],Object.prototype.hasOwnProperty.call(Rr,dr)&&(qe[dr]=Rr[dr])}}function Ze(qe){var ar=1;qe=qe.split(":");const dr=[];for(;0<ar&&qe.length;)dr.push(qe.shift()),ar--;return qe.length&&dr.push(qe.join(":")),dr}function er(qe){Re.setTimeout(()=>{throw qe},0)}function sr(){var qe=Pr;let ar=null;return qe.g&&(ar=qe.g,qe.g=qe.g.next,qe.g||(qe.h=null),ar.next=null),ar}class fr{constructor(){this.h=this.g=null}add(ar,dr){const Rr=_r.get();Rr.set(ar,dr),this.h?this.h.next=Rr:this.g=Rr,this.h=Rr}}var _r=new Ue(()=>new Er,qe=>qe.reset());class Er{constructor(){this.next=this.g=this.h=null}set(ar,dr){this.h=ar,this.g=dr,this.next=null}reset(){this.next=this.g=this.h=null}}let yr,mr=!1,Pr=new fr,Cr=()=>{const qe=Re.Promise.resolve(void 0);yr=()=>{qe.then(wr)}};var wr=()=>{for(var qe;qe=sr();){try{qe.h.call(qe.g)}catch(dr){er(dr)}var ar=_r;ar.j(qe),100>ar.h&&(ar.h++,qe.next=ar.g,ar.g=qe)}mr=!1};function or(){this.s=this.s,this.C=this.C}or.prototype.s=!1,or.prototype.ma=function(){this.s||(this.s=!0,this.N())},or.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function hr(qe,ar){this.type=qe,this.g=this.target=ar,this.defaultPrevented=!1}hr.prototype.h=function(){this.defaultPrevented=!0};var br=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var qe=!1,ar=Object.defineProperty({},"passive",{get:function(){qe=!0}});try{const dr=()=>{};Re.addEventListener("test",dr,ar),Re.removeEventListener("test",dr,ar)}catch{}return qe}();function Ir(qe,ar){if(hr.call(this,qe?qe.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,qe){var dr=this.type=qe.type,Rr=qe.changedTouches&&qe.changedTouches.length?qe.changedTouches[0]:null;if(this.target=qe.target||qe.srcElement,this.g=ar,ar=qe.relatedTarget){if(Xe){e:{try{Ye(ar.nodeName);var Gr=!0;break e}catch{}Gr=!1}Gr||(ar=null)}}else dr=="mouseover"?ar=qe.fromElement:dr=="mouseout"&&(ar=qe.toElement);this.relatedTarget=ar,Rr?(this.clientX=Rr.clientX!==void 0?Rr.clientX:Rr.pageX,this.clientY=Rr.clientY!==void 0?Rr.clientY:Rr.pageY,this.screenX=Rr.screenX||0,this.screenY=Rr.screenY||0):(this.clientX=qe.clientX!==void 0?qe.clientX:qe.pageX,this.clientY=qe.clientY!==void 0?qe.clientY:qe.pageY,this.screenX=qe.screenX||0,this.screenY=qe.screenY||0),this.button=qe.button,this.key=qe.key||"",this.ctrlKey=qe.ctrlKey,this.altKey=qe.altKey,this.shiftKey=qe.shiftKey,this.metaKey=qe.metaKey,this.pointerId=qe.pointerId||0,this.pointerType=typeof qe.pointerType=="string"?qe.pointerType:jr[qe.pointerType]||"",this.state=qe.state,this.i=qe,qe.defaultPrevented&&Ir.aa.h.call(this)}}Fe(Ir,hr);var jr={2:"touch",3:"pen",4:"mouse"};Ir.prototype.h=function(){Ir.aa.h.call(this);var qe=this.i;qe.preventDefault?qe.preventDefault():qe.returnValue=!1};var Mr="closure_listenable_"+(1e6*Math.random()|0),Vr=0;function Or(qe,ar,dr,Rr,Gr){this.listener=qe,this.proxy=null,this.src=ar,this.type=dr,this.capture=!!Rr,this.ha=Gr,this.key=++Vr,this.da=this.fa=!1}function Xr(qe){qe.da=!0,qe.listener=null,qe.proxy=null,qe.src=null,qe.ha=null}function Qr(qe){this.src=qe,this.g={},this.h=0}Qr.prototype.add=function(qe,ar,dr,Rr,Gr){var fn=qe.toString();qe=this.g[fn],qe||(qe=this.g[fn]=[],this.h++);var Pn=xn(qe,ar,Rr,Gr);return-1<Pn?(ar=qe[Pn],dr||(ar.fa=!1)):(ar=new Or(ar,this.src,fn,!!Rr,Gr),ar.fa=dr,qe.push(ar)),ar};function Fr(qe,ar){var dr=ar.type;if(dr in qe.g){var Rr=qe.g[dr],Gr=Array.prototype.indexOf.call(Rr,ar,void 0),fn;(fn=0<=Gr)&&Array.prototype.splice.call(Rr,Gr,1),fn&&(Xr(ar),qe.g[dr].length==0&&(delete qe.g[dr],qe.h--))}}function xn(qe,ar,dr,Rr){for(var Gr=0;Gr<qe.length;++Gr){var fn=qe[Gr];if(!fn.da&&fn.listener==ar&&fn.capture==!!dr&&fn.ha==Rr)return Gr}return-1}var An="closure_lm_"+(1e6*Math.random()|0),un={};function Nr(qe,ar,dr,Rr,Gr){if(Array.isArray(ar)){for(var fn=0;fn<ar.length;fn++)Nr(qe,ar[fn],dr,Rr,Gr);return null}return dr=ni(dr),qe&&qe[Mr]?qe.K(ar,dr,Te(Rr)?!!Rr.capture:!1,Gr):Bn(qe,ar,dr,!1,Rr,Gr)}function Bn(qe,ar,dr,Rr,Gr,fn){if(!ar)throw Error("Invalid event type");var Pn=Te(Gr)?!!Gr.capture:!!Gr,ci=zn(qe);if(ci||(qe[An]=ci=new Qr(qe)),dr=ci.add(ar,dr,Rr,Pn,fn),dr.proxy)return dr;if(Rr=Vn(),dr.proxy=Rr,Rr.src=qe,Rr.listener=dr,qe.addEventListener)br||(Gr=Pn),Gr===void 0&&(Gr=!1),qe.addEventListener(ar.toString(),Rr,Gr);else if(qe.attachEvent)qe.attachEvent(jn(ar.toString()),Rr);else if(qe.addListener&&qe.removeListener)qe.addListener(Rr);else throw Error("addEventListener and attachEvent are unavailable.");return dr}function Vn(){function qe(dr){return ar.call(qe.src,qe.listener,dr)}const ar=Nn;return qe}function wn(qe,ar,dr,Rr,Gr){if(Array.isArray(ar))for(var fn=0;fn<ar.length;fn++)wn(qe,ar[fn],dr,Rr,Gr);else Rr=Te(Rr)?!!Rr.capture:!!Rr,dr=ni(dr),qe&&qe[Mr]?(qe=qe.i,ar=String(ar).toString(),ar in qe.g&&(fn=qe.g[ar],dr=xn(fn,dr,Rr,Gr),-1<dr&&(Xr(fn[dr]),Array.prototype.splice.call(fn,dr,1),fn.length==0&&(delete qe.g[ar],qe.h--)))):qe&&(qe=zn(qe))&&(ar=qe.g[ar.toString()],qe=-1,ar&&(qe=xn(ar,dr,Rr,Gr)),(dr=-1<qe?ar[qe]:null)&&In(dr))}function In(qe){if(typeof qe!="number"&&qe&&!qe.da){var ar=qe.src;if(ar&&ar[Mr])Fr(ar.i,qe);else{var dr=qe.type,Rr=qe.proxy;ar.removeEventListener?ar.removeEventListener(dr,Rr,qe.capture):ar.detachEvent?ar.detachEvent(jn(dr),Rr):ar.addListener&&ar.removeListener&&ar.removeListener(Rr),(dr=zn(ar))?(Fr(dr,qe),dr.h==0&&(dr.src=null,ar[An]=null)):Xr(qe)}}}function jn(qe){return qe in un?un[qe]:un[qe]="on"+qe}function Nn(qe,ar){if(qe.da)qe=!0;else{ar=new Ir(ar,this);var dr=qe.listener,Rr=qe.ha||qe.src;qe.fa&&In(qe),qe=dr.call(Rr,ar)}return qe}function zn(qe){return qe=qe[An],qe instanceof Qr?qe:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ni(qe){return typeof qe=="function"?qe:(qe[Qn]||(qe[Qn]=function(ar){return qe.handleEvent(ar)}),qe[Qn])}function Yn(){or.call(this),this.i=new Qr(this),this.M=this,this.F=null}Fe(Yn,or),Yn.prototype[Mr]=!0,Yn.prototype.removeEventListener=function(qe,ar,dr,Rr){wn(this,qe,ar,dr,Rr)};function ei(qe,ar){var dr,Rr=qe.F;if(Rr)for(dr=[];Rr;Rr=Rr.F)dr.push(Rr);if(qe=qe.M,Rr=ar.type||ar,typeof ar=="string")ar=new hr(ar,qe);else if(ar instanceof hr)ar.target=ar.target||qe;else{var Gr=ar;ar=new hr(Rr,qe),cr(ar,Gr)}if(Gr=!0,dr)for(var fn=dr.length-1;0<=fn;fn--){var Pn=ar.g=dr[fn];Gr=hi(Pn,Rr,!0,ar)&&Gr}if(Pn=ar.g=qe,Gr=hi(Pn,Rr,!0,ar)&&Gr,Gr=hi(Pn,Rr,!1,ar)&&Gr,dr)for(fn=0;fn<dr.length;fn++)Pn=ar.g=dr[fn],Gr=hi(Pn,Rr,!1,ar)&&Gr}Yn.prototype.N=function(){if(Yn.aa.N.call(this),this.i){var qe=this.i,ar;for(ar in qe.g){for(var dr=qe.g[ar],Rr=0;Rr<dr.length;Rr++)Xr(dr[Rr]);delete qe.g[ar],qe.h--}}this.F=null},Yn.prototype.K=function(qe,ar,dr,Rr){return this.i.add(String(qe),ar,!1,dr,Rr)},Yn.prototype.L=function(qe,ar,dr,Rr){return this.i.add(String(qe),ar,!0,dr,Rr)};function hi(qe,ar,dr,Rr){if(ar=qe.i.g[String(ar)],!ar)return!0;ar=ar.concat();for(var Gr=!0,fn=0;fn<ar.length;++fn){var Pn=ar[fn];if(Pn&&!Pn.da&&Pn.capture==dr){var ci=Pn.listener,xi=Pn.ha||Pn.src;Pn.fa&&Fr(qe.i,Pn),Gr=ci.call(xi,Rr)!==!1&&Gr}}return Gr&&!Rr.defaultPrevented}function ti(qe,ar,dr){if(typeof qe=="function")dr&&(qe=Oe(qe,dr));else if(qe&&typeof qe.handleEvent=="function")qe=Oe(qe.handleEvent,qe);else throw Error("Invalid listener argument");return 2147483647<Number(ar)?-1:Re.setTimeout(qe,ar||0)}function si(qe){qe.g=ti(()=>{qe.g=null,qe.i&&(qe.i=!1,si(qe))},qe.l);const ar=qe.h;qe.h=null,qe.m.apply(null,ar)}class kn extends or{constructor(ar,dr){super(),this.m=ar,this.l=dr,this.h=null,this.i=!1,this.g=null}j(ar){this.h=arguments,this.g?this.i=!0:si(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(qe){or.call(this),this.h=qe,this.g={}}Fe(Zi,or);var mi=[];function xo(qe){ir(qe.g,function(ar,dr){this.g.hasOwnProperty(dr)&&In(ar)},qe),qe.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),xo(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=Re.JSON.stringify,Pi=Re.JSON.parse,zo=class{stringify(qe){return Re.JSON.stringify(qe,void 0)}parse(qe){return Re.JSON.parse(qe,void 0)}};function gi(){}gi.prototype.h=null;function ys(qe){return qe.h||(qe.h=qe.i())}function Ii(){}var eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _o(){hr.call(this,"d")}Fe(_o,hr);function Li(){hr.call(this,"c")}Fe(Li,hr);var Jn={},vi=null;function ns(){return vi=vi||new Yn}Jn.La="serverreachability";function Yi(qe){hr.call(this,Jn.La,qe)}Fe(Yi,hr);function go(qe){const ar=ns();ei(ar,new Yi(ar))}Jn.STAT_EVENT="statevent";function Ho(qe,ar){hr.call(this,Jn.STAT_EVENT,qe),this.stat=ar}Fe(Ho,hr);function Fn(qe){const ar=ns();ei(ar,new Ho(ar,qe))}Jn.Ma="timingevent";function Io(qe,ar){hr.call(this,Jn.Ma,qe),this.size=ar}Fe(Io,hr);function io(qe,ar){if(typeof qe!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){qe()},ar)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function qi(qe,ar,dr,Rr,Gr,fn){qe.info(function(){if(qe.g)if(fn)for(var Pn="",ci=fn.split("&"),xi=0;xi<ci.length;xi++){var ui=ci[xi].split("=");if(1<ui.length){var $i=ui[0];ui=ui[1];var Di=$i.split("_");Pn=2<=Di.length&&Di[1]=="type"?Pn+($i+"="+ui+"&"):Pn+($i+"=redacted&")}}else Pn=null;else Pn=fn;return"XMLHTTP REQ ("+Rr+") [attempt "+Gr+"]: "+ar+`
`+dr+`
`+Pn})}function Wi(qe,ar,dr,Rr,Gr,fn,Pn){qe.info(function(){return"XMLHTTP RESP ("+Rr+") [ attempt "+Gr+"]: "+ar+`
`+dr+`
`+fn+" "+Pn})}function Xi(qe,ar,dr,Rr){qe.info(function(){return"XMLHTTP TEXT ("+ar+"): "+Cs(qe,dr)+(Rr?" "+Rr:"")})}function Us(qe,ar){qe.info(function(){return"TIMEOUT: "+ar})}uo.prototype.info=function(){};function Cs(qe,ar){if(!qe.g)return ar;if(!ar)return null;try{var dr=JSON.parse(ar);if(dr){for(qe=0;qe<dr.length;qe++)if(Array.isArray(dr[qe])){var Rr=dr[qe];if(!(2>Rr.length)){var Gr=Rr[1];if(Array.isArray(Gr)&&!(1>Gr.length)){var fn=Gr[0];if(fn!="noop"&&fn!="stop"&&fn!="close")for(var Pn=1;Pn<Gr.length;Pn++)Gr[Pn]=""}}}}return bi(dr)}catch{return ar}}var jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oo;function $o(){}Fe($o,gi),$o.prototype.g=function(){return new XMLHttpRequest},$o.prototype.i=function(){return{}},oo=new $o;function ro(qe,ar,dr,Rr){this.j=qe,this.i=ar,this.l=dr,this.R=Rr||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new is}function is(){this.i=null,this.g="",this.h=!1}var En={},Wn={};function di(qe,ar,dr){qe.L=1,qe.v=ua(Lo(ar)),qe.m=dr,qe.P=!0,Ei(qe,null)}function Ei(qe,ar){qe.F=Date.now(),Ui(qe),qe.A=Lo(qe.v);var dr=qe.A,Rr=qe.R;Array.isArray(Rr)||(Rr=[String(Rr)]),ri(dr.i,"t",Rr),qe.C=0,dr=qe.j.J,qe.h=new is,qe.g=gr(qe.j,dr?ar:null,!qe.m),0<qe.O&&(qe.M=new kn(Oe(qe.Y,qe,qe.g),qe.O)),ar=qe.U,dr=qe.g,Rr=qe.ca;var Gr="readystatechange";Array.isArray(Gr)||(Gr&&(mi[0]=Gr.toString()),Gr=mi);for(var fn=0;fn<Gr.length;fn++){var Pn=Nr(dr,Gr[fn],Rr||ar.handleEvent,!1,ar.h||ar);if(!Pn)break;ar.g[Pn.key]=Pn}ar=qe.H?Ke(qe.H):{},qe.m?(qe.u||(qe.u="POST"),ar["Content-Type"]="application/x-www-form-urlencoded",qe.g.ea(qe.A,qe.u,qe.m,ar)):(qe.u="GET",qe.g.ea(qe.A,qe.u,null,ar)),go(),qi(qe.i,qe.u,qe.A,qe.l,qe.R,qe.m)}ro.prototype.ca=function(qe){qe=qe.target;const ar=this.M;ar&&ho(qe)==3?ar.j():this.Y(qe)},ro.prototype.Y=function(qe){try{if(qe==this.g)e:{const Di=ho(this.g);var ar=this.g.Ba();const ls=this.g.Z();if(!(3>Di)&&(Di!=3||this.g&&(this.h.h||this.g.oa()||Bl(this.g)))){this.J||Di!=4||ar==7||(ar==8||0>=ls?go(3):go(2)),zs(this);var dr=this.g.Z();this.X=dr;t:if(aa(this)){var Rr=Bl(this.g);qe="";var Gr=Rr.length,fn=ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),la(this);var Pn="";break t}this.h.i=new Re.TextDecoder}for(ar=0;ar<Gr;ar++)this.h.h=!0,qe+=this.h.i.decode(Rr[ar],{stream:!(fn&&ar==Gr-1)});Rr.length=0,this.h.g+=qe,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=dr==200,Wi(this.i,this.u,this.A,this.l,this.R,Di,dr),this.o){if(this.T&&!this.K){t:{if(this.g){var ci,xi=this.g;if((ci=xi.g?xi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ze(ci)){var ui=ci;break t}}ui=null}if(dr=ui)Xi(this.i,this.l,dr,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,dr);else{this.o=!1,this.s=3,Fn(12),vs(this),la(this);break e}}if(this.P){dr=!0;let Vo;for(;!this.J&&this.C<Pn.length;)if(Vo=cc(this,Pn),Vo==Wn){Di==4&&(this.s=4,Fn(14),dr=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vo==En){this.s=4,Fn(15),Xi(this.i,this.l,Pn,"[Invalid Chunk]"),dr=!1;break}else Xi(this.i,this.l,Vo,null),Wa(this,Vo);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Di!=4||Pn.length!=0||this.h.h||(this.s=1,Fn(16),dr=!1),this.o=this.o&&dr,!dr)Xi(this.i,this.l,Pn,"[Invalid Chunked Response]"),vs(this),la(this);else if(0<Pn.length&&!this.W){this.W=!0;var $i=this.j;$i.g==this&&$i.ba&&!$i.M&&($i.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),wl($i),$i.M=!0,Fn(11))}}else Xi(this.i,this.l,Pn,null),Wa(this,Pn);Di==4&&vs(this),this.o&&!this.J&&(Di==4?Qs(this.j,this):(this.o=!1,Ui(this)))}else $s(this.g),dr==400&&0<Pn.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),vs(this),la(this)}}}catch{}finally{}};function aa(qe){return qe.g?qe.u=="GET"&&qe.L!=2&&qe.j.Ca:!1}function cc(qe,ar){var dr=qe.C,Rr=ar.indexOf(`
`,dr);return Rr==-1?Wn:(dr=Number(ar.substring(dr,Rr)),isNaN(dr)?En:(Rr+=1,Rr+dr>ar.length?Wn:(ar=ar.slice(Rr,Rr+dr),qe.C=Rr+dr,ar)))}ro.prototype.cancel=function(){this.J=!0,vs(this)};function Ui(qe){qe.S=Date.now()+qe.I,uc(qe,qe.I)}function uc(qe,ar){if(qe.B!=null)throw Error("WatchDog timer not null");qe.B=io(Oe(qe.ba,qe),ar)}function zs(qe){qe.B&&(Re.clearTimeout(qe.B),qe.B=null)}ro.prototype.ba=function(){this.B=null;const qe=Date.now();0<=qe-this.S?(Us(this.i,this.A),this.L!=2&&(go(),Fn(17)),vs(this),this.s=2,la(this)):uc(this,this.S-qe)};function la(qe){qe.j.G==0||qe.J||Qs(qe.j,qe)}function vs(qe){zs(qe);var ar=qe.M;ar&&typeof ar.ma=="function"&&ar.ma(),qe.M=null,xo(qe.U),qe.g&&(ar=qe.g,qe.g=null,ar.abort(),ar.ma())}function Wa(qe,ar){try{var dr=qe.j;if(dr.G!=0&&(dr.g==qe||Oo(dr.h,qe))){if(!qe.K&&Oo(dr.h,qe)&&dr.G==3){try{var Rr=dr.Da.g.parse(ar)}catch{Rr=null}if(Array.isArray(Rr)&&Rr.length==3){var Gr=Rr;if(Gr[0]==0){e:if(!dr.u){if(dr.g)if(dr.g.F+3e3<qe.F)pa(dr),Ns(dr);else break e;Na(dr),Fn(18)}}else dr.za=Gr[1],0<dr.za-dr.T&&37500>Gr[2]&&dr.F&&dr.v==0&&!dr.C&&(dr.C=io(Oe(dr.Za,dr),6e3));if(1>=Ga(dr.h)&&dr.ca){try{dr.ca()}catch{}dr.ca=void 0}}else Yo(dr,11)}else if((qe.K||dr.g==qe)&&pa(dr),!ze(ar))for(Gr=dr.Da.g.parse(ar),ar=0;ar<Gr.length;ar++){let ui=Gr[ar];if(dr.T=ui[0],ui=ui[1],dr.G==2)if(ui[0]=="c"){dr.K=ui[1],dr.ia=ui[2];const $i=ui[3];$i!=null&&(dr.la=$i,dr.j.info("VER="+dr.la));const Di=ui[4];Di!=null&&(dr.Aa=Di,dr.j.info("SVER="+dr.Aa));const ls=ui[5];ls!=null&&typeof ls=="number"&&0<ls&&(Rr=1.5*ls,dr.L=Rr,dr.j.info("backChannelRequestTimeoutMs_="+Rr)),Rr=dr;const Vo=qe.g;if(Vo){const ma=Vo.g?Vo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var fn=Rr.h;fn.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(fn.j=fn.l,fn.g=new Set,fn.h&&(Qi(fn,fn.h),fn.h=null))}if(Rr.D){const ga=Vo.g?Vo.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(Rr.ya=ga,Mi(Rr.I,Rr.D,ga))}}dr.G=3,dr.l&&dr.l.ua(),dr.ba&&(dr.R=Date.now()-qe.F,dr.j.info("Handshake RTT: "+dr.R+"ms")),Rr=dr;var Pn=qe;if(Rr.qa=Je(Rr,Rr.J?Rr.ia:null,Rr.W),Pn.K){Ml(Rr.h,Pn);var ci=Pn,xi=Rr.L;xi&&(ci.I=xi),ci.B&&(zs(ci),Ui(ci)),Rr.g=Pn}else ha(Rr);0<dr.i.length&&Ys(dr)}else ui[0]!="stop"&&ui[0]!="close"||Yo(dr,7);else dr.G==3&&(ui[0]=="stop"||ui[0]=="close"?ui[0]=="stop"?Yo(dr,7):so(dr):ui[0]!="noop"&&dr.l&&dr.l.ta(ui),dr.v=0)}}go(4)}catch{}}var dc=class{constructor(qe,ar){this.g=qe,this.map=ar}};function Sa(qe){this.l=qe||10,Re.PerformanceNavigationTiming?(qe=Re.performance.getEntriesByType("navigation"),qe=0<qe.length&&(qe[0].nextHopProtocol=="hq"||qe[0].nextHopProtocol=="h2")):qe=!!(Re.chrome&&Re.chrome.loadTimes&&Re.chrome.loadTimes()&&Re.chrome.loadTimes().wasFetchedViaSpdy),this.j=qe?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function os(qe){return qe.h?!0:qe.g?qe.g.size>=qe.j:!1}function Ga(qe){return qe.h?1:qe.g?qe.g.size:0}function Oo(qe,ar){return qe.h?qe.h==ar:qe.g?qe.g.has(ar):!1}function Qi(qe,ar){qe.g?qe.g.add(ar):qe.h=ar}function Ml(qe,ar){qe.h&&qe.h==ar?qe.h=null:qe.g&&qe.g.has(ar)&&qe.g.delete(ar)}Sa.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const qe of this.g.values())qe.cancel();this.g.clear()}};function Dl(qe){if(qe.h!=null)return qe.i.concat(qe.h.D);if(qe.g!=null&&qe.g.size!==0){let ar=qe.i;for(const dr of qe.g.values())ar=ar.concat(dr.D);return ar}return Me(qe.i)}function Ka(qe){if(qe.V&&typeof qe.V=="function")return qe.V();if(typeof Map<"u"&&qe instanceof Map||typeof Set<"u"&&qe instanceof Set)return Array.from(qe.values());if(typeof qe=="string")return qe.split("");if(Pe(qe)){for(var ar=[],dr=qe.length,Rr=0;Rr<dr;Rr++)ar.push(qe[Rr]);return ar}ar=[],dr=0;for(Rr in qe)ar[dr++]=qe[Rr];return ar}function wa(qe){if(qe.na&&typeof qe.na=="function")return qe.na();if(!qe.V||typeof qe.V!="function"){if(typeof Map<"u"&&qe instanceof Map)return Array.from(qe.keys());if(!(typeof Set<"u"&&qe instanceof Set)){if(Pe(qe)||typeof qe=="string"){var ar=[];qe=qe.length;for(var dr=0;dr<qe;dr++)ar.push(dr);return ar}ar=[],dr=0;for(const Rr in qe)ar[dr++]=Rr;return ar}}}function Aa(qe,ar){if(qe.forEach&&typeof qe.forEach=="function")qe.forEach(ar,void 0);else if(Pe(qe)||typeof qe=="string")Array.prototype.forEach.call(qe,ar,void 0);else for(var dr=wa(qe),Rr=Ka(qe),Gr=Rr.length,fn=0;fn<Gr;fn++)ar.call(void 0,Rr[fn],dr&&dr[fn],qe)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xl(qe,ar){if(qe){qe=qe.split("&");for(var dr=0;dr<qe.length;dr++){var Rr=qe[dr].indexOf("="),Gr=null;if(0<=Rr){var fn=qe[dr].substring(0,Rr);Gr=qe[dr].substring(Rr+1)}else fn=qe[dr];ar(fn,Gr?decodeURIComponent(Gr.replace(/\+/g," ")):"")}}}function fo(qe){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,qe instanceof fo){this.h=qe.h,Ra(this,qe.j),this.o=qe.o,this.g=qe.g,Pa(this,qe.s),this.l=qe.l;var ar=qe.i,dr=new Is;dr.i=ar.i,ar.g&&(dr.g=new Map(ar.g),dr.h=ar.h),ca(this,dr),this.m=qe.m}else qe&&(ar=String(qe).match(ko))?(this.h=!1,Ra(this,ar[1]||"",!0),this.o=yi(ar[2]||""),this.g=yi(ar[3]||"",!0),Pa(this,ar[4]),this.l=yi(ar[5]||"",!0),ca(this,ar[6]||"",!0),this.m=yi(ar[7]||"")):(this.h=!1,this.i=new Is(null,this.h))}fo.prototype.toString=function(){var qe=[],ar=this.j;ar&&qe.push(Hs(ar,_l,!0),":");var dr=this.g;return(dr||ar=="file")&&(qe.push("//"),(ar=this.o)&&qe.push(Hs(ar,_l,!0),"@"),qe.push(encodeURIComponent(String(dr)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),dr=this.s,dr!=null&&qe.push(":",String(dr))),(dr=this.l)&&(this.g&&dr.charAt(0)!="/"&&qe.push("/"),qe.push(Hs(dr,dr.charAt(0)=="/"?Ws:hc,!0))),(dr=this.i.toString())&&qe.push("?",dr),(dr=this.m)&&qe.push("#",Hs(dr,Ta)),qe.join("")};function Lo(qe){return new fo(qe)}function Ra(qe,ar,dr){qe.j=dr?yi(ar,!0):ar,qe.j&&(qe.j=qe.j.replace(/:$/,""))}function Pa(qe,ar){if(ar){if(ar=Number(ar),isNaN(ar)||0>ar)throw Error("Bad port number "+ar);qe.s=ar}else qe.s=null}function ca(qe,ar,dr){ar instanceof Is?(qe.i=ar,Gs(qe.i,qe.h)):(dr||(ar=Hs(ar,Ya)),qe.i=new Is(ar,qe.h))}function Mi(qe,ar,dr){qe.i.set(ar,dr)}function ua(qe){return Mi(qe,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),qe}function yi(qe,ar){return qe?ar?decodeURI(qe.replace(/%25/g,"%2525")):decodeURIComponent(qe):""}function Hs(qe,ar,dr){return typeof qe=="string"?(qe=encodeURI(qe).replace(ar,fc),dr&&(qe=qe.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),qe):null}function fc(qe){return qe=qe.charCodeAt(0),"%"+(qe>>4&15).toString(16)+(qe&15).toString(16)}var _l=/[#\/\?@]/g,hc=/[#\?:]/g,Ws=/[#\?]/g,Ya=/[#\?@]/g,Ta=/#/g;function Is(qe,ar){this.h=this.g=null,this.i=qe||null,this.j=!!ar}function wi(qe){qe.g||(qe.g=new Map,qe.h=0,qe.i&&xl(qe.i,function(ar,dr){qe.add(decodeURIComponent(ar.replace(/\+/g," ")),dr)}))}t=Is.prototype,t.add=function(qe,ar){wi(this),this.i=null,qe=_s(this,qe);var dr=this.g.get(qe);return dr||this.g.set(qe,dr=[]),dr.push(ar),this.h+=1,this};function js(qe,ar){wi(qe),ar=_s(qe,ar),qe.g.has(ar)&&(qe.i=null,qe.h-=qe.g.get(ar).length,qe.g.delete(ar))}function xs(qe,ar){return wi(qe),ar=_s(qe,ar),qe.g.has(ar)}t.forEach=function(qe,ar){wi(this),this.g.forEach(function(dr,Rr){dr.forEach(function(Gr){qe.call(ar,Gr,Rr,this)},this)},this)},t.na=function(){wi(this);const qe=Array.from(this.g.values()),ar=Array.from(this.g.keys()),dr=[];for(let Rr=0;Rr<ar.length;Rr++){const Gr=qe[Rr];for(let fn=0;fn<Gr.length;fn++)dr.push(ar[Rr])}return dr},t.V=function(qe){wi(this);let ar=[];if(typeof qe=="string")xs(this,qe)&&(ar=ar.concat(this.g.get(_s(this,qe))));else{qe=Array.from(this.g.values());for(let dr=0;dr<qe.length;dr++)ar=ar.concat(qe[dr])}return ar},t.set=function(qe,ar){return wi(this),this.i=null,qe=_s(this,qe),xs(this,qe)&&(this.h-=this.g.get(qe).length),this.g.set(qe,[ar]),this.h+=1,this},t.get=function(qe,ar){return qe?(qe=this.V(qe),0<qe.length?String(qe[0]):ar):ar};function ri(qe,ar,dr){js(qe,ar),0<dr.length&&(qe.i=null,qe.g.set(_s(qe,ar),Me(dr)),qe.h+=dr.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const qe=[],ar=Array.from(this.g.keys());for(var dr=0;dr<ar.length;dr++){var Rr=ar[dr];const fn=encodeURIComponent(String(Rr)),Pn=this.V(Rr);for(Rr=0;Rr<Pn.length;Rr++){var Gr=fn;Pn[Rr]!==""&&(Gr+="="+encodeURIComponent(String(Pn[Rr]))),qe.push(Gr)}}return this.i=qe.join("&")};function _s(qe,ar){return ar=String(ar),qe.j&&(ar=ar.toLowerCase()),ar}function Gs(qe,ar){ar&&!qe.j&&(wi(qe),qe.i=null,qe.g.forEach(function(dr,Rr){var Gr=Rr.toLowerCase();Rr!=Gr&&(js(this,Rr),ri(this,Gr,dr))},qe)),qe.j=ar}function Ks(qe,ar){const dr=new uo;if(Re.Image){const Rr=new Image;Rr.onload=ke(Mo,dr,"TestLoadImage: loaded",!0,ar,Rr),Rr.onerror=ke(Mo,dr,"TestLoadImage: error",!1,ar,Rr),Rr.onabort=ke(Mo,dr,"TestLoadImage: abort",!1,ar,Rr),Rr.ontimeout=ke(Mo,dr,"TestLoadImage: timeout",!1,ar,Rr),Re.setTimeout(function(){Rr.ontimeout&&Rr.ontimeout()},1e4),Rr.src=qe}else ar(!1)}function Vl(qe,ar){const dr=new uo,Rr=new AbortController,Gr=setTimeout(()=>{Rr.abort(),Mo(dr,"TestPingServer: timeout",!1,ar)},1e4);fetch(qe,{signal:Rr.signal}).then(fn=>{clearTimeout(Gr),fn.ok?Mo(dr,"TestPingServer: ok",!0,ar):Mo(dr,"TestPingServer: server error",!1,ar)}).catch(()=>{clearTimeout(Gr),Mo(dr,"TestPingServer: error",!1,ar)})}function Mo(qe,ar,dr,Rr,Gr){try{Gr&&(Gr.onload=null,Gr.onerror=null,Gr.onabort=null,Gr.ontimeout=null),Rr(dr)}catch{}}function bl(){this.g=new zo}function El(qe,ar,dr){const Rr=dr||"";try{Aa(qe,function(Gr,fn){let Pn=Gr;Te(Gr)&&(Pn=bi(Gr)),ar.push(Rr+fn+"="+encodeURIComponent(Pn))})}catch(Gr){throw ar.push(Rr+"type="+encodeURIComponent("_badmap")),Gr}}function da(qe){this.l=qe.Ub||null,this.j=qe.eb||!1}Fe(da,gi),da.prototype.g=function(){return new Xa(this.l,this.j)},da.prototype.i=function(qe){return function(){return qe}}({});function Xa(qe,ar){Yn.call(this),this.D=qe,this.o=ar,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Fe(Xa,Yn),t=Xa.prototype,t.open=function(qe,ar){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=qe,this.A=ar,this.readyState=1,Do(this)},t.send=function(qe){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ar={headers:this.u,method:this.B,credentials:this.m,cache:void 0};qe&&(ar.body=qe),(this.D||Re).fetch(new Request(this.A,ar)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},t.Sa=function(qe){if(this.g&&(this.l=qe,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=qe.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")qe.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in qe){if(this.j=qe.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pc(this)}else qe.text().then(this.Ra.bind(this),this.ga.bind(this))};function pc(qe){qe.j.read().then(qe.Pa.bind(qe)).catch(qe.ga.bind(qe))}t.Pa=function(qe){if(this.g){if(this.o&&qe.value)this.response.push(qe.value);else if(!this.o){var ar=qe.value?qe.value:new Uint8Array(0);(ar=this.v.decode(ar,{stream:!qe.done}))&&(this.response=this.responseText+=ar)}qe.done?ss(this):Do(this),this.readyState==3&&pc(this)}},t.Ra=function(qe){this.g&&(this.response=this.responseText=qe,ss(this))},t.Qa=function(qe){this.g&&(this.response=qe,ss(this))},t.ga=function(){this.g&&ss(this)};function ss(qe){qe.readyState=4,qe.l=null,qe.j=null,qe.v=null,Do(qe)}t.setRequestHeader=function(qe,ar){this.u.append(qe,ar)},t.getResponseHeader=function(qe){return this.h&&this.h.get(qe.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const qe=[],ar=this.h.entries();for(var dr=ar.next();!dr.done;)dr=dr.value,qe.push(dr[0]+": "+dr[1]),dr=ar.next();return qe.join(`\r
`)};function Do(qe){qe.onreadystatechange&&qe.onreadystatechange.call(qe)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(qe){this.m=qe?"include":"same-origin"}});function Go(qe){let ar="";return ir(qe,function(dr,Rr){ar+=Rr,ar+=":",ar+=dr,ar+=`\r
`}),ar}function Ca(qe,ar,dr){e:{for(Rr in dr){var Rr=!1;break e}Rr=!0}Rr||(dr=Go(dr),typeof qe=="string"?dr!=null&&encodeURIComponent(String(dr)):Mi(qe,ar,dr))}function ji(qe){Yn.call(this),this.headers=new Map,this.o=qe||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Fe(ji,Yn);var Fl=/^https?$/i,Ia=["POST","PUT"];t=ji.prototype,t.Ha=function(qe){this.J=qe},t.ea=function(qe,ar,dr,Rr){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+qe);ar=ar?ar.toUpperCase():"GET",this.D=qe,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oo.g(),this.v=this.o?ys(this.o):ys(oo),this.g.onreadystatechange=Oe(this.Ea,this);try{this.B=!0,this.g.open(ar,String(qe),!0),this.B=!1}catch(fn){ja(this,fn);return}if(qe=dr||"",dr=new Map(this.headers),Rr)if(Object.getPrototypeOf(Rr)===Object.prototype)for(var Gr in Rr)dr.set(Gr,Rr[Gr]);else if(typeof Rr.keys=="function"&&typeof Rr.get=="function")for(const fn of Rr.keys())dr.set(fn,Rr.get(fn));else throw Error("Unknown input type for opt_headers: "+String(Rr));Rr=Array.from(dr.keys()).find(fn=>fn.toLowerCase()=="content-type"),Gr=Re.FormData&&qe instanceof Re.FormData,!(0<=Array.prototype.indexOf.call(Ia,ar,void 0))||Rr||Gr||dr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fn,Pn]of dr)this.g.setRequestHeader(fn,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(qe),this.u=!1}catch(fn){ja(this,fn)}};function ja(qe,ar){qe.h=!1,qe.g&&(qe.j=!0,qe.g.abort(),qe.j=!1),qe.l=ar,qe.m=5,Qa(qe),Ko(qe)}function Qa(qe){qe.A||(qe.A=!0,ei(qe,"complete"),ei(qe,"error"))}t.abort=function(qe){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=qe||7,ei(this,"complete"),ei(this,"abort"),Ko(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ko(this,!0)),ji.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sl(this):this.bb())},t.bb=function(){Sl(this)};function Sl(qe){if(qe.h&&typeof Ae<"u"&&(!qe.v[1]||ho(qe)!=4||qe.Z()!=2)){if(qe.u&&ho(qe)==4)ti(qe.Ea,0,qe);else if(ei(qe,"readystatechange"),ho(qe)==4){qe.h=!1;try{const Pn=qe.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ar=!0;break e;default:ar=!1}var dr;if(!(dr=ar)){var Rr;if(Rr=Pn===0){var Gr=String(qe.D).match(ko)[1]||null;!Gr&&Re.self&&Re.self.location&&(Gr=Re.self.location.protocol.slice(0,-1)),Rr=!Fl.test(Gr?Gr.toLowerCase():"")}dr=Rr}if(dr)ei(qe,"complete"),ei(qe,"success");else{qe.m=6;try{var fn=2<ho(qe)?qe.g.statusText:""}catch{fn=""}qe.l=fn+" ["+qe.Z()+"]",Qa(qe)}}finally{Ko(qe)}}}}function Ko(qe,ar){if(qe.g){as(qe);const dr=qe.g,Rr=qe.v[0]?()=>{}:null;qe.g=null,qe.v=null,ar||ei(qe,"ready");try{dr.onreadystatechange=Rr}catch{}}}function as(qe){qe.I&&(Re.clearTimeout(qe.I),qe.I=null)}t.isActive=function(){return!!this.g};function ho(qe){return qe.g?qe.g.readyState:0}t.Z=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(qe){if(this.g){var ar=this.g.responseText;return qe&&ar.indexOf(qe)==0&&(ar=ar.substring(qe.length)),Pi(ar)}};function Bl(qe){try{if(!qe.g)return null;if("response"in qe.g)return qe.g.response;switch(qe.H){case"":case"text":return qe.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in qe.g)return qe.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(qe){const ar={};qe=(qe.g&&2<=ho(qe)&&qe.g.getAllResponseHeaders()||"").split(`\r
`);for(let Rr=0;Rr<qe.length;Rr++){if(ze(qe[Rr]))continue;var dr=Ze(qe[Rr]);const Gr=dr[0];if(dr=dr[1],typeof dr!="string")continue;dr=dr.trim();const fn=ar[Gr]||[];ar[Gr]=fn,fn.push(dr)}Qe(ar,function(Rr){return Rr.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(qe,ar,dr){return dr&&dr.internalChannelParams&&dr.internalChannelParams[qe]||ar}function Ja(qe){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,qe),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,qe),this.cb=bo("retryDelaySeedMs",1e4,qe),this.Wa=bo("forwardChannelMaxRetries",2,qe),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,qe),this.pa=qe&&qe.xmlHttpFactory||void 0,this.Xa=qe&&qe.Tb||void 0,this.Ca=qe&&qe.useFetchStreams||!1,this.L=void 0,this.J=qe&&qe.supportsCrossDomainXhr||!1,this.K="",this.h=new Sa(qe&&qe.concurrentRequestLimit),this.Da=new bl,this.P=qe&&qe.fastHandshake||!1,this.O=qe&&qe.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=qe&&qe.Rb||!1,qe&&qe.xa&&this.j.xa(),qe&&qe.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&qe&&qe.detectBufferingProxy||!1,this.ja=void 0,qe&&qe.longPollingTimeout&&0<qe.longPollingTimeout&&(this.ja=qe.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ja.prototype,t.la=8,t.G=1,t.connect=function(qe,ar,dr,Rr){Fn(0),this.W=qe,this.H=ar||{},dr&&Rr!==void 0&&(this.H.OSID=dr,this.H.OAID=Rr),this.F=this.X,this.I=Je(this,null,this.W),Ys(this)};function so(qe){if(fa(qe),qe.G==3){var ar=qe.U++,dr=Lo(qe.I);if(Mi(dr,"SID",qe.K),Mi(dr,"RID",ar),Mi(dr,"TYPE","terminate"),Xs(qe,dr),ar=new ro(qe,qe.j,ar),ar.L=2,ar.v=ua(Lo(dr)),dr=!1,Re.navigator&&Re.navigator.sendBeacon)try{dr=Re.navigator.sendBeacon(ar.v.toString(),"")}catch{}!dr&&Re.Image&&(new Image().src=ar.v,dr=!0),dr||(ar.g=gr(ar.j,null),ar.g.ea(ar.v)),ar.F=Date.now(),Ui(ar)}Rl(qe)}function Ns(qe){qe.g&&(wl(qe),qe.g.cancel(),qe.g=null)}function fa(qe){Ns(qe),qe.u&&(Re.clearTimeout(qe.u),qe.u=null),pa(qe),qe.h.cancel(),qe.s&&(typeof qe.s=="number"&&Re.clearTimeout(qe.s),qe.s=null)}function Ys(qe){if(!os(qe.h)&&!qe.s){qe.s=!0;var ar=qe.Ga;yr||Cr(),mr||(yr(),mr=!0),Pr.add(ar,qe),qe.B=0}}function ql(qe,ar){return Ga(qe.h)>=qe.h.j-(qe.s?1:0)?!1:qe.s?(qe.i=ar.D.concat(qe.i),!0):qe.G==1||qe.G==2||qe.B>=(qe.Va?0:qe.Wa)?!1:(qe.s=io(Oe(qe.Ga,qe,ar),Al(qe,qe.B)),qe.B++,!0)}t.Ga=function(qe){if(this.s)if(this.s=null,this.G==1){if(!qe){this.U=Math.floor(1e5*Math.random()),qe=this.U++;const Gr=new ro(this,this.j,qe);let fn=this.o;if(this.S&&(fn?(fn=Ke(fn),cr(fn,this.S)):fn=this.S),this.m!==null||this.O||(Gr.H=fn,fn=null),this.P)e:{for(var ar=0,dr=0;dr<this.i.length;dr++){t:{var Rr=this.i[dr];if("__data__"in Rr.map&&(Rr=Rr.map.__data__,typeof Rr=="string")){Rr=Rr.length;break t}Rr=void 0}if(Rr===void 0)break;if(ar+=Rr,4096<ar){ar=dr;break e}if(ar===4096||dr===this.i.length-1){ar=dr+1;break e}}ar=1e3}else ar=1e3;ar=Os(this,Gr,ar),dr=Lo(this.I),Mi(dr,"RID",qe),Mi(dr,"CVER",22),this.D&&Mi(dr,"X-HTTP-Session-Id",this.D),Xs(this,dr),fn&&(this.O?ar="headers="+encodeURIComponent(String(Go(fn)))+"&"+ar:this.m&&Ca(dr,this.m,fn)),Qi(this.h,Gr),this.Ua&&Mi(dr,"TYPE","init"),this.P?(Mi(dr,"$req",ar),Mi(dr,"SID","null"),Gr.T=!0,di(Gr,dr,null)):di(Gr,dr,ar),this.G=2}}else this.G==3&&(qe?$a(this,qe):this.i.length==0||os(this.h)||$a(this))};function $a(qe,ar){var dr;ar?dr=ar.l:dr=qe.U++;const Rr=Lo(qe.I);Mi(Rr,"SID",qe.K),Mi(Rr,"RID",dr),Mi(Rr,"AID",qe.T),Xs(qe,Rr),qe.m&&qe.o&&Ca(Rr,qe.m,qe.o),dr=new ro(qe,qe.j,dr,qe.B+1),qe.m===null&&(dr.H=qe.o),ar&&(qe.i=ar.D.concat(qe.i)),ar=Os(qe,dr,1e3),dr.I=Math.round(.5*qe.wa)+Math.round(.5*qe.wa*Math.random()),Qi(qe.h,dr),di(dr,Rr,ar)}function Xs(qe,ar){qe.H&&ir(qe.H,function(dr,Rr){Mi(ar,Rr,dr)}),qe.l&&Aa({},function(dr,Rr){Mi(ar,Rr,dr)})}function Os(qe,ar,dr){dr=Math.min(qe.i.length,dr);var Rr=qe.l?Oe(qe.l.Na,qe.l,qe):null;e:{var Gr=qe.i;let fn=-1;for(;;){const Pn=["count="+dr];fn==-1?0<dr?(fn=Gr[0].g,Pn.push("ofs="+fn)):fn=0:Pn.push("ofs="+fn);let ci=!0;for(let xi=0;xi<dr;xi++){let ui=Gr[xi].g;const $i=Gr[xi].map;if(ui-=fn,0>ui)fn=Math.max(0,Gr[xi].g-100),ci=!1;else try{El($i,Pn,"req"+ui+"_")}catch{Rr&&Rr($i)}}if(ci){Rr=Pn.join("&");break e}}}return qe=qe.i.splice(0,dr),ar.D=qe,Rr}function ha(qe){if(!qe.g&&!qe.u){qe.Y=1;var ar=qe.Fa;yr||Cr(),mr||(yr(),mr=!0),Pr.add(ar,qe),qe.v=0}}function Na(qe){return qe.g||qe.u||3<=qe.v?!1:(qe.Y++,qe.u=io(Oe(qe.Fa,qe),Al(qe,qe.v)),qe.v++,!0)}t.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var qe=2*this.R;this.j.info("BP detection timer enabled: "+qe),this.A=io(Oe(this.ab,this),qe)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),Ns(this),mc(this))};function wl(qe){qe.A!=null&&(Re.clearTimeout(qe.A),qe.A=null)}function mc(qe){qe.g=new ro(qe,qe.j,"rpc",qe.Y),qe.m===null&&(qe.g.H=qe.o),qe.g.O=0;var ar=Lo(qe.qa);Mi(ar,"RID","rpc"),Mi(ar,"SID",qe.K),Mi(ar,"AID",qe.T),Mi(ar,"CI",qe.F?"0":"1"),!qe.F&&qe.ja&&Mi(ar,"TO",qe.ja),Mi(ar,"TYPE","xmlhttp"),Xs(qe,ar),qe.m&&qe.o&&Ca(ar,qe.m,qe.o),qe.L&&(qe.g.I=qe.L);var dr=qe.g;qe=qe.ia,dr.L=1,dr.v=ua(Lo(ar)),dr.m=null,dr.P=!0,Ei(dr,qe)}t.Za=function(){this.C!=null&&(this.C=null,Ns(this),Na(this),Fn(19))};function pa(qe){qe.C!=null&&(Re.clearTimeout(qe.C),qe.C=null)}function Qs(qe,ar){var dr=null;if(qe.g==ar){pa(qe),wl(qe),qe.g=null;var Rr=2}else if(Oo(qe.h,ar))dr=ar.D,Ml(qe.h,ar),Rr=1;else return;if(qe.G!=0){if(ar.o)if(Rr==1){dr=ar.m?ar.m.length:0,ar=Date.now()-ar.F;var Gr=qe.B;Rr=ns(),ei(Rr,new Io(Rr,dr)),Ys(qe)}else ha(qe);else if(Gr=ar.s,Gr==3||Gr==0&&0<ar.X||!(Rr==1&&ql(qe,ar)||Rr==2&&Na(qe)))switch(dr&&0<dr.length&&(ar=qe.h,ar.i=ar.i.concat(dr)),Gr){case 1:Yo(qe,5);break;case 4:Yo(qe,10);break;case 3:Yo(qe,6);break;default:Yo(qe,2)}}}function Al(qe,ar){let dr=qe.Ta+Math.floor(Math.random()*qe.cb);return qe.isActive()||(dr*=2),dr*ar}function Yo(qe,ar){if(qe.j.info("Error code "+ar),ar==2){var dr=Oe(qe.fb,qe),Rr=qe.Xa;const Gr=!Rr;Rr=new fo(Rr||"//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||Ra(Rr,"https"),ua(Rr),Gr?Ks(Rr.toString(),dr):Vl(Rr.toString(),dr)}else Fn(2);qe.G=0,qe.l&&qe.l.sa(ar),Rl(qe),fa(qe)}t.fb=function(qe){qe?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function Rl(qe){if(qe.G=0,qe.ka=[],qe.l){const ar=Dl(qe.h);(ar.length!=0||qe.i.length!=0)&&(De(qe.ka,ar),De(qe.ka,qe.i),qe.h.i.length=0,Me(qe.i),qe.i.length=0),qe.l.ra()}}function Je(qe,ar,dr){var Rr=dr instanceof fo?Lo(dr):new fo(dr);if(Rr.g!="")ar&&(Rr.g=ar+"."+Rr.g),Pa(Rr,Rr.s);else{var Gr=Re.location;Rr=Gr.protocol,ar=ar?ar+"."+Gr.hostname:Gr.hostname,Gr=+Gr.port;var fn=new fo(null);Rr&&Ra(fn,Rr),ar&&(fn.g=ar),Gr&&Pa(fn,Gr),dr&&(fn.l=dr),Rr=fn}return dr=qe.D,ar=qe.ya,dr&&ar&&Mi(Rr,dr,ar),Mi(Rr,"VER",qe.la),Xs(qe,Rr),Rr}function gr(qe,ar,dr){if(ar&&!qe.J)throw Error("Can't create secondary domain capable XhrIo object.");return ar=qe.Ca&&!qe.pa?new ji(new da({eb:dr})):new ji(qe.pa),ar.Ha(qe.J),ar}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lr(){}t=Lr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Br(){}Br.prototype.g=function(qe,ar){return new Yr(qe,ar)};function Yr(qe,ar){Yn.call(this),this.g=new Ja(ar),this.l=qe,this.h=ar&&ar.messageUrlParams||null,qe=ar&&ar.messageHeaders||null,ar&&ar.clientProtocolHeaderRequired&&(qe?qe["X-Client-Protocol"]="webchannel":qe={"X-Client-Protocol":"webchannel"}),this.g.o=qe,qe=ar&&ar.initMessageHeaders||null,ar&&ar.messageContentType&&(qe?qe["X-WebChannel-Content-Type"]=ar.messageContentType:qe={"X-WebChannel-Content-Type":ar.messageContentType}),ar&&ar.va&&(qe?qe["X-WebChannel-Client-Profile"]=ar.va:qe={"X-WebChannel-Client-Profile":ar.va}),this.g.S=qe,(qe=ar&&ar.Sb)&&!ze(qe)&&(this.g.m=qe),this.v=ar&&ar.supportsCrossDomainXhr||!1,this.u=ar&&ar.sendRawJson||!1,(ar=ar&&ar.httpSessionIdParam)&&!ze(ar)&&(this.g.D=ar,qe=this.h,qe!==null&&ar in qe&&(qe=this.h,ar in qe&&delete qe[ar])),this.j=new Ln(this)}Fe(Yr,Yn),Yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){so(this.g)},Yr.prototype.o=function(qe){var ar=this.g;if(typeof qe=="string"){var dr={};dr.__data__=qe,qe=dr}else this.u&&(dr={},dr.__data__=bi(qe),qe=dr);ar.i.push(new dc(ar.Ya++,qe)),ar.G==3&&Ys(ar)},Yr.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,Yr.aa.N.call(this)};function gn(qe){_o.call(this),qe.__headers__&&(this.headers=qe.__headers__,this.statusCode=qe.__status__,delete qe.__headers__,delete qe.__status__);var ar=qe.__sm__;if(ar){e:{for(const dr in ar){qe=dr;break e}qe=void 0}(this.i=qe)&&(qe=this.i,ar=ar!==null&&qe in ar?ar[qe]:void 0),this.data=ar}else this.data=qe}Fe(gn,_o);function Rn(){Li.call(this),this.status=1}Fe(Rn,Li);function Ln(qe){this.g=qe}Fe(Ln,Lr),Ln.prototype.ua=function(){ei(this.g,"a")},Ln.prototype.ta=function(qe){ei(this.g,new gn(qe))},Ln.prototype.sa=function(qe){ei(this.g,new Rn)},Ln.prototype.ra=function(){ei(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,createWebChannelTransport=function(){return new Br},getStatEventTarget=function(){return ns()},Event$1=Jn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,ErrorCode=jo,Wo.COMPLETE="complete",EventType=Wo,Ii.EventType=eo,eo.OPEN="a",eo.CLOSE="b",eo.ERROR="c",eo.MESSAGE="d",Yn.prototype.listen=Yn.prototype.K,WebChannel=Ii,ji.prototype.listenOnce=ji.prototype.L,ji.prototype.getLastError=ji.prototype.Ka,ji.prototype.getLastErrorCode=ji.prototype.Ba,ji.prototype.getStatus=ji.prototype.Z,ji.prototype.getResponseJson=ji.prototype.Oa,ji.prototype.getResponseText=ji.prototype.oa,ji.prototype.send=ji.prototype.ea,ji.prototype.setWithCredentials=ji.prototype.Ha,XhrIo=ji}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F$1="@firebase/firestore",M$1="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x$3="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return O$1.logLevel}function __PRIVATE_logDebug(t,...e){if(O$1.logLevel<=LogLevel.DEBUG){const xe=e.map(__PRIVATE_argToString);O$1.debug(`Firestore (${x$3}): ${t}`,...xe)}}function __PRIVATE_logError(t,...e){if(O$1.logLevel<=LogLevel.ERROR){const xe=e.map(__PRIVATE_argToString);O$1.error(`Firestore (${x$3}): ${t}`,...xe)}}function __PRIVATE_logWarn(t,...e){if(O$1.logLevel<=LogLevel.WARN){const xe=e.map(__PRIVATE_argToString);O$1.warn(`Firestore (${x$3}): ${t}`,...xe)}}function __PRIVATE_argToString(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(xe){return JSON.stringify(xe)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(t,e,xe){let _e="Unexpected state";typeof e=="string"?_e=e:xe=e,__PRIVATE__fail(t,_e,xe)}function __PRIVATE__fail(t,e,xe){let _e=`FIRESTORE (${x$3}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(xe!==void 0)try{_e+=" CONTEXT: "+JSON.stringify(xe)}catch{_e+=" CONTEXT: "+xe}throw __PRIVATE_logError(_e),new Error(_e)}function __PRIVATE_hardAssert(t,e,xe,_e){let Ee="Unexpected state";typeof xe=="string"?Ee=xe:_e=xe,t||__PRIVATE__fail(e,Ee,_e)}function __PRIVATE_debugCast(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,xe){super(e,xe),this.code=e,this.message=xe,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,xe)=>{this.resolve=e,this.reject=xe})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,xe){this.user=xe,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,xe){e.enqueueRetryable(()=>xe(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,xe){__PRIVATE_hardAssert(this.o===void 0,42304);let _e=this.i;const Ee=Pe=>this.i!==_e?(_e=this.i,xe(Pe)):Promise.resolve();let Se=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Se.resolve(),Se=new __PRIVATE_Deferred,e.enqueueRetryable(()=>Ee(this.currentUser))};const Ae=()=>{const Pe=Se;e.enqueueRetryable(async()=>{await Pe.promise,await Ee(this.currentUser)})},Re=Pe=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Pe,this.o&&(this.auth.addAuthTokenListener(this.o),Ae())};this.t.onInit(Pe=>Re(Pe)),setTimeout(()=>{if(!this.auth){const Pe=this.t.getImmediate({optional:!0});Pe?Re(Pe):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Se.resolve(),Se=new __PRIVATE_Deferred)}},0),Ae()}getToken(){const e=this.i,xe=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(xe).then(_e=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):_e?(__PRIVATE_hardAssert(typeof _e.accessToken=="string",31837,{l:_e}),new __PRIVATE_OAuthToken(_e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string",2055,{h:e}),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,xe,_e){this.P=e,this.T=xe,this.I=_e,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,xe,_e){this.P=e,this.T=xe,this.I=_e}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(e,xe){e.enqueueRetryable(()=>xe(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e,xe){this.V=xe,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,xe){__PRIVATE_hardAssert(this.o===void 0,3512);const _e=Se=>{Se.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Se.error.message}`);const Ae=Se.token!==this.m;return this.m=Se.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${Ae?"new":"existing"} token.`),Ae?xe(Se.token):Promise.resolve()};this.o=Se=>{e.enqueueRetryable(()=>_e(Se))};const Ee=Se=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Se,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(Se=>Ee(Se)),setTimeout(()=>{if(!this.appCheck){const Se=this.V.getImmediate({optional:!0});Se?Ee(Se):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(xe=>xe?(__PRIVATE_hardAssert(typeof xe.token=="string",44558,{tokenResult:xe}),this.m=xe.token,new AppCheckToken(xe.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),xe=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(xe);else for(let _e=0;_e<t;_e++)xe[_e]=Math.floor(256*Math.random());return xe}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",xe=62*Math.floor(4.129032258064516);let _e="";for(;_e.length<20;){const Ee=__PRIVATE_randomBytes(40);for(let Se=0;Se<Ee.length;++Se)_e.length<20&&Ee[Se]<xe&&(_e+=e.charAt(Ee[Se]%62))}return _e}}function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function __PRIVATE_compareUtf8Strings(t,e){let xe=0;for(;xe<t.length&&xe<e.length;){const _e=t.codePointAt(xe),Ee=e.codePointAt(xe);if(_e!==Ee){if(_e<128&&Ee<128)return __PRIVATE_primitiveComparator(_e,Ee);{const Se=__PRIVATE_newTextEncoder(),Ae=__PRIVATE_compareByteArrays$1(Se.encode(__PRIVATE_getUtf8SafeSubstring(t,xe)),Se.encode(__PRIVATE_getUtf8SafeSubstring(e,xe)));return Ae!==0?Ae:__PRIVATE_primitiveComparator(_e,Ee)}}xe+=_e>65535?2:1}return __PRIVATE_primitiveComparator(t.length,e.length)}function __PRIVATE_getUtf8SafeSubstring(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function __PRIVATE_compareByteArrays$1(t,e){for(let xe=0;xe<t.length&&xe<e.length;++xe)if(t[xe]!==e[xe])return __PRIVATE_primitiveComparator(t[xe],e[xe]);return __PRIVATE_primitiveComparator(t.length,e.length)}function __PRIVATE_arrayEquals(t,e,xe){return t.length===e.length&&t.every((_e,Ee)=>xe(_e,e[Ee]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$1=-62135596800,L$1=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const xe=Math.floor(e/1e3),_e=Math.floor((e-1e3*xe)*L$1);return new Timestamp(xe,_e)}constructor(e,xe){if(this.seconds=e,this.nanoseconds=xe,xe<0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+xe);if(xe>=1e9)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+xe);if(e<B$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L$1}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-B$1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$2="__name__";class BasePath{constructor(e,xe,_e){xe===void 0?xe=0:xe>e.length&&fail(637,{offset:xe,range:e.length}),_e===void 0?_e=e.length-xe:_e>e.length-xe&&fail(1746,{length:_e,range:e.length-xe}),this.segments=e,this.offset=xe,this.len=_e}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const xe=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(_e=>{xe.push(_e)}):xe.push(e),this.construct(xe)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let xe=0;xe<this.length;xe++)if(this.get(xe)!==e.get(xe))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let xe=0;xe<this.length;xe++)if(this.get(xe)!==e.get(xe))return!1;return!0}forEach(e){for(let xe=this.offset,_e=this.limit();xe<_e;xe++)e(this.segments[xe])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,xe){const _e=Math.min(e.length,xe.length);for(let Ee=0;Ee<_e;Ee++){const Se=BasePath.compareSegments(e.get(Ee),xe.get(Ee));if(Se!==0)return Se}return __PRIVATE_primitiveComparator(e.length,xe.length)}static compareSegments(e,xe){const _e=BasePath.isNumericId(e),Ee=BasePath.isNumericId(xe);return _e&&!Ee?-1:!_e&&Ee?1:_e&&Ee?BasePath.extractNumericId(e).compare(BasePath.extractNumericId(xe)):__PRIVATE_compareUtf8Strings(e,xe)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Integer.fromString(e.substring(4,e.length-2))}}class ResourcePath extends BasePath{construct(e,xe,_e){return new ResourcePath(e,xe,_e)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const xe=[];for(const _e of e){if(_e.indexOf("//")>=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid segment (${_e}). Paths must not contain // in them.`);xe.push(..._e.split("/").filter(Ee=>Ee.length>0))}return new ResourcePath(xe)}static emptyPath(){return new ResourcePath([])}}const q$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,xe,_e){return new FieldPath$1(e,xe,_e)}static isValidIdentifier(e){return q$1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k$2}static keyField(){return new FieldPath$1([k$2])}static fromServerFormat(e){const xe=[];let _e="",Ee=0;const Se=()=>{if(_e.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);xe.push(_e),_e=""};let Ae=!1;for(;Ee<e.length;){const Re=e[Ee];if(Re==="\\"){if(Ee+1===e.length)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Pe=e[Ee+1];if(Pe!=="\\"&&Pe!=="."&&Pe!=="`")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);_e+=Pe,Ee+=2}else Re==="`"?(Ae=!Ae,Ee++):Re!=="."||Ae?(_e+=Re,Ee++):(Se(),Ee++)}if(Se(),Ae)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(xe)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,xe){return ResourcePath.comparator(e.path,xe.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$1=-1;function __PRIVATE_newIndexOffsetSuccessorFromReadTime(t,e){const xe=t.toTimestamp().seconds,_e=t.toTimestamp().nanoseconds+1,Ee=SnapshotVersion.fromTimestamp(_e===1e9?new Timestamp(xe+1,0):new Timestamp(xe,_e));return new IndexOffset(Ee,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(t){return new IndexOffset(t.readTime,t.key,Q$1)}class IndexOffset{constructor(e,xe,_e){this.readTime=e,this.documentKey=xe,this.largestBatchId=_e}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),Q$1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),Q$1)}}function __PRIVATE_indexOffsetComparator(t,e){let xe=t.readTime.compareTo(e.readTime);return xe!==0?xe:(xe=DocumentKey.comparator(t.documentKey,e.documentKey),xe!==0?xe:__PRIVATE_primitiveComparator(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(t){if(t.code!==N$1.FAILED_PRECONDITION||t.message!==$$1)throw t;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(xe=>{this.isDone=!0,this.result=xe,this.nextCallback&&this.nextCallback(xe)},xe=>{this.isDone=!0,this.error=xe,this.catchCallback&&this.catchCallback(xe)})}catch(e){return this.next(void 0,e)}next(e,xe){return this.callbackAttached&&fail(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(xe,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((_e,Ee)=>{this.nextCallback=Se=>{this.wrapSuccess(e,Se).next(_e,Ee)},this.catchCallback=Se=>{this.wrapFailure(xe,Se).next(_e,Ee)}})}toPromise(){return new Promise((e,xe)=>{this.next(e,xe)})}wrapUserFunction(e){try{const xe=e();return xe instanceof PersistencePromise?xe:PersistencePromise.resolve(xe)}catch(xe){return PersistencePromise.reject(xe)}}wrapSuccess(e,xe){return e?this.wrapUserFunction(()=>e(xe)):PersistencePromise.resolve(xe)}wrapFailure(e,xe){return e?this.wrapUserFunction(()=>e(xe)):PersistencePromise.reject(xe)}static resolve(e){return new PersistencePromise((xe,_e)=>{xe(e)})}static reject(e){return new PersistencePromise((xe,_e)=>{_e(e)})}static waitFor(e){return new PersistencePromise((xe,_e)=>{let Ee=0,Se=0,Ae=!1;e.forEach(Re=>{++Ee,Re.next(()=>{++Se,Ae&&Se===Ee&&xe()},Pe=>_e(Pe))}),Ae=!0,Se===Ee&&xe()})}static or(e){let xe=PersistencePromise.resolve(!1);for(const _e of e)xe=xe.next(Ee=>Ee?PersistencePromise.resolve(Ee):_e());return xe}static forEach(e,xe){const _e=[];return e.forEach((Ee,Se)=>{_e.push(xe.call(this,Ee,Se))}),this.waitFor(_e)}static mapArray(e,xe){return new PersistencePromise((_e,Ee)=>{const Se=e.length,Ae=new Array(Se);let Re=0;for(let Pe=0;Pe<Se;Pe++){const Te=Pe;xe(e[Te]).next(Ie=>{Ae[Te]=Ie,++Re,Re===Se&&_e(Ae)},Ie=>Ee(Ie))}})}static doWhile(e,xe){return new PersistencePromise((_e,Ee)=>{const Se=()=>{e()===!0?xe().next(()=>{Se()},Ee):_e()};Se()})}}function __PRIVATE_getAndroidVersion(t){const e=t.match(/Android ([\d.]+)/i),xe=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(xe)}function __PRIVATE_isIndexedDbTransactionError(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,xe){this.previousValue=e,xe&&(xe.sequenceNumberHandler=_e=>this.ue(_e),this.ce=_e=>xe.writeSequenceNumber(_e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}__PRIVATE_ListenSequence.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$1=-1;function __PRIVATE_isNullOrUndefined(t){return t==null}function __PRIVATE_isNegativeZero(t){return t===0&&1/t==-1/0}function isSafeInteger(t){return typeof t=="number"&&Number.isInteger(t)&&!__PRIVATE_isNegativeZero(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$1="";function __PRIVATE_encodeResourcePath(t){let e="";for(let xe=0;xe<t.length;xe++)e.length>0&&(e=__PRIVATE_encodeSeparator(e)),e=__PRIVATE_encodeSegment(t.get(xe),e);return __PRIVATE_encodeSeparator(e)}function __PRIVATE_encodeSegment(t,e){let xe=e;const _e=t.length;for(let Ee=0;Ee<_e;Ee++){const Se=t.charAt(Ee);switch(Se){case"\0":xe+="";break;case z$1:xe+="";break;default:xe+=Se}}return xe}function __PRIVATE_encodeSeparator(t){return t+z$1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(t){let e=0;for(const xe in t)Object.prototype.hasOwnProperty.call(t,xe)&&e++;return e}function forEach(t,e){for(const xe in t)Object.prototype.hasOwnProperty.call(t,xe)&&e(xe,t[xe])}function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,xe){this.comparator=e,this.root=xe||LLRBNode.EMPTY}insert(e,xe){return new SortedMap(this.comparator,this.root.insert(e,xe,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let xe=this.root;for(;!xe.isEmpty();){const _e=this.comparator(e,xe.key);if(_e===0)return xe.value;_e<0?xe=xe.left:_e>0&&(xe=xe.right)}return null}indexOf(e){let xe=0,_e=this.root;for(;!_e.isEmpty();){const Ee=this.comparator(e,_e.key);if(Ee===0)return xe+_e.left.size;Ee<0?_e=_e.left:(xe+=_e.left.size+1,_e=_e.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((xe,_e)=>(e(xe,_e),!1))}toString(){const e=[];return this.inorderTraversal((xe,_e)=>(e.push(`${xe}:${_e}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,xe,_e,Ee){this.isReverse=Ee,this.nodeStack=[];let Se=1;for(;!e.isEmpty();)if(Se=xe?_e(e.key,xe):1,xe&&Ee&&(Se*=-1),Se<0)e=this.isReverse?e.left:e.right;else{if(Se===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const xe={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return xe}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,xe,_e,Ee,Se){this.key=e,this.value=xe,this.color=_e??LLRBNode.RED,this.left=Ee??LLRBNode.EMPTY,this.right=Se??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,xe,_e,Ee,Se){return new LLRBNode(e??this.key,xe??this.value,_e??this.color,Ee??this.left,Se??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,xe,_e){let Ee=this;const Se=_e(e,Ee.key);return Ee=Se<0?Ee.copy(null,null,null,Ee.left.insert(e,xe,_e),null):Se===0?Ee.copy(null,xe,null,null,null):Ee.copy(null,null,null,null,Ee.right.insert(e,xe,_e)),Ee.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,xe){let _e,Ee=this;if(xe(e,Ee.key)<0)Ee.left.isEmpty()||Ee.left.isRed()||Ee.left.left.isRed()||(Ee=Ee.moveRedLeft()),Ee=Ee.copy(null,null,null,Ee.left.remove(e,xe),null);else{if(Ee.left.isRed()&&(Ee=Ee.rotateRight()),Ee.right.isEmpty()||Ee.right.isRed()||Ee.right.left.isRed()||(Ee=Ee.moveRedRight()),xe(e,Ee.key)===0){if(Ee.right.isEmpty())return LLRBNode.EMPTY;_e=Ee.right.min(),Ee=Ee.copy(_e.key,_e.value,null,null,Ee.right.removeMin())}Ee=Ee.copy(null,null,null,null,Ee.right.remove(e,xe))}return Ee.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),xe=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,xe)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fail(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fail(27949);return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail(57766)}get value(){throw fail(16141)}get color(){throw fail(16727)}get left(){throw fail(29726)}get right(){throw fail(36894)}copy(e,xe,_e,Ee,Se){return this}insert(e,xe,_e){return new LLRBNode(e,xe)}remove(e,xe){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((xe,_e)=>(e(xe),!1))}forEachInRange(e,xe){const _e=this.data.getIteratorFrom(e[0]);for(;_e.hasNext();){const Ee=_e.getNext();if(this.comparator(Ee.key,e[1])>=0)return;xe(Ee.key)}}forEachWhile(e,xe){let _e;for(_e=xe!==void 0?this.data.getIteratorFrom(xe):this.data.getIterator();_e.hasNext();)if(!e(_e.getNext().key))return}firstAfterOrEqual(e){const xe=this.data.getIteratorFrom(e);return xe.hasNext()?xe.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let xe=this;return xe.size<e.size&&(xe=e,e=this),e.forEach(_e=>{xe=xe.add(_e)}),xe}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const xe=this.data.getIterator(),_e=e.data.getIterator();for(;xe.hasNext();){const Ee=xe.getNext().key,Se=_e.getNext().key;if(this.comparator(Ee,Se)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(xe=>{e.push(xe)}),e}toString(){const e=[];return this.forEach(xe=>e.push(xe)),"SortedSet("+e.toString()+")"}copy(e){const xe=new SortedSet(this.comparator);return xe.data=e,xe}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let xe=new SortedSet(FieldPath$1.comparator);for(const _e of this.fields)xe=xe.add(_e);for(const _e of e)xe=xe.add(_e);return new FieldMask(xe.toArray())}covers(e){for(const xe of this.fields)if(xe.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(xe,_e)=>xe.isEqual(_e))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const xe=function(Ee){try{return atob(Ee)}catch(Se){throw typeof DOMException<"u"&&Se instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Se):Se}}(e);return new ByteString(xe)}static fromUint8Array(e){const xe=function(Ee){let Se="";for(let Ae=0;Ae<Ee.length;++Ae)Se+=String.fromCharCode(Ee[Ae]);return Se}(e);return new ByteString(xe)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(xe){return btoa(xe)}(this.binaryString)}toUint8Array(){return function(xe){const _e=new Uint8Array(xe.length);for(let Ee=0;Ee<xe.length;Ee++)_e[Ee]=xe.charCodeAt(Ee);return _e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const it$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(t){if(__PRIVATE_hardAssert(!!t,39018),typeof t=="string"){let e=0;const xe=it$1.exec(t);if(__PRIVATE_hardAssert(!!xe,46558,{timestamp:t}),xe[1]){let Ee=xe[1];Ee=(Ee+"000000000").substr(0,9),e=Number(Ee)}const _e=new Date(t);return{seconds:Math.floor(_e.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(t.seconds),nanos:__PRIVATE_normalizeNumber(t.nanos)}}function __PRIVATE_normalizeNumber(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function __PRIVATE_normalizeByteString(t){return typeof t=="string"?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st$1="server_timestamp",ot$1="__type__",_t$1="__previous_value__",at$1="__local_write_time__";function __PRIVATE_isServerTimestamp(t){var e,xe;return((xe=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ot$1])===null||xe===void 0?void 0:xe.stringValue)===st$1}function __PRIVATE_getPreviousValue(t){const e=t.mapValue.fields[_t$1];return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(t){const e=__PRIVATE_normalizeTimestamp(t.mapValue.fields[at$1].timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie){this.databaseId=e,this.appId=xe,this.persistenceKey=_e,this.host=Ee,this.ssl=Se,this.forceLongPolling=Ae,this.autoDetectLongPolling=Re,this.longPollingOptions=Pe,this.useFetchStreams=Te,this.isUsingEmulator=Ie}}const ut$1="(default)";class DatabaseId{constructor(e,xe){this.projectId=e,this.database=xe||ut$1}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut$1}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct$1="__type__",lt$1="__max__",ht$1={mapValue:{}},Pt$1="__vector__",Tt$1="value";function __PRIVATE_typeOrder(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__PRIVATE_isServerTimestamp(t)?4:__PRIVATE_isMaxValue(t)?9007199254740991:__PRIVATE_isVectorValue(t)?10:11:fail(28295,{value:t})}function __PRIVATE_valueEquals(t,e){if(t===e)return!0;const xe=__PRIVATE_typeOrder(t);if(xe!==__PRIVATE_typeOrder(e))return!1;switch(xe){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(t).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(Ee,Se){if(typeof Ee.timestampValue=="string"&&typeof Se.timestampValue=="string"&&Ee.timestampValue.length===Se.timestampValue.length)return Ee.timestampValue===Se.timestampValue;const Ae=__PRIVATE_normalizeTimestamp(Ee.timestampValue),Re=__PRIVATE_normalizeTimestamp(Se.timestampValue);return Ae.seconds===Re.seconds&&Ae.nanos===Re.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(Ee,Se){return __PRIVATE_normalizeByteString(Ee.bytesValue).isEqual(__PRIVATE_normalizeByteString(Se.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(Ee,Se){return __PRIVATE_normalizeNumber(Ee.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Se.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(Ee.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Se.geoPointValue.longitude)}(t,e);case 2:return function(Ee,Se){if("integerValue"in Ee&&"integerValue"in Se)return __PRIVATE_normalizeNumber(Ee.integerValue)===__PRIVATE_normalizeNumber(Se.integerValue);if("doubleValue"in Ee&&"doubleValue"in Se){const Ae=__PRIVATE_normalizeNumber(Ee.doubleValue),Re=__PRIVATE_normalizeNumber(Se.doubleValue);return Ae===Re?__PRIVATE_isNegativeZero(Ae)===__PRIVATE_isNegativeZero(Re):isNaN(Ae)&&isNaN(Re)}return!1}(t,e);case 9:return __PRIVATE_arrayEquals(t.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(Ee,Se){const Ae=Ee.mapValue.fields||{},Re=Se.mapValue.fields||{};if(__PRIVATE_objectSize(Ae)!==__PRIVATE_objectSize(Re))return!1;for(const Pe in Ae)if(Ae.hasOwnProperty(Pe)&&(Re[Pe]===void 0||!__PRIVATE_valueEquals(Ae[Pe],Re[Pe])))return!1;return!0}(t,e);default:return fail(52216,{left:t})}}function __PRIVATE_arrayValueContains(t,e){return(t.values||[]).find(xe=>__PRIVATE_valueEquals(xe,e))!==void 0}function __PRIVATE_valueCompare(t,e){if(t===e)return 0;const xe=__PRIVATE_typeOrder(t),_e=__PRIVATE_typeOrder(e);if(xe!==_e)return __PRIVATE_primitiveComparator(xe,_e);switch(xe){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(t.booleanValue,e.booleanValue);case 2:return function(Se,Ae){const Re=__PRIVATE_normalizeNumber(Se.integerValue||Se.doubleValue),Pe=__PRIVATE_normalizeNumber(Ae.integerValue||Ae.doubleValue);return Re<Pe?-1:Re>Pe?1:Re===Pe?0:isNaN(Re)?isNaN(Pe)?0:-1:1}(t,e);case 3:return __PRIVATE_compareTimestamps(t.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(t),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_compareUtf8Strings(t.stringValue,e.stringValue);case 6:return function(Se,Ae){const Re=__PRIVATE_normalizeByteString(Se),Pe=__PRIVATE_normalizeByteString(Ae);return Re.compareTo(Pe)}(t.bytesValue,e.bytesValue);case 7:return function(Se,Ae){const Re=Se.split("/"),Pe=Ae.split("/");for(let Te=0;Te<Re.length&&Te<Pe.length;Te++){const Ie=__PRIVATE_primitiveComparator(Re[Te],Pe[Te]);if(Ie!==0)return Ie}return __PRIVATE_primitiveComparator(Re.length,Pe.length)}(t.referenceValue,e.referenceValue);case 8:return function(Se,Ae){const Re=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Se.latitude),__PRIVATE_normalizeNumber(Ae.latitude));return Re!==0?Re:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Se.longitude),__PRIVATE_normalizeNumber(Ae.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(t.arrayValue,e.arrayValue);case 10:return function(Se,Ae){var Re,Pe,Te,Ie;const je=Se.fields||{},Oe=Ae.fields||{},ke=(Re=je[Tt$1])===null||Re===void 0?void 0:Re.arrayValue,Fe=(Pe=Oe[Tt$1])===null||Pe===void 0?void 0:Pe.arrayValue,Me=__PRIVATE_primitiveComparator(((Te=ke==null?void 0:ke.values)===null||Te===void 0?void 0:Te.length)||0,((Ie=Fe==null?void 0:Fe.values)===null||Ie===void 0?void 0:Ie.length)||0);return Me!==0?Me:__PRIVATE_compareArrays(ke,Fe)}(t.mapValue,e.mapValue);case 11:return function(Se,Ae){if(Se===ht$1.mapValue&&Ae===ht$1.mapValue)return 0;if(Se===ht$1.mapValue)return 1;if(Ae===ht$1.mapValue)return-1;const Re=Se.fields||{},Pe=Object.keys(Re),Te=Ae.fields||{},Ie=Object.keys(Te);Pe.sort(),Ie.sort();for(let je=0;je<Pe.length&&je<Ie.length;++je){const Oe=__PRIVATE_compareUtf8Strings(Pe[je],Ie[je]);if(Oe!==0)return Oe;const ke=__PRIVATE_valueCompare(Re[Pe[je]],Te[Ie[je]]);if(ke!==0)return ke}return __PRIVATE_primitiveComparator(Pe.length,Ie.length)}(t.mapValue,e.mapValue);default:throw fail(23264,{Pe:xe})}}function __PRIVATE_compareTimestamps(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return __PRIVATE_primitiveComparator(t,e);const xe=__PRIVATE_normalizeTimestamp(t),_e=__PRIVATE_normalizeTimestamp(e),Ee=__PRIVATE_primitiveComparator(xe.seconds,_e.seconds);return Ee!==0?Ee:__PRIVATE_primitiveComparator(xe.nanos,_e.nanos)}function __PRIVATE_compareArrays(t,e){const xe=t.values||[],_e=e.values||[];for(let Ee=0;Ee<xe.length&&Ee<_e.length;++Ee){const Se=__PRIVATE_valueCompare(xe[Ee],_e[Ee]);if(Se)return Se}return __PRIVATE_primitiveComparator(xe.length,_e.length)}function canonicalId(t){return __PRIVATE_canonifyValue(t)}function __PRIVATE_canonifyValue(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(xe){const _e=__PRIVATE_normalizeTimestamp(xe);return`time(${_e.seconds},${_e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(xe){return __PRIVATE_normalizeByteString(xe).toBase64()}(t.bytesValue):"referenceValue"in t?function(xe){return DocumentKey.fromName(xe).toString()}(t.referenceValue):"geoPointValue"in t?function(xe){return`geo(${xe.latitude},${xe.longitude})`}(t.geoPointValue):"arrayValue"in t?function(xe){let _e="[",Ee=!0;for(const Se of xe.values||[])Ee?Ee=!1:_e+=",",_e+=__PRIVATE_canonifyValue(Se);return _e+"]"}(t.arrayValue):"mapValue"in t?function(xe){const _e=Object.keys(xe.fields||{}).sort();let Ee="{",Se=!0;for(const Ae of _e)Se?Se=!1:Ee+=",",Ee+=`${Ae}:${__PRIVATE_canonifyValue(xe.fields[Ae])}`;return Ee+"}"}(t.mapValue):fail(61005,{value:t})}function __PRIVATE_estimateByteSize(t){switch(__PRIVATE_typeOrder(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=__PRIVATE_getPreviousValue(t);return e?16+__PRIVATE_estimateByteSize(e):16;case 5:return 2*t.stringValue.length;case 6:return __PRIVATE_normalizeByteString(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(_e){return(_e.values||[]).reduce((Ee,Se)=>Ee+__PRIVATE_estimateByteSize(Se),0)}(t.arrayValue);case 10:case 11:return function(_e){let Ee=0;return forEach(_e.fields,(Se,Ae)=>{Ee+=Se.length+__PRIVATE_estimateByteSize(Ae)}),Ee}(t.mapValue);default:throw fail(13486,{value:t})}}function __PRIVATE_refValue(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function isInteger(t){return!!t&&"integerValue"in t}function isArray$2(t){return!!t&&"arrayValue"in t}function __PRIVATE_isNullValue(t){return!!t&&"nullValue"in t}function __PRIVATE_isNanValue(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function __PRIVATE_isMapValue(t){return!!t&&"mapValue"in t}function __PRIVATE_isVectorValue(t){var e,xe;return((xe=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ct$1])===null||xe===void 0?void 0:xe.stringValue)===Pt$1}function __PRIVATE_deepClone(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return forEach(t.mapValue.fields,(xe,_e)=>e.mapValue.fields[xe]=__PRIVATE_deepClone(_e)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let xe=0;xe<(t.arrayValue.values||[]).length;++xe)e.arrayValue.values[xe]=__PRIVATE_deepClone(t.arrayValue.values[xe]);return e}return Object.assign({},t)}function __PRIVATE_isMaxValue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lt$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let xe=this.value;for(let _e=0;_e<e.length-1;++_e)if(xe=(xe.mapValue.fields||{})[e.get(_e)],!__PRIVATE_isMapValue(xe))return null;return xe=(xe.mapValue.fields||{})[e.lastSegment()],xe||null}}set(e,xe){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(xe)}setAll(e){let xe=FieldPath$1.emptyPath(),_e={},Ee=[];e.forEach((Ae,Re)=>{if(!xe.isImmediateParentOf(Re)){const Pe=this.getFieldsMap(xe);this.applyChanges(Pe,_e,Ee),_e={},Ee=[],xe=Re.popLast()}Ae?_e[Re.lastSegment()]=__PRIVATE_deepClone(Ae):Ee.push(Re.lastSegment())});const Se=this.getFieldsMap(xe);this.applyChanges(Se,_e,Ee)}delete(e){const xe=this.field(e.popLast());__PRIVATE_isMapValue(xe)&&xe.mapValue.fields&&delete xe.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let xe=this.value;xe.mapValue.fields||(xe.mapValue={fields:{}});for(let _e=0;_e<e.length;++_e){let Ee=xe.mapValue.fields[e.get(_e)];__PRIVATE_isMapValue(Ee)&&Ee.mapValue.fields||(Ee={mapValue:{fields:{}}},xe.mapValue.fields[e.get(_e)]=Ee),xe=Ee}return xe.mapValue.fields}applyChanges(e,xe,_e){forEach(xe,(Ee,Se)=>e[Ee]=Se);for(const Ee of _e)delete e[Ee]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(t){const e=[];return forEach(t.fields,(xe,_e)=>{const Ee=new FieldPath$1([xe]);if(__PRIVATE_isMapValue(_e)){const Se=__PRIVATE_extractFieldMask(_e.mapValue).fields;if(Se.length===0)e.push(Ee);else for(const Ae of Se)e.push(Ee.child(Ae))}else e.push(Ee)}),new FieldMask(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,xe,_e,Ee,Se,Ae,Re){this.key=e,this.documentType=xe,this.version=_e,this.readTime=Ee,this.createTime=Se,this.data=Ae,this.documentState=Re}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,xe,_e,Ee){return new MutableDocument(e,1,xe,SnapshotVersion.min(),_e,Ee,0)}static newNoDocument(e,xe){return new MutableDocument(e,2,xe,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,xe){return new MutableDocument(e,3,xe,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,xe){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=xe,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,xe){this.position=e,this.inclusive=xe}}function __PRIVATE_boundCompareToDocument(t,e,xe){let _e=0;for(let Ee=0;Ee<t.position.length;Ee++){const Se=e[Ee],Ae=t.position[Ee];if(Se.field.isKeyField()?_e=DocumentKey.comparator(DocumentKey.fromName(Ae.referenceValue),xe.key):_e=__PRIVATE_valueCompare(Ae,xe.data.field(Se.field)),Se.dir==="desc"&&(_e*=-1),_e!==0)break}return _e}function __PRIVATE_boundEquals(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let xe=0;xe<t.position.length;xe++)if(!__PRIVATE_valueEquals(t.position[xe],e.position[xe]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,xe="asc"){this.field=e,this.dir=xe}}function __PRIVATE_orderByEquals(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,xe,_e){super(),this.field=e,this.op=xe,this.value=_e}static create(e,xe,_e){return e.isKeyField()?xe==="in"||xe==="not-in"?this.createKeyFieldInFilter(e,xe,_e):new __PRIVATE_KeyFieldFilter(e,xe,_e):xe==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,_e):xe==="in"?new __PRIVATE_InFilter(e,_e):xe==="not-in"?new __PRIVATE_NotInFilter(e,_e):xe==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,_e):new FieldFilter(e,xe,_e)}static createKeyFieldInFilter(e,xe,_e){return xe==="in"?new __PRIVATE_KeyFieldInFilter(e,_e):new __PRIVATE_KeyFieldNotInFilter(e,_e)}matches(e){const xe=e.data.field(this.field);return this.op==="!="?xe!==null&&xe.nullValue===void 0&&this.matchesComparison(__PRIVATE_valueCompare(xe,this.value)):xe!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(xe)&&this.matchesComparison(__PRIVATE_valueCompare(xe,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,xe){super(),this.filters=e,this.op=xe,this.Te=null}static create(e,xe){return new CompositeFilter(e,xe)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(xe=>!xe.matches(e))===void 0:this.filters.find(xe=>xe.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,xe)=>e.concat(xe.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(t){return t.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(t){return __PRIVATE_compositeFilterIsFlat(t)&&__PRIVATE_compositeFilterIsConjunction(t)}function __PRIVATE_compositeFilterIsFlat(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+canonicalId(t.value);if(__PRIVATE_compositeFilterIsFlatConjunction(t))return t.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=t.filters.map(xe=>__PRIVATE_canonifyFilter(xe)).join(",");return`${t.op}(${e})`}}function __PRIVATE_filterEquals(t,e){return t instanceof FieldFilter?function(_e,Ee){return Ee instanceof FieldFilter&&_e.op===Ee.op&&_e.field.isEqual(Ee.field)&&__PRIVATE_valueEquals(_e.value,Ee.value)}(t,e):t instanceof CompositeFilter?function(_e,Ee){return Ee instanceof CompositeFilter&&_e.op===Ee.op&&_e.filters.length===Ee.filters.length?_e.filters.reduce((Se,Ae,Re)=>Se&&__PRIVATE_filterEquals(Ae,Ee.filters[Re]),!0):!1}(t,e):void fail(19439)}function __PRIVATE_stringifyFilter(t){return t instanceof FieldFilter?function(xe){return`${xe.field.canonicalString()} ${xe.op} ${canonicalId(xe.value)}`}(t):t instanceof CompositeFilter?function(xe){return xe.op.toString()+" {"+xe.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,xe,_e){super(e,xe,_e),this.key=DocumentKey.fromName(_e.referenceValue)}matches(e){const xe=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(xe)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,xe){super(e,"in",xe),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",xe)}matches(e){return this.keys.some(xe=>xe.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,xe){super(e,"not-in",xe),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",xe)}matches(e){return!this.keys.some(xe=>xe.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(t,e){var xe;return(((xe=e.arrayValue)===null||xe===void 0?void 0:xe.values)||[]).map(_e=>DocumentKey.fromName(_e.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,xe){super(e,"array-contains",xe)}matches(e){const xe=e.data.field(this.field);return isArray$2(xe)&&__PRIVATE_arrayValueContains(xe.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,xe){super(e,"in",xe)}matches(e){const xe=e.data.field(this.field);return xe!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,xe)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,xe){super(e,"not-in",xe)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const xe=e.data.field(this.field);return xe!==null&&xe.nullValue===void 0&&!__PRIVATE_arrayValueContains(this.value.arrayValue,xe)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,xe){super(e,"array-contains-any",xe)}matches(e){const xe=e.data.field(this.field);return!(!isArray$2(xe)||!xe.arrayValue.values)&&xe.arrayValue.values.some(_e=>__PRIVATE_arrayValueContains(this.value.arrayValue,_e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,xe=null,_e=[],Ee=[],Se=null,Ae=null,Re=null){this.path=e,this.collectionGroup=xe,this.orderBy=_e,this.filters=Ee,this.limit=Se,this.startAt=Ae,this.endAt=Re,this.Ie=null}}function __PRIVATE_newTarget(t,e=null,xe=[],_e=[],Ee=null,Se=null,Ae=null){return new __PRIVATE_TargetImpl(t,e,xe,_e,Ee,Se,Ae)}function __PRIVATE_canonifyTarget(t){const e=__PRIVATE_debugCast(t);if(e.Ie===null){let xe=e.path.canonicalString();e.collectionGroup!==null&&(xe+="|cg:"+e.collectionGroup),xe+="|f:",xe+=e.filters.map(_e=>__PRIVATE_canonifyFilter(_e)).join(","),xe+="|ob:",xe+=e.orderBy.map(_e=>function(Se){return Se.field.canonicalString()+Se.dir}(_e)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(xe+="|l:",xe+=e.limit),e.startAt&&(xe+="|lb:",xe+=e.startAt.inclusive?"b:":"a:",xe+=e.startAt.position.map(_e=>canonicalId(_e)).join(",")),e.endAt&&(xe+="|ub:",xe+=e.endAt.inclusive?"a:":"b:",xe+=e.endAt.position.map(_e=>canonicalId(_e)).join(",")),e.Ie=xe}return e.Ie}function __PRIVATE_targetEquals(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let xe=0;xe<t.orderBy.length;xe++)if(!__PRIVATE_orderByEquals(t.orderBy[xe],e.orderBy[xe]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let xe=0;xe<t.filters.length;xe++)if(!__PRIVATE_filterEquals(t.filters[xe],e.filters[xe]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(t.startAt,e.startAt)&&__PRIVATE_boundEquals(t.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(t){return DocumentKey.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,xe=null,_e=[],Ee=[],Se=null,Ae="F",Re=null,Pe=null){this.path=e,this.collectionGroup=xe,this.explicitOrderBy=_e,this.filters=Ee,this.limit=Se,this.limitType=Ae,this.startAt=Re,this.endAt=Pe,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(t,e,xe,_e,Ee,Se,Ae,Re){return new __PRIVATE_QueryImpl(t,e,xe,_e,Ee,Se,Ae,Re)}function __PRIVATE_newQueryForPath(t){return new __PRIVATE_QueryImpl(t)}function __PRIVATE_queryMatchesAllDocuments(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(t){return t.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(t){const e=__PRIVATE_debugCast(t);if(e.Ee===null){e.Ee=[];const xe=new Set;for(const Se of e.explicitOrderBy)e.Ee.push(Se),xe.add(Se.field.canonicalString());const _e=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(Ae){let Re=new SortedSet(FieldPath$1.comparator);return Ae.filters.forEach(Pe=>{Pe.getFlattenedFilters().forEach(Te=>{Te.isInequality()&&(Re=Re.add(Te.field))})}),Re})(e).forEach(Se=>{xe.has(Se.canonicalString())||Se.isKeyField()||e.Ee.push(new OrderBy(Se,_e))}),xe.has(FieldPath$1.keyField().canonicalString())||e.Ee.push(new OrderBy(FieldPath$1.keyField(),_e))}return e.Ee}function __PRIVATE_queryToTarget(t){const e=__PRIVATE_debugCast(t);return e.de||(e.de=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(t))),e.de}function __PRIVATE__queryToTarget(t,e){if(t.limitType==="F")return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(Ee=>{const Se=Ee.dir==="desc"?"asc":"desc";return new OrderBy(Ee.field,Se)});const xe=t.endAt?new Bound(t.endAt.position,t.endAt.inclusive):null,_e=t.startAt?new Bound(t.startAt.position,t.startAt.inclusive):null;return __PRIVATE_newTarget(t.path,t.collectionGroup,e,t.filters,t.limit,xe,_e)}}function __PRIVATE_queryWithAddedFilter(t,e){const xe=t.filters.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),xe,t.limit,t.limitType,t.startAt,t.endAt)}function __PRIVATE_queryWithLimit(t,e,xe){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,xe,t.startAt,t.endAt)}function __PRIVATE_queryEquals(t,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(t),__PRIVATE_queryToTarget(e))&&t.limitType===e.limitType}function __PRIVATE_canonifyQuery(t){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(t))}|lt:${t.limitType}`}function __PRIVATE_stringifyQuery(t){return`Query(target=${function(xe){let _e=xe.path.canonicalString();return xe.collectionGroup!==null&&(_e+=" collectionGroup="+xe.collectionGroup),xe.filters.length>0&&(_e+=`, filters: [${xe.filters.map(Ee=>__PRIVATE_stringifyFilter(Ee)).join(", ")}]`),__PRIVATE_isNullOrUndefined(xe.limit)||(_e+=", limit: "+xe.limit),xe.orderBy.length>0&&(_e+=`, orderBy: [${xe.orderBy.map(Ee=>function(Ae){return`${Ae.field.canonicalString()} (${Ae.dir})`}(Ee)).join(", ")}]`),xe.startAt&&(_e+=", startAt: ",_e+=xe.startAt.inclusive?"b:":"a:",_e+=xe.startAt.position.map(Ee=>canonicalId(Ee)).join(",")),xe.endAt&&(_e+=", endAt: ",_e+=xe.endAt.inclusive?"a:":"b:",_e+=xe.endAt.position.map(Ee=>canonicalId(Ee)).join(",")),`Target(${_e})`}(__PRIVATE_queryToTarget(t))}; limitType=${t.limitType})`}function __PRIVATE_queryMatches(t,e){return e.isFoundDocument()&&function(_e,Ee){const Se=Ee.key.path;return _e.collectionGroup!==null?Ee.key.hasCollectionId(_e.collectionGroup)&&_e.path.isPrefixOf(Se):DocumentKey.isDocumentKey(_e.path)?_e.path.isEqual(Se):_e.path.isImmediateParentOf(Se)}(t,e)&&function(_e,Ee){for(const Se of __PRIVATE_queryNormalizedOrderBy(_e))if(!Se.field.isKeyField()&&Ee.data.field(Se.field)===null)return!1;return!0}(t,e)&&function(_e,Ee){for(const Se of _e.filters)if(!Se.matches(Ee))return!1;return!0}(t,e)&&function(_e,Ee){return!(_e.startAt&&!function(Ae,Re,Pe){const Te=__PRIVATE_boundCompareToDocument(Ae,Re,Pe);return Ae.inclusive?Te<=0:Te<0}(_e.startAt,__PRIVATE_queryNormalizedOrderBy(_e),Ee)||_e.endAt&&!function(Ae,Re,Pe){const Te=__PRIVATE_boundCompareToDocument(Ae,Re,Pe);return Ae.inclusive?Te>=0:Te>0}(_e.endAt,__PRIVATE_queryNormalizedOrderBy(_e),Ee))}(t,e)}function __PRIVATE_queryCollectionGroup(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function __PRIVATE_newQueryComparator(t){return(e,xe)=>{let _e=!1;for(const Ee of __PRIVATE_queryNormalizedOrderBy(t)){const Se=__PRIVATE_compareDocs(Ee,e,xe);if(Se!==0)return Se;_e=_e||Ee.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(t,e,xe){const _e=t.field.isKeyField()?DocumentKey.comparator(e.key,xe.key):function(Se,Ae,Re){const Pe=Ae.data.field(Se),Te=Re.data.field(Se);return Pe!==null&&Te!==null?__PRIVATE_valueCompare(Pe,Te):fail(42886)}(t.field,e,xe);switch(t.dir){case"asc":return _e;case"desc":return-1*_e;default:return fail(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,xe){this.mapKeyFn=e,this.equalsFn=xe,this.inner={},this.innerSize=0}get(e){const xe=this.mapKeyFn(e),_e=this.inner[xe];if(_e!==void 0){for(const[Ee,Se]of _e)if(this.equalsFn(Ee,e))return Se}}has(e){return this.get(e)!==void 0}set(e,xe){const _e=this.mapKeyFn(e),Ee=this.inner[_e];if(Ee===void 0)return this.inner[_e]=[[e,xe]],void this.innerSize++;for(let Se=0;Se<Ee.length;Se++)if(this.equalsFn(Ee[Se][0],e))return void(Ee[Se]=[e,xe]);Ee.push([e,xe]),this.innerSize++}delete(e){const xe=this.mapKeyFn(e),_e=this.inner[xe];if(_e===void 0)return!1;for(let Ee=0;Ee<_e.length;Ee++)if(this.equalsFn(_e[Ee][0],e))return _e.length===1?delete this.inner[xe]:_e.splice(Ee,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(xe,_e)=>{for(const[Ee,Se]of _e)e(Ee,Se)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return dt$1}const At$1=new SortedMap(DocumentKey.comparator);function documentMap(...t){let e=At$1;for(const xe of t)e=e.insert(xe.key,xe);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(t){let e=At$1;return t.forEach((xe,_e)=>e=e.insert(xe,_e.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rt$1=new SortedMap(DocumentKey.comparator),Vt$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...t){let e=Vt$1;for(const xe of t)e=e.add(xe);return e}const mt$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return mt$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(t){return{integerValue:""+t}}function toNumber(t,e){return isSafeInteger(e)?__PRIVATE_toInteger(e):__PRIVATE_toDouble(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(t,e,xe){return t instanceof __PRIVATE_ServerTimestampTransform?function(Ee,Se){const Ae={fields:{[ot$1]:{stringValue:st$1},[at$1]:{timestampValue:{seconds:Ee.seconds,nanos:Ee.nanoseconds}}}};return Se&&__PRIVATE_isServerTimestamp(Se)&&(Se=__PRIVATE_getPreviousValue(Se)),Se&&(Ae.fields[_t$1]=Se),{mapValue:Ae}}(xe,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):function(Ee,Se){const Ae=__PRIVATE_computeTransformOperationBaseValue(Ee,Se),Re=asNumber(Ae)+asNumber(Ee.Re);return isInteger(Ae)&&isInteger(Ee.Re)?__PRIVATE_toInteger(Re):__PRIVATE_toDouble(Ee.serializer,Re)}(t,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(t,e,xe){return t instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(t,e):xe}function __PRIVATE_computeTransformOperationBaseValue(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?function(_e){return isInteger(_e)||function(Se){return!!Se&&"doubleValue"in Se}(_e)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(t,e){const xe=__PRIVATE_coercedFieldValuesArray(e);for(const _e of t.elements)xe.some(Ee=>__PRIVATE_valueEquals(Ee,_e))||xe.push(_e);return{arrayValue:{values:xe}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(t,e){let xe=__PRIVATE_coercedFieldValuesArray(e);for(const _e of t.elements)xe=xe.filter(Ee=>!__PRIVATE_valueEquals(Ee,_e));return{arrayValue:{values:xe}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,xe){super(),this.serializer=e,this.Re=xe}}function asNumber(t){return __PRIVATE_normalizeNumber(t.integerValue||t.doubleValue)}function __PRIVATE_coercedFieldValuesArray(t){return isArray$2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(t,e){return t.field.isEqual(e.field)&&function(_e,Ee){return _e instanceof __PRIVATE_ArrayUnionTransformOperation&&Ee instanceof __PRIVATE_ArrayUnionTransformOperation||_e instanceof __PRIVATE_ArrayRemoveTransformOperation&&Ee instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(_e.elements,Ee.elements,__PRIVATE_valueEquals):_e instanceof __PRIVATE_NumericIncrementTransformOperation&&Ee instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(_e.Re,Ee.Re):_e instanceof __PRIVATE_ServerTimestampTransform&&Ee instanceof __PRIVATE_ServerTimestampTransform}(t.transform,e.transform)}class MutationResult{constructor(e,xe){this.version=e,this.transformResults=xe}}class Precondition{constructor(e,xe){this.updateTime=e,this.exists=xe}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const xe=t.data,_e=ObjectValue.empty();let Ee=new SortedSet(FieldPath$1.comparator);for(let Se of e.fields)if(!Ee.has(Se)){let Ae=xe.field(Se);Ae===null&&Se.length>1&&(Se=Se.popLast(),Ae=xe.field(Se)),Ae===null?_e.delete(Se):_e.set(Se,Ae),Ee=Ee.add(Se)}return new __PRIVATE_PatchMutation(t.key,_e,new FieldMask(Ee.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(t,e,xe){t instanceof __PRIVATE_SetMutation?function(Ee,Se,Ae){const Re=Ee.value.clone(),Pe=__PRIVATE_serverTransformResults(Ee.fieldTransforms,Se,Ae.transformResults);Re.setAll(Pe),Se.convertToFoundDocument(Ae.version,Re).setHasCommittedMutations()}(t,e,xe):t instanceof __PRIVATE_PatchMutation?function(Ee,Se,Ae){if(!__PRIVATE_preconditionIsValidForDocument(Ee.precondition,Se))return void Se.convertToUnknownDocument(Ae.version);const Re=__PRIVATE_serverTransformResults(Ee.fieldTransforms,Se,Ae.transformResults),Pe=Se.data;Pe.setAll(__PRIVATE_getPatch(Ee)),Pe.setAll(Re),Se.convertToFoundDocument(Ae.version,Pe).setHasCommittedMutations()}(t,e,xe):function(Ee,Se,Ae){Se.convertToNoDocument(Ae.version).setHasCommittedMutations()}(0,e,xe)}function __PRIVATE_mutationApplyToLocalView(t,e,xe,_e){return t instanceof __PRIVATE_SetMutation?function(Se,Ae,Re,Pe){if(!__PRIVATE_preconditionIsValidForDocument(Se.precondition,Ae))return Re;const Te=Se.value.clone(),Ie=__PRIVATE_localTransformResults(Se.fieldTransforms,Pe,Ae);return Te.setAll(Ie),Ae.convertToFoundDocument(Ae.version,Te).setHasLocalMutations(),null}(t,e,xe,_e):t instanceof __PRIVATE_PatchMutation?function(Se,Ae,Re,Pe){if(!__PRIVATE_preconditionIsValidForDocument(Se.precondition,Ae))return Re;const Te=__PRIVATE_localTransformResults(Se.fieldTransforms,Pe,Ae),Ie=Ae.data;return Ie.setAll(__PRIVATE_getPatch(Se)),Ie.setAll(Te),Ae.convertToFoundDocument(Ae.version,Ie).setHasLocalMutations(),Re===null?null:Re.unionWith(Se.fieldMask.fields).unionWith(Se.fieldTransforms.map(je=>je.field))}(t,e,xe,_e):function(Se,Ae,Re){return __PRIVATE_preconditionIsValidForDocument(Se.precondition,Ae)?(Ae.convertToNoDocument(Ae.version).setHasLocalMutations(),null):Re}(t,e,xe)}function __PRIVATE_mutationExtractBaseValue(t,e){let xe=null;for(const _e of t.fieldTransforms){const Ee=e.data.field(_e.field),Se=__PRIVATE_computeTransformOperationBaseValue(_e.transform,Ee||null);Se!=null&&(xe===null&&(xe=ObjectValue.empty()),xe.set(_e.field,Se))}return xe||null}function __PRIVATE_mutationEquals(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(_e,Ee){return _e===void 0&&Ee===void 0||!(!_e||!Ee)&&__PRIVATE_arrayEquals(_e,Ee,(Se,Ae)=>__PRIVATE_fieldTransformEquals(Se,Ae))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,xe,_e,Ee=[]){super(),this.key=e,this.value=xe,this.precondition=_e,this.fieldTransforms=Ee,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,xe,_e,Ee,Se=[]){super(),this.key=e,this.data=xe,this.fieldMask=_e,this.precondition=Ee,this.fieldTransforms=Se,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(t){const e=new Map;return t.fieldMask.fields.forEach(xe=>{if(!xe.isEmpty()){const _e=t.data.field(xe);e.set(xe,_e)}}),e}function __PRIVATE_serverTransformResults(t,e,xe){const _e=new Map;__PRIVATE_hardAssert(t.length===xe.length,32656,{Ve:xe.length,me:t.length});for(let Ee=0;Ee<xe.length;Ee++){const Se=t[Ee],Ae=Se.transform,Re=e.data.field(Se.field);_e.set(Se.field,__PRIVATE_applyTransformOperationToRemoteDocument(Ae,Re,xe[Ee]))}return _e}function __PRIVATE_localTransformResults(t,e,xe){const _e=new Map;for(const Ee of t){const Se=Ee.transform,Ae=xe.data.field(Ee.field);_e.set(Ee.field,__PRIVATE_applyTransformOperationToLocalView(Se,Ae,e))}return _e}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,xe){super(),this.key=e,this.precondition=xe,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(e,xe){super(),this.key=e,this.precondition=xe,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,xe,_e,Ee){this.batchId=e,this.localWriteTime=xe,this.baseMutations=_e,this.mutations=Ee}applyToRemoteDocument(e,xe){const _e=xe.mutationResults;for(let Ee=0;Ee<this.mutations.length;Ee++){const Se=this.mutations[Ee];Se.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(Se,e,_e[Ee])}}applyToLocalView(e,xe){for(const _e of this.baseMutations)_e.key.isEqual(e.key)&&(xe=__PRIVATE_mutationApplyToLocalView(_e,e,xe,this.localWriteTime));for(const _e of this.mutations)_e.key.isEqual(e.key)&&(xe=__PRIVATE_mutationApplyToLocalView(_e,e,xe,this.localWriteTime));return xe}applyToLocalDocumentSet(e,xe){const _e=__PRIVATE_newMutationMap();return this.mutations.forEach(Ee=>{const Se=e.get(Ee.key),Ae=Se.overlayedDocument;let Re=this.applyToLocalView(Ae,Se.mutatedFields);Re=xe.has(Ee.key)?null:Re;const Pe=__PRIVATE_calculateOverlayMutation(Ae,Re);Pe!==null&&_e.set(Ee.key,Pe),Ae.isValidDocument()||Ae.convertToNoDocument(SnapshotVersion.min())}),_e}keys(){return this.mutations.reduce((e,xe)=>e.add(xe.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(xe,_e)=>__PRIVATE_mutationEquals(xe,_e))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(xe,_e)=>__PRIVATE_mutationEquals(xe,_e))}}class MutationBatchResult{constructor(e,xe,_e,Ee){this.batch=e,this.commitVersion=xe,this.mutationResults=_e,this.docVersions=Ee}static from(e,xe,_e){__PRIVATE_hardAssert(e.mutations.length===_e.length,58842,{fe:e.mutations.length,ge:_e.length});let Ee=function(){return Rt$1}();const Se=e.mutations;for(let Ae=0;Ae<Se.length;Ae++)Ee=Ee.insert(Se[Ae].key,_e[Ae].version);return new MutationBatchResult(e,xe,_e,Ee)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,xe){this.largestBatchId=e,this.mutation=xe}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,xe){this.count=e,this.unchangedNames=xe}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft$1,gt$1;function __PRIVATE_isPermanentError(t){switch(t){case N$1.OK:return fail(64938);case N$1.CANCELLED:case N$1.UNKNOWN:case N$1.DEADLINE_EXCEEDED:case N$1.RESOURCE_EXHAUSTED:case N$1.INTERNAL:case N$1.UNAVAILABLE:case N$1.UNAUTHENTICATED:return!1;case N$1.INVALID_ARGUMENT:case N$1.NOT_FOUND:case N$1.ALREADY_EXISTS:case N$1.PERMISSION_DENIED:case N$1.FAILED_PRECONDITION:case N$1.ABORTED:case N$1.OUT_OF_RANGE:case N$1.UNIMPLEMENTED:case N$1.DATA_LOSS:return!0;default:return fail(15467,{code:t})}}function __PRIVATE_mapCodeFromRpcCode(t){if(t===void 0)return __PRIVATE_logError("GRPC error has no .code"),N$1.UNKNOWN;switch(t){case ft$1.OK:return N$1.OK;case ft$1.CANCELLED:return N$1.CANCELLED;case ft$1.UNKNOWN:return N$1.UNKNOWN;case ft$1.DEADLINE_EXCEEDED:return N$1.DEADLINE_EXCEEDED;case ft$1.RESOURCE_EXHAUSTED:return N$1.RESOURCE_EXHAUSTED;case ft$1.INTERNAL:return N$1.INTERNAL;case ft$1.UNAVAILABLE:return N$1.UNAVAILABLE;case ft$1.UNAUTHENTICATED:return N$1.UNAUTHENTICATED;case ft$1.INVALID_ARGUMENT:return N$1.INVALID_ARGUMENT;case ft$1.NOT_FOUND:return N$1.NOT_FOUND;case ft$1.ALREADY_EXISTS:return N$1.ALREADY_EXISTS;case ft$1.PERMISSION_DENIED:return N$1.PERMISSION_DENIED;case ft$1.FAILED_PRECONDITION:return N$1.FAILED_PRECONDITION;case ft$1.ABORTED:return N$1.ABORTED;case ft$1.OUT_OF_RANGE:return N$1.OUT_OF_RANGE;case ft$1.UNIMPLEMENTED:return N$1.UNIMPLEMENTED;case ft$1.DATA_LOSS:return N$1.DATA_LOSS;default:return fail(39323,{code:t})}}(gt$1=ft$1||(ft$1={}))[gt$1.OK=0]="OK",gt$1[gt$1.CANCELLED=1]="CANCELLED",gt$1[gt$1.UNKNOWN=2]="UNKNOWN",gt$1[gt$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt$1[gt$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt$1[gt$1.NOT_FOUND=5]="NOT_FOUND",gt$1[gt$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt$1[gt$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt$1[gt$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt$1[gt$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt$1[gt$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt$1[gt$1.ABORTED=10]="ABORTED",gt$1[gt$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt$1[gt$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt$1[gt$1.INTERNAL=13]="INTERNAL",gt$1[gt$1.UNAVAILABLE=14]="UNAVAILABLE",gt$1[gt$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(t){const e=__PRIVATE_newTextEncoder().encode(t),xe=new Md5;return xe.update(e),new Uint8Array(xe.digest())}function __PRIVATE_get64BitUints(t){const e=new DataView(t.buffer),xe=e.getUint32(0,!0),_e=e.getUint32(4,!0),Ee=e.getUint32(8,!0),Se=e.getUint32(12,!0);return[new Integer([xe,_e],0),new Integer([Ee,Se],0)]}class BloomFilter{constructor(e,xe,_e){if(this.bitmap=e,this.padding=xe,this.hashCount=_e,xe<0||xe>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${xe}`);if(_e<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_e}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${_e}`);if(e.length===0&&xe!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${xe}`);this.pe=8*e.length-xe,this.ye=Integer.fromNumber(this.pe)}we(e,xe,_e){let Ee=e.add(xe.multiply(Integer.fromNumber(_e)));return Ee.compare(yt$1)===1&&(Ee=new Integer([Ee.getBits(0),Ee.getBits(1)],0)),Ee.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const xe=__PRIVATE_getMd5HashValue(e),[_e,Ee]=__PRIVATE_get64BitUints(xe);for(let Se=0;Se<this.hashCount;Se++){const Ae=this.we(_e,Ee,Se);if(!this.Se(Ae))return!1}return!0}static create(e,xe,_e){const Ee=e%8==0?0:8-e%8,Se=new Uint8Array(Math.ceil(e/8)),Ae=new BloomFilter(Se,Ee,xe);return _e.forEach(Re=>Ae.insert(Re)),Ae}insert(e){if(this.pe===0)return;const xe=__PRIVATE_getMd5HashValue(e),[_e,Ee]=__PRIVATE_get64BitUints(xe);for(let Se=0;Se<this.hashCount;Se++){const Ae=this.we(_e,Ee,Se);this.be(Ae)}}be(e){const xe=Math.floor(e/8),_e=e%8;this.bitmap[xe]|=1<<_e}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,xe,_e,Ee,Se){this.snapshotVersion=e,this.targetChanges=xe,this.targetMismatches=_e,this.documentUpdates=Ee,this.resolvedLimboDocuments=Se}static createSynthesizedRemoteEventForCurrentChange(e,xe,_e){const Ee=new Map;return Ee.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,xe,_e)),new RemoteEvent(SnapshotVersion.min(),Ee,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,xe,_e,Ee,Se){this.resumeToken=e,this.current=xe,this.addedDocuments=_e,this.modifiedDocuments=Ee,this.removedDocuments=Se}static createSynthesizedTargetChangeForCurrentChange(e,xe,_e){return new TargetChange(_e,xe,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,xe,_e,Ee){this.De=e,this.removedTargetIds=xe,this.key=_e,this.ve=Ee}}class __PRIVATE_ExistenceFilterChange{constructor(e,xe){this.targetId=e,this.Ce=xe}}class __PRIVATE_WatchTargetChange{constructor(e,xe,_e=ByteString.EMPTY_BYTE_STRING,Ee=null){this.state=e,this.targetIds=xe,this.resumeToken=_e,this.cause=Ee}}class __PRIVATE_TargetState{constructor(){this.Fe=0,this.Me=__PRIVATE_snapshotChangesMap(),this.xe=ByteString.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=__PRIVATE_documentKeySet(),xe=__PRIVATE_documentKeySet(),_e=__PRIVATE_documentKeySet();return this.Me.forEach((Ee,Se)=>{switch(Se){case 0:e=e.add(Ee);break;case 2:xe=xe.add(Ee);break;case 1:_e=_e.add(Ee);break;default:fail(38017,{changeType:Se})}}),new TargetChange(this.xe,this.Oe,e,xe,_e)}Qe(){this.Ne=!1,this.Me=__PRIVATE_snapshotChangesMap()}$e(e,xe){this.Ne=!0,this.Me=this.Me.insert(e,xe)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,__PRIVATE_hardAssert(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.ze=e,this.je=new Map,this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator)}Xe(e){for(const xe of e.De)e.ve&&e.ve.isFoundDocument()?this.et(xe,e.ve):this.tt(xe,e.key,e.ve);for(const xe of e.removedTargetIds)this.tt(xe,e.key,e.ve)}nt(e){this.forEachTarget(e,xe=>{const _e=this.rt(xe);switch(e.state){case 0:this.it(xe)&&_e.ke(e.resumeToken);break;case 1:_e.We(),_e.Be||_e.Qe(),_e.ke(e.resumeToken);break;case 2:_e.We(),_e.Be||this.removeTarget(xe);break;case 3:this.it(xe)&&(_e.Ge(),_e.ke(e.resumeToken));break;case 4:this.it(xe)&&(this.st(xe),_e.ke(e.resumeToken));break;default:fail(56790,{state:e.state})}})}forEachTarget(e,xe){e.targetIds.length>0?e.targetIds.forEach(xe):this.je.forEach((_e,Ee)=>{this.it(Ee)&&xe(Ee)})}ot(e){const xe=e.targetId,_e=e.Ce.count,Ee=this._t(xe);if(Ee){const Se=Ee.target;if(__PRIVATE_targetIsDocumentTarget(Se))if(_e===0){const Ae=new DocumentKey(Se.path);this.tt(xe,Ae,MutableDocument.newNoDocument(Ae,SnapshotVersion.min()))}else __PRIVATE_hardAssert(_e===1,20013,{expectedCount:_e});else{const Ae=this.ut(xe);if(Ae!==_e){const Re=this.ct(e),Pe=Re?this.lt(Re,e,Ae):1;if(Pe!==0){this.st(xe);const Te=Pe===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(xe,Te)}}}}}ct(e){const xe=e.Ce.unchangedNames;if(!xe||!xe.bits)return null;const{bits:{bitmap:_e="",padding:Ee=0},hashCount:Se=0}=xe;let Ae,Re;try{Ae=__PRIVATE_normalizeByteString(_e).toUint8Array()}catch(Pe){if(Pe instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Pe.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Pe}try{Re=new BloomFilter(Ae,Ee,Se)}catch(Pe){return __PRIVATE_logWarn(Pe instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Pe),null}return Re.pe===0?null:Re}lt(e,xe,_e){return xe.Ce.count===_e-this.Tt(e,xe.targetId)?0:2}Tt(e,xe){const _e=this.ze.getRemoteKeysForTarget(xe);let Ee=0;return _e.forEach(Se=>{const Ae=this.ze.Pt(),Re=`projects/${Ae.projectId}/databases/${Ae.database}/documents/${Se.path.canonicalString()}`;e.mightContain(Re)||(this.tt(xe,Se,null),Ee++)}),Ee}It(e){const xe=new Map;this.je.forEach((Se,Ae)=>{const Re=this._t(Ae);if(Re){if(Se.current&&__PRIVATE_targetIsDocumentTarget(Re.target)){const Pe=new DocumentKey(Re.target.path);this.Et(Pe).has(Ae)||this.dt(Ae,Pe)||this.tt(Ae,Pe,MutableDocument.newNoDocument(Pe,e))}Se.Le&&(xe.set(Ae,Se.qe()),Se.Qe())}});let _e=__PRIVATE_documentKeySet();this.Ye.forEach((Se,Ae)=>{let Re=!0;Ae.forEachWhile(Pe=>{const Te=this._t(Pe);return!Te||Te.purpose==="TargetPurposeLimboResolution"||(Re=!1,!1)}),Re&&(_e=_e.add(Se))}),this.He.forEach((Se,Ae)=>Ae.setReadTime(e));const Ee=new RemoteEvent(e,xe,this.Ze,this.He,_e);return this.He=__PRIVATE_mutableDocumentMap(),this.Je=__PRIVATE_documentTargetMap(),this.Ye=__PRIVATE_documentTargetMap(),this.Ze=new SortedMap(__PRIVATE_primitiveComparator),Ee}et(e,xe){if(!this.it(e))return;const _e=this.dt(e,xe.key)?2:0;this.rt(e).$e(xe.key,_e),this.He=this.He.insert(xe.key,xe),this.Je=this.Je.insert(xe.key,this.Et(xe.key).add(e)),this.Ye=this.Ye.insert(xe.key,this.At(xe.key).add(e))}tt(e,xe,_e){if(!this.it(e))return;const Ee=this.rt(e);this.dt(e,xe)?Ee.$e(xe,1):Ee.Ue(xe),this.Ye=this.Ye.insert(xe,this.At(xe).delete(e)),this.Ye=this.Ye.insert(xe,this.At(xe).add(e)),_e&&(this.He=this.He.insert(xe,_e))}removeTarget(e){this.je.delete(e)}ut(e){const xe=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+xe.addedDocuments.size-xe.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let xe=this.je.get(e);return xe||(xe=new __PRIVATE_TargetState,this.je.set(e,xe)),xe}At(e){let xe=this.Ye.get(e);return xe||(xe=new SortedSet(__PRIVATE_primitiveComparator),this.Ye=this.Ye.insert(e,xe)),xe}Et(e){let xe=this.Je.get(e);return xe||(xe=new SortedSet(__PRIVATE_primitiveComparator),this.Je=this.Je.insert(e,xe)),xe}it(e){const xe=this._t(e)!==null;return xe||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),xe}_t(e){const xe=this.je.get(e);return xe&&xe.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new __PRIVATE_TargetState),this.ze.getRemoteKeysForTarget(e).forEach(xe=>{this.tt(e,xe,null)})}dt(e,xe){return this.ze.getRemoteKeysForTarget(e).has(xe)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const wt$1={asc:"ASCENDING",desc:"DESCENDING"},St={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bt$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,xe){this.databaseId=e,this.useProto3Json=xe}}function __PRIVATE_toInt32Proto(t,e){return t.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_toVersion(t,e){return toTimestamp(t,e.toTimestamp())}function __PRIVATE_fromVersion(t){return __PRIVATE_hardAssert(!!t,49232),SnapshotVersion.fromTimestamp(function(xe){const _e=__PRIVATE_normalizeTimestamp(xe);return new Timestamp(_e.seconds,_e.nanos)}(t))}function __PRIVATE_toResourceName(t,e){return __PRIVATE_toResourcePath(t,e).canonicalString()}function __PRIVATE_toResourcePath(t,e){const xe=function(Ee){return new ResourcePath(["projects",Ee.projectId,"databases",Ee.database])}(t).child("documents");return e===void 0?xe:xe.child(e)}function __PRIVATE_fromResourceName(t){const e=ResourcePath.fromString(t);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e),10190,{key:e.toString()}),e}function __PRIVATE_toName(t,e){return __PRIVATE_toResourceName(t.databaseId,e.path)}function fromName(t,e){const xe=__PRIVATE_fromResourceName(e);if(xe.get(1)!==t.databaseId.projectId)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+xe.get(1)+" vs "+t.databaseId.projectId);if(xe.get(3)!==t.databaseId.database)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+xe.get(3)+" vs "+t.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(xe))}function __PRIVATE_toQueryPath(t,e){return __PRIVATE_toResourceName(t.databaseId,e)}function __PRIVATE_fromQueryPath(t){const e=__PRIVATE_fromResourceName(t);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(t){return __PRIVATE_hardAssert(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function __PRIVATE_toMutationDocument(t,e,xe){return{name:__PRIVATE_toName(t,e),fields:xe.value.mapValue.fields}}function __PRIVATE_fromWatchChange(t,e){let xe;if("targetChange"in e){e.targetChange;const _e=function(Te){return Te==="NO_CHANGE"?0:Te==="ADD"?1:Te==="REMOVE"?2:Te==="CURRENT"?3:Te==="RESET"?4:fail(39313,{state:Te})}(e.targetChange.targetChangeType||"NO_CHANGE"),Ee=e.targetChange.targetIds||[],Se=function(Te,Ie){return Te.useProto3Json?(__PRIVATE_hardAssert(Ie===void 0||typeof Ie=="string",58123),ByteString.fromBase64String(Ie||"")):(__PRIVATE_hardAssert(Ie===void 0||Ie instanceof Buffer||Ie instanceof Uint8Array,16193),ByteString.fromUint8Array(Ie||new Uint8Array))}(t,e.targetChange.resumeToken),Ae=e.targetChange.cause,Re=Ae&&function(Te){const Ie=Te.code===void 0?N$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Te.code);return new FirestoreError(Ie,Te.message||"")}(Ae);xe=new __PRIVATE_WatchTargetChange(_e,Ee,Se,Re||null)}else if("documentChange"in e){e.documentChange;const _e=e.documentChange;_e.document,_e.document.name,_e.document.updateTime;const Ee=fromName(t,_e.document.name),Se=__PRIVATE_fromVersion(_e.document.updateTime),Ae=_e.document.createTime?__PRIVATE_fromVersion(_e.document.createTime):SnapshotVersion.min(),Re=new ObjectValue({mapValue:{fields:_e.document.fields}}),Pe=MutableDocument.newFoundDocument(Ee,Se,Ae,Re),Te=_e.targetIds||[],Ie=_e.removedTargetIds||[];xe=new __PRIVATE_DocumentWatchChange(Te,Ie,Pe.key,Pe)}else if("documentDelete"in e){e.documentDelete;const _e=e.documentDelete;_e.document;const Ee=fromName(t,_e.document),Se=_e.readTime?__PRIVATE_fromVersion(_e.readTime):SnapshotVersion.min(),Ae=MutableDocument.newNoDocument(Ee,Se),Re=_e.removedTargetIds||[];xe=new __PRIVATE_DocumentWatchChange([],Re,Ae.key,Ae)}else if("documentRemove"in e){e.documentRemove;const _e=e.documentRemove;_e.document;const Ee=fromName(t,_e.document),Se=_e.removedTargetIds||[];xe=new __PRIVATE_DocumentWatchChange([],Se,Ee,null)}else{if(!("filter"in e))return fail(11601,{Vt:e});{e.filter;const _e=e.filter;_e.targetId;const{count:Ee=0,unchangedNames:Se}=_e,Ae=new ExistenceFilter(Ee,Se),Re=_e.targetId;xe=new __PRIVATE_ExistenceFilterChange(Re,Ae)}}return xe}function toMutation(t,e){let xe;if(e instanceof __PRIVATE_SetMutation)xe={update:__PRIVATE_toMutationDocument(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)xe={delete:__PRIVATE_toName(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)xe={update:__PRIVATE_toMutationDocument(t,e.key,e.data),updateMask:__PRIVATE_toDocumentMask(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return fail(16599,{ft:e.type});xe={verify:__PRIVATE_toName(t,e.key)}}return e.fieldTransforms.length>0&&(xe.updateTransforms=e.fieldTransforms.map(_e=>function(Se,Ae){const Re=Ae.transform;if(Re instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:Ae.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Re instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:Ae.field.canonicalString(),appendMissingElements:{values:Re.elements}};if(Re instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:Ae.field.canonicalString(),removeAllFromArray:{values:Re.elements}};if(Re instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:Ae.field.canonicalString(),increment:Re.Re};throw fail(20930,{transform:Ae.transform})}(0,_e))),e.precondition.isNone||(xe.currentDocument=function(Ee,Se){return Se.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(Ee,Se.updateTime)}:Se.exists!==void 0?{exists:Se.exists}:fail(27497)}(t,e.precondition)),xe}function __PRIVATE_fromWriteResults(t,e){return t&&t.length>0?(__PRIVATE_hardAssert(e!==void 0,14353),t.map(xe=>function(Ee,Se){let Ae=Ee.updateTime?__PRIVATE_fromVersion(Ee.updateTime):__PRIVATE_fromVersion(Se);return Ae.isEqual(SnapshotVersion.min())&&(Ae=__PRIVATE_fromVersion(Se)),new MutationResult(Ae,Ee.transformResults||[])}(xe,e))):[]}function __PRIVATE_toDocumentsTarget(t,e){return{documents:[__PRIVATE_toQueryPath(t,e.path)]}}function __PRIVATE_toQueryTarget(t,e){const xe={structuredQuery:{}},_e=e.path;let Ee;e.collectionGroup!==null?(Ee=_e,xe.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Ee=_e.popLast(),xe.structuredQuery.from=[{collectionId:_e.lastSegment()}]),xe.parent=__PRIVATE_toQueryPath(t,Ee);const Se=function(Te){if(Te.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Te,"and"))}(e.filters);Se&&(xe.structuredQuery.where=Se);const Ae=function(Te){if(Te.length!==0)return Te.map(Ie=>function(Oe){return{field:__PRIVATE_toFieldPathReference(Oe.field),direction:__PRIVATE_toDirection(Oe.dir)}}(Ie))}(e.orderBy);Ae&&(xe.structuredQuery.orderBy=Ae);const Re=__PRIVATE_toInt32Proto(t,e.limit);return Re!==null&&(xe.structuredQuery.limit=Re),e.startAt&&(xe.structuredQuery.startAt=function(Te){return{before:Te.inclusive,values:Te.position}}(e.startAt)),e.endAt&&(xe.structuredQuery.endAt=function(Te){return{before:!Te.inclusive,values:Te.position}}(e.endAt)),{gt:xe,parent:Ee}}function __PRIVATE_convertQueryTargetToQuery(t){let e=__PRIVATE_fromQueryPath(t.parent);const xe=t.structuredQuery,_e=xe.from?xe.from.length:0;let Ee=null;if(_e>0){__PRIVATE_hardAssert(_e===1,65062);const Ie=xe.from[0];Ie.allDescendants?Ee=Ie.collectionId:e=e.child(Ie.collectionId)}let Se=[];xe.where&&(Se=function(je){const Oe=__PRIVATE_fromFilter(je);return Oe instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Oe)?Oe.getFilters():[Oe]}(xe.where));let Ae=[];xe.orderBy&&(Ae=function(je){return je.map(Oe=>function(Fe){return new OrderBy(__PRIVATE_fromFieldPathReference(Fe.field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction))}(Oe))}(xe.orderBy));let Re=null;xe.limit&&(Re=function(je){let Oe;return Oe=typeof je=="object"?je.value:je,__PRIVATE_isNullOrUndefined(Oe)?null:Oe}(xe.limit));let Pe=null;xe.startAt&&(Pe=function(je){const Oe=!!je.before,ke=je.values||[];return new Bound(ke,Oe)}(xe.startAt));let Te=null;return xe.endAt&&(Te=function(je){const Oe=!je.before,ke=je.values||[];return new Bound(ke,Oe)}(xe.endAt)),__PRIVATE_newQuery(e,Ee,Ae,Se,Re,"F",Pe,Te)}function __PRIVATE_toListenRequestLabels(t,e){const xe=function(Ee){switch(Ee){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail(28987,{purpose:Ee})}}(e.purpose);return xe==null?null:{"goog-listen-tags":xe}}function __PRIVATE_fromFilter(t){return t.unaryFilter!==void 0?function(xe){switch(xe.unaryFilter.op){case"IS_NAN":const _e=__PRIVATE_fromFieldPathReference(xe.unaryFilter.field);return FieldFilter.create(_e,"==",{doubleValue:NaN});case"IS_NULL":const Ee=__PRIVATE_fromFieldPathReference(xe.unaryFilter.field);return FieldFilter.create(Ee,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Se=__PRIVATE_fromFieldPathReference(xe.unaryFilter.field);return FieldFilter.create(Se,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const Ae=__PRIVATE_fromFieldPathReference(xe.unaryFilter.field);return FieldFilter.create(Ae,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fail(61313);default:return fail(60726)}}(t):t.fieldFilter!==void 0?function(xe){return FieldFilter.create(__PRIVATE_fromFieldPathReference(xe.fieldFilter.field),function(Ee){switch(Ee){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fail(58110);default:return fail(50506)}}(xe.fieldFilter.op),xe.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(xe){return CompositeFilter.create(xe.compositeFilter.filters.map(_e=>__PRIVATE_fromFilter(_e)),function(Ee){switch(Ee){case"AND":return"and";case"OR":return"or";default:return fail(1026)}}(xe.compositeFilter.op))}(t):fail(30097,{filter:t})}function __PRIVATE_toDirection(t){return wt$1[t]}function __PRIVATE_toOperatorName(t){return St[t]}function __PRIVATE_toCompositeOperatorName(t){return bt$1[t]}function __PRIVATE_toFieldPathReference(t){return{fieldPath:t.canonicalString()}}function __PRIVATE_fromFieldPathReference(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function __PRIVATE_toFilter(t){return t instanceof FieldFilter?function(xe){if(xe.op==="=="){if(__PRIVATE_isNanValue(xe.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(xe.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(xe.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(xe.field),op:"IS_NULL"}}}else if(xe.op==="!="){if(__PRIVATE_isNanValue(xe.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(xe.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(xe.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(xe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(xe.field),op:__PRIVATE_toOperatorName(xe.op),value:xe.value}}}(t):t instanceof CompositeFilter?function(xe){const _e=xe.getFilters().map(Ee=>__PRIVATE_toFilter(Ee));return _e.length===1?_e[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(xe.op),filters:_e}}}(t):fail(54877,{filter:t})}function __PRIVATE_toDocumentMask(t){const e=[];return t.fields.forEach(xe=>e.push(xe.canonicalString())),{fieldPaths:e}}function __PRIVATE_isValidResourceName(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,xe,_e,Ee,Se=SnapshotVersion.min(),Ae=SnapshotVersion.min(),Re=ByteString.EMPTY_BYTE_STRING,Pe=null){this.target=e,this.targetId=xe,this.purpose=_e,this.sequenceNumber=Ee,this.snapshotVersion=Se,this.lastLimboFreeSnapshotVersion=Ae,this.resumeToken=Re,this.expectedCount=Pe}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,xe){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,xe,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.wt=e}}function __PRIVATE_fromBundledQuery(t){const e=__PRIVATE_convertQueryTargetToQuery({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.Cn=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,xe){return this.Cn.add(xe),PersistencePromise.resolve()}getCollectionParents(e,xe){return PersistencePromise.resolve(this.Cn.getEntries(xe))}addFieldIndex(e,xe){return PersistencePromise.resolve()}deleteFieldIndex(e,xe){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,xe){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,xe){return PersistencePromise.resolve(null)}getIndexType(e,xe){return PersistencePromise.resolve(0)}getFieldIndexes(e,xe){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,xe){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,xe){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,xe,_e){return PersistencePromise.resolve()}updateIndexEntries(e,xe){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const xe=e.lastSegment(),_e=e.popLast(),Ee=this.index[xe]||new SortedSet(ResourcePath.comparator),Se=!Ee.has(_e);return this.index[xe]=Ee.add(_e),Se}has(e){const xe=e.lastSegment(),_e=e.popLast(),Ee=this.index[xe];return Ee&&Ee.has(_e)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft$1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mt$1=41943040;class LruParams{static withCacheSize(e){return new LruParams(e,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,xe,_e){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=xe,this.maximumSequenceNumbersToCollect=_e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(Mt$1,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new __PRIVATE_TargetIdGenerator(0)}static lr(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt$1="LruGarbageCollector",Ot$1=1048576;function __PRIVATE_bufferEntryComparator([t,e],[xe,_e]){const Ee=__PRIVATE_primitiveComparator(t,xe);return Ee===0?__PRIVATE_primitiveComparator(e,_e):Ee}class __PRIVATE_RollingSequenceNumberBuffer{constructor(e){this.Er=e,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.dr=0}Ar(){return++this.dr}Rr(e){const xe=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(xe);else{const _e=this.buffer.last();__PRIVATE_bufferEntryComparator(xe,_e)<0&&(this.buffer=this.buffer.delete(_e).add(xe))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(e,xe,_e){this.garbageCollector=e,this.asyncQueue=xe,this.localStore=_e,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){__PRIVATE_logDebug(xt$1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(xe){__PRIVATE_isIndexedDbTransactionError(xe)?__PRIVATE_logDebug(xt$1,"Ignoring IndexedDB error during garbage collection: ",xe):await __PRIVATE_ignoreIfPrimaryLeaseLoss(xe)}await this.mr(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(e,xe){this.gr=e,this.params=xe}calculateTargetCount(e,xe){return this.gr.pr(e).next(_e=>Math.floor(xe/100*_e))}nthSequenceNumber(e,xe){if(xe===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence.le);const _e=new __PRIVATE_RollingSequenceNumberBuffer(xe);return this.gr.forEachTarget(e,Ee=>_e.Rr(Ee.sequenceNumber)).next(()=>this.gr.yr(e,Ee=>_e.Rr(Ee))).next(()=>_e.maxValue)}removeTargets(e,xe,_e){return this.gr.removeTargets(e,xe,_e)}removeOrphanedDocuments(e,xe){return this.gr.removeOrphanedDocuments(e,xe)}collect(e,xe){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ft$1)):this.getCacheSize(e).next(_e=>_e<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${_e} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ft$1):this.wr(e,xe))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,xe){let _e,Ee,Se,Ae,Re,Pe,Te;const Ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),Ee=this.params.maximumSequenceNumbersToCollect):Ee=je,Ae=Date.now(),this.nthSequenceNumber(e,Ee))).next(je=>(_e=je,Re=Date.now(),this.removeTargets(e,_e,xe))).next(je=>(Se=je,Pe=Date.now(),this.removeOrphanedDocuments(e,_e))).next(je=>(Te=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${Ae-Ie}ms
	Determined least recently used ${Ee} in `+(Re-Ae)+`ms
	Removed ${Se} targets in `+(Pe-Re)+`ms
	Removed ${je} documents in `+(Te-Pe)+`ms
Total Duration: ${Te-Ie}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:Ee,targetsRemoved:Se,documentsRemoved:je})))}}function __PRIVATE_newLruGarbageCollector(t,e){return new __PRIVATE_LruGarbageCollectorImpl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,xe)=>e.isEqual(xe)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,xe){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(xe))}getEntry(e,xe){this.assertNotApplied();const _e=this.changes.get(xe);return _e!==void 0?PersistencePromise.resolve(_e):this.getFromCache(e,xe)}getEntries(e,xe){return this.getAllFromCache(e,xe)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,xe){this.overlayedDocument=e,this.mutatedFields=xe}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,xe,_e,Ee){this.remoteDocumentCache=e,this.mutationQueue=xe,this.documentOverlayCache=_e,this.indexManager=Ee}getDocument(e,xe){let _e=null;return this.documentOverlayCache.getOverlay(e,xe).next(Ee=>(_e=Ee,this.remoteDocumentCache.getEntry(e,xe))).next(Ee=>(_e!==null&&__PRIVATE_mutationApplyToLocalView(_e.mutation,Ee,FieldMask.empty(),Timestamp.now()),Ee))}getDocuments(e,xe){return this.remoteDocumentCache.getEntries(e,xe).next(_e=>this.getLocalViewOfDocuments(e,_e,__PRIVATE_documentKeySet()).next(()=>_e))}getLocalViewOfDocuments(e,xe,_e=__PRIVATE_documentKeySet()){const Ee=__PRIVATE_newOverlayMap();return this.populateOverlays(e,Ee,xe).next(()=>this.computeViews(e,xe,Ee,_e).next(Se=>{let Ae=documentMap();return Se.forEach((Re,Pe)=>{Ae=Ae.insert(Re,Pe.overlayedDocument)}),Ae}))}getOverlayedDocuments(e,xe){const _e=__PRIVATE_newOverlayMap();return this.populateOverlays(e,_e,xe).next(()=>this.computeViews(e,xe,_e,__PRIVATE_documentKeySet()))}populateOverlays(e,xe,_e){const Ee=[];return _e.forEach(Se=>{xe.has(Se)||Ee.push(Se)}),this.documentOverlayCache.getOverlays(e,Ee).next(Se=>{Se.forEach((Ae,Re)=>{xe.set(Ae,Re)})})}computeViews(e,xe,_e,Ee){let Se=__PRIVATE_mutableDocumentMap();const Ae=__PRIVATE_newDocumentKeyMap(),Re=function(){return __PRIVATE_newDocumentKeyMap()}();return xe.forEach((Pe,Te)=>{const Ie=_e.get(Te.key);Ee.has(Te.key)&&(Ie===void 0||Ie.mutation instanceof __PRIVATE_PatchMutation)?Se=Se.insert(Te.key,Te):Ie!==void 0?(Ae.set(Te.key,Ie.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(Ie.mutation,Te,Ie.mutation.getFieldMask(),Timestamp.now())):Ae.set(Te.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,Se).next(Pe=>(Pe.forEach((Te,Ie)=>Ae.set(Te,Ie)),xe.forEach((Te,Ie)=>{var je;return Re.set(Te,new OverlayedDocument(Ie,(je=Ae.get(Te))!==null&&je!==void 0?je:null))}),Re))}recalculateAndSaveOverlays(e,xe){const _e=__PRIVATE_newDocumentKeyMap();let Ee=new SortedMap((Ae,Re)=>Ae-Re),Se=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,xe).next(Ae=>{for(const Re of Ae)Re.keys().forEach(Pe=>{const Te=xe.get(Pe);if(Te===null)return;let Ie=_e.get(Pe)||FieldMask.empty();Ie=Re.applyToLocalView(Te,Ie),_e.set(Pe,Ie);const je=(Ee.get(Re.batchId)||__PRIVATE_documentKeySet()).add(Pe);Ee=Ee.insert(Re.batchId,je)})}).next(()=>{const Ae=[],Re=Ee.getReverseIterator();for(;Re.hasNext();){const Pe=Re.getNext(),Te=Pe.key,Ie=Pe.value,je=__PRIVATE_newMutationMap();Ie.forEach(Oe=>{if(!Se.has(Oe)){const ke=__PRIVATE_calculateOverlayMutation(xe.get(Oe),_e.get(Oe));ke!==null&&je.set(Oe,ke),Se=Se.add(Oe)}}),Ae.push(this.documentOverlayCache.saveOverlays(e,Te,je))}return PersistencePromise.waitFor(Ae)}).next(()=>_e)}recalculateAndSaveOverlaysForDocumentKeys(e,xe){return this.remoteDocumentCache.getEntries(e,xe).next(_e=>this.recalculateAndSaveOverlays(e,_e))}getDocumentsMatchingQuery(e,xe,_e,Ee){return function(Ae){return DocumentKey.isDocumentKey(Ae.path)&&Ae.collectionGroup===null&&Ae.filters.length===0}(xe)?this.getDocumentsMatchingDocumentQuery(e,xe.path):__PRIVATE_isCollectionGroupQuery(xe)?this.getDocumentsMatchingCollectionGroupQuery(e,xe,_e,Ee):this.getDocumentsMatchingCollectionQuery(e,xe,_e,Ee)}getNextDocuments(e,xe,_e,Ee){return this.remoteDocumentCache.getAllFromCollectionGroup(e,xe,_e,Ee).next(Se=>{const Ae=Ee-Se.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,xe,_e.largestBatchId,Ee-Se.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let Re=Q$1,Pe=Se;return Ae.next(Te=>PersistencePromise.forEach(Te,(Ie,je)=>(Re<je.largestBatchId&&(Re=je.largestBatchId),Se.get(Ie)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,Ie).next(Oe=>{Pe=Pe.insert(Ie,Oe)}))).next(()=>this.populateOverlays(e,Te,Se)).next(()=>this.computeViews(e,Pe,Te,__PRIVATE_documentKeySet())).next(Ie=>({batchId:Re,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(Ie)})))})}getDocumentsMatchingDocumentQuery(e,xe){return this.getDocument(e,new DocumentKey(xe)).next(_e=>{let Ee=documentMap();return _e.isFoundDocument()&&(Ee=Ee.insert(_e.key,_e)),Ee})}getDocumentsMatchingCollectionGroupQuery(e,xe,_e,Ee){const Se=xe.collectionGroup;let Ae=documentMap();return this.indexManager.getCollectionParents(e,Se).next(Re=>PersistencePromise.forEach(Re,Pe=>{const Te=function(je,Oe){return new __PRIVATE_QueryImpl(Oe,null,je.explicitOrderBy.slice(),je.filters.slice(),je.limit,je.limitType,je.startAt,je.endAt)}(xe,Pe.child(Se));return this.getDocumentsMatchingCollectionQuery(e,Te,_e,Ee).next(Ie=>{Ie.forEach((je,Oe)=>{Ae=Ae.insert(je,Oe)})})}).next(()=>Ae))}getDocumentsMatchingCollectionQuery(e,xe,_e,Ee){let Se;return this.documentOverlayCache.getOverlaysForCollection(e,xe.path,_e.largestBatchId).next(Ae=>(Se=Ae,this.remoteDocumentCache.getDocumentsMatchingQuery(e,xe,_e,Se,Ee))).next(Ae=>{Se.forEach((Pe,Te)=>{const Ie=Te.getKey();Ae.get(Ie)===null&&(Ae=Ae.insert(Ie,MutableDocument.newInvalidDocument(Ie)))});let Re=documentMap();return Ae.forEach((Pe,Te)=>{const Ie=Se.get(Pe);Ie!==void 0&&__PRIVATE_mutationApplyToLocalView(Ie.mutation,Te,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(xe,Te)&&(Re=Re.insert(Pe,Te))}),Re})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,xe){return PersistencePromise.resolve(this.kr.get(xe))}saveBundleMetadata(e,xe){return this.kr.set(xe.id,function(Ee){return{id:Ee.id,version:Ee.version,createTime:__PRIVATE_fromVersion(Ee.createTime)}}(xe)),PersistencePromise.resolve()}getNamedQuery(e,xe){return PersistencePromise.resolve(this.qr.get(xe))}saveNamedQuery(e,xe){return this.qr.set(xe.name,function(Ee){return{name:Ee.name,query:__PRIVATE_fromBundledQuery(Ee.bundledQuery),readTime:__PRIVATE_fromVersion(Ee.readTime)}}(xe)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Qr=new Map}getOverlay(e,xe){return PersistencePromise.resolve(this.overlays.get(xe))}getOverlays(e,xe){const _e=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(xe,Ee=>this.getOverlay(e,Ee).next(Se=>{Se!==null&&_e.set(Ee,Se)})).next(()=>_e)}saveOverlays(e,xe,_e){return _e.forEach((Ee,Se)=>{this.bt(e,xe,Se)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,xe,_e){const Ee=this.Qr.get(_e);return Ee!==void 0&&(Ee.forEach(Se=>this.overlays=this.overlays.remove(Se)),this.Qr.delete(_e)),PersistencePromise.resolve()}getOverlaysForCollection(e,xe,_e){const Ee=__PRIVATE_newOverlayMap(),Se=xe.length+1,Ae=new DocumentKey(xe.child("")),Re=this.overlays.getIteratorFrom(Ae);for(;Re.hasNext();){const Pe=Re.getNext().value,Te=Pe.getKey();if(!xe.isPrefixOf(Te.path))break;Te.path.length===Se&&Pe.largestBatchId>_e&&Ee.set(Pe.getKey(),Pe)}return PersistencePromise.resolve(Ee)}getOverlaysForCollectionGroup(e,xe,_e,Ee){let Se=new SortedMap((Te,Ie)=>Te-Ie);const Ae=this.overlays.getIterator();for(;Ae.hasNext();){const Te=Ae.getNext().value;if(Te.getKey().getCollectionGroup()===xe&&Te.largestBatchId>_e){let Ie=Se.get(Te.largestBatchId);Ie===null&&(Ie=__PRIVATE_newOverlayMap(),Se=Se.insert(Te.largestBatchId,Ie)),Ie.set(Te.getKey(),Te)}}const Re=__PRIVATE_newOverlayMap(),Pe=Se.getIterator();for(;Pe.hasNext()&&(Pe.getNext().value.forEach((Te,Ie)=>Re.set(Te,Ie)),!(Re.size()>=Ee)););return PersistencePromise.resolve(Re)}bt(e,xe,_e){const Ee=this.overlays.get(_e.key);if(Ee!==null){const Ae=this.Qr.get(Ee.largestBatchId).delete(_e.key);this.Qr.set(Ee.largestBatchId,Ae)}this.overlays=this.overlays.insert(_e.key,new Overlay(xe,_e));let Se=this.Qr.get(xe);Se===void 0&&(Se=__PRIVATE_documentKeySet(),this.Qr.set(xe,Se)),this.Qr.set(xe,Se.add(_e.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,xe){return this.sessionToken=xe,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.$r=new SortedSet(__PRIVATE_DocReference.Ur),this.Kr=new SortedSet(__PRIVATE_DocReference.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,xe){const _e=new __PRIVATE_DocReference(e,xe);this.$r=this.$r.add(_e),this.Kr=this.Kr.add(_e)}Gr(e,xe){e.forEach(_e=>this.addReference(_e,xe))}removeReference(e,xe){this.zr(new __PRIVATE_DocReference(e,xe))}jr(e,xe){e.forEach(_e=>this.removeReference(_e,xe))}Hr(e){const xe=new DocumentKey(new ResourcePath([])),_e=new __PRIVATE_DocReference(xe,e),Ee=new __PRIVATE_DocReference(xe,e+1),Se=[];return this.Kr.forEachInRange([_e,Ee],Ae=>{this.zr(Ae),Se.push(Ae.key)}),Se}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const xe=new DocumentKey(new ResourcePath([])),_e=new __PRIVATE_DocReference(xe,e),Ee=new __PRIVATE_DocReference(xe,e+1);let Se=__PRIVATE_documentKeySet();return this.Kr.forEachInRange([_e,Ee],Ae=>{Se=Se.add(Ae.key)}),Se}containsKey(e){const xe=new __PRIVATE_DocReference(e,0),_e=this.$r.firstAfterOrEqual(xe);return _e!==null&&e.isEqual(_e.key)}}class __PRIVATE_DocReference{constructor(e,xe){this.key=e,this.Zr=xe}static Ur(e,xe){return DocumentKey.comparator(e.key,xe.key)||__PRIVATE_primitiveComparator(e.Zr,xe.Zr)}static Wr(e,xe){return __PRIVATE_primitiveComparator(e.Zr,xe.Zr)||DocumentKey.comparator(e.key,xe.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,xe){this.indexManager=e,this.referenceDelegate=xe,this.mutationQueue=[],this.nr=1,this.Xr=new SortedSet(__PRIVATE_DocReference.Ur)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,xe,_e,Ee){const Se=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Ae=new MutationBatch(Se,xe,_e,Ee);this.mutationQueue.push(Ae);for(const Re of Ee)this.Xr=this.Xr.add(new __PRIVATE_DocReference(Re.key,Se)),this.indexManager.addToCollectionParentIndex(e,Re.key.path.popLast());return PersistencePromise.resolve(Ae)}lookupMutationBatch(e,xe){return PersistencePromise.resolve(this.ei(xe))}getNextMutationBatchAfterBatchId(e,xe){const _e=xe+1,Ee=this.ti(_e),Se=Ee<0?0:Ee;return PersistencePromise.resolve(this.mutationQueue.length>Se?this.mutationQueue[Se]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?G$1:this.nr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,xe){const _e=new __PRIVATE_DocReference(xe,0),Ee=new __PRIVATE_DocReference(xe,Number.POSITIVE_INFINITY),Se=[];return this.Xr.forEachInRange([_e,Ee],Ae=>{const Re=this.ei(Ae.Zr);Se.push(Re)}),PersistencePromise.resolve(Se)}getAllMutationBatchesAffectingDocumentKeys(e,xe){let _e=new SortedSet(__PRIVATE_primitiveComparator);return xe.forEach(Ee=>{const Se=new __PRIVATE_DocReference(Ee,0),Ae=new __PRIVATE_DocReference(Ee,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([Se,Ae],Re=>{_e=_e.add(Re.Zr)})}),PersistencePromise.resolve(this.ni(_e))}getAllMutationBatchesAffectingQuery(e,xe){const _e=xe.path,Ee=_e.length+1;let Se=_e;DocumentKey.isDocumentKey(Se)||(Se=Se.child(""));const Ae=new __PRIVATE_DocReference(new DocumentKey(Se),0);let Re=new SortedSet(__PRIVATE_primitiveComparator);return this.Xr.forEachWhile(Pe=>{const Te=Pe.key.path;return!!_e.isPrefixOf(Te)&&(Te.length===Ee&&(Re=Re.add(Pe.Zr)),!0)},Ae),PersistencePromise.resolve(this.ni(Re))}ni(e){const xe=[];return e.forEach(_e=>{const Ee=this.ei(_e);Ee!==null&&xe.push(Ee)}),xe}removeMutationBatch(e,xe){__PRIVATE_hardAssert(this.ri(xe.batchId,"removed")===0,55003),this.mutationQueue.shift();let _e=this.Xr;return PersistencePromise.forEach(xe.mutations,Ee=>{const Se=new __PRIVATE_DocReference(Ee.key,xe.batchId);return _e=_e.delete(Se),this.referenceDelegate.markPotentiallyOrphaned(e,Ee.key)}).next(()=>{this.Xr=_e})}sr(e){}containsKey(e,xe){const _e=new __PRIVATE_DocReference(xe,0),Ee=this.Xr.firstAfterOrEqual(_e);return PersistencePromise.resolve(xe.isEqual(Ee&&Ee.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}ri(e,xe){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const xe=this.ti(e);return xe<0||xe>=this.mutationQueue.length?null:this.mutationQueue[xe]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.ii=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,xe){const _e=xe.key,Ee=this.docs.get(_e),Se=Ee?Ee.size:0,Ae=this.ii(xe);return this.docs=this.docs.insert(_e,{document:xe.mutableCopy(),size:Ae}),this.size+=Ae-Se,this.indexManager.addToCollectionParentIndex(e,_e.path.popLast())}removeEntry(e){const xe=this.docs.get(e);xe&&(this.docs=this.docs.remove(e),this.size-=xe.size)}getEntry(e,xe){const _e=this.docs.get(xe);return PersistencePromise.resolve(_e?_e.document.mutableCopy():MutableDocument.newInvalidDocument(xe))}getEntries(e,xe){let _e=__PRIVATE_mutableDocumentMap();return xe.forEach(Ee=>{const Se=this.docs.get(Ee);_e=_e.insert(Ee,Se?Se.document.mutableCopy():MutableDocument.newInvalidDocument(Ee))}),PersistencePromise.resolve(_e)}getDocumentsMatchingQuery(e,xe,_e,Ee){let Se=__PRIVATE_mutableDocumentMap();const Ae=xe.path,Re=new DocumentKey(Ae.child("__id-9223372036854775808__")),Pe=this.docs.getIteratorFrom(Re);for(;Pe.hasNext();){const{key:Te,value:{document:Ie}}=Pe.getNext();if(!Ae.isPrefixOf(Te.path))break;Te.path.length>Ae.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(Ie),_e)<=0||(Ee.has(Ie.key)||__PRIVATE_queryMatches(xe,Ie))&&(Se=Se.insert(Ie.key,Ie.mutableCopy()))}return PersistencePromise.resolve(Se)}getAllFromCollectionGroup(e,xe,_e,Ee){fail(9500)}si(e,xe){return PersistencePromise.forEach(this.docs,_e=>xe(_e))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.Br=e}applyChanges(e){const xe=[];return this.changes.forEach((_e,Ee)=>{Ee.isValidDocument()?xe.push(this.Br.addEntry(e,Ee)):this.Br.removeEntry(_e)}),PersistencePromise.waitFor(xe)}getFromCache(e,xe){return this.Br.getEntry(e,xe)}getAllFromCache(e,xe){return this.Br.getEntries(e,xe)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.oi=new ObjectMap(xe=>__PRIVATE_canonifyTarget(xe),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this._i=0,this.ai=new __PRIVATE_ReferenceSet,this.targetCount=0,this.ui=__PRIVATE_TargetIdGenerator.cr()}forEachTarget(e,xe){return this.oi.forEach((_e,Ee)=>xe(Ee)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,xe,_e){return _e&&(this.lastRemoteSnapshotVersion=_e),xe>this._i&&(this._i=xe),PersistencePromise.resolve()}Tr(e){this.oi.set(e.target,e);const xe=e.targetId;xe>this.highestTargetId&&(this.ui=new __PRIVATE_TargetIdGenerator(xe),this.highestTargetId=xe),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,xe){return this.Tr(xe),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,xe){return this.Tr(xe),PersistencePromise.resolve()}removeTargetData(e,xe){return this.oi.delete(xe.target),this.ai.Hr(xe.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,xe,_e){let Ee=0;const Se=[];return this.oi.forEach((Ae,Re)=>{Re.sequenceNumber<=xe&&_e.get(Re.targetId)===null&&(this.oi.delete(Ae),Se.push(this.removeMatchingKeysForTargetId(e,Re.targetId)),Ee++)}),PersistencePromise.waitFor(Se).next(()=>Ee)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,xe){const _e=this.oi.get(xe)||null;return PersistencePromise.resolve(_e)}addMatchingKeys(e,xe,_e){return this.ai.Gr(xe,_e),PersistencePromise.resolve()}removeMatchingKeys(e,xe,_e){this.ai.jr(xe,_e);const Ee=this.persistence.referenceDelegate,Se=[];return Ee&&xe.forEach(Ae=>{Se.push(Ee.markPotentiallyOrphaned(e,Ae))}),PersistencePromise.waitFor(Se)}removeMatchingKeysForTargetId(e,xe){return this.ai.Hr(xe),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,xe){const _e=this.ai.Yr(xe);return PersistencePromise.resolve(_e)}containsKey(e,xe){return PersistencePromise.resolve(this.ai.containsKey(xe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,xe){this.ci={},this.overlays={},this.li=new __PRIVATE_ListenSequence(0),this.hi=!1,this.hi=!0,this.Pi=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ti=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(Ee){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(Ee)}(_e=>this.referenceDelegate.Ii(_e)),this.serializer=new __PRIVATE_LocalSerializer(xe),this.Ei=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let xe=this.overlays[e.toKey()];return xe||(xe=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=xe),xe}getMutationQueue(e,xe){let _e=this.ci[e.toKey()];return _e||(_e=new __PRIVATE_MemoryMutationQueue(xe,this.referenceDelegate),this.ci[e.toKey()]=_e),_e}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,xe,_e){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const Ee=new __PRIVATE_MemoryTransaction(this.li.next());return this.referenceDelegate.di(),_e(Ee).next(Se=>this.referenceDelegate.Ai(Ee).next(()=>Se)).toPromise().then(Se=>(Ee.raiseOnCommittedEvent(),Se))}Ri(e,xe){return PersistencePromise.or(Object.values(this.ci).map(_e=>()=>_e.containsKey(e,xe)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Vi=new __PRIVATE_ReferenceSet,this.mi=null}static fi(e){return new __PRIVATE_MemoryEagerDelegate(e)}get gi(){if(this.mi)return this.mi;throw fail(60996)}addReference(e,xe,_e){return this.Vi.addReference(_e,xe),this.gi.delete(_e.toString()),PersistencePromise.resolve()}removeReference(e,xe,_e){return this.Vi.removeReference(_e,xe),this.gi.add(_e.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,xe){return this.gi.add(xe.toString()),PersistencePromise.resolve()}removeTarget(e,xe){this.Vi.Hr(xe.targetId).forEach(Ee=>this.gi.add(Ee.toString()));const _e=this.persistence.getTargetCache();return _e.getMatchingKeysForTargetId(e,xe.targetId).next(Ee=>{Ee.forEach(Se=>this.gi.add(Se.toString()))}).next(()=>_e.removeTargetData(e,xe))}di(){this.mi=new Set}Ai(e){const xe=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.gi,_e=>{const Ee=DocumentKey.fromPath(_e);return this.pi(e,Ee).next(Se=>{Se||xe.removeEntry(Ee,SnapshotVersion.min())})}).next(()=>(this.mi=null,xe.apply(e)))}updateLimboDocument(e,xe){return this.pi(e,xe).next(_e=>{_e?this.gi.delete(xe.toString()):this.gi.add(xe.toString())})}Ii(e){return 0}pi(e,xe){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Vi.containsKey(xe)),()=>this.persistence.getTargetCache().containsKey(e,xe),()=>this.persistence.Ri(e,xe)])}}class __PRIVATE_MemoryLruDelegate{constructor(e,xe){this.persistence=e,this.yi=new ObjectMap(_e=>__PRIVATE_encodeResourcePath(_e.path),(_e,Ee)=>_e.isEqual(Ee)),this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,xe)}static fi(e,xe){return new __PRIVATE_MemoryLruDelegate(e,xe)}di(){}Ai(e){return PersistencePromise.resolve()}forEachTarget(e,xe){return this.persistence.getTargetCache().forEachTarget(e,xe)}pr(e){const xe=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(_e=>xe.next(Ee=>_e+Ee))}Sr(e){let xe=0;return this.yr(e,_e=>{xe++}).next(()=>xe)}yr(e,xe){return PersistencePromise.forEach(this.yi,(_e,Ee)=>this.Dr(e,_e,Ee).next(Se=>Se?PersistencePromise.resolve():xe(Ee)))}removeTargets(e,xe,_e){return this.persistence.getTargetCache().removeTargets(e,xe,_e)}removeOrphanedDocuments(e,xe){let _e=0;const Ee=this.persistence.getRemoteDocumentCache(),Se=Ee.newChangeBuffer();return Ee.si(e,Ae=>this.Dr(e,Ae,xe).next(Re=>{Re||(_e++,Se.removeEntry(Ae,SnapshotVersion.min()))})).next(()=>Se.apply(e)).next(()=>_e)}markPotentiallyOrphaned(e,xe){return this.yi.set(xe,e.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(e,xe){const _e=xe.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,_e)}addReference(e,xe,_e){return this.yi.set(_e,e.currentSequenceNumber),PersistencePromise.resolve()}removeReference(e,xe,_e){return this.yi.set(_e,e.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(e,xe){return this.yi.set(xe,e.currentSequenceNumber),PersistencePromise.resolve()}Ii(e){let xe=e.key.toString().length;return e.isFoundDocument()&&(xe+=__PRIVATE_estimateByteSize(e.data.value)),xe}Dr(e,xe,_e){return PersistencePromise.or([()=>this.persistence.Ri(e,xe),()=>this.persistence.getTargetCache().containsKey(e,xe),()=>{const Ee=this.yi.get(xe);return PersistencePromise.resolve(Ee!==void 0&&Ee>_e)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,xe,_e,Ee){this.targetId=e,this.fromCache=xe,this.ds=_e,this.As=Ee}static Rs(e,xe){let _e=__PRIVATE_documentKeySet(),Ee=__PRIVATE_documentKeySet();for(const Se of xe.docChanges)switch(Se.type){case 0:_e=_e.add(Se.doc.key);break;case 1:Ee=Ee.add(Se.doc.key)}return new __PRIVATE_LocalViewChanges(e,xe.fromCache,_e,Ee)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,xe){this.ys=e,this.indexManager=xe,this.Vs=!0}getDocumentsMatchingQuery(e,xe,_e,Ee){const Se={result:null};return this.ws(e,xe).next(Ae=>{Se.result=Ae}).next(()=>{if(!Se.result)return this.Ss(e,xe,Ee,_e).next(Ae=>{Se.result=Ae})}).next(()=>{if(Se.result)return;const Ae=new QueryContext;return this.bs(e,xe,Ae).next(Re=>{if(Se.result=Re,this.fs)return this.Ds(e,xe,Ae,Re.size)})}).next(()=>Se.result)}Ds(e,xe,_e,Ee){return _e.documentReadCount<this.gs?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(xe),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(xe),"scans",_e.documentReadCount,"local documents and returns",Ee,"documents as results."),_e.documentReadCount>this.ps*Ee?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(xe),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(xe))):PersistencePromise.resolve())}ws(e,xe){if(__PRIVATE_queryMatchesAllDocuments(xe))return PersistencePromise.resolve(null);let _e=__PRIVATE_queryToTarget(xe);return this.indexManager.getIndexType(e,_e).next(Ee=>Ee===0?null:(xe.limit!==null&&Ee===1&&(xe=__PRIVATE_queryWithLimit(xe,null,"F"),_e=__PRIVATE_queryToTarget(xe)),this.indexManager.getDocumentsMatchingTarget(e,_e).next(Se=>{const Ae=__PRIVATE_documentKeySet(...Se);return this.ys.getDocuments(e,Ae).next(Re=>this.indexManager.getMinOffset(e,_e).next(Pe=>{const Te=this.vs(xe,Re);return this.Cs(xe,Te,Ae,Pe.readTime)?this.ws(e,__PRIVATE_queryWithLimit(xe,null,"F")):this.Fs(e,Te,xe,Pe)}))})))}Ss(e,xe,_e,Ee){return __PRIVATE_queryMatchesAllDocuments(xe)||Ee.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.ys.getDocuments(e,_e).next(Se=>{const Ae=this.vs(xe,Se);return this.Cs(xe,Ae,_e,Ee)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",Ee.toString(),__PRIVATE_stringifyQuery(xe)),this.Fs(e,Ae,xe,__PRIVATE_newIndexOffsetSuccessorFromReadTime(Ee,Q$1)).next(Re=>Re))})}vs(e,xe){let _e=new SortedSet(__PRIVATE_newQueryComparator(e));return xe.forEach((Ee,Se)=>{__PRIVATE_queryMatches(e,Se)&&(_e=_e.add(Se))}),_e}Cs(e,xe,_e,Ee){if(e.limit===null)return!1;if(_e.size!==xe.size)return!0;const Se=e.limitType==="F"?xe.last():xe.first();return!!Se&&(Se.hasPendingWrites||Se.version.compareTo(Ee)>0)}bs(e,xe,_e){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(xe)),this.ys.getDocumentsMatchingQuery(e,xe,IndexOffset.min(),_e)}Fs(e,xe,_e,Ee){return this.ys.getDocumentsMatchingQuery(e,_e,Ee).next(Se=>(xe.forEach(Ae=>{Se=Se.insert(Ae.key,Ae)}),Se))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt$1="LocalStore",$t$1=3e8;class __PRIVATE_LocalStoreImpl{constructor(e,xe,_e,Ee){this.persistence=e,this.Ms=xe,this.serializer=Ee,this.xs=new SortedMap(__PRIVATE_primitiveComparator),this.Os=new ObjectMap(Se=>__PRIVATE_canonifyTarget(Se),__PRIVATE_targetEquals),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(_e)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",xe=>e.collect(xe,this.xs))}}function __PRIVATE_newLocalStore(t,e,xe,_e){return new __PRIVATE_LocalStoreImpl(t,e,xe,_e)}async function __PRIVATE_localStoreHandleUserChange(t,e){const xe=__PRIVATE_debugCast(t);return await xe.persistence.runTransaction("Handle user change","readonly",_e=>{let Ee;return xe.mutationQueue.getAllMutationBatches(_e).next(Se=>(Ee=Se,xe.Ls(e),xe.mutationQueue.getAllMutationBatches(_e))).next(Se=>{const Ae=[],Re=[];let Pe=__PRIVATE_documentKeySet();for(const Te of Ee){Ae.push(Te.batchId);for(const Ie of Te.mutations)Pe=Pe.add(Ie.key)}for(const Te of Se){Re.push(Te.batchId);for(const Ie of Te.mutations)Pe=Pe.add(Ie.key)}return xe.localDocuments.getDocuments(_e,Pe).next(Te=>({ks:Te,removedBatchIds:Ae,addedBatchIds:Re}))})})}function __PRIVATE_localStoreAcknowledgeBatch(t,e){const xe=__PRIVATE_debugCast(t);return xe.persistence.runTransaction("Acknowledge batch","readwrite-primary",_e=>{const Ee=e.batch.keys(),Se=xe.Bs.newChangeBuffer({trackRemovals:!0});return function(Re,Pe,Te,Ie){const je=Te.batch,Oe=je.keys();let ke=PersistencePromise.resolve();return Oe.forEach(Fe=>{ke=ke.next(()=>Ie.getEntry(Pe,Fe)).next(Me=>{const De=Te.docVersions.get(Fe);__PRIVATE_hardAssert(De!==null,48541),Me.version.compareTo(De)<0&&(je.applyToRemoteDocument(Me,Te),Me.isValidDocument()&&(Me.setReadTime(Te.commitVersion),Ie.addEntry(Me)))})}),ke.next(()=>Re.mutationQueue.removeMutationBatch(Pe,je))}(xe,_e,e,Se).next(()=>Se.apply(_e)).next(()=>xe.mutationQueue.performConsistencyCheck(_e)).next(()=>xe.documentOverlayCache.removeOverlaysForBatchId(_e,Ee,e.batch.batchId)).next(()=>xe.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_e,function(Re){let Pe=__PRIVATE_documentKeySet();for(let Te=0;Te<Re.mutationResults.length;++Te)Re.mutationResults[Te].transformResults.length>0&&(Pe=Pe.add(Re.batch.mutations[Te].key));return Pe}(e))).next(()=>xe.localDocuments.getDocuments(_e,Ee))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t){const e=__PRIVATE_debugCast(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",xe=>e.Ti.getLastRemoteSnapshotVersion(xe))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(t,e){const xe=__PRIVATE_debugCast(t),_e=e.snapshotVersion;let Ee=xe.xs;return xe.persistence.runTransaction("Apply remote event","readwrite-primary",Se=>{const Ae=xe.Bs.newChangeBuffer({trackRemovals:!0});Ee=xe.xs;const Re=[];e.targetChanges.forEach((Ie,je)=>{const Oe=Ee.get(je);if(!Oe)return;Re.push(xe.Ti.removeMatchingKeys(Se,Ie.removedDocuments,je).next(()=>xe.Ti.addMatchingKeys(Se,Ie.addedDocuments,je)));let ke=Oe.withSequenceNumber(Se.currentSequenceNumber);e.targetMismatches.get(je)!==null?ke=ke.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):Ie.resumeToken.approximateByteSize()>0&&(ke=ke.withResumeToken(Ie.resumeToken,_e)),Ee=Ee.insert(je,ke),function(Me,De,Ue){return Me.resumeToken.approximateByteSize()===0||De.snapshotVersion.toMicroseconds()-Me.snapshotVersion.toMicroseconds()>=$t$1?!0:Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0}(Oe,ke,Ie)&&Re.push(xe.Ti.updateTargetData(Se,ke))});let Pe=__PRIVATE_mutableDocumentMap(),Te=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach(Ie=>{e.resolvedLimboDocuments.has(Ie)&&Re.push(xe.persistence.referenceDelegate.updateLimboDocument(Se,Ie))}),Re.push(__PRIVATE_populateDocumentChangeBuffer(Se,Ae,e.documentUpdates).next(Ie=>{Pe=Ie.qs,Te=Ie.Qs})),!_e.isEqual(SnapshotVersion.min())){const Ie=xe.Ti.getLastRemoteSnapshotVersion(Se).next(je=>xe.Ti.setTargetsMetadata(Se,Se.currentSequenceNumber,_e));Re.push(Ie)}return PersistencePromise.waitFor(Re).next(()=>Ae.apply(Se)).next(()=>xe.localDocuments.getLocalViewOfDocuments(Se,Pe,Te)).next(()=>Pe)}).then(Se=>(xe.xs=Ee,Se))}function __PRIVATE_populateDocumentChangeBuffer(t,e,xe){let _e=__PRIVATE_documentKeySet(),Ee=__PRIVATE_documentKeySet();return xe.forEach(Se=>_e=_e.add(Se)),e.getEntries(t,_e).next(Se=>{let Ae=__PRIVATE_mutableDocumentMap();return xe.forEach((Re,Pe)=>{const Te=Se.get(Re);Pe.isFoundDocument()!==Te.isFoundDocument()&&(Ee=Ee.add(Re)),Pe.isNoDocument()&&Pe.version.isEqual(SnapshotVersion.min())?(e.removeEntry(Re,Pe.readTime),Ae=Ae.insert(Re,Pe)):!Te.isValidDocument()||Pe.version.compareTo(Te.version)>0||Pe.version.compareTo(Te.version)===0&&Te.hasPendingWrites?(e.addEntry(Pe),Ae=Ae.insert(Re,Pe)):__PRIVATE_logDebug(Qt$1,"Ignoring outdated watch update for ",Re,". Current version:",Te.version," Watch version:",Pe.version)}),{qs:Ae,Qs:Ee}})}function __PRIVATE_localStoreGetNextMutationBatch(t,e){const xe=__PRIVATE_debugCast(t);return xe.persistence.runTransaction("Get next mutation batch","readonly",_e=>(e===void 0&&(e=G$1),xe.mutationQueue.getNextMutationBatchAfterBatchId(_e,e)))}function __PRIVATE_localStoreAllocateTarget(t,e){const xe=__PRIVATE_debugCast(t);return xe.persistence.runTransaction("Allocate target","readwrite",_e=>{let Ee;return xe.Ti.getTargetData(_e,e).next(Se=>Se?(Ee=Se,PersistencePromise.resolve(Ee)):xe.Ti.allocateTargetId(_e).next(Ae=>(Ee=new TargetData(e,Ae,"TargetPurposeListen",_e.currentSequenceNumber),xe.Ti.addTargetData(_e,Ee).next(()=>Ee))))}).then(_e=>{const Ee=xe.xs.get(_e.targetId);return(Ee===null||_e.snapshotVersion.compareTo(Ee.snapshotVersion)>0)&&(xe.xs=xe.xs.insert(_e.targetId,_e),xe.Os.set(e,_e.targetId)),_e})}async function __PRIVATE_localStoreReleaseTarget(t,e,xe){const _e=__PRIVATE_debugCast(t),Ee=_e.xs.get(e),Se=xe?"readwrite":"readwrite-primary";try{xe||await _e.persistence.runTransaction("Release target",Se,Ae=>_e.persistence.referenceDelegate.removeTarget(Ae,Ee))}catch(Ae){if(!__PRIVATE_isIndexedDbTransactionError(Ae))throw Ae;__PRIVATE_logDebug(Qt$1,`Failed to update sequence numbers for target ${e}: ${Ae}`)}_e.xs=_e.xs.remove(e),_e.Os.delete(Ee.target)}function __PRIVATE_localStoreExecuteQuery(t,e,xe){const _e=__PRIVATE_debugCast(t);let Ee=SnapshotVersion.min(),Se=__PRIVATE_documentKeySet();return _e.persistence.runTransaction("Execute query","readwrite",Ae=>function(Pe,Te,Ie){const je=__PRIVATE_debugCast(Pe),Oe=je.Os.get(Ie);return Oe!==void 0?PersistencePromise.resolve(je.xs.get(Oe)):je.Ti.getTargetData(Te,Ie)}(_e,Ae,__PRIVATE_queryToTarget(e)).next(Re=>{if(Re)return Ee=Re.lastLimboFreeSnapshotVersion,_e.Ti.getMatchingKeysForTargetId(Ae,Re.targetId).next(Pe=>{Se=Pe})}).next(()=>_e.Ms.getDocumentsMatchingQuery(Ae,e,xe?Ee:SnapshotVersion.min(),xe?Se:__PRIVATE_documentKeySet())).next(Re=>(__PRIVATE_setMaxReadTime(_e,__PRIVATE_queryCollectionGroup(e),Re),{documents:Re,$s:Se})))}function __PRIVATE_setMaxReadTime(t,e,xe){let _e=t.Ns.get(e)||SnapshotVersion.min();xe.forEach((Ee,Se)=>{Se.readTime.compareTo(_e)>0&&(_e=Se.readTime)}),t.Ns.set(e,_e)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.xo=new __PRIVATE_LocalClientState,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,xe,_e){}addLocalQueryTarget(e,xe=!0){return xe&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,xe,_e){this.Oo[e]=xe}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,xe,_e){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt$1="ConnectivityMonitor";class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){__PRIVATE_logDebug(zt$1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt$1=null;function __PRIVATE_generateUniqueDebugId(){return jt$1===null?jt$1=function(){return 268435456+Math.round(2147483648*Math.random())}():jt$1++,"0x"+jt$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht$1="RestConnection",Jt$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_RestConnection{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const xe=e.ssl?"https":"http",_e=encodeURIComponent(this.databaseId.projectId),Ee=encodeURIComponent(this.databaseId.database);this.Ko=xe+"://"+e.host,this.Wo=`projects/${_e}/databases/${Ee}`,this.Go=this.databaseId.database===ut$1?`project_id=${_e}`:`project_id=${_e}&database_id=${Ee}`}zo(e,xe,_e,Ee,Se){const Ae=__PRIVATE_generateUniqueDebugId(),Re=this.jo(e,xe.toUriEncodedString());__PRIVATE_logDebug(Ht$1,`Sending RPC '${e}' ${Ae}:`,Re,_e);const Pe={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(Pe,Ee,Se);const{host:Te}=new URL(Re),Ie=isCloudWorkstation(Te);return this.Jo(e,Re,Pe,_e,Ie).then(je=>(__PRIVATE_logDebug(Ht$1,`Received RPC '${e}' ${Ae}: `,je),je),je=>{throw __PRIVATE_logWarn(Ht$1,`RPC '${e}' ${Ae} failed with error: `,je,"url: ",Re,"request:",_e),je})}Yo(e,xe,_e,Ee,Se,Ae){return this.zo(e,xe,_e,Ee,Se)}Ho(e,xe,_e){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+x$3}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),xe&&xe.headers.forEach((Ee,Se)=>e[Se]=Ee),_e&&_e.headers.forEach((Ee,Se)=>e[Se]=Ee)}jo(e,xe){const _e=Jt$1[e];return`${this.Ko}/v1/${xe}:${_e}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends __PRIVATE_RestConnection{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,xe,_e,Ee,Se){const Ae=__PRIVATE_generateUniqueDebugId();return new Promise((Re,Pe)=>{const Te=new XhrIo;Te.setWithCredentials(!0),Te.listenOnce(EventType.COMPLETE,()=>{try{switch(Te.getLastErrorCode()){case ErrorCode.NO_ERROR:const je=Te.getResponseJson();__PRIVATE_logDebug(Yt$1,`XHR for RPC '${e}' ${Ae} received:`,JSON.stringify(je)),Re(je);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(Yt$1,`RPC '${e}' ${Ae} timed out`),Pe(new FirestoreError(N$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const Oe=Te.getStatus();if(__PRIVATE_logDebug(Yt$1,`RPC '${e}' ${Ae} failed with status:`,Oe,"response text:",Te.getResponseText()),Oe>0){let ke=Te.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const Fe=ke==null?void 0:ke.error;if(Fe&&Fe.status&&Fe.message){const Me=function(Ue){const ze=Ue.toLowerCase().replace(/_/g,"-");return Object.values(N$1).indexOf(ze)>=0?ze:N$1.UNKNOWN}(Fe.status);Pe(new FirestoreError(Me,Fe.message))}else Pe(new FirestoreError(N$1.UNKNOWN,"Server responded with status "+Te.getStatus()))}else Pe(new FirestoreError(N$1.UNAVAILABLE,"Connection failed."));break;default:fail(9055,{l_:e,streamId:Ae,h_:Te.getLastErrorCode(),P_:Te.getLastError()})}}finally{__PRIVATE_logDebug(Yt$1,`RPC '${e}' ${Ae} completed.`)}});const Ie=JSON.stringify(Ee);__PRIVATE_logDebug(Yt$1,`RPC '${e}' ${Ae} sending request:`,Ee),Te.send(xe,"POST",Ie,_e,15)})}T_(e,xe,_e){const Ee=__PRIVATE_generateUniqueDebugId(),Se=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],Ae=createWebChannelTransport(),Re=getStatEventTarget(),Pe={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Te=this.longPollingOptions.timeoutSeconds;Te!==void 0&&(Pe.longPollingTimeout=Math.round(1e3*Te)),this.useFetchStreams&&(Pe.useFetchStreams=!0),this.Ho(Pe.initMessageHeaders,xe,_e),Pe.encodeInitMessageHeaders=!0;const Ie=Se.join("");__PRIVATE_logDebug(Yt$1,`Creating RPC '${e}' stream ${Ee}: ${Ie}`,Pe);const je=Ae.createWebChannel(Ie,Pe);let Oe=!1,ke=!1;const Fe=new __PRIVATE_StreamBridge({Zo:De=>{ke?__PRIVATE_logDebug(Yt$1,`Not sending because RPC '${e}' stream ${Ee} is closed:`,De):(Oe||(__PRIVATE_logDebug(Yt$1,`Opening RPC '${e}' stream ${Ee} transport.`),je.open(),Oe=!0),__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} sending:`,De),je.send(De))},Xo:()=>je.close()}),Me=(De,Ue,ze)=>{De.listen(Ue,We=>{try{ze(We)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return Me(je,WebChannel.EventType.OPEN,()=>{ke||(__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} transport opened.`),Fe.__())}),Me(je,WebChannel.EventType.CLOSE,()=>{ke||(ke=!0,__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} transport closed`),Fe.u_())}),Me(je,WebChannel.EventType.ERROR,De=>{ke||(ke=!0,__PRIVATE_logWarn(Yt$1,`RPC '${e}' stream ${Ee} transport errored. Name:`,De.name,"Message:",De.message),Fe.u_(new FirestoreError(N$1.UNAVAILABLE,"The operation could not be completed")))}),Me(je,WebChannel.EventType.MESSAGE,De=>{var Ue;if(!ke){const ze=De.data[0];__PRIVATE_hardAssert(!!ze,16349);const We=ze,Ye=(We==null?void 0:We.error)||((Ue=We[0])===null||Ue===void 0?void 0:Ue.error);if(Ye){__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} received error:`,Ye);const Xe=Ye.status;let ir=function(rr){const cr=ft$1[rr];if(cr!==void 0)return __PRIVATE_mapCodeFromRpcCode(cr)}(Xe),Qe=Ye.message;ir===void 0&&(ir=N$1.INTERNAL,Qe="Unknown error status: "+Xe+" with message "+Ye.message),ke=!0,Fe.u_(new FirestoreError(ir,Qe)),je.close()}else __PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} received:`,ze),Fe.c_(ze)}}),Me(Re,Event$1.STAT_EVENT,De=>{De.stat===Stat.PROXY?__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} detected buffering proxy`):De.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Yt$1,`RPC '${e}' stream ${Ee} detected no buffering proxy`)}),setTimeout(()=>{Fe.a_()},0),Fe}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(t){return new JsonProtoSerializer(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,xe,_e=1e3,Ee=1.5,Se=6e4){this.xi=e,this.timerId=xe,this.I_=_e,this.E_=Ee,this.d_=Se,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const xe=Math.floor(this.A_+this.g_()),_e=Math.max(0,Date.now()-this.V_),Ee=Math.max(0,xe-_e);Ee>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${Ee} ms (base delay: ${this.A_} ms, delay with jitter: ${xe} ms, last attempt: ${_e} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,Ee,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt$1="PersistentStream";class __PRIVATE_PersistentStream{constructor(e,xe,_e,Ee,Se,Ae,Re,Pe){this.xi=e,this.y_=_e,this.w_=Ee,this.connection=Se,this.authCredentialsProvider=Ae,this.appCheckCredentialsProvider=Re,this.listener=Pe,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new __PRIVATE_ExponentialBackoff(e,xe)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,xe){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():xe&&xe.code===N$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(xe.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):xe&&xe.code===N$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(xe)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),xe=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([_e,Ee])=>{this.S_===xe&&this.K_(_e,Ee)},_e=>{e(()=>{const Ee=new FirestoreError(N$1.UNKNOWN,"Fetching auth token failed: "+_e.message);return this.W_(Ee)})})}K_(e,xe){const _e=this.U_(this.S_);this.stream=this.G_(e,xe),this.stream.e_(()=>{_e(()=>this.listener.e_())}),this.stream.n_(()=>{_e(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(Ee=>{_e(()=>this.W_(Ee))}),this.stream.onMessage(Ee=>{_e(()=>++this.v_==1?this.z_(Ee):this.onNext(Ee))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return __PRIVATE_logDebug(Zt$1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return xe=>{this.xi.enqueueAndForget(()=>this.S_===e?xe():(__PRIVATE_logDebug(Zt$1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,xe,_e,Ee,Se,Ae){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",xe,_e,Ee,Ae),this.serializer=Se}G_(e,xe){return this.connection.T_("Listen",e,xe)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const xe=__PRIVATE_fromWatchChange(this.serializer,e),_e=function(Se){if(!("targetChange"in Se))return SnapshotVersion.min();const Ae=Se.targetChange;return Ae.targetIds&&Ae.targetIds.length?SnapshotVersion.min():Ae.readTime?__PRIVATE_fromVersion(Ae.readTime):SnapshotVersion.min()}(e);return this.listener.j_(xe,_e)}H_(e){const xe={};xe.database=__PRIVATE_getEncodedDatabaseId(this.serializer),xe.addTarget=function(Se,Ae){let Re;const Pe=Ae.target;if(Re=__PRIVATE_targetIsDocumentTarget(Pe)?{documents:__PRIVATE_toDocumentsTarget(Se,Pe)}:{query:__PRIVATE_toQueryTarget(Se,Pe).gt},Re.targetId=Ae.targetId,Ae.resumeToken.approximateByteSize()>0){Re.resumeToken=__PRIVATE_toBytes(Se,Ae.resumeToken);const Te=__PRIVATE_toInt32Proto(Se,Ae.expectedCount);Te!==null&&(Re.expectedCount=Te)}else if(Ae.snapshotVersion.compareTo(SnapshotVersion.min())>0){Re.readTime=toTimestamp(Se,Ae.snapshotVersion.toTimestamp());const Te=__PRIVATE_toInt32Proto(Se,Ae.expectedCount);Te!==null&&(Re.expectedCount=Te)}return Re}(this.serializer,e);const _e=__PRIVATE_toListenRequestLabels(this.serializer,e);_e&&(xe.labels=_e),this.L_(xe)}J_(e){const xe={};xe.database=__PRIVATE_getEncodedDatabaseId(this.serializer),xe.removeTarget=e,this.L_(xe)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(e,xe,_e,Ee,Se,Ae){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",xe,_e,Ee,Ae),this.serializer=Se}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,xe){return this.connection.T_("Write",e,xe)}z_(e){return __PRIVATE_hardAssert(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,__PRIVATE_hardAssert(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){__PRIVATE_hardAssert(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const xe=__PRIVATE_fromWriteResults(e.writeResults,e.commitTime),_e=__PRIVATE_fromVersion(e.commitTime);return this.listener.ea(_e,xe)}ta(){const e={};e.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.L_(e)}Z_(e){const xe={streamToken:this.lastStreamToken,writes:e.map(_e=>toMutation(this.serializer,_e))};this.L_(xe)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Datastore{}class __PRIVATE_DatastoreImpl extends Datastore{constructor(e,xe,_e,Ee){super(),this.authCredentials=e,this.appCheckCredentials=xe,this.connection=_e,this.serializer=Ee,this.na=!1}ra(){if(this.na)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,xe,_e,Ee){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Se,Ae])=>this.connection.zo(e,__PRIVATE_toResourcePath(xe,_e),Ee,Se,Ae)).catch(Se=>{throw Se.name==="FirebaseError"?(Se.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Se):new FirestoreError(N$1.UNKNOWN,Se.toString())})}Yo(e,xe,_e,Ee,Se){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([Ae,Re])=>this.connection.Yo(e,__PRIVATE_toResourcePath(xe,_e),Ee,Ae,Re,Se)).catch(Ae=>{throw Ae.name==="FirebaseError"?(Ae.code===N$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Ae):new FirestoreError(N$1.UNKNOWN,Ae.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,xe){this.asyncQueue=e,this.onlineStateHandler=xe,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const xe=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(__PRIVATE_logError(xe),this.oa=!1):__PRIVATE_logDebug("OnlineStateTracker",xe)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt$1="RemoteStore";class __PRIVATE_RemoteStoreImpl{constructor(e,xe,_e,Ee,Se){this.localStore=e,this.datastore=xe,this.asyncQueue=_e,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=Se,this.Ea.No(Ae=>{_e.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug(Xt$1,"Restarting streams for network reachability change."),await async function(Pe){const Te=__PRIVATE_debugCast(Pe);Te.Ta.add(4),await __PRIVATE_disableNetworkInternal(Te),Te.da.set("Unknown"),Te.Ta.delete(4),await __PRIVATE_enableNetworkInternal(Te)}(this))})}),this.da=new __PRIVATE_OnlineStateTracker(_e,Ee)}}async function __PRIVATE_enableNetworkInternal(t){if(__PRIVATE_canUseNetwork(t))for(const e of t.Ia)await e(!0)}async function __PRIVATE_disableNetworkInternal(t){for(const e of t.Ia)await e(!1)}function __PRIVATE_remoteStoreListen(t,e){const xe=__PRIVATE_debugCast(t);xe.Pa.has(e.targetId)||(xe.Pa.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(xe)?__PRIVATE_startWatchStream(xe):__PRIVATE_ensureWatchStream(xe).M_()&&__PRIVATE_sendWatchRequest(xe,e))}function __PRIVATE_remoteStoreUnlisten(t,e){const xe=__PRIVATE_debugCast(t),_e=__PRIVATE_ensureWatchStream(xe);xe.Pa.delete(e),_e.M_()&&__PRIVATE_sendUnwatchRequest(xe,e),xe.Pa.size===0&&(_e.M_()?_e.N_():__PRIVATE_canUseNetwork(xe)&&xe.da.set("Unknown"))}function __PRIVATE_sendWatchRequest(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const xe=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(xe)}__PRIVATE_ensureWatchStream(t).H_(e)}function __PRIVATE_sendUnwatchRequest(t,e){t.Aa.Ke(e),__PRIVATE_ensureWatchStream(t).J_(e)}function __PRIVATE_startWatchStream(t){t.Aa=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(t).start(),t.da._a()}function __PRIVATE_shouldStartWatchStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWatchStream(t).F_()&&t.Pa.size>0}function __PRIVATE_canUseNetwork(t){return __PRIVATE_debugCast(t).Ta.size===0}function __PRIVATE_cleanUpWatchStreamState(t){t.Aa=void 0}async function __PRIVATE_onWatchStreamConnected(t){t.da.set("Online")}async function __PRIVATE_onWatchStreamOpen(t){t.Pa.forEach((e,xe)=>{__PRIVATE_sendWatchRequest(t,e)})}async function __PRIVATE_onWatchStreamClose(t,e){__PRIVATE_cleanUpWatchStreamState(t),__PRIVATE_shouldStartWatchStream(t)?(t.da.ca(e),__PRIVATE_startWatchStream(t)):t.da.set("Unknown")}async function __PRIVATE_onWatchStreamChange(t,e,xe){if(t.da.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(Ee,Se){const Ae=Se.cause;for(const Re of Se.targetIds)Ee.Pa.has(Re)&&(await Ee.remoteSyncer.rejectListen(Re,Ae),Ee.Pa.delete(Re),Ee.Aa.removeTarget(Re))}(t,e)}catch(_e){__PRIVATE_logDebug(Xt$1,"Failed to remove targets %s: %s ",e.targetIds.join(","),_e),await __PRIVATE_disableNetworkUntilRecovery(t,_e)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.Aa.Xe(e):e instanceof __PRIVATE_ExistenceFilterChange?t.Aa.ot(e):t.Aa.nt(e),!xe.isEqual(SnapshotVersion.min()))try{const _e=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore);xe.compareTo(_e)>=0&&await function(Se,Ae){const Re=Se.Aa.It(Ae);return Re.targetChanges.forEach((Pe,Te)=>{if(Pe.resumeToken.approximateByteSize()>0){const Ie=Se.Pa.get(Te);Ie&&Se.Pa.set(Te,Ie.withResumeToken(Pe.resumeToken,Ae))}}),Re.targetMismatches.forEach((Pe,Te)=>{const Ie=Se.Pa.get(Pe);if(!Ie)return;Se.Pa.set(Pe,Ie.withResumeToken(ByteString.EMPTY_BYTE_STRING,Ie.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Se,Pe);const je=new TargetData(Ie.target,Pe,Te,Ie.sequenceNumber);__PRIVATE_sendWatchRequest(Se,je)}),Se.remoteSyncer.applyRemoteEvent(Re)}(t,xe)}catch(_e){__PRIVATE_logDebug(Xt$1,"Failed to raise snapshot:",_e),await __PRIVATE_disableNetworkUntilRecovery(t,_e)}}async function __PRIVATE_disableNetworkUntilRecovery(t,e,xe){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;t.Ta.add(1),await __PRIVATE_disableNetworkInternal(t),t.da.set("Offline"),xe||(xe=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug(Xt$1,"Retrying IndexedDB access"),await xe(),t.Ta.delete(1),await __PRIVATE_enableNetworkInternal(t)})}function __PRIVATE_executeWithRecovery(t,e){return e().catch(xe=>__PRIVATE_disableNetworkUntilRecovery(t,xe,e))}async function __PRIVATE_fillWritePipeline(t){const e=__PRIVATE_debugCast(t),xe=__PRIVATE_ensureWriteStream(e);let _e=e.ha.length>0?e.ha[e.ha.length-1].batchId:G$1;for(;__PRIVATE_canAddToWritePipeline(e);)try{const Ee=await __PRIVATE_localStoreGetNextMutationBatch(e.localStore,_e);if(Ee===null){e.ha.length===0&&xe.N_();break}_e=Ee.batchId,__PRIVATE_addToWritePipeline(e,Ee)}catch(Ee){await __PRIVATE_disableNetworkUntilRecovery(e,Ee)}__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}function __PRIVATE_canAddToWritePipeline(t){return __PRIVATE_canUseNetwork(t)&&t.ha.length<10}function __PRIVATE_addToWritePipeline(t,e){t.ha.push(e);const xe=__PRIVATE_ensureWriteStream(t);xe.M_()&&xe.Y_&&xe.Z_(e.mutations)}function __PRIVATE_shouldStartWriteStream(t){return __PRIVATE_canUseNetwork(t)&&!__PRIVATE_ensureWriteStream(t).F_()&&t.ha.length>0}function __PRIVATE_startWriteStream(t){__PRIVATE_ensureWriteStream(t).start()}async function __PRIVATE_onWriteStreamOpen(t){__PRIVATE_ensureWriteStream(t).ta()}async function __PRIVATE_onWriteHandshakeComplete(t){const e=__PRIVATE_ensureWriteStream(t);for(const xe of t.ha)e.Z_(xe.mutations)}async function __PRIVATE_onMutationResult(t,e,xe){const _e=t.ha.shift(),Ee=MutationBatchResult.from(_e,e,xe);await __PRIVATE_executeWithRecovery(t,()=>t.remoteSyncer.applySuccessfulWrite(Ee)),await __PRIVATE_fillWritePipeline(t)}async function __PRIVATE_onWriteStreamClose(t,e){e&&__PRIVATE_ensureWriteStream(t).Y_&&await async function(_e,Ee){if(function(Ae){return __PRIVATE_isPermanentError(Ae)&&Ae!==N$1.ABORTED}(Ee.code)){const Se=_e.ha.shift();__PRIVATE_ensureWriteStream(_e).O_(),await __PRIVATE_executeWithRecovery(_e,()=>_e.remoteSyncer.rejectFailedWrite(Se.batchId,Ee)),await __PRIVATE_fillWritePipeline(_e)}}(t,e),__PRIVATE_shouldStartWriteStream(t)&&__PRIVATE_startWriteStream(t)}async function __PRIVATE_remoteStoreHandleCredentialChange(t,e){const xe=__PRIVATE_debugCast(t);xe.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(Xt$1,"RemoteStore received new credentials");const _e=__PRIVATE_canUseNetwork(xe);xe.Ta.add(3),await __PRIVATE_disableNetworkInternal(xe),_e&&xe.da.set("Unknown"),await xe.remoteSyncer.handleCredentialChange(e),xe.Ta.delete(3),await __PRIVATE_enableNetworkInternal(xe)}async function __PRIVATE_remoteStoreApplyPrimaryState(t,e){const xe=__PRIVATE_debugCast(t);e?(xe.Ta.delete(2),await __PRIVATE_enableNetworkInternal(xe)):e||(xe.Ta.add(2),await __PRIVATE_disableNetworkInternal(xe),xe.da.set("Unknown"))}function __PRIVATE_ensureWatchStream(t){return t.Ra||(t.Ra=function(xe,_e,Ee){const Se=__PRIVATE_debugCast(xe);return Se.ra(),new __PRIVATE_PersistentListenStream(_e,Se.connection,Se.authCredentials,Se.appCheckCredentials,Se.serializer,Ee)}(t.datastore,t.asyncQueue,{e_:__PRIVATE_onWatchStreamConnected.bind(null,t),n_:__PRIVATE_onWatchStreamOpen.bind(null,t),i_:__PRIVATE_onWatchStreamClose.bind(null,t),j_:__PRIVATE_onWatchStreamChange.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),__PRIVATE_shouldStartWatchStream(t)?__PRIVATE_startWatchStream(t):t.da.set("Unknown")):(await t.Ra.stop(),__PRIVATE_cleanUpWatchStreamState(t))})),t.Ra}function __PRIVATE_ensureWriteStream(t){return t.Va||(t.Va=function(xe,_e,Ee){const Se=__PRIVATE_debugCast(xe);return Se.ra(),new __PRIVATE_PersistentWriteStream(_e,Se.connection,Se.authCredentials,Se.appCheckCredentials,Se.serializer,Ee)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:__PRIVATE_onWriteStreamOpen.bind(null,t),i_:__PRIVATE_onWriteStreamClose.bind(null,t),X_:__PRIVATE_onWriteHandshakeComplete.bind(null,t),ea:__PRIVATE_onMutationResult.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await __PRIVATE_fillWritePipeline(t)):(await t.Va.stop(),t.ha.length>0&&(__PRIVATE_logDebug(Xt$1,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,xe,_e,Ee,Se){this.asyncQueue=e,this.timerId=xe,this.targetTimeMs=_e,this.op=Ee,this.removalCallback=Se,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Ae=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,xe,_e,Ee,Se){const Ae=Date.now()+_e,Re=new DelayedOperation(e,xe,Ae,Ee,Se);return Re.start(_e),Re}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N$1.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(t,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${t}`),__PRIVATE_isIndexedDbTransactionError(t))return new FirestoreError(N$1.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{static emptySet(e){return new DocumentSet(e.comparator)}constructor(e){this.comparator=e?(xe,_e)=>e(xe,_e)||DocumentKey.comparator(xe.key,_e.key):(xe,_e)=>DocumentKey.comparator(xe.key,_e.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const xe=this.keyedMap.get(e);return xe?this.sortedSet.indexOf(xe):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((xe,_e)=>(e(xe),!1))}add(e){const xe=this.delete(e.key);return xe.copy(xe.keyedMap.insert(e.key,e),xe.sortedSet.insert(e,null))}delete(e){const xe=this.get(e);return xe?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(xe)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const xe=this.sortedSet.getIterator(),_e=e.sortedSet.getIterator();for(;xe.hasNext();){const Ee=xe.getNext().key,Se=_e.getNext().key;if(!Ee.isEqual(Se))return!1}return!0}toString(){const e=[];return this.forEach(xe=>{e.push(xe.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,xe){const _e=new DocumentSet;return _e.comparator=this.comparator,_e.keyedMap=e,_e.sortedSet=xe,_e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.ma=new SortedMap(DocumentKey.comparator)}track(e){const xe=e.doc.key,_e=this.ma.get(xe);_e?e.type!==0&&_e.type===3?this.ma=this.ma.insert(xe,e):e.type===3&&_e.type!==1?this.ma=this.ma.insert(xe,{type:_e.type,doc:e.doc}):e.type===2&&_e.type===2?this.ma=this.ma.insert(xe,{type:2,doc:e.doc}):e.type===2&&_e.type===0?this.ma=this.ma.insert(xe,{type:0,doc:e.doc}):e.type===1&&_e.type===0?this.ma=this.ma.remove(xe):e.type===1&&_e.type===2?this.ma=this.ma.insert(xe,{type:1,doc:_e.doc}):e.type===0&&_e.type===1?this.ma=this.ma.insert(xe,{type:2,doc:e.doc}):fail(63341,{Vt:e,fa:_e}):this.ma=this.ma.insert(xe,e)}ga(){const e=[];return this.ma.inorderTraversal((xe,_e)=>{e.push(_e)}),e}}class ViewSnapshot{constructor(e,xe,_e,Ee,Se,Ae,Re,Pe,Te){this.query=e,this.docs=xe,this.oldDocs=_e,this.docChanges=Ee,this.mutatedKeys=Se,this.fromCache=Ae,this.syncStateChanged=Re,this.excludesMetadataChanges=Pe,this.hasCachedResults=Te}static fromInitialDocuments(e,xe,_e,Ee,Se){const Ae=[];return xe.forEach(Re=>{Ae.push({type:0,doc:Re})}),new ViewSnapshot(e,xe,DocumentSet.emptySet(xe),Ae,_e,Ee,!0,!1,Se)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const xe=this.docChanges,_e=e.docChanges;if(xe.length!==_e.length)return!1;for(let Ee=0;Ee<xe.length;Ee++)if(xe[Ee].type!==_e[Ee].type||!xe[Ee].doc.isEqual(_e[Ee].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(xe,_e){const Ee=__PRIVATE_debugCast(xe),Se=Ee.queries;Ee.queries=__PRIVATE_newQueriesObjectMap(),Se.forEach((Ae,Re)=>{for(const Pe of Re.ya)Pe.onError(_e)})})(this,new FirestoreError(N$1.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(t=>__PRIVATE_canonifyQuery(t),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(t,e){const xe=__PRIVATE_debugCast(t);let _e=3;const Ee=e.query;let Se=xe.queries.get(Ee);Se?!Se.wa()&&e.Sa()&&(_e=2):(Se=new __PRIVATE_QueryListenersInfo,_e=e.Sa()?0:1);try{switch(_e){case 0:Se.pa=await xe.onListen(Ee,!0);break;case 1:Se.pa=await xe.onListen(Ee,!1);break;case 2:await xe.onFirstRemoteStoreListen(Ee)}}catch(Ae){const Re=__PRIVATE_wrapInUserErrorIfRecoverable(Ae,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(Re)}xe.queries.set(Ee,Se),Se.ya.push(e),e.Da(xe.onlineState),Se.pa&&e.va(Se.pa)&&__PRIVATE_raiseSnapshotsInSyncEvent(xe)}async function __PRIVATE_eventManagerUnlisten(t,e){const xe=__PRIVATE_debugCast(t),_e=e.query;let Ee=3;const Se=xe.queries.get(_e);if(Se){const Ae=Se.ya.indexOf(e);Ae>=0&&(Se.ya.splice(Ae,1),Se.ya.length===0?Ee=e.Sa()?0:1:!Se.wa()&&e.Sa()&&(Ee=2))}switch(Ee){case 0:return xe.queries.delete(_e),xe.onUnlisten(_e,!0);case 1:return xe.queries.delete(_e),xe.onUnlisten(_e,!1);case 2:return xe.onLastRemoteStoreUnlisten(_e);default:return}}function __PRIVATE_eventManagerOnWatchChange(t,e){const xe=__PRIVATE_debugCast(t);let _e=!1;for(const Ee of e){const Se=Ee.query,Ae=xe.queries.get(Se);if(Ae){for(const Re of Ae.ya)Re.va(Ee)&&(_e=!0);Ae.pa=Ee}}_e&&__PRIVATE_raiseSnapshotsInSyncEvent(xe)}function __PRIVATE_eventManagerOnWatchError(t,e,xe){const _e=__PRIVATE_debugCast(t),Ee=_e.queries.get(e);if(Ee)for(const Se of Ee.ya)Se.onError(xe);_e.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(t){t.ba.forEach(e=>{e.next()})}var en,tn;(tn=en||(en={})).Ca="default",tn.Cache="cache";class __PRIVATE_QueryListener{constructor(e,xe,_e){this.query=e,this.Fa=xe,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=_e||{}}va(e){if(!this.options.includeMetadataChanges){const _e=[];for(const Ee of e.docChanges)Ee.type!==3&&_e.push(Ee);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,_e,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let xe=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),xe=!0):this.Na(e,this.onlineState)&&(this.Ba(e),xe=!0),this.xa=e,xe}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let xe=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),xe=!0),xe}Na(e,xe){if(!e.fromCache||!this.Sa())return!0;const _e=xe!=="Offline";return(!this.options.La||!_e)&&(!e.docs.isEmpty()||e.hasCachedResults||xe==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const xe=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!xe)&&this.options.includeMetadataChanges===!0}Ba(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==en.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,xe){this.query=e,this.Ga=xe,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ha=__PRIVATE_newQueryComparator(e),this.Ja=new DocumentSet(this.Ha)}get Ya(){return this.Ga}Za(e,xe){const _e=xe?xe.Xa:new __PRIVATE_DocumentChangeSet,Ee=xe?xe.Ja:this.Ja;let Se=xe?xe.mutatedKeys:this.mutatedKeys,Ae=Ee,Re=!1;const Pe=this.query.limitType==="F"&&Ee.size===this.query.limit?Ee.last():null,Te=this.query.limitType==="L"&&Ee.size===this.query.limit?Ee.first():null;if(e.inorderTraversal((Ie,je)=>{const Oe=Ee.get(Ie),ke=__PRIVATE_queryMatches(this.query,je)?je:null,Fe=!!Oe&&this.mutatedKeys.has(Oe.key),Me=!!ke&&(ke.hasLocalMutations||this.mutatedKeys.has(ke.key)&&ke.hasCommittedMutations);let De=!1;Oe&&ke?Oe.data.isEqual(ke.data)?Fe!==Me&&(_e.track({type:3,doc:ke}),De=!0):this.eu(Oe,ke)||(_e.track({type:2,doc:ke}),De=!0,(Pe&&this.Ha(ke,Pe)>0||Te&&this.Ha(ke,Te)<0)&&(Re=!0)):!Oe&&ke?(_e.track({type:0,doc:ke}),De=!0):Oe&&!ke&&(_e.track({type:1,doc:Oe}),De=!0,(Pe||Te)&&(Re=!0)),De&&(ke?(Ae=Ae.add(ke),Se=Me?Se.add(Ie):Se.delete(Ie)):(Ae=Ae.delete(Ie),Se=Se.delete(Ie)))}),this.query.limit!==null)for(;Ae.size>this.query.limit;){const Ie=this.query.limitType==="F"?Ae.last():Ae.first();Ae=Ae.delete(Ie.key),Se=Se.delete(Ie.key),_e.track({type:1,doc:Ie})}return{Ja:Ae,Xa:_e,Cs:Re,mutatedKeys:Se}}eu(e,xe){return e.hasLocalMutations&&xe.hasCommittedMutations&&!xe.hasLocalMutations}applyChanges(e,xe,_e,Ee){const Se=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const Ae=e.Xa.ga();Ae.sort((Ie,je)=>function(ke,Fe){const Me=De=>{switch(De){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail(20277,{Vt:De})}};return Me(ke)-Me(Fe)}(Ie.type,je.type)||this.Ha(Ie.doc,je.doc)),this.tu(_e),Ee=Ee!=null&&Ee;const Re=xe&&!Ee?this.nu():[],Pe=this.ja.size===0&&this.current&&!Ee?1:0,Te=Pe!==this.za;return this.za=Pe,Ae.length!==0||Te?{snapshot:new ViewSnapshot(this.query,e.Ja,Se,Ae,e.mutatedKeys,Pe===0,Te,!1,!!_e&&_e.resumeToken.approximateByteSize()>0),ru:Re}:{ru:Re}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(xe=>this.Ga=this.Ga.add(xe)),e.modifiedDocuments.forEach(xe=>{}),e.removedDocuments.forEach(xe=>this.Ga=this.Ga.delete(xe)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=__PRIVATE_documentKeySet(),this.Ja.forEach(_e=>{this.iu(_e.key)&&(this.ja=this.ja.add(_e.key))});const xe=[];return e.forEach(_e=>{this.ja.has(_e)||xe.push(new __PRIVATE_RemovedLimboDocument(_e))}),this.ja.forEach(_e=>{e.has(_e)||xe.push(new __PRIVATE_AddedLimboDocument(_e))}),xe}su(e){this.Ga=e.$s,this.ja=__PRIVATE_documentKeySet();const xe=this.Za(e.documents);return this.applyChanges(xe,!0)}ou(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const nn="SyncEngine";class __PRIVATE_QueryView{constructor(e,xe,_e){this.query=e,this.targetId=xe,this.view=_e}}class LimboResolution{constructor(e){this.key=e,this._u=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,xe,_e,Ee,Se,Ae){this.localStore=e,this.remoteStore=xe,this.eventManager=_e,this.sharedClientState=Ee,this.currentUser=Se,this.maxConcurrentLimboResolutions=Ae,this.au={},this.uu=new ObjectMap(Re=>__PRIVATE_canonifyQuery(Re),__PRIVATE_queryEquals),this.cu=new Map,this.lu=new Set,this.hu=new SortedMap(DocumentKey.comparator),this.Pu=new Map,this.Tu=new __PRIVATE_ReferenceSet,this.Iu={},this.Eu=new Map,this.du=__PRIVATE_TargetIdGenerator.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function __PRIVATE_syncEngineListen(t,e,xe=!0){const _e=__PRIVATE_ensureWatchCallbacks(t);let Ee;const Se=_e.uu.get(e);return Se?(_e.sharedClientState.addLocalQueryTarget(Se.targetId),Ee=Se.view.ou()):Ee=await __PRIVATE_allocateTargetAndMaybeListen(_e,e,xe,!0),Ee}async function __PRIVATE_triggerRemoteStoreListen(t,e){const xe=__PRIVATE_ensureWatchCallbacks(t);await __PRIVATE_allocateTargetAndMaybeListen(xe,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(t,e,xe,_e){const Ee=await __PRIVATE_localStoreAllocateTarget(t.localStore,__PRIVATE_queryToTarget(e)),Se=Ee.targetId,Ae=t.sharedClientState.addLocalQueryTarget(Se,xe);let Re;return _e&&(Re=await __PRIVATE_initializeViewAndComputeSnapshot(t,e,Se,Ae==="current",Ee.resumeToken)),t.isPrimaryClient&&xe&&__PRIVATE_remoteStoreListen(t.remoteStore,Ee),Re}async function __PRIVATE_initializeViewAndComputeSnapshot(t,e,xe,_e,Ee){t.Ru=(je,Oe,ke)=>async function(Me,De,Ue,ze){let We=De.view.Za(Ue);We.Cs&&(We=await __PRIVATE_localStoreExecuteQuery(Me.localStore,De.query,!1).then(({documents:Qe})=>De.view.Za(Qe,We)));const Ye=ze&&ze.targetChanges.get(De.targetId),Xe=ze&&ze.targetMismatches.get(De.targetId)!=null,ir=De.view.applyChanges(We,Me.isPrimaryClient,Ye,Xe);return __PRIVATE_updateTrackedLimbos(Me,De.targetId,ir.ru),ir.snapshot}(t,je,Oe,ke);const Se=await __PRIVATE_localStoreExecuteQuery(t.localStore,e,!0),Ae=new __PRIVATE_View(e,Se.$s),Re=Ae.Za(Se.documents),Pe=TargetChange.createSynthesizedTargetChangeForCurrentChange(xe,_e&&t.onlineState!=="Offline",Ee),Te=Ae.applyChanges(Re,t.isPrimaryClient,Pe);__PRIVATE_updateTrackedLimbos(t,xe,Te.ru);const Ie=new __PRIVATE_QueryView(e,xe,Ae);return t.uu.set(e,Ie),t.cu.has(xe)?t.cu.get(xe).push(e):t.cu.set(xe,[e]),Te.snapshot}async function __PRIVATE_syncEngineUnlisten(t,e,xe){const _e=__PRIVATE_debugCast(t),Ee=_e.uu.get(e),Se=_e.cu.get(Ee.targetId);if(Se.length>1)return _e.cu.set(Ee.targetId,Se.filter(Ae=>!__PRIVATE_queryEquals(Ae,e))),void _e.uu.delete(e);_e.isPrimaryClient?(_e.sharedClientState.removeLocalQueryTarget(Ee.targetId),_e.sharedClientState.isActiveQueryTarget(Ee.targetId)||await __PRIVATE_localStoreReleaseTarget(_e.localStore,Ee.targetId,!1).then(()=>{_e.sharedClientState.clearQueryState(Ee.targetId),xe&&__PRIVATE_remoteStoreUnlisten(_e.remoteStore,Ee.targetId),__PRIVATE_removeAndCleanupTarget(_e,Ee.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(_e,Ee.targetId),await __PRIVATE_localStoreReleaseTarget(_e.localStore,Ee.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(t,e){const xe=__PRIVATE_debugCast(t),_e=xe.uu.get(e),Ee=xe.cu.get(_e.targetId);xe.isPrimaryClient&&Ee.length===1&&(xe.sharedClientState.removeLocalQueryTarget(_e.targetId),__PRIVATE_remoteStoreUnlisten(xe.remoteStore,_e.targetId))}async function __PRIVATE_syncEngineWrite(t,e,xe){const _e=__PRIVATE_syncEngineEnsureWriteCallbacks(t);try{const Ee=await function(Ae,Re){const Pe=__PRIVATE_debugCast(Ae),Te=Timestamp.now(),Ie=Re.reduce((ke,Fe)=>ke.add(Fe.key),__PRIVATE_documentKeySet());let je,Oe;return Pe.persistence.runTransaction("Locally write mutations","readwrite",ke=>{let Fe=__PRIVATE_mutableDocumentMap(),Me=__PRIVATE_documentKeySet();return Pe.Bs.getEntries(ke,Ie).next(De=>{Fe=De,Fe.forEach((Ue,ze)=>{ze.isValidDocument()||(Me=Me.add(Ue))})}).next(()=>Pe.localDocuments.getOverlayedDocuments(ke,Fe)).next(De=>{je=De;const Ue=[];for(const ze of Re){const We=__PRIVATE_mutationExtractBaseValue(ze,je.get(ze.key).overlayedDocument);We!=null&&Ue.push(new __PRIVATE_PatchMutation(ze.key,We,__PRIVATE_extractFieldMask(We.value.mapValue),Precondition.exists(!0)))}return Pe.mutationQueue.addMutationBatch(ke,Te,Ue,Re)}).next(De=>{Oe=De;const Ue=De.applyToLocalDocumentSet(je,Me);return Pe.documentOverlayCache.saveOverlays(ke,De.batchId,Ue)})}).then(()=>({batchId:Oe.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(je)}))}(_e.localStore,e);_e.sharedClientState.addPendingMutation(Ee.batchId),function(Ae,Re,Pe){let Te=Ae.Iu[Ae.currentUser.toKey()];Te||(Te=new SortedMap(__PRIVATE_primitiveComparator)),Te=Te.insert(Re,Pe),Ae.Iu[Ae.currentUser.toKey()]=Te}(_e,Ee.batchId,xe),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_e,Ee.changes),await __PRIVATE_fillWritePipeline(_e.remoteStore)}catch(Ee){const Se=__PRIVATE_wrapInUserErrorIfRecoverable(Ee,"Failed to persist write");xe.reject(Se)}}async function __PRIVATE_syncEngineApplyRemoteEvent(t,e){const xe=__PRIVATE_debugCast(t);try{const _e=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(xe.localStore,e);e.targetChanges.forEach((Ee,Se)=>{const Ae=xe.Pu.get(Se);Ae&&(__PRIVATE_hardAssert(Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size<=1,22616),Ee.addedDocuments.size>0?Ae._u=!0:Ee.modifiedDocuments.size>0?__PRIVATE_hardAssert(Ae._u,14607):Ee.removedDocuments.size>0&&(__PRIVATE_hardAssert(Ae._u,42227),Ae._u=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(xe,_e,e)}catch(_e){await __PRIVATE_ignoreIfPrimaryLeaseLoss(_e)}}function __PRIVATE_syncEngineApplyOnlineStateChange(t,e,xe){const _e=__PRIVATE_debugCast(t);if(_e.isPrimaryClient&&xe===0||!_e.isPrimaryClient&&xe===1){const Ee=[];_e.uu.forEach((Se,Ae)=>{const Re=Ae.view.Da(e);Re.snapshot&&Ee.push(Re.snapshot)}),function(Ae,Re){const Pe=__PRIVATE_debugCast(Ae);Pe.onlineState=Re;let Te=!1;Pe.queries.forEach((Ie,je)=>{for(const Oe of je.ya)Oe.Da(Re)&&(Te=!0)}),Te&&__PRIVATE_raiseSnapshotsInSyncEvent(Pe)}(_e.eventManager,e),Ee.length&&_e.au.j_(Ee),_e.onlineState=e,_e.isPrimaryClient&&_e.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(t,e,xe){const _e=__PRIVATE_debugCast(t);_e.sharedClientState.updateQueryState(e,"rejected",xe);const Ee=_e.Pu.get(e),Se=Ee&&Ee.key;if(Se){let Ae=new SortedMap(DocumentKey.comparator);Ae=Ae.insert(Se,MutableDocument.newNoDocument(Se,SnapshotVersion.min()));const Re=__PRIVATE_documentKeySet().add(Se),Pe=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),Ae,Re);await __PRIVATE_syncEngineApplyRemoteEvent(_e,Pe),_e.hu=_e.hu.remove(Se),_e.Pu.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(_e)}else await __PRIVATE_localStoreReleaseTarget(_e.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(_e,e,xe)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(t,e){const xe=__PRIVATE_debugCast(t),_e=e.batch.batchId;try{const Ee=await __PRIVATE_localStoreAcknowledgeBatch(xe.localStore,e);__PRIVATE_processUserCallback(xe,_e,null),__PRIVATE_triggerPendingWritesCallbacks(xe,_e),xe.sharedClientState.updateMutationState(_e,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(xe,Ee)}catch(Ee){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ee)}}async function __PRIVATE_syncEngineRejectFailedWrite(t,e,xe){const _e=__PRIVATE_debugCast(t);try{const Ee=await function(Ae,Re){const Pe=__PRIVATE_debugCast(Ae);return Pe.persistence.runTransaction("Reject batch","readwrite-primary",Te=>{let Ie;return Pe.mutationQueue.lookupMutationBatch(Te,Re).next(je=>(__PRIVATE_hardAssert(je!==null,37113),Ie=je.keys(),Pe.mutationQueue.removeMutationBatch(Te,je))).next(()=>Pe.mutationQueue.performConsistencyCheck(Te)).next(()=>Pe.documentOverlayCache.removeOverlaysForBatchId(Te,Ie,Re)).next(()=>Pe.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Te,Ie)).next(()=>Pe.localDocuments.getDocuments(Te,Ie))})}(_e.localStore,e);__PRIVATE_processUserCallback(_e,e,xe),__PRIVATE_triggerPendingWritesCallbacks(_e,e),_e.sharedClientState.updateMutationState(e,"rejected",xe),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(_e,Ee)}catch(Ee){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Ee)}}function __PRIVATE_triggerPendingWritesCallbacks(t,e){(t.Eu.get(e)||[]).forEach(xe=>{xe.resolve()}),t.Eu.delete(e)}function __PRIVATE_processUserCallback(t,e,xe){const _e=__PRIVATE_debugCast(t);let Ee=_e.Iu[_e.currentUser.toKey()];if(Ee){const Se=Ee.get(e);Se&&(xe?Se.reject(xe):Se.resolve(),Ee=Ee.remove(e)),_e.Iu[_e.currentUser.toKey()]=Ee}}function __PRIVATE_removeAndCleanupTarget(t,e,xe=null){t.sharedClientState.removeLocalQueryTarget(e);for(const _e of t.cu.get(e))t.uu.delete(_e),xe&&t.au.Vu(_e,xe);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(_e=>{t.Tu.containsKey(_e)||__PRIVATE_removeLimboTarget(t,_e)})}function __PRIVATE_removeLimboTarget(t,e){t.lu.delete(e.path.canonicalString());const xe=t.hu.get(e);xe!==null&&(__PRIVATE_remoteStoreUnlisten(t.remoteStore,xe),t.hu=t.hu.remove(e),t.Pu.delete(xe),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_updateTrackedLimbos(t,e,xe){for(const _e of xe)_e instanceof __PRIVATE_AddedLimboDocument?(t.Tu.addReference(_e.key,e),__PRIVATE_trackLimboChange(t,_e)):_e instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug(nn,"Document no longer in limbo: "+_e.key),t.Tu.removeReference(_e.key,e),t.Tu.containsKey(_e.key)||__PRIVATE_removeLimboTarget(t,_e.key)):fail(19791,{mu:_e})}function __PRIVATE_trackLimboChange(t,e){const xe=e.key,_e=xe.path.canonicalString();t.hu.get(xe)||t.lu.has(_e)||(__PRIVATE_logDebug(nn,"New document in limbo: "+xe),t.lu.add(_e),__PRIVATE_pumpEnqueuedLimboResolutions(t))}function __PRIVATE_pumpEnqueuedLimboResolutions(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const xe=new DocumentKey(ResourcePath.fromString(e)),_e=t.du.next();t.Pu.set(_e,new LimboResolution(xe)),t.hu=t.hu.insert(xe,_e),__PRIVATE_remoteStoreListen(t.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(xe.path)),_e,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.le))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(t,e,xe){const _e=__PRIVATE_debugCast(t),Ee=[],Se=[],Ae=[];_e.uu.isEmpty()||(_e.uu.forEach((Re,Pe)=>{Ae.push(_e.Ru(Pe,e,xe).then(Te=>{var Ie;if((Te||xe)&&_e.isPrimaryClient){const je=Te?!Te.fromCache:(Ie=xe==null?void 0:xe.targetChanges.get(Pe.targetId))===null||Ie===void 0?void 0:Ie.current;_e.sharedClientState.updateQueryState(Pe.targetId,je?"current":"not-current")}if(Te){Ee.push(Te);const je=__PRIVATE_LocalViewChanges.Rs(Pe.targetId,Te);Se.push(je)}}))}),await Promise.all(Ae),_e.au.j_(Ee),await async function(Pe,Te){const Ie=__PRIVATE_debugCast(Pe);try{await Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>PersistencePromise.forEach(Te,Oe=>PersistencePromise.forEach(Oe.ds,ke=>Ie.persistence.referenceDelegate.addReference(je,Oe.targetId,ke)).next(()=>PersistencePromise.forEach(Oe.As,ke=>Ie.persistence.referenceDelegate.removeReference(je,Oe.targetId,ke)))))}catch(je){if(!__PRIVATE_isIndexedDbTransactionError(je))throw je;__PRIVATE_logDebug(Qt$1,"Failed to update sequence numbers: "+je)}for(const je of Te){const Oe=je.targetId;if(!je.fromCache){const ke=Ie.xs.get(Oe),Fe=ke.snapshotVersion,Me=ke.withLastLimboFreeSnapshotVersion(Fe);Ie.xs=Ie.xs.insert(Oe,Me)}}}(_e.localStore,Se))}async function __PRIVATE_syncEngineHandleCredentialChange(t,e){const xe=__PRIVATE_debugCast(t);if(!xe.currentUser.isEqual(e)){__PRIVATE_logDebug(nn,"User change. New user:",e.toKey());const _e=await __PRIVATE_localStoreHandleUserChange(xe.localStore,e);xe.currentUser=e,function(Se,Ae){Se.Eu.forEach(Re=>{Re.forEach(Pe=>{Pe.reject(new FirestoreError(N$1.CANCELLED,Ae))})}),Se.Eu.clear()}(xe,"'waitForPendingWrites' promise is rejected due to a user change."),xe.sharedClientState.handleUserChange(e,_e.removedBatchIds,_e.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(xe,_e.ks)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(t,e){const xe=__PRIVATE_debugCast(t),_e=xe.Pu.get(e);if(_e&&_e._u)return __PRIVATE_documentKeySet().add(_e.key);{let Ee=__PRIVATE_documentKeySet();const Se=xe.cu.get(e);if(!Se)return Ee;for(const Ae of Se){const Re=xe.uu.get(Ae);Ee=Ee.unionWith(Re.view.Ya)}return Ee}}function __PRIVATE_ensureWatchCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.au.j_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.au.Vu=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}function __PRIVATE_syncEngineEnsureWriteCallbacks(t){const e=__PRIVATE_debugCast(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,xe){return null}bu(e,xe){return null}wu(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}yu(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.fi,this.serializer)}pu(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,xe;(e=this.gcScheduler)===null||e===void 0||e.stop(),(xe=this.indexBackfillerScheduler)===null||xe===void 0||xe.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(e){super(),this.cacheSizeBytes=e}Su(e,xe){__PRIVATE_hardAssert(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate,46915);const _e=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(_e,e.asyncQueue,xe)}yu(e){const xe=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence(_e=>__PRIVATE_MemoryLruDelegate.fi(_e,xe),this.serializer)}}class OnlineComponentProvider{async initialize(e,xe){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(xe),this.remoteStore=this.createRemoteStore(xe),this.eventManager=this.createEventManager(xe),this.syncEngine=this.createSyncEngine(xe,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=_e=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,_e,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const xe=__PRIVATE_newSerializer(e.databaseInfo.databaseId),_e=function(Se){return new __PRIVATE_WebChannelConnection(Se)}(e.databaseInfo);return function(Se,Ae,Re,Pe){return new __PRIVATE_DatastoreImpl(Se,Ae,Re,Pe)}(e.authCredentials,e.appCheckCredentials,_e,xe)}createRemoteStore(e){return function(_e,Ee,Se,Ae,Re){return new __PRIVATE_RemoteStoreImpl(_e,Ee,Se,Ae,Re)}(this.localStore,this.datastore,e.asyncQueue,xe=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,xe,0),function(){return __PRIVATE_BrowserConnectivityMonitor.C()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,xe){return function(Ee,Se,Ae,Re,Pe,Te,Ie){const je=new __PRIVATE_SyncEngineImpl(Ee,Se,Ae,Re,Pe,Te);return Ie&&(je.Au=!0),je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,xe)}async terminate(){var e,xe;await async function(Ee){const Se=__PRIVATE_debugCast(Ee);__PRIVATE_logDebug(Xt$1,"RemoteStore shutting down."),Se.Ta.add(5),await __PRIVATE_disableNetworkInternal(Se),Se.Ea.shutdown(),Se.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(xe=this.eventManager)===null||xe===void 0||xe.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,xe){setTimeout(()=>{this.muted||e(xe)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="FirestoreClient";class FirestoreClient{constructor(e,xe,_e,Ee,Se){this.authCredentials=e,this.appCheckCredentials=xe,this.asyncQueue=_e,this.databaseInfo=Ee,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=Se,this.authCredentials.start(_e,async Ae=>{__PRIVATE_logDebug(rn,"Received user=",Ae.uid),await this.authCredentialListener(Ae),this.user=Ae}),this.appCheckCredentials.start(_e,Ae=>(__PRIVATE_logDebug(rn,"Received new app check token=",Ae),this.appCheckCredentialListener(Ae,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(xe){const _e=__PRIVATE_wrapInUserErrorIfRecoverable(xe,"Failed to shutdown persistence");e.reject(_e)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug(rn,"Initializing OfflineComponentProvider");const xe=t.configuration;await e.initialize(xe);let _e=xe.initialUser;t.setCredentialChangeListener(async Ee=>{_e.isEqual(Ee)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,Ee),_e=Ee)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(t,e){t.asyncQueue.verifyOperationInProgress();const xe=await __PRIVATE_ensureOfflineComponents(t);__PRIVATE_logDebug(rn,"Initializing OnlineComponentProvider"),await e.initialize(xe,t.configuration),t.setCredentialChangeListener(_e=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,_e)),t.setAppCheckTokenChangeListener((_e,Ee)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,Ee)),t._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){__PRIVATE_logDebug(rn,"Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(t,t._uninitializedComponentsProvider._offline)}catch(e){const xe=e;if(!function(Ee){return Ee.name==="FirebaseError"?Ee.code===N$1.FAILED_PRECONDITION||Ee.code===N$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&Ee instanceof DOMException)||Ee.code===22||Ee.code===20||Ee.code===11}(xe))throw xe;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+xe),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug(rn,"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(t,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return t._offlineComponents}async function __PRIVATE_ensureOnlineComponents(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(__PRIVATE_logDebug(rn,"Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,t._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug(rn,"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(t,new OnlineComponentProvider))),t._onlineComponents}function __PRIVATE_getSyncEngine(t){return __PRIVATE_ensureOnlineComponents(t).then(e=>e.syncEngine)}async function __PRIVATE_getEventManager(t){const e=await __PRIVATE_ensureOnlineComponents(t),xe=e.eventManager;return xe.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),xe.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),xe.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),xe.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),xe}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(t,e,xe={}){const _e=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>function(Se,Ae,Re,Pe,Te){const Ie=new __PRIVATE_AsyncObserver({next:Oe=>{Ie.Cu(),Ae.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Se,je));const ke=Oe.docs.has(Re);!ke&&Oe.fromCache?Te.reject(new FirestoreError(N$1.UNAVAILABLE,"Failed to get document because the client is offline.")):ke&&Oe.fromCache&&Pe&&Pe.source==="server"?Te.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Te.resolve(Oe)},error:Oe=>Te.reject(Oe)}),je=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(Re.path),Ie,{includeMetadataChanges:!0,La:!0});return __PRIVATE_eventManagerListen(Se,je)}(await __PRIVATE_getEventManager(t),t.asyncQueue,e,xe,_e)),_e.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(t,e,xe={}){const _e=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget(async()=>function(Se,Ae,Re,Pe,Te){const Ie=new __PRIVATE_AsyncObserver({next:Oe=>{Ie.Cu(),Ae.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(Se,je)),Oe.fromCache&&Pe.source==="server"?Te.reject(new FirestoreError(N$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Te.resolve(Oe)},error:Oe=>Te.reject(Oe)}),je=new __PRIVATE_QueryListener(Re,Ie,{includeMetadataChanges:!0,La:!0});return __PRIVATE_eventManagerListen(Se,je)}(await __PRIVATE_getEventManager(t),t.asyncQueue,e,xe,_e)),_e.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(t,e,xe){if(!xe)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(t,e,xe,_e){if(e===!0&&_e===!0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`${t} and ${xe} cannot be used together.`)}function __PRIVATE_validateDocumentPath(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_validateCollectionPath(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function __PRIVATE_valueDescription(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(_e){return _e.constructor?_e.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fail(12329,{type:typeof t})}function __PRIVATE_cast(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const xe=__PRIVATE_valueDescription(t);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${xe}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="firestore.googleapis.com",_n=!0;class FirestoreSettingsImpl{constructor(e){var xe,_e;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=_n}else this.host=e.host,this.ssl=(xe=e.ssl)!==null&&xe!==void 0?xe:_n;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mt$1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ot$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((_e=e.experimentalLongPollingOptions)!==null&&_e!==void 0?_e:{}),function(Se){if(Se.timeoutSeconds!==void 0){if(isNaN(Se.timeoutSeconds))throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (must not be NaN)`);if(Se.timeoutSeconds<5)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (minimum allowed value is 5)`);if(Se.timeoutSeconds>30)throw new FirestoreError(N$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Se.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(_e,Ee){return _e.timeoutSeconds===Ee.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,xe,_e,Ee){this._authCredentials=e,this._appCheckCredentials=xe,this._databaseId=_e,this._app=Ee,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(N$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(_e){if(!_e)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(_e.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(_e.sessionIndex||"0",_e.iamToken||null,_e.authTokenFactory||null);case"provider":return _e.client;default:throw new FirestoreError(N$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(xe){const _e=sn.get(xe);_e&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(xe),_e.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,xe,_e){this.converter=xe,this._query=_e,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,xe,_e){this.converter=xe,this._key=_e,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,xe,_e){super(e,xe,__PRIVATE_newQueryForPath(_e)),this._path=_e,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function collection(t,e,...xe){if(t=getModularInstance(t),__PRIVATE_validateNonEmptyArgument("collection","path",e),t instanceof Firestore$1){const _e=ResourcePath.fromString(e,...xe);return __PRIVATE_validateCollectionPath(_e),new CollectionReference(t,null,_e)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const _e=t._path.child(ResourcePath.fromString(e,...xe));return __PRIVATE_validateCollectionPath(_e),new CollectionReference(t.firestore,null,_e)}}function doc(t,e,...xe){if(t=getModularInstance(t),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),t instanceof Firestore$1){const _e=ResourcePath.fromString(e,...xe);return __PRIVATE_validateDocumentPath(_e),new DocumentReference(t,null,new DocumentKey(_e))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(N$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const _e=t._path.child(ResourcePath.fromString(e,...xe));return __PRIVATE_validateDocumentPath(_e),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(_e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.ec=()=>{const _e=getDocument();_e&&__PRIVATE_logDebug(an,"Visibility state changed to "+_e.visibilityState),this.C_.p_()},this.tc=e;const xe=getDocument();xe&&typeof xe.addEventListener=="function"&&xe.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const xe=getDocument();xe&&typeof xe.removeEventListener=="function"&&xe.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const xe=new __PRIVATE_Deferred;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(xe.resolve,xe.reject),xe.promise)).then(()=>xe.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const xe=this.tc.then(()=>(this.Yu=!0,e().catch(_e=>{throw this.Ju=_e,this.Yu=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(_e)),_e}).then(_e=>(this.Yu=!1,_e))));return this.tc=xe,xe}enqueueAfterDelay(e,xe,_e){this.nc(),this.Xu.indexOf(e)>-1&&(xe=0);const Ee=DelayedOperation.createAndSchedule(this,e,xe,_e,Se=>this.oc(Se));return this.Hu.push(Ee),Ee}nc(){this.Ju&&fail(47125,{_c:__PRIVATE_getMessageOrStack(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const xe of this.Hu)if(xe.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((xe,_e)=>xe.targetTimeMs-_e.targetTimeMs);for(const xe of this.Hu)if(xe.skipDelay(),e!=="all"&&xe.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const xe=this.Hu.indexOf(e);this.Hu.splice(xe,1)}}function __PRIVATE_getMessageOrStack(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isPartialObserver(t){return function(xe,_e){if(typeof xe!="object"||xe===null)return!1;const Ee=xe;for(const Se of _e)if(Se in Ee&&typeof Ee[Se]=="function")return!0;return!1}(t,["next","error","complete"])}class Firestore extends Firestore$1{constructor(e,xe,_e,Ee){super(e,xe,_e,Ee),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(Ee==null?void 0:Ee.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function initializeFirestore(t,e,xe){xe||(xe=ut$1);const _e=_getProvider(t,"firestore");if(_e.isInitialized(xe)){const Ee=_e.getImmediate({identifier:xe}),Se=_e.getOptions(xe);if(deepEqual$2(Se,e))return Ee;throw new FirestoreError(N$1.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ot$1)throw new FirestoreError(N$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&isCloudWorkstation(e.host)&&pingServer(e.host),_e.initialize({options:e,instanceIdentifier:xe})}function ensureFirestoreConfigured(t){if(t._terminated)throw new FirestoreError(N$1.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||__PRIVATE_configureFirestore(t),t._firestoreClient}function __PRIVATE_configureFirestore(t){var e,xe,_e;const Ee=t._freezeSettings(),Se=function(Re,Pe,Te,Ie){return new DatabaseInfo(Re,Pe,Te,Ie.host,Ie.ssl,Ie.experimentalForceLongPolling,Ie.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(Ie.experimentalLongPollingOptions),Ie.useFetchStreams,Ie.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,Ee);t._componentsProvider||!((xe=Ee.localCache)===null||xe===void 0)&&xe._offlineComponentProvider&&(!((_e=Ee.localCache)===null||_e===void 0)&&_e._onlineComponentProvider)&&(t._componentsProvider={_offline:Ee.localCache._offlineComponentProvider,_online:Ee.localCache._onlineComponentProvider}),t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,Se,t._componentsProvider&&function(Re){const Pe=Re==null?void 0:Re._online.build();return{_offline:Re==null?void 0:Re._offline.build(Pe),_online:Pe}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(xe){throw new FirestoreError(N$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+xe)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let xe=0;xe<e.length;++xe)if(e[xe].length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,xe){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(xe)||xe<-180||xe>180)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+xe);this._lat=e,this._long=xe}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(xe=>xe)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(_e,Ee){if(_e.length!==Ee.length)return!1;for(let Se=0;Se<_e.length;++Se)if(_e[Se]!==Ee[Se])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=/^__.*__$/;class ParsedSetData{constructor(e,xe,_e){this.data=e,this.fieldMask=xe,this.fieldTransforms=_e}toMutation(e,xe){return this.fieldMask!==null?new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,xe,this.fieldTransforms):new __PRIVATE_SetMutation(e,this.data,xe,this.fieldTransforms)}}class ParsedUpdateData{constructor(e,xe,_e){this.data=e,this.fieldMask=xe,this.fieldTransforms=_e}toMutation(e,xe){return new __PRIVATE_PatchMutation(e,this.data,this.fieldMask,xe,this.fieldTransforms)}}function __PRIVATE_isWrite(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail(40011,{hc:t})}}class __PRIVATE_ParseContextImpl{constructor(e,xe,_e,Ee,Se,Ae){this.settings=e,this.databaseId=xe,this.serializer=_e,this.ignoreUndefinedProperties=Ee,Se===void 0&&this.Pc(),this.fieldTransforms=Se||[],this.fieldMask=Ae||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var xe;const _e=(xe=this.path)===null||xe===void 0?void 0:xe.child(e),Ee=this.Tc({path:_e,Ec:!1});return Ee.dc(e),Ee}Ac(e){var xe;const _e=(xe=this.path)===null||xe===void 0?void 0:xe.child(e),Ee=this.Tc({path:_e,Ec:!1});return Ee.Pc(),Ee}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return __PRIVATE_createError(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(xe=>e.isPrefixOf(xe))!==void 0||this.fieldTransforms.find(xe=>e.isPrefixOf(xe.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(__PRIVATE_isWrite(this.hc)&&cn.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(e,xe,_e){this.databaseId=e,this.ignoreUndefinedProperties=xe,this.serializer=_e||__PRIVATE_newSerializer(e)}gc(e,xe,_e,Ee=!1){return new __PRIVATE_ParseContextImpl({hc:e,methodName:xe,fc:_e,path:FieldPath$1.emptyPath(),Ec:!1,mc:Ee},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(t){const e=t._freezeSettings(),xe=__PRIVATE_newSerializer(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,xe)}function __PRIVATE_parseSetData(t,e,xe,_e,Ee,Se={}){const Ae=t.gc(Se.merge||Se.mergeFields?2:0,e,xe,Ee);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Ae,_e);const Re=__PRIVATE_parseObject(_e,Ae);let Pe,Te;if(Se.merge)Pe=new FieldMask(Ae.fieldMask),Te=Ae.fieldTransforms;else if(Se.mergeFields){const Ie=[];for(const je of Se.mergeFields){const Oe=__PRIVATE_fieldPathFromArgument$1(e,je,xe);if(!Ae.contains(Oe))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Field '${Oe}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(Ie,Oe)||Ie.push(Oe)}Pe=new FieldMask(Ie),Te=Ae.fieldTransforms.filter(je=>Pe.covers(je.field))}else Pe=null,Te=Ae.fieldTransforms;return new ParsedSetData(new ObjectValue(Re),Pe,Te)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(t,e,xe,_e){const Ee=t.gc(1,e,xe);__PRIVATE_validatePlainObject("Data must be an object, but it was:",Ee,_e);const Se=[],Ae=ObjectValue.empty();forEach(_e,(Pe,Te)=>{const Ie=__PRIVATE_fieldPathFromDotSeparatedString(e,Pe,xe);Te=getModularInstance(Te);const je=Ee.Ac(Ie);if(Te instanceof __PRIVATE_DeleteFieldValueImpl)Se.push(Ie);else{const Oe=__PRIVATE_parseData(Te,je);Oe!=null&&(Se.push(Ie),Ae.set(Ie,Oe))}});const Re=new FieldMask(Se);return new ParsedUpdateData(Ae,Re,Ee.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(t,e,xe,_e,Ee,Se){const Ae=t.gc(1,e,xe),Re=[__PRIVATE_fieldPathFromArgument$1(e,_e,xe)],Pe=[Ee];if(Se.length%2!=0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Oe=0;Oe<Se.length;Oe+=2)Re.push(__PRIVATE_fieldPathFromArgument$1(e,Se[Oe])),Pe.push(Se[Oe+1]);const Te=[],Ie=ObjectValue.empty();for(let Oe=Re.length-1;Oe>=0;--Oe)if(!__PRIVATE_fieldMaskContains(Te,Re[Oe])){const ke=Re[Oe];let Fe=Pe[Oe];Fe=getModularInstance(Fe);const Me=Ae.Ac(ke);if(Fe instanceof __PRIVATE_DeleteFieldValueImpl)Te.push(ke);else{const De=__PRIVATE_parseData(Fe,Me);De!=null&&(Te.push(ke),Ie.set(ke,De))}}const je=new FieldMask(Te);return new ParsedUpdateData(Ie,je,Ae.fieldTransforms)}function __PRIVATE_parseQueryValue(t,e,xe,_e=!1){return __PRIVATE_parseData(xe,t.gc(_e?4:3,e))}function __PRIVATE_parseData(t,e){if(__PRIVATE_looksLikeJsonObject(t=getModularInstance(t)))return __PRIVATE_validatePlainObject("Unsupported field value:",e,t),__PRIVATE_parseObject(t,e);if(t instanceof FieldValue)return function(_e,Ee){if(!__PRIVATE_isWrite(Ee.hc))throw Ee.Vc(`${_e._methodName}() can only be used with update() and set()`);if(!Ee.path)throw Ee.Vc(`${_e._methodName}() is not currently supported inside arrays`);const Se=_e._toFieldTransform(Ee);Se&&Ee.fieldTransforms.push(Se)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(_e,Ee){const Se=[];let Ae=0;for(const Re of _e){let Pe=__PRIVATE_parseData(Re,Ee.Rc(Ae));Pe==null&&(Pe={nullValue:"NULL_VALUE"}),Se.push(Pe),Ae++}return{arrayValue:{values:Se}}}(t,e)}return function(_e,Ee){if((_e=getModularInstance(_e))===null)return{nullValue:"NULL_VALUE"};if(typeof _e=="number")return toNumber(Ee.serializer,_e);if(typeof _e=="boolean")return{booleanValue:_e};if(typeof _e=="string")return{stringValue:_e};if(_e instanceof Date){const Se=Timestamp.fromDate(_e);return{timestampValue:toTimestamp(Ee.serializer,Se)}}if(_e instanceof Timestamp){const Se=new Timestamp(_e.seconds,1e3*Math.floor(_e.nanoseconds/1e3));return{timestampValue:toTimestamp(Ee.serializer,Se)}}if(_e instanceof GeoPoint)return{geoPointValue:{latitude:_e.latitude,longitude:_e.longitude}};if(_e instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(Ee.serializer,_e._byteString)};if(_e instanceof DocumentReference){const Se=Ee.databaseId,Ae=_e.firestore._databaseId;if(!Ae.isEqual(Se))throw Ee.Vc(`Document reference is for database ${Ae.projectId}/${Ae.database} but should be for database ${Se.projectId}/${Se.database}`);return{referenceValue:__PRIVATE_toResourceName(_e.firestore._databaseId||Ee.databaseId,_e._key.path)}}if(_e instanceof VectorValue)return function(Ae,Re){return{mapValue:{fields:{[ct$1]:{stringValue:Pt$1},[Tt$1]:{arrayValue:{values:Ae.toArray().map(Te=>{if(typeof Te!="number")throw Re.Vc("VectorValues must only contain numeric values.");return __PRIVATE_toDouble(Re.serializer,Te)})}}}}}}(_e,Ee);throw Ee.Vc(`Unsupported field value: ${__PRIVATE_valueDescription(_e)}`)}(t,e)}function __PRIVATE_parseObject(t,e){const xe={};return isEmpty(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):forEach(t,(_e,Ee)=>{const Se=__PRIVATE_parseData(Ee,e.Ic(_e));Se!=null&&(xe[_e]=Se)}),{mapValue:{fields:xe}}}function __PRIVATE_looksLikeJsonObject(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue||t instanceof VectorValue)}function __PRIVATE_validatePlainObject(t,e,xe){if(!__PRIVATE_looksLikeJsonObject(xe)||!function(Ee){return typeof Ee=="object"&&Ee!==null&&(Object.getPrototypeOf(Ee)===Object.prototype||Object.getPrototypeOf(Ee)===null)}(xe)){const _e=__PRIVATE_valueDescription(xe);throw _e==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+_e)}}function __PRIVATE_fieldPathFromArgument$1(t,e,xe){if((e=getModularInstance(e))instanceof FieldPath)return e._internalPath;if(typeof e=="string")return __PRIVATE_fieldPathFromDotSeparatedString(t,e);throw __PRIVATE_createError("Field path arguments must be of type string or ",t,!1,void 0,xe)}const ln$2=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(t,e,xe){if(e.search(ln$2)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,xe);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,xe)}}function __PRIVATE_createError(t,e,xe,_e,Ee){const Se=_e&&!_e.isEmpty(),Ae=Ee!==void 0;let Re=`Function ${e}() called with invalid data`;xe&&(Re+=" (via `toFirestore()`)"),Re+=". ";let Pe="";return(Se||Ae)&&(Pe+=" (found",Se&&(Pe+=` in field ${_e}`),Ae&&(Pe+=` in document ${Ee}`),Pe+=")"),new FirestoreError(N$1.INVALID_ARGUMENT,Re+t+Pe)}function __PRIVATE_fieldMaskContains(t,e){return t.some(xe=>xe.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,xe,_e,Ee,Se){this._firestore=e,this._userDataWriter=xe,this._key=_e,this._document=Ee,this._converter=Se}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const xe=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(xe!==null)return this._userDataWriter.convertValue(xe)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(t,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new FirestoreError(N$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(t,e,...xe){let _e=[];e instanceof AppliableConstraint&&_e.push(e),_e=_e.concat(xe),function(Se){const Ae=Se.filter(Pe=>Pe instanceof QueryCompositeFilterConstraint).length,Re=Se.filter(Pe=>Pe instanceof QueryFieldFilterConstraint).length;if(Ae>1||Ae>0&&Re>0)throw new FirestoreError(N$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(_e);for(const Ee of _e)t=Ee._apply(t);return t}class QueryFieldFilterConstraint extends QueryConstraint{constructor(e,xe,_e){super(),this._field=e,this._op=xe,this._value=_e,this.type="where"}static _create(e,xe,_e){return new QueryFieldFilterConstraint(e,xe,_e)}_apply(e){const xe=this._parse(e);return __PRIVATE_validateNewFieldFilter(e._query,xe),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,xe))}_parse(e){const xe=__PRIVATE_newUserDataReader(e.firestore);return function(Se,Ae,Re,Pe,Te,Ie,je){let Oe;if(Te.isKeyField()){if(Ie==="array-contains"||Ie==="array-contains-any")throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ie}' queries on documentId().`);if(Ie==="in"||Ie==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(je,Ie);const Fe=[];for(const Me of je)Fe.push(__PRIVATE_parseDocumentIdValue(Pe,Se,Me));Oe={arrayValue:{values:Fe}}}else Oe=__PRIVATE_parseDocumentIdValue(Pe,Se,je)}else Ie!=="in"&&Ie!=="not-in"&&Ie!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(je,Ie),Oe=__PRIVATE_parseQueryValue(Re,Ae,je,Ie==="in"||Ie==="not-in");return FieldFilter.create(Te,Ie,Oe)}(e._query,"where",xe,e.firestore._databaseId,this._field,this._op,this._value)}}function where(t,e,xe){const _e=e,Ee=__PRIVATE_fieldPathFromArgument("where",t);return QueryFieldFilterConstraint._create(Ee,_e,xe)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(e,xe){super(),this.type=e,this._queryConstraints=xe}static _create(e,xe){return new QueryCompositeFilterConstraint(e,xe)}_parse(e){const xe=this._queryConstraints.map(_e=>_e._parse(e)).filter(_e=>_e.getFilters().length>0);return xe.length===1?xe[0]:CompositeFilter.create(xe,this._getOperator())}_apply(e){const xe=this._parse(e);return xe.getFilters().length===0?e:(function(Ee,Se){let Ae=Ee;const Re=Se.getFlattenedFilters();for(const Pe of Re)__PRIVATE_validateNewFieldFilter(Ae,Pe),Ae=__PRIVATE_queryWithAddedFilter(Ae,Pe)}(e._query,xe),new Query(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter(e._query,xe)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(e,xe){super(),this._field=e,this._direction=xe,this.type="orderBy"}static _create(e,xe){return new QueryOrderByConstraint(e,xe)}_apply(e){const xe=function(Ee,Se,Ae){if(Ee.startAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(Ee.endAt!==null)throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Se,Ae)}(e._query,this._field,this._direction);return new Query(e.firestore,e.converter,function(Ee,Se){const Ae=Ee.explicitOrderBy.concat([Se]);return new __PRIVATE_QueryImpl(Ee.path,Ee.collectionGroup,Ae,Ee.filters.slice(),Ee.limit,Ee.limitType,Ee.startAt,Ee.endAt)}(e._query,xe))}}function orderBy(t,e="asc"){const xe=e,_e=__PRIVATE_fieldPathFromArgument("orderBy",t);return QueryOrderByConstraint._create(_e,xe)}function __PRIVATE_parseDocumentIdValue(t,e,xe){if(typeof(xe=getModularInstance(xe))=="string"){if(xe==="")throw new FirestoreError(N$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(e)&&xe.indexOf("/")!==-1)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${xe}' contains a '/' character.`);const _e=e.path.child(ResourcePath.fromString(xe));if(!DocumentKey.isDocumentKey(_e))throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${_e}' is not because it has an odd number of segments (${_e.length}).`);return __PRIVATE_refValue(t,new DocumentKey(_e))}if(xe instanceof DocumentReference)return __PRIVATE_refValue(t,xe._key);throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(xe)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(t,e){if(!Array.isArray(t)||t.length===0)throw new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(t,e){const xe=function(Ee,Se){for(const Ae of Ee)for(const Re of Ae.getFlattenedFilters())if(Se.indexOf(Re.op)>=0)return Re.op;return null}(t.filters,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(xe!==null)throw xe===e.op?new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(N$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${xe.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(e,xe="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,xe);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,xe);case 11:return this.convertObject(e.mapValue,xe);case 10:return this.convertVectorValue(e.mapValue);default:throw fail(62114,{value:e})}}convertObject(e,xe){return this.convertObjectMap(e.fields,xe)}convertObjectMap(e,xe="none"){const _e={};return forEach(e,(Ee,Se)=>{_e[Ee]=this.convertValue(Se,xe)}),_e}convertVectorValue(e){var xe,_e,Ee;const Se=(Ee=(_e=(xe=e.fields)===null||xe===void 0?void 0:xe[Tt$1].arrayValue)===null||_e===void 0?void 0:_e.values)===null||Ee===void 0?void 0:Ee.map(Ae=>__PRIVATE_normalizeNumber(Ae.doubleValue));return new VectorValue(Se)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,xe){return(e.values||[]).map(_e=>this.convertValue(_e,xe))}convertServerTimestamp(e,xe){switch(xe){case"previous":const _e=__PRIVATE_getPreviousValue(e);return _e==null?null:this.convertValue(_e,xe);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const xe=__PRIVATE_normalizeTimestamp(e);return new Timestamp(xe.seconds,xe.nanos)}convertDocumentKey(e,xe){const _e=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(_e),9688,{name:e});const Ee=new DatabaseId(_e.get(1),_e.get(3)),Se=new DocumentKey(_e.popFirst(5));return Ee.isEqual(xe)||__PRIVATE_logError(`Document ${Se} contains a document reference within a different database (${Ee.projectId}/${Ee.database}) which is not supported. It will be treated as a reference in the current database (${xe.projectId}/${xe.database}) instead.`),Se}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(t,e,xe){let _e;return _e=t?t.toFirestore(e):e,_e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,xe){this.hasPendingWrites=e,this.fromCache=xe}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,xe,_e,Ee,Se,Ae){super(e,xe,_e,Ee,Ae),this._firestore=e,this._firestoreImpl=e,this.metadata=Se}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const xe=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(xe,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,xe={}){if(this._document){const _e=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(_e!==null)return this._userDataWriter.convertValue(_e,xe.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,xe,_e,Ee){this._firestore=e,this._userDataWriter=xe,this._snapshot=Ee,this.metadata=new SnapshotMetadata(Ee.hasPendingWrites,Ee.fromCache),this.query=_e}get docs(){const e=[];return this.forEach(xe=>e.push(xe)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,xe){this._snapshot.docs.forEach(_e=>{e.call(xe,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,_e.key,_e,new SnapshotMetadata(this._snapshot.mutatedKeys.has(_e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const xe=!!e.includeMetadataChanges;if(xe&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===xe||(this._cachedChanges=function(Ee,Se){if(Ee._snapshot.oldDocs.isEmpty()){let Ae=0;return Ee._snapshot.docChanges.map(Re=>{const Pe=new QueryDocumentSnapshot(Ee._firestore,Ee._userDataWriter,Re.doc.key,Re.doc,new SnapshotMetadata(Ee._snapshot.mutatedKeys.has(Re.doc.key),Ee._snapshot.fromCache),Ee.query.converter);return Re.doc,{type:"added",doc:Pe,oldIndex:-1,newIndex:Ae++}})}{let Ae=Ee._snapshot.oldDocs;return Ee._snapshot.docChanges.filter(Re=>Se||Re.type!==3).map(Re=>{const Pe=new QueryDocumentSnapshot(Ee._firestore,Ee._userDataWriter,Re.doc.key,Re.doc,new SnapshotMetadata(Ee._snapshot.mutatedKeys.has(Re.doc.key),Ee._snapshot.fromCache),Ee.query.converter);let Te=-1,Ie=-1;return Re.type!==0&&(Te=Ae.indexOf(Re.doc.key),Ae=Ae.delete(Re.doc.key)),Re.type!==1&&(Ae=Ae.add(Re.doc),Ie=Ae.indexOf(Re.doc.key)),{type:__PRIVATE_resultChangeType(Re.type),doc:Pe,oldIndex:Te,newIndex:Ie}})}}(this,xe),this._cachedChangesIncludeMetadataChanges=xe),this._cachedChanges}}function __PRIVATE_resultChangeType(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(t){t=__PRIVATE_cast(t,DocumentReference);const e=__PRIVATE_cast(t.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),t._key).then(xe=>__PRIVATE_convertToDocSnapshot(e,t,xe))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const xe=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,xe)}}function getDocs(t){t=__PRIVATE_cast(t,Query);const e=__PRIVATE_cast(t.firestore,Firestore),xe=ensureFirestoreConfigured(e),_e=new __PRIVATE_ExpUserDataWriter(e);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(xe,t._query).then(Ee=>new QuerySnapshot(e,_e,t,Ee))}function setDoc(t,e,xe){t=__PRIVATE_cast(t,DocumentReference);const _e=__PRIVATE_cast(t.firestore,Firestore),Ee=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(_e,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(_e),"setDoc",t._key,Ee,t.converter!==null,xe).toMutation(t._key,Precondition.none())])}function updateDoc(t,e,xe,..._e){t=__PRIVATE_cast(t,DocumentReference);const Ee=__PRIVATE_cast(t.firestore,Firestore),Se=__PRIVATE_newUserDataReader(Ee);let Ae;return Ae=typeof(e=getModularInstance(e))=="string"||e instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Se,"updateDoc",t._key,e,xe,_e):__PRIVATE_parseUpdateData(Se,"updateDoc",t._key,e),executeWrite(Ee,[Ae.toMutation(t._key,Precondition.exists(!0))])}function addDoc(t,e){const xe=__PRIVATE_cast(t.firestore,Firestore),_e=doc(t),Ee=__PRIVATE_applyFirestoreDataConverter(t.converter,e);return executeWrite(xe,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(t.firestore),"addDoc",_e._key,Ee,t.converter!==null,{}).toMutation(_e._key,Precondition.exists(!1))]).then(()=>_e)}function onSnapshot(t,...e){var xe,_e,Ee;t=getModularInstance(t);let Se={includeMetadataChanges:!1,source:"default"},Ae=0;typeof e[Ae]!="object"||__PRIVATE_isPartialObserver(e[Ae])||(Se=e[Ae],Ae++);const Re={includeMetadataChanges:Se.includeMetadataChanges,source:Se.source};if(__PRIVATE_isPartialObserver(e[Ae])){const je=e[Ae];e[Ae]=(xe=je.next)===null||xe===void 0?void 0:xe.bind(je),e[Ae+1]=(_e=je.error)===null||_e===void 0?void 0:_e.bind(je),e[Ae+2]=(Ee=je.complete)===null||Ee===void 0?void 0:Ee.bind(je)}let Pe,Te,Ie;if(t instanceof DocumentReference)Te=__PRIVATE_cast(t.firestore,Firestore),Ie=__PRIVATE_newQueryForPath(t._key.path),Pe={next:je=>{e[Ae]&&e[Ae](__PRIVATE_convertToDocSnapshot(Te,t,je))},error:e[Ae+1],complete:e[Ae+2]};else{const je=__PRIVATE_cast(t,Query);Te=__PRIVATE_cast(je.firestore,Firestore),Ie=je._query;const Oe=new __PRIVATE_ExpUserDataWriter(Te);Pe={next:ke=>{e[Ae]&&e[Ae](new QuerySnapshot(Te,Oe,je,ke))},error:e[Ae+1],complete:e[Ae+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(t._query)}return function(Oe,ke,Fe,Me){const De=new __PRIVATE_AsyncObserver(Me),Ue=new __PRIVATE_QueryListener(ke,De,Fe);return Oe.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Oe),Ue)),()=>{De.Cu(),Oe.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Oe),Ue))}}(ensureFirestoreConfigured(Te),Ie,Re,Pe)}function executeWrite(t,e){return function(_e,Ee){const Se=new __PRIVATE_Deferred;return _e.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(_e),Ee,Se)),Se.promise}(ensureFirestoreConfigured(t),e)}function __PRIVATE_convertToDocSnapshot(t,e,xe){const _e=xe.docs.get(e._key),Ee=new __PRIVATE_ExpUserDataWriter(t);return new DocumentSnapshot(t,Ee,e._key,_e,new SnapshotMetadata(xe.hasPendingWrites,xe.fromCache),e.converter)}(function(e,xe=!0){(function(Ee){x$3=Ee})(SDK_VERSION),_registerComponent(new Component("firestore",(_e,{instanceIdentifier:Ee,options:Se})=>{const Ae=_e.getProvider("app").getImmediate(),Re=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(_e.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Ae,_e.getProvider("app-check-internal")),function(Te,Ie){if(!Object.prototype.hasOwnProperty.apply(Te.options,["projectId"]))throw new FirestoreError(N$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Te.options.projectId,Ie)}(Ae,Ee),Ae);return Se=Object.assign({useFetchStreams:xe},Se),Re._setSettings(Se),Re},"PUBLIC").setMultipleInstances(!0)),registerVersion(F$1,M$1,e),registerVersion(F$1,M$1,"esm2017")})();const index_esm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter,Bytes,CollectionReference,DocumentReference,DocumentSnapshot,FieldPath,FieldValue,Firestore,FirestoreError,GeoPoint,Query,QueryCompositeFilterConstraint,QueryConstraint,QueryDocumentSnapshot,QueryFieldFilterConstraint,QueryOrderByConstraint,QuerySnapshot,SnapshotMetadata,Timestamp,VectorValue,_AutoId:__PRIVATE_AutoId,_ByteString:ByteString,_DatabaseId:DatabaseId,_DocumentKey:DocumentKey,_EmptyAuthCredentialsProvider:__PRIVATE_EmptyAuthCredentialsProvider,_FieldPath:FieldPath$1,_cast:__PRIVATE_cast,_logWarn:__PRIVATE_logWarn,_validateIsNotUsedTogether:__PRIVATE_validateIsNotUsedTogether,addDoc,collection,doc,ensureFirestoreConfigured,executeWrite,getDoc,getDocs,initializeFirestore,onSnapshot,orderBy,query,setDoc,updateDoc,where},Symbol.toStringTag,{value:"Module"})),firebaseConfig={apiKey:"AIzaSyDl-zrMWoOFT9zeVv_u-_jJu94u874rOoU",authDomain:"smartschool-ai-467a1.firebaseapp.com",projectId:"smartschool-ai-467a1",storageBucket:"smartschool-ai-467a1.firebasestorage.app",messagingSenderId:"749733869188",appId:"1:749733869188:web:ed613c2d4bcb473a2774d1"};console.log("FIREBASE CONFIG",firebaseConfig);const app=initializeApp(firebaseConfig),db=initializeFirestore(app,{experimentalForceLongPolling:!0}),auth=getAuth(app),AuthContext=reactExports.createContext(null),AuthProvider=({children:t})=>{const[e,xe]=reactExports.useState(null),[_e,Ee]=reactExports.useState([]),[Se,Ae]=reactExports.useState([]),[Re,Pe]=reactExports.useState(""),[Te,Ie]=reactExports.useState(!0),je=useNavigate();reactExports.useEffect(()=>{const Ye=onAuthStateChanged(auth,async Xe=>{if(Xe){const ir=doc(db,"users",Xe.uid);let Qe=await getDoc(ir);Qe.exists()||(await setDoc(ir,{name:Xe.displayName||"User",email:Xe.email,role:"parent"}),Qe=await getDoc(ir)),xe({uid:Xe.uid,...Qe.data()}),Qe.data().role==="parent"&&Oe(Xe.uid)}else xe(null),Ae([]);Ie(!1)});return()=>Ye()},[]),reactExports.useEffect(()=>{const Ye=localStorage.getItem("learningStyle");if(Ye&&e){xe(ir=>({...ir,learningStyle:Ye}));const Xe=doc(db,"users",e.uid);updateDoc(Xe,{learningStyle:Ye})}},[e]);const Oe=async Ye=>{const Xe=query(collection(db,"users"),where("role","==","student"),where("parentId","==",Ye)),Qe=(await getDocs(Xe)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));Ae(Qe)},ke=async(Ye,Xe,ir,Qe="parent")=>{Pe("");try{const Ke=await createUserWithEmailAndPassword(auth,Xe,ir);return await setDoc(doc(db,"users",Ke.user.uid),{name:Ye,email:Xe,role:Qe}),!0}catch(Ke){let rr="Signup failed.";return Ke.code==="auth/email-already-in-use"?rr="Email already in use.":Ke.code==="auth/invalid-email"?rr="Invalid email address.":Ke.code==="auth/weak-password"&&(rr="Password is too weak."),Pe(rr),console.error("AuthContext signup error:",Ke),!1}},Fe=async(Ye,Xe)=>{Pe("");try{await signInWithEmailAndPassword(auth,Ye,Xe);const ir=await getDoc(doc(db,"users",auth.currentUser.uid)),Qe=ir.exists()?ir.data().role:null;return je(Qe==="parent"?"/parent-dashboard":Qe==="student"?"/user-home":Qe==="admin"?"/admin":"/dashboard"),!0}catch(ir){let Qe="Login failed.";return ir.code==="auth/wrong-password"?Qe="Incorrect password.":ir.code==="auth/user-not-found"?Qe="User not found.":ir.code==="auth/invalid-email"&&(Qe="Invalid email address."),Pe(Qe),console.error("AuthContext login error:",ir),!1}},Me=async()=>{await signOut(auth),Ae([]),je("/")},De=async Ye=>{if(!e||e.role!=="parent")return!1;try{const Xe=doc(collection(db,"users"));await setDoc(Xe,{...Ye,role:"student",parentId:e.uid});const ir=doc(db,"students",Xe.id);return await setDoc(ir,{...Ye,parentId:e.uid,userId:Xe.id}),await Oe(e.uid),!0}catch(Xe){return console.error("addStudent error:",Xe),!1}},Ue=()=>Se,ze=async Ye=>{if(!e||e.role!=="parent")return!1;try{return await updateDoc(doc(db,"users",Ye.id),Ye),await Oe(e.uid),!0}catch{return!1}},We=async Ye=>!1;return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:e,users:_e,students:Se,signup:ke,login:Fe,logout:Me,addStudent:De,getStudents:Ue,updateStudent:ze,deleteStudent:We,authError:Re,loading:Te},children:t})},useAuth=()=>reactExports.useContext(AuthContext),TOAST_LIMIT=1;let count=0;function generateId(){return count=(count+1)%Number.MAX_VALUE,count.toString()}const toastStore={state:{toasts:[]},listeners:[],getState:()=>toastStore.state,setState:t=>{typeof t=="function"?toastStore.state=t(toastStore.state):toastStore.state={...toastStore.state,...t},toastStore.listeners.forEach(e=>e(toastStore.state))},subscribe:t=>(toastStore.listeners.push(t),()=>{toastStore.listeners=toastStore.listeners.filter(e=>e!==t)})},toast=({...t})=>{const e=generateId(),xe=Ee=>toastStore.setState(Se=>({...Se,toasts:Se.toasts.map(Ae=>Ae.id===e?{...Ae,...Ee}:Ae)})),_e=()=>toastStore.setState(Ee=>({...Ee,toasts:Ee.toasts.filter(Se=>Se.id!==e)}));return toastStore.setState(Ee=>({...Ee,toasts:[{...t,id:e,dismiss:_e},...Ee.toasts].slice(0,TOAST_LIMIT)})),{id:e,dismiss:_e,update:xe}};function useToast(){const[t,e]=reactExports.useState(toastStore.getState());return reactExports.useEffect(()=>toastStore.subscribe(_e=>{e(_e)}),[]),reactExports.useEffect(()=>{const xe=[];return t.toasts.forEach(_e=>{if(_e.duration===1/0)return;const Ee=setTimeout(()=>{_e.dismiss()},_e.duration||5e3);xe.push(Ee)}),()=>{xe.forEach(_e=>clearTimeout(_e))}},[t.toasts]),{toast,toasts:t.toasts}}const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function(e,xe,_e){let Ee=Promise.resolve();if(xe&&xe.length>0){let Ae=function(Te){return Promise.all(Te.map(Ie=>Promise.resolve(Ie).then(je=>({status:"fulfilled",value:je}),je=>({status:"rejected",reason:je}))))};document.getElementsByTagName("link");const Re=document.querySelector("meta[property=csp-nonce]"),Pe=(Re==null?void 0:Re.nonce)||(Re==null?void 0:Re.getAttribute("nonce"));Ee=Ae(xe.map(Te=>{if(Te=assetsURL(Te),Te in seen)return;seen[Te]=!0;const Ie=Te.endsWith(".css"),je=Ie?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Te}"]${je}`))return;const Oe=document.createElement("link");if(Oe.rel=Ie?"stylesheet":scriptRel,Ie||(Oe.as="script"),Oe.crossOrigin="",Oe.href=Te,Pe&&Oe.setAttribute("nonce",Pe),document.head.appendChild(Oe),Ie)return new Promise((ke,Fe)=>{Oe.addEventListener("load",ke),Oe.addEventListener("error",()=>Fe(new Error(`Unable to preload CSS for ${Te}`)))})}))}function Se(Ae){const Re=new Event("vite:preloadError",{cancelable:!0});if(Re.payload=Ae,window.dispatchEvent(Re),!Re.defaultPrevented)throw Ae}return Ee.then(Ae=>{for(const Re of Ae||[])Re.status==="rejected"&&Se(Re.reason);return e().catch(Se)})};let API_BASE="";API_BASE="https://tranquil-crepe-967601.onrender.com";const API_BASE$1=API_BASE;async function generateLesson$1({grade:t,subject:e,topic:xe,studentProfile:_e}){var Pe,Te,Ie,je,Oe;const Ee=((Te=(Pe=_e.subjects)==null?void 0:Pe[e])==null?void 0:Te.strengths)||[],Se=((je=(Ie=_e.subjects)==null?void 0:Ie[e])==null?void 0:je.recentErrors)||[],Ae={grade:t,subject:e,topic:xe,style:_e.preferredStyle,mastery:((Oe=_e.subjects[e])==null?void 0:Oe.mastery)??50,pace:_e.pace,strengths:Ee,weaknesses:Se,studentProfile:_e},Re=await fetch(`${API_BASE$1}/api/generate-lesson`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(!Re.ok)throw new Error("Failed to generate lesson from backend API");return await Re.json()}function getExternalResources(t,e){return[{title:"Khan Academy",url:`https://www.khanacademy.org/search?page_search_query=${encodeURIComponent(t+" "+e)}`},{title:"CK-12",url:`https://www.ck12.org/search/?q=${encodeURIComponent(t+" "+e)}`},{title:"YouTube",url:`https://www.youtube.com/results?search_query=${encodeURIComponent(t+" "+e)}`}]}function getMotivationalMessage(t,e){return t==="sad"||t==="frustrated"?"You're doing great! Every mistake is a step toward mastery.":e&&e.lessonsCompleted>0&&e.lessonsCompleted%5===0?"Awesome job! You've completed another 5 lessons!":"Keep going! Every day you learn, you grow."}function getEnrichmentRemediation(t,e){const xe=[],_e=[],Ee=t.grade,Se=e.find(Ae=>Ae.grade===Ee||Ae.grade===`Grade ${Ee}`);if(!Se)return{enrichment:xe,remediation:_e};for(const[Ae,Re]of Object.entries(Se.subjects)){const Pe=t.subjects[Ae]||{};Re.forEach(Te=>{const Ie=(t.history||[]).find(je=>je.subject===Ae&&je.lessonId===Te);Ie&&Ie.score>=90&&xe.push(`${Ae}: ${Te}`)}),(Pe.recentErrors||[]).forEach(Te=>{Re.includes(Te)&&_e.push(`${Ae}: ${Te}`)}),Re.forEach(Te=>{const Ie=(t.history||[]).find(je=>je.subject===Ae&&je.lessonId===Te);Ie&&Ie.score<60&&_e.push(`${Ae}: ${Te}`)})}return{enrichment:xe,remediation:_e}}function MultiModalLesson({studentProfile:t,grade:e,subject:xe,topic:_e,audioUrl:Ee,videoUrl:Se,simUrl:Ae}){var hr,br;const[Re,Pe]=reactExports.useState("text"),[Te,Ie]=reactExports.useState(null),[je,Oe]=reactExports.useState([]),[ke,Fe]=reactExports.useState(""),[Me,De]=reactExports.useState([]),[Ue,ze]=reactExports.useState([]),[We,Ye]=reactExports.useState(Ee||null),[Xe,ir]=reactExports.useState(Se||null),[Qe,Ke]=reactExports.useState(Ae||null),[rr,cr]=reactExports.useState(!1),[Ze,er]=reactExports.useState(!1),[sr,fr]=reactExports.useState(!1),[_r,Er]=reactExports.useState(!1),[yr,mr]=reactExports.useState(!1),[Pr,Cr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{async function Ir(){const jr=await generateLesson$1({grade:e,subject:xe,topic:_e,studentProfile:t});Ie(jr),Oe(getExternalResources(xe,_e)),Fe(getMotivationalMessage(t.mood||"",t));const{enrichment:Mr,remediation:Vr}=getEnrichmentRemediation(t,window.curriculumMap||[]);De(Mr),ze(Vr),!Ee&&jr.audioUrl&&Ye(jr.audioUrl),!Se&&jr.videoUrl&&ir(jr.videoUrl),!Ae&&jr.simUrl&&Ke(jr.simUrl)}Ir(),Ye(Ee||null),ir(Se||null),Ke(Ae||null),er(!1),Er(!1),Cr(!1)},[e,xe,_e,t,Ee,Se,Ae]),!Te)return jsxRuntimeExports.jsx("div",{children:"Loading lesson..."});const wr=()=>{var Ir;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{children:"Lesson Steps"}),jsxRuntimeExports.jsx("ol",{children:(Ir=Te.steps)==null?void 0:Ir.map((jr,Mr)=>jsxRuntimeExports.jsxs("li",{style:{marginBottom:12},children:[jsxRuntimeExports.jsx("div",{children:jr.instruction}),jr.visual&&jsxRuntimeExports.jsx("div",{style:{marginTop:6},children:jsxRuntimeExports.jsx("img",{src:jr.visual,alt:`Visual for step ${Mr+1}`,style:{maxWidth:300,borderRadius:8}})})]},Mr))})]})},or=()=>{var Ir;return jsxRuntimeExports.jsxs("div",{style:{marginTop:16},children:[jsxRuntimeExports.jsx("h5",{children:"Practice"}),jsxRuntimeExports.jsx("ul",{style:{listStyle:"none",padding:0},children:(Ir=Te.practice)==null?void 0:Ir.map((jr,Mr)=>jsxRuntimeExports.jsxs("li",{style:{marginBottom:12},children:[jsxRuntimeExports.jsx("div",{children:jr.question}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.95em",color:"#888"},children:["Hint: ",jr.hint]})]},Mr))})]})};return jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold mb-2",children:"Multi-Modal Lesson Delivery"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>Pe("text"),className:`rounded-xl shadow-lg font-semibold text-base px-5 py-2 bg-smartSchool-blue hover:bg-blue-700 transition-transform duration-150 active:scale-95 flex items-center gap-2 ${Re==="text"?"ring-2 ring-smartSchool-blue":""}`,children:[" ",jsxRuntimeExports.jsx(BookOpenText,{size:18,className:"mr-1"})," Read Lesson "]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Pe("audio"),className:`rounded-xl shadow-lg font-semibold text-base px-5 py-2 bg-green-400 hover:bg-green-200 transition-transform duration-150 active:scale-95 flex items-center gap-2 ${Re==="audio"?"ring-2 ring-green-400":""}`,children:[" ",jsxRuntimeExports.jsx(Headphones,{size:18,className:"mr-1"})," Listen to Audio "]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Pe("video"),className:`rounded-xl shadow-lg font-semibold text-base px-5 py-2 bg-pink-400 hover:bg-pink-200 transition-transform duration-150 active:scale-95 flex items-center gap-2 ${Re==="video"?"ring-2 ring-pink-400":""}`,children:[" ",jsxRuntimeExports.jsx(Video,{size:18,className:"mr-1"})," Watch Video "]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Pe("sim"),className:`rounded-xl shadow-lg font-semibold text-base px-5 py-2 bg-yellow-400 hover:bg-yellow-200 transition-transform duration-150 active:scale-95 flex items-center gap-2 ${Re==="sim"?"ring-2 ring-yellow-400":""}`,children:[" ",jsxRuntimeExports.jsx(Atom,{size:18,className:"mr-1"})," Try Simulation "]})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:16},children:[Re==="text"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{children:"Intro"}),jsxRuntimeExports.jsx("div",{style:{marginBottom:12},children:Te.intro}),wr(),or(),jsxRuntimeExports.jsxs("div",{style:{marginTop:16,fontSize:"0.95em",color:"#888"},children:["Progress: Completion ",((hr=Te.progress)==null?void 0:hr.completion)??0,"%, Retries: ",((br=Te.progress)==null?void 0:br.retryCount)??0]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:16},children:[jsxRuntimeExports.jsx("h5",{children:"Motivation"}),jsxRuntimeExports.jsx("div",{children:ke})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:16},children:[jsxRuntimeExports.jsx("h5",{children:"External Resources"}),jsxRuntimeExports.jsx("ul",{children:je.map((Ir,jr)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:Ir.url,target:"_blank",rel:"noopener noreferrer",children:Ir.title})},jr))})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:16},children:[jsxRuntimeExports.jsx("h5",{children:"Enrichment"}),jsxRuntimeExports.jsx("ul",{children:Me.map((Ir,jr)=>jsxRuntimeExports.jsx("li",{children:Ir},jr))}),jsxRuntimeExports.jsx("h5",{children:"Remediation"}),jsxRuntimeExports.jsx("ul",{children:Ue.map((Ir,jr)=>jsxRuntimeExports.jsx("li",{children:Ir},jr))})]})]}),Re==="audio"&&(We?jsxRuntimeExports.jsxs("div",{children:[rr&&jsxRuntimeExports.jsx("div",{children:"Loading audio..."}),Ze&&jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"Audio failed to load. Please try again later."}),jsxRuntimeExports.jsx("audio",{controls:!0,src:We,style:{width:"100%"},"aria-label":"Lesson audio",onLoadStart:()=>{cr(!0),er(!1)},onCanPlayThrough:()=>cr(!1),onError:()=>{cr(!1),er(!0)},children:"Your browser does not support the audio element."})]}):jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"This mode is not available for this lesson."})),Re==="video"&&(Xe?jsxRuntimeExports.jsxs("div",{children:[sr&&jsxRuntimeExports.jsx("div",{children:"Loading video..."}),_r&&jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"Video failed to load. Please try again later."}),jsxRuntimeExports.jsx("video",{controls:!0,src:Xe,style:{width:"100%",maxHeight:400},"aria-label":"Lesson video",title:"Lesson video",onLoadStart:()=>{fr(!0),Er(!1)},onCanPlayThrough:()=>fr(!1),onError:()=>{fr(!1),Er(!0)},children:"Your browser does not support the video tag."})]}):jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"This mode is not available for this lesson."})),Re==="sim"&&(Qe?jsxRuntimeExports.jsxs("div",{children:[yr&&jsxRuntimeExports.jsx("div",{children:"Loading simulation..."}),Pr&&jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"Simulation failed to load. Please try again later."}),jsxRuntimeExports.jsx("iframe",{src:Qe,title:"Simulation",style:{width:"100%",height:400,border:"1px solid #ccc"},"aria-label":"Lesson simulation",onLoad:()=>mr(!1),onError:()=>{mr(!1),Cr(!0)},onLoadStart:()=>{mr(!0),Cr(!1)}})]}):jsxRuntimeExports.jsx("div",{style:{color:"red"},children:"This mode is not available for this lesson."}))]})]})}const BREAK_OPTIONS=[{type:"mindfulness",label:"Mindfulness Break",description:"Take a moment to breathe, relax, and refocus your mind.",examples:["Deep breathing","Guided meditation","Visualization"]},{type:"movement",label:"Movement Activity",description:"Get up and move to refresh your body and boost energy.",examples:["Stretching","Jumping jacks","Dance break"]}];function BrainBreaks({onTakeBreak:t}){const[e,xe]=reactExports.useState(null),[_e,Ee]=reactExports.useState(null),[Se,Ae]=reactExports.useState(null),[Re,Pe]=reactExports.useState([]),Te=async Ie=>{xe(Ie),Ee(null),Ae(null);try{await Promise.resolve(t==null?void 0:t(Ie)),Ae(Ie),Pe([{type:Ie,time:new Date().toLocaleTimeString()},...Re])}catch{Ee("Failed to start break. Please try again.")}finally{xe(null)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-yellow/40 p-8 max-w-md mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-yellow mb-2 font-poppins drop-shadow",children:"Brain Breaks"}),jsxRuntimeExports.jsx("div",{className:"text-gray-700 text-sm mb-4 text-center",children:"Short activities to refresh your mind and body. Choose a break below!"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4 w-full mb-4",children:BREAK_OPTIONS.map(Ie=>jsxRuntimeExports.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-smartSchool-yellow mb-1",children:Ie.label}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mb-1",children:Ie.description}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Examples: ",Ie.examples.join(", ")]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(Ie.type),"aria-label":Ie.label,disabled:e===Ie.type,className:`mt-2 md:mt-0 px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60 bg-smartSchool-yellow text-white hover:bg-yellow-400 active:scale-95 ${e===Ie.type?"opacity-60 cursor-not-allowed":""}`,children:e===Ie.type?"Starting...":Ie.label})]},Ie.type))}),Se&&jsxRuntimeExports.jsx("div",{className:"text-green-600 font-semibold animate-bounce mt-2",children:Se==="mindfulness"?"Enjoy your mindfulness break!":"Enjoy your movement activity!"}),_e&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:_e}),Re.length>0&&jsxRuntimeExports.jsxs("div",{className:"w-full mt-4",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-700 font-semibold mb-2",children:"Recent Breaks:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-xs text-gray-600",children:Re.slice(0,5).map((Ie,je)=>jsxRuntimeExports.jsxs("li",{className:"bg-gray-50 border border-gray-100 rounded px-2 py-1",children:[Ie.type==="mindfulness"?"Mindfulness":"Movement"," at ",Ie.time]},je))})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Take a short break to refresh your mind and body! Try a new activity each time."})]})}function Certificate({profile:t,type:e="progress"}){const[xe,_e]=React.useState(!1),[Ee,Se]=React.useState(null),[Ae,Re]=React.useState(!1),Pe=new Date().toLocaleDateString(),Te=async()=>{_e(!0),Se(null),Re(!1);try{const je=document.getElementById("certificate-content");if(window.html2canvas&&je){const Oe=await window.html2canvas(je),ke=document.createElement("a");ke.download=`${t.id||"certificate"}.png`,ke.href=Oe.toDataURL(),ke.click()}else Se("Download not supported in this browser.")}catch{Se("Failed to download certificate.")}finally{_e(!1)}},Ie=async()=>{_e(!0),Se(null),Re(!1);try{const je=`${e==="graduation"?"Graduation Certificate":"Progress Certificate"}
This certifies that ${t.id}
has successfully ${e==="graduation"?"completed all requirements for graduation":"made significant progress in their studies"}.
Date: ${Pe}
SmartSchool AI`;await navigator.clipboard.writeText(je),Re(!0)}catch{Se("Failed to copy certificate.")}finally{_e(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-yellow/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center relative",children:[jsxRuntimeExports.jsxs("div",{id:"certificate-content","aria-label":"Certificate content",tabIndex:0,className:"w-full text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-smartSchool-yellow font-poppins drop-shadow mb-2 animate-tada",children:e==="graduation"?"Graduation Certificate":"Progress Certificate"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-700",children:"This certifies that"}),jsxRuntimeExports.jsx("h1",{className:"my-4 text-3xl font-extrabold text-smartSchool-blue font-poppins animate-fade-in-slow",children:t.id}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-700",children:["has successfully ",e==="graduation"?"completed all requirements for graduation":"made significant progress in their studies","."]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500 mt-2",children:["Date: ",Pe]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:Te,disabled:xe,className:"px-4 py-2 rounded-lg bg-smartSchool-blue text-white font-semibold shadow hover:bg-blue-700 transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60",children:xe?"Downloading...":"Download as Image"}),jsxRuntimeExports.jsx("button",{onClick:Ie,disabled:xe,className:"px-4 py-2 rounded-lg bg-smartSchool-yellow text-white font-semibold shadow hover:bg-yellow-400 transition active:scale-95 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60",children:xe?"Copying...":Ae?"Copied!":"Copy Text"})]}),Ee&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold mt-4 animate-shake",children:Ee})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-2 right-4 text-xs text-gray-400 font-poppins",children:"SmartSchool AI"})]})}function DailyCheckIn({onCheckIn:t}){const[e,xe]=reactExports.useState(""),[_e,Ee]=reactExports.useState(""),[Se,Ae]=reactExports.useState(""),[Re,Pe]=reactExports.useState(5),[Te,Ie]=reactExports.useState(7),[je,Oe]=reactExports.useState(""),[ke,Fe]=reactExports.useState(""),[Me,De]=reactExports.useState(!1),[Ue,ze]=reactExports.useState(null),[We,Ye]=reactExports.useState(!1),[Xe,ir]=reactExports.useState(!1),Qe=async()=>{if(!_e||!e.trim()){ze("Please select your mood and describe it.");return}De(!0),ze(null),Ye(!1);try{await Promise.resolve(t({mood:e,moodEmoji:_e,journal:Se,energy:Re,sleep:Te,goal:je,gratitude:ke,date:new Date().toLocaleDateString()})),Ye(!0),ir(!0),xe(""),Ee(""),Ae(""),Pe(5),Ie(7),Oe(""),Fe("")}catch{ze("Failed to submit check-in. Please try again.")}finally{De(!1)}},Ke=[{emoji:"",label:"Happy"},{emoji:"",label:"Okay"},{emoji:"",label:"Neutral"},{emoji:"",label:"Sad"},{emoji:"",label:"Angry"},{emoji:"",label:"Tired"},{emoji:"",label:"Excited"},{emoji:"",label:"Anxious"}];return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-red/40 p-6 max-w-md mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold text-smartSchool-red mb-4 font-poppins drop-shadow",children:"Daily Check-In"}),Xe?jsxRuntimeExports.jsxs("div",{className:"w-full bg-green-50 border border-green-200 rounded-xl p-4 mb-2 animate-fade-in",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-green-700 mb-2",children:"Check-In Summary"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:_e}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-smartSchool-red",children:"Mood:"})," ",jsxRuntimeExports.jsx("span",{children:e})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Journal:"})," ",Se||jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"(none)"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Energy:"})," ",Re,"/10"]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Sleep:"})," ",Te," hours"]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Goal:"})," ",je||jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"(none)"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Gratitude:"})," ",ke||jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"(none)"})]}),jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-1.5 rounded bg-smartSchool-red/80 text-white font-semibold shadow hover:bg-smartSchool-red/90 transition",onClick:()=>ir(!1),children:"Check in again"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red mb-1",children:"How are you feeling today?"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Ke.map(rr=>jsxRuntimeExports.jsx("button",{type:"button",className:`px-3 py-2 rounded-xl border-2 text-2xl font-bold transition focus:outline-none focus:ring-2 focus:ring-smartSchool-red/40 ${_e===rr.emoji?"bg-smartSchool-red/20 border-smartSchool-red":"bg-white border-gray-200 hover:bg-smartSchool-red/10"}`,onClick:()=>{Ee(rr.emoji),ze(null)},"aria-label":rr.label,children:rr.emoji},rr.emoji))}),jsxRuntimeExports.jsx("input",{value:e,onChange:rr=>{xe(rr.target.value),Ye(!1),ze(null)},placeholder:"Describe your mood in a word or two...","aria-label":"Describe your mood",disabled:Me,className:"px-4 py-2 rounded-lg border-2 border-smartSchool-red/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/40 text-base shadow",maxLength:32})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red",children:"Write a short journal entry (optional)"}),jsxRuntimeExports.jsx("textarea",{value:Se,onChange:rr=>Ae(rr.target.value),placeholder:"Anything on your mind?",className:"px-4 py-2 rounded-lg border-2 border-smartSchool-red/20 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/30 text-base shadow min-h-[60px]",maxLength:200,disabled:Me})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red",children:"How much energy do you have?"}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:10,value:Re,onChange:rr=>Pe(Number(rr.target.value)),className:"w-full accent-smartSchool-red",disabled:Me}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Energy: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-smartSchool-red",children:Re}),"/10"]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red",children:"How many hours did you sleep last night?"}),jsxRuntimeExports.jsx("input",{type:"number",min:0,max:16,value:Te,onChange:rr=>Ie(Number(rr.target.value)),className:"w-24 px-2 py-1 rounded-lg border-2 border-smartSchool-red/20 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/30 text-base shadow",disabled:Me}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Sleep: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-smartSchool-red",children:Te})," hours"]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red",children:"What's your main goal for today?"}),jsxRuntimeExports.jsx("input",{value:je,onChange:rr=>Oe(rr.target.value),placeholder:"E.g. Finish my math homework",className:"px-4 py-2 rounded-lg border-2 border-smartSchool-red/20 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/30 text-base shadow",maxLength:60,disabled:Me})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-2 mb-3",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-smartSchool-red",children:"One thing you're grateful for today?"}),jsxRuntimeExports.jsx("input",{value:ke,onChange:rr=>Fe(rr.target.value),placeholder:"E.g. My family, a sunny day, a good friend...",className:"px-4 py-2 rounded-lg border-2 border-smartSchool-red/20 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/30 text-base shadow",maxLength:60,disabled:Me})]}),jsxRuntimeExports.jsx("button",{onClick:Qe,disabled:Me||!_e||!e.trim(),"aria-label":"Submit mood check-in",className:`w-full px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/60 bg-smartSchool-red text-white hover:bg-red-400 active:scale-95 ${Me||!_e||!e.trim()?"opacity-60 cursor-not-allowed":""}`,children:Me?"Submitting...":"Submit"})]}),We&&!Xe&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-2",children:"Check-in received!"}),Ue&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ue}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Your feelings matter! Let us know how you are today."})]})}function getInitials(t){return t?t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"A"}const TAGS=[{label:"Question",color:"bg-smartSchool-blue/30 text-smartSchool-blue"},{label:"Help",color:"bg-smartSchool-yellow/40 text-yellow-800"},{label:"Fun",color:"bg-pink-100 text-pink-600"},{label:"Challenge",color:"bg-green-100 text-green-700"},{label:"Share",color:"bg-purple-100 text-purple-700"}];function Confetti({show:t}){return t?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[9999] pointer-events-none flex items-center justify-center animate-fade-in",children:jsxRuntimeExports.jsx("div",{className:"text-7xl animate-bounce",children:""})}):null}function DiscussionBoard({threads:t,onPost:e}){const[xe,_e]=reactExports.useState(""),[Ee,Se]=reactExports.useState(""),[Ae,Re]=reactExports.useState(!1),[Pe,Te]=reactExports.useState(null),[Ie,je]=reactExports.useState(!1),[Oe,ke]=reactExports.useState({}),[Fe,Me]=reactExports.useState({}),[De,Ue]=reactExports.useState({}),[ze,We]=reactExports.useState({}),[Ye,Xe]=reactExports.useState({}),[ir,Qe]=reactExports.useState({}),[Ke,rr]=reactExports.useState({}),[cr,Ze]=reactExports.useState(!1),er=Object.values(Oe).flat().reduce((yr,mr)=>(!mr||!mr.author||(yr[mr.author]=(yr[mr.author]||0)+1),yr),{}),sr=Object.entries(er).sort((yr,mr)=>mr[1]-yr[1]).slice(0,3),fr=async()=>{Re(!0),Te(null),je(!1);try{await Promise.resolve(e({author:Ee||"Anonymous",text:xe})),je(!0),_e(""),Se("")}catch{Te("Failed to post thread. Please try again.")}finally{Re(!1)}},_r=yr=>{var Cr,wr;const mr=(Cr=Fe[yr])==null?void 0:Cr.trim(),Pr=((wr=ze[yr])==null?void 0:wr.trim())||"Anonymous";mr&&(ke(or=>{var br;const hr={...or,[yr]:[...or[yr]||[],{author:Pr,text:mr}]};return(((br=hr[yr])==null?void 0:br.length)||0)===1&&Ze(!0),setTimeout(()=>Ze(!1),1800),hr}),Me(or=>({...or,[yr]:""})),We(or=>({...or,[yr]:""})))},Er=(yr,mr)=>{rr(Pr=>{const Cr=`${yr}-${mr}`;return{...Pr,[Cr]:(Pr[Cr]||0)+1}})};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-smartSchool-blue/30 p-6 max-w-2xl mx-auto animate-fade-in flex flex-col items-center relative min-h-[80vh]",children:[jsxRuntimeExports.jsx(Confetti,{show:cr}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold text-smartSchool-blue mb-2 font-poppins drop-shadow tracking-tight",children:"Discussion Board"}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col items-center mb-2",children:[jsxRuntimeExports.jsx("div",{className:"text-base font-bold text-smartSchool-blue mb-0.5",children:"Top Responders"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap justify-center",children:sr.length===0?jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs",children:"No responses yet"}):sr.map(([yr,mr],Pr)=>jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center px-2 py-1 rounded-lg shadow bg-smartSchool-yellow/30 border border-smartSchool-yellow/40 ${Pr===0?"scale-105":""}`,children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-smartSchool-blue",children:getInitials(yr)}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-smartSchool-blue/90 text-xs",children:yr}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-gray-600",children:[mr," responses"]})]},yr))})]}),jsxRuntimeExports.jsx("button",{className:"mb-3 px-3 py-1.5 rounded bg-smartSchool-blue/90 hover:bg-smartSchool-blue text-white font-semibold shadow transition focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60 text-sm",onClick:()=>_e("AI Suggestion: What is something new you learned this week?"),"aria-label":"Get AI thread suggestion",children:" AI Suggest a Topic"}),t.length===0&&jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col items-center justify-center py-8 text-center text-gray-400 text-base font-poppins animate-fade-in-slow",children:[jsxRuntimeExports.jsx("span",{className:"text-3xl mb-1",children:""}),jsxRuntimeExports.jsx("span",{children:"No threads yet. Be the first to start a discussion!"})]}),jsxRuntimeExports.jsx("div",{className:"w-full flex-1 overflow-y-auto max-h-[40vh] min-h-[120px] mb-4 pr-1",children:jsxRuntimeExports.jsx("ul",{className:"w-full",children:[...t.entries()].sort((yr,mr)=>ir[yr[0]]&&!ir[mr[0]]?-1:!ir[yr[0]]&&ir[mr[0]]?1:0).map(([yr,mr])=>{var Pr;return jsxRuntimeExports.jsxs("li",{className:"py-2 px-1 rounded-xl mb-2 shadow group flex flex-col gap-1 transition-all duration-200 bg-white hover:scale-[1.01] hover:shadow-lg relative",tabIndex:0,"aria-label":`Thread by ${mr.author}`,children:[jsxRuntimeExports.jsx("button",{className:`absolute top-2 right-2 px-1.5 py-0.5 rounded-full text-[10px] font-bold shadow border ${ir[yr]?"bg-smartSchool-yellow/90 text-smartSchool-blue border-smartSchool-yellow/60":"bg-white/80 text-gray-400 border-gray-200 hover:bg-smartSchool-yellow/40 hover:text-smartSchool-blue"}`,onClick:()=>Qe(Cr=>({...Cr,[yr]:!Cr[yr]})),"aria-label":ir[yr]?"Unpin thread":"Pin thread",type:"button",children:ir[yr]?" Pinned":" Pin"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[jsxRuntimeExports.jsx("div",{className:"w-7 h-7 rounded-full bg-smartSchool-blue/20 flex items-center justify-center text-xs font-bold text-smartSchool-blue border-2 border-smartSchool-blue/30 shadow-sm",children:getInitials(mr.author)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-1",children:[jsxRuntimeExports.jsx("span",{className:"text-smartSchool-blue font-semibold text-xs group-hover:underline",children:mr.author}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 text-xs font-poppins break-words whitespace-pre-line",children:mr.text}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-0.5 flex-wrap",children:[TAGS.map((Cr,wr)=>jsxRuntimeExports.jsx("button",{className:`px-1.5 py-0.5 rounded-full text-[10px] font-bold border ${Cr.color} border-gray-200 hover:scale-105 transition ${Ye[yr]===Cr.label?"ring-2 ring-smartSchool-blue/40":""}`,onClick:()=>Xe(or=>({...or,[yr]:or[yr]===Cr.label?null:Cr.label})),"aria-label":`Tag as ${Cr.label}`,children:Cr.label},Cr.label)),Ye[yr]&&jsxRuntimeExports.jsx("span",{className:"ml-1 px-1.5 py-0.5 rounded-full bg-smartSchool-blue/20 text-smartSchool-blue text-[10px] font-bold",children:Ye[yr]})]})]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400 ml-1",children:mr.createdAt?new Date(mr.createdAt).toLocaleString():jsxRuntimeExports.jsx("span",{className:"inline-block bg-smartSchool-yellow/80 text-smartSchool-blue px-1.5 py-0.5 rounded font-bold ml-1",children:"NEW"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1 bg-white/80 rounded-lg p-2 border border-smartSchool-blue/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-end w-full flex-wrap",children:[jsxRuntimeExports.jsx("input",{value:ze[yr]||"",onChange:Cr=>We(wr=>({...wr,[yr]:Cr.target.value})),placeholder:"Your name (optional)",className:"w-24 px-1 py-0.5 rounded border border-smartSchool-blue/20 text-xs focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/20 shadow min-w-0",maxLength:24,"aria-label":"Response author name"}),jsxRuntimeExports.jsx("input",{value:Fe[yr]||"",onChange:Cr=>Me(wr=>({...wr,[yr]:Cr.target.value})),placeholder:"Write your response...",className:"flex-1 px-2 py-1 rounded border border-smartSchool-blue/30 text-xs focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/30 shadow min-w-0",maxLength:120,"aria-label":"Response text"}),jsxRuntimeExports.jsx("button",{onClick:()=>_r(yr),className:"px-2 py-1 rounded bg-smartSchool-yellow/90 hover:bg-smartSchool-yellow font-semibold text-gray-800 text-xs shadow-sm transition disabled:opacity-50 border border-smartSchool-yellow/40 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/30",disabled:!Fe[yr]||!Fe[yr].trim(),"aria-label":"Turn in response",children:"Turn In"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ue(Cr=>({...Cr,[yr]:!Cr[yr]})),className:"px-2 py-1 rounded bg-smartSchool-blue/10 hover:bg-smartSchool-blue/20 text-smartSchool-blue text-xs font-semibold transition border border-smartSchool-blue/10 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/30","aria-label":De[yr]?"Hide responses":"Show responses",children:[De[yr]?"Hide":"See"," Responses ",jsxRuntimeExports.jsx("span",{className:"ml-1",children:((Pr=Oe[yr])==null?void 0:Pr.length)||0})]})]}),De[yr]&&jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-smartSchool-blue font-bold text-xs border-b border-smartSchool-blue/20 pb-0.5",children:"Responses"}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-smartSchool-blue/10 rounded p-2 text-xs max-h-32 overflow-y-auto",children:Oe[yr]&&Oe[yr].length>0?jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:Oe[yr].map((Cr,wr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-1 text-gray-700 bg-smartSchool-blue/5 rounded px-1.5 py-0.5 shadow-sm group/resp",children:[jsxRuntimeExports.jsx("span",{className:"w-5 h-5 rounded-full bg-smartSchool-yellow/60 flex items-center justify-center text-[10px] font-bold text-smartSchool-blue border border-smartSchool-yellow/30",children:getInitials(Cr.author)}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-smartSchool-blue/90 text-xs",children:[Cr.author,":"]}),jsxRuntimeExports.jsx("span",{className:"break-words whitespace-pre-line",children:Cr.text}),jsxRuntimeExports.jsxs("button",{className:"ml-auto px-1 py-0.5 rounded bg-smartSchool-blue/10 hover:bg-smartSchool-blue/30 text-smartSchool-blue text-[10px] font-bold transition focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/30","aria-label":"Like response",tabIndex:0,title:"Like this response",onClick:()=>Er(yr,wr),children:[" ",jsxRuntimeExports.jsx("span",{className:"ml-0.5",children:Ke[`${yr}-${wr}`]||0})]})]},wr))}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"No responses yet."})})]})]})]},yr)})})}),jsxRuntimeExports.jsxs("div",{className:"flex w-full gap-2 mb-2 items-end sticky bottom-0 bg-white pt-2 pb-2 z-10 border-t border-gray-100",children:[jsxRuntimeExports.jsx("input",{value:Ee,onChange:yr=>{Se(yr.target.value),je(!1),Te(null)},placeholder:"Your name (optional)","aria-label":"Your name",disabled:Ae,className:"flex-1 px-2 py-1 rounded border-2 border-smartSchool-blue/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/40 text-xs shadow min-w-0"}),jsxRuntimeExports.jsx("input",{value:xe,onChange:yr=>{_e(yr.target.value),je(!1),Te(null)},placeholder:"Start a new thread... (e.g. 'What is a black hole?')","aria-label":"New thread text",disabled:Ae,className:"flex-[2] px-2 py-1 rounded border-2 border-smartSchool-blue/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/40 text-xs shadow min-w-0",maxLength:120}),jsxRuntimeExports.jsx("button",{onClick:fr,disabled:Ae||!xe.trim(),"aria-label":"Post new thread",className:`flex-shrink-0 px-3 py-1.5 h-full rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 whitespace-nowrap text-xs ${Ae||!xe.trim()?"opacity-60 cursor-not-allowed":""}`,style:{minWidth:70,marginLeft:2},children:Ae?"Posting...":"Start New Thread"})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col gap-1 mb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-[11px] text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Characters: ",xe.length,"/120"]}),jsxRuntimeExports.jsx("button",{type:"button",className:"px-1.5 py-0.5 rounded bg-smartSchool-yellow/60 hover:bg-smartSchool-yellow text-xs font-semibold text-gray-800 shadow-sm transition",onClick:()=>_e(xe+" "),disabled:Ae||xe.length>=120,"aria-label":"Add emoji",children:"+ Emoji"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-600 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Need inspiration?"}),jsxRuntimeExports.jsx("button",{type:"button",className:"underline text-smartSchool-blue hover:text-blue-700",onClick:()=>_e("What is the coolest science fact you know?"),disabled:Ae,children:"Try a fun prompt"}),jsxRuntimeExports.jsx("button",{type:"button",className:"underline text-smartSchool-blue hover:text-blue-700",onClick:()=>_e("Can someone explain how fractions work?"),disabled:Ae,children:"Ask about math"})]})]}),Ie&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-1 text-xs",children:"Posted!"}),Pe&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-1 text-xs",children:Pe}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-gray-500 text-xs text-center",children:"Share your thoughts and questions with the community!"})]})}function getRandomContent(t,e){const xe=new Date,_e=t==="Enrichment"?[`Try this advanced challenge: How could you apply "${e}" to a real-world problem?`,`Create a project or presentation about "${e}" and share it with your class!`,`Explore a new technology or tool related to "${e}".`,`Write a story or comic that uses "${e}" in a creative way.`]:[`Practice "${e}" with these 3 problems: ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}, ${Math.floor(Math.random()*100)}.`,`Watch a short video about "${e}" and summarize what you learned.`,`Ask a friend or AI tutor to explain "${e}" in their own words.`,`Draw a diagram or picture to help you remember "${e}".`];return _e[Math.floor(Math.random()*_e.length)]+` (Generated at ${xe.toLocaleTimeString()})`}const getPersonalizedNote=(t,e)=>{const xe=[`I noticed your approach to "${t}" was very creative!`,`You made great progress on "${t}". Keep it up!`,`For "${t}", try connecting it to something you enjoy.`,`Your explanation of "${t}" was clear and thoughtful.`,`Don't forget to review the basics of "${t}" for even more confidence.`,`Impressive effort on "${t}"your hard work shows!`,`If you want to master "${t}", try teaching it to someone else!`,`Remember, mistakes are part of learning "${t}". Keep going!`,`Your persistence with "${t}" is inspiring!`,`Try using "${t}" in a real-life scenario for extra practice.`];return xe[Math.floor(Math.random()*xe.length)]};async function aiGradeItem({item:t,type:e,attempt:xe,details:_e,response:Ee}){await new Promise(je=>setTimeout(je,900+Math.random()*400));const Se=[{grade:"A+",icon:"",color:"green",summary:`You truly mastered "${t}"!`,strengths:`Your work on "${t}" was exceptionalinsightful, creative, and thorough.`,improvement:`Keep pushing your boundaries by exploring advanced aspects of "${t}".`,next:`Invent a new way to use "${t}" or teach it to a peer.`},{grade:"A",icon:"",color:"green",summary:`Excellent understanding of "${t}".`,strengths:`You explained "${t}" clearly and made strong connections.`,improvement:"Try adding more real-world examples or applications.",next:`Explore how "${t}" relates to your interests.`},{grade:"B+",icon:"",color:"yellow",summary:`Solid work on "${t}".`,strengths:"You covered the essentials and showed good effort.",improvement:"Review a few tricky parts and check your details.",next:`Practice "${t}" with a new challenge or quiz.`},{grade:"B",icon:"",color:"yellow",summary:`Good effort on "${t}".`,strengths:"You showed understanding, but some details were missing.",improvement:"Focus on accuracy and double-check your answers.",next:`Try a timed challenge for "${t}".`},{grade:"C",icon:"",color:"red",summary:`Needs improvement on "${t}".`,strengths:"You made a good start and showed persistence.",improvement:"Review the basics and ask for help if needed.",next:`Try a simpler version of "${t}" or use a visual aid.`}],Ae=(t.length+xe+(e==="Enrichment"?1:0))%Se.length,Re=Se[Ae],Pe=getPersonalizedNote(t)+(xe>1?" (You improved since your last try!)":""),Te=`If you could ask an expert one thing about "${t}", what would it be?`,Ie=`Recommended: Watch "${t} in Real Life" on YouTube or try an interactive simulation.`;return{...Re,time:new Date().toLocaleTimeString(),item:t,type:e,attempt:xe,personalized:Pe,aiQuestion:Te,aiResource:Ie,aiReflection:`Reflect: What was the hardest part of "${t}" for you? How did you overcome it?`}}function EnrichmentRemediation({enrichment:t,remediation:e,onStart:xe}){const[_e,Ee]=reactExports.useState(""),[Se,Ae]=reactExports.useState(null),[Re,Pe]=reactExports.useState(""),[Te,Ie]=reactExports.useState({}),[je,Oe]=reactExports.useState({}),[ke,Fe]=reactExports.useState({}),[Me,De]=reactExports.useState({}),[Ue,ze]=reactExports.useState({}),We={...Object.fromEntries(t.map(Ke=>[Ke,{type:"Enrichment",tip:"Try to go above and beyond!",desc:"Challenge yourself with this advanced activity."}])),...Object.fromEntries(e.map(Ke=>[Ke,{type:"Remediation",tip:"Review and practice for mastery.",desc:"Extra help to strengthen your skills."}]))},Ye=async Ke=>{var rr,cr;Ee(Ke),Ae(null),Pe("");try{await Promise.resolve(xe(Ke)),Pe(Ke),Ie(fr=>{var _r,Er;return{...fr,[Ke]:{...fr[Ke]||{},completed:!0,retries:((_r=fr[Ke])==null?void 0:_r.retries)||0,favorited:((Er=fr[Ke])==null?void 0:Er.favorited)||!1}}});const Ze=(((rr=Te[Ke])==null?void 0:rr.retries)||0)+1,er=((cr=We[Ke])==null?void 0:cr.type)||"Enrichment",sr=await aiGradeItem({item:Ke,type:er,attempt:Ze,details:We[Ke],response:null});De(fr=>({...fr,[Ke]:sr})),ze(fr=>({...fr,[Ke]:[...fr[Ke]||[],sr]}))}catch{Ae("Failed to start. Please try again.")}finally{Ee("")}},Xe=Ke=>{Ie(rr=>{var cr,Ze;return{...rr,[Ke]:{...rr[Ke]||{},completed:!1,retries:(((cr=rr[Ke])==null?void 0:cr.retries)||0)+1,favorited:((Ze=rr[Ke])==null?void 0:Ze.favorited)||!1}}}),De(rr=>({...rr,[Ke]:void 0})),Pe(""),Ae(null)},ir=Ke=>{Ie(rr=>{var cr;return{...rr,[Ke]:{...rr[Ke]||{},favorited:!((cr=rr[Ke])!=null&&cr.favorited)}}})},Qe=(Ke,rr)=>{Oe(cr=>({...cr,[Ke]:!cr[Ke]})),Fe(cr=>({...cr,[Ke]:getRandomContent(rr,Ke)}))};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-yellow/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-yellow mb-4 font-poppins drop-shadow",children:"AI Enrichment & Remediation"}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-4",children:[jsxRuntimeExports.jsx("strong",{className:"text-smartSchool-yellow",children:"Enrichment:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc ml-6 mt-2",children:t.map((Ke,rr)=>{var cr,Ze,er,sr,fr,_r,Er,yr,mr,Pr,Cr,wr;return jsxRuntimeExports.jsxs("li",{className:"mb-2 flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"flex-1 text-gray-800 font-semibold",children:Ke}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(Ke,"Enrichment"),className:"ml-2 px-2 py-1 rounded bg-smartSchool-yellow/20 text-smartSchool-yellow text-xs font-bold hover:bg-smartSchool-yellow/40 transition","aria-label":"Show details",children:je[Ke]?"Hide":"Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>ir(Ke),className:`ml-2 px-2 py-1 rounded-full text-lg ${(cr=Te[Ke])!=null&&cr.favorited?"bg-yellow-300 text-yellow-800":"bg-gray-100 text-gray-400"} hover:bg-yellow-200 transition`,"aria-label":"Favorite",children:(Ze=Te[Ke])!=null&&Ze.favorited?"":""})]}),je[Ke]&&jsxRuntimeExports.jsxs("div",{className:"ml-2 mb-1 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",(er=We[Ke])==null?void 0:er.type]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",(sr=We[Ke])==null?void 0:sr.desc]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"AI Tip:"})," ",(fr=We[Ke])==null?void 0:fr.tip]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("strong",{children:"AI Learning Content:"})," ",jsxRuntimeExports.jsx("span",{className:"block mt-1 text-yellow-900",children:ke[Ke]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-2 mt-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ye(Ke),disabled:_e===Ke||((_r=Te[Ke])==null?void 0:_r.completed),"aria-label":`Start enrichment: ${Ke}`,className:`px-3 py-1 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60 bg-smartSchool-yellow text-white hover:bg-yellow-400 active:scale-95 text-xs ${_e===Ke?"opacity-60 cursor-not-allowed":""} ${(Er=Te[Ke])!=null&&Er.completed?"bg-green-400 text-white":""}`,children:_e===Ke?"Starting...":(yr=Te[Ke])!=null&&yr.completed?"Completed!":"Start"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe(Ke),disabled:_e===Ke,className:"px-2 py-1 rounded bg-yellow-100 text-yellow-800 text-xs font-semibold hover:bg-yellow-200 transition","aria-label":"Retry",children:"Retry"}),((mr=Te[Ke])==null?void 0:mr.completed)&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-bold text-xs ml-1",children:""}),typeof((Pr=Te[Ke])==null?void 0:Pr.retries)=="number"&&Te[Ke].retries>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-yellow-700",children:["Retried ",Te[Ke].retries,"x"]}),((Cr=Te[Ke])==null?void 0:Cr.completed)&&Me[Ke]&&jsxRuntimeExports.jsxs("div",{className:`block text-xs border rounded px-3 py-2 mt-2 animate-fade-in shadow-sm bg-${Me[Ke].color}-50 border-${Me[Ke].color}-200 text-${Me[Ke].color}-900`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`text-lg text-${Me[Ke].color}-600`,children:Me[Ke].icon}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg",children:["Grade: ",Me[Ke].grade]}),jsxRuntimeExports.jsx("span",{className:"ml-auto text-[10px] text-gray-400",children:Me[Ke].time})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold",children:Me[Ke].summary}),jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Strengths:"})," ",Me[Ke].strengths]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Improvement:"})," ",Me[Ke].improvement]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Next Challenge:"})," ",Me[Ke].next]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 italic text-sm text-blue-700",children:["Personalized AI Note: ",Me[Ke].personalized]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:["For: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:Me[Ke].item})," (Attempt ",Me[Ke].attempt,")"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Reflection:"})," ",Me[Ke].aiReflection]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Question:"})," ",Me[Ke].aiQuestion]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Resource:"})," ",Me[Ke].aiResource]})]}),((wr=Te[Ke])==null?void 0:wr.completed)&&Ue[Ke]&&Ue[Ke].length>1&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-gray-700 mb-1",children:"Grade History (Full Feedback):"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ue[Ke].slice(0,-1).map((or,hr)=>jsxRuntimeExports.jsxs("li",{className:`border-l-4 pl-2 pb-2 ${or.color==="green"?"border-green-400 bg-green-50":or.color==="yellow"?"border-yellow-400 bg-yellow-50":"border-red-400 bg-red-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`text-lg ${or.color==="green"?"text-green-600":or.color==="yellow"?"text-yellow-600":"text-red-600"}`,children:or.icon}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:or.grade}),jsxRuntimeExports.jsx("span",{className:"ml-auto text-[10px] text-gray-400",children:or.time})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold",children:or.summary}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Strengths:"})," ",or.strengths]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Improvement:"})," ",or.improvement]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Next Challenge:"})," ",or.next]}),jsxRuntimeExports.jsxs("div",{className:"italic text-blue-700",children:["AI Note: ",or.personalized]}),jsxRuntimeExports.jsxs("div",{className:"text-[11px] text-gray-500",children:["For: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:or.item})," (Attempt ",or.attempt,")"]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Reflection:"})," ",or.aiReflection]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Question:"})," ",or.aiQuestion]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Resource:"})," ",or.aiResource]})]},hr))}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("label",{className:"block font-bold text-gray-700 mb-1",htmlFor:`reflection-e-${rr}`,children:"Your Reflection on Past Attempts:"}),jsxRuntimeExports.jsx("textarea",{id:`reflection-e-${rr}`,className:"w-full border rounded p-1 text-xs",rows:2,placeholder:"What did you learn or change after each attempt? (Not saved)"})]})]})]})]},rr)})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-2",children:[jsxRuntimeExports.jsx("strong",{className:"text-smartSchool-red",children:"Remediation:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc ml-6 mt-2",children:e.map((Ke,rr)=>{var cr,Ze,er,sr,fr,_r,Er,yr,mr,Pr,Cr,wr;return jsxRuntimeExports.jsxs("li",{className:"mb-2 flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"flex-1 text-gray-800 font-semibold",children:Ke}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(Ke,"Remediation"),className:"ml-2 px-2 py-1 rounded bg-smartSchool-red/20 text-smartSchool-red text-xs font-bold hover:bg-smartSchool-red/40 transition","aria-label":"Show details",children:je[Ke]?"Hide":"Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>ir(Ke),className:`ml-2 px-2 py-1 rounded-full text-lg ${(cr=Te[Ke])!=null&&cr.favorited?"bg-red-300 text-red-800":"bg-gray-100 text-gray-400"} hover:bg-red-200 transition`,"aria-label":"Favorite",children:(Ze=Te[Ke])!=null&&Ze.favorited?"":""})]}),je[Ke]&&jsxRuntimeExports.jsxs("div",{className:"ml-2 mb-1 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Type:"})," ",(er=We[Ke])==null?void 0:er.type]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Description:"})," ",(sr=We[Ke])==null?void 0:sr.desc]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"AI Tip:"})," ",(fr=We[Ke])==null?void 0:fr.tip]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("strong",{children:"AI Learning Content:"})," ",jsxRuntimeExports.jsx("span",{className:"block mt-1 text-red-900",children:ke[Ke]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-2 mt-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ye(Ke),disabled:_e===Ke||((_r=Te[Ke])==null?void 0:_r.completed),"aria-label":`Start remediation: ${Ke}`,className:`px-3 py-1 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-red/60 bg-smartSchool-red text-white hover:bg-red-400 active:scale-95 text-xs ${_e===Ke?"opacity-60 cursor-not-allowed":""} ${(Er=Te[Ke])!=null&&Er.completed?"bg-green-400 text-white":""}`,children:_e===Ke?"Starting...":(yr=Te[Ke])!=null&&yr.completed?"Completed!":"Start"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe(Ke),disabled:_e===Ke,className:"px-2 py-1 rounded bg-red-100 text-red-800 text-xs font-semibold hover:bg-red-200 transition","aria-label":"Retry",children:"Retry"}),((mr=Te[Ke])==null?void 0:mr.completed)&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-bold text-xs ml-1",children:""}),typeof((Pr=Te[Ke])==null?void 0:Pr.retries)=="number"&&Te[Ke].retries>0&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-red-700",children:["Retried ",Te[Ke].retries,"x"]}),((Cr=Te[Ke])==null?void 0:Cr.completed)&&Me[Ke]&&jsxRuntimeExports.jsxs("div",{className:`block text-xs border rounded px-3 py-2 mt-2 animate-fade-in shadow-sm bg-${Me[Ke].color}-50 border-${Me[Ke].color}-200 text-${Me[Ke].color}-900`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`text-lg text-${Me[Ke].color}-600`,children:Me[Ke].icon}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg",children:["Grade: ",Me[Ke].grade]}),jsxRuntimeExports.jsx("span",{className:"ml-auto text-[10px] text-gray-400",children:Me[Ke].time})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold",children:Me[Ke].summary}),jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Strengths:"})," ",Me[Ke].strengths]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Improvement:"})," ",Me[Ke].improvement]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Next Challenge:"})," ",Me[Ke].next]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 italic text-sm text-blue-700",children:["Personalized AI Note: ",Me[Ke].personalized]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-[11px] text-gray-500",children:["For: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:Me[Ke].item})," (Attempt ",Me[Ke].attempt,")"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Reflection:"})," ",Me[Ke].aiReflection]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Question:"})," ",Me[Ke].aiQuestion]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Resource:"})," ",Me[Ke].aiResource]})]}),((wr=Te[Ke])==null?void 0:wr.completed)&&Ue[Ke]&&Ue[Ke].length>1&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-gray-700 mb-1",children:"Grade History (Full Feedback):"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ue[Ke].slice(0,-1).map((or,hr)=>jsxRuntimeExports.jsxs("li",{className:`border-l-4 pl-2 pb-2 ${or.color==="green"?"border-green-400 bg-green-50":or.color==="yellow"?"border-yellow-400 bg-yellow-50":"border-red-400 bg-red-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:`text-lg ${or.color==="green"?"text-green-600":or.color==="yellow"?"text-yellow-600":"text-red-600"}`,children:or.icon}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:or.grade}),jsxRuntimeExports.jsx("span",{className:"ml-auto text-[10px] text-gray-400",children:or.time})]}),jsxRuntimeExports.jsx("div",{className:"font-semibold",children:or.summary}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Strengths:"})," ",or.strengths]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Improvement:"})," ",or.improvement]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Next Challenge:"})," ",or.next]}),jsxRuntimeExports.jsxs("div",{className:"italic text-blue-700",children:["AI Note: ",or.personalized]}),jsxRuntimeExports.jsxs("div",{className:"text-[11px] text-gray-500",children:["For: ",jsxRuntimeExports.jsx("span",{className:"font-bold",children:or.item})," (Attempt ",or.attempt,")"]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Reflection:"})," ",or.aiReflection]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Question:"})," ",or.aiQuestion]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-900",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"AI Resource:"})," ",or.aiResource]})]},hr))}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("label",{className:"block font-bold text-gray-700 mb-1",htmlFor:`reflection-r-${rr}`,children:"Your Reflection on Past Attempts:"}),jsxRuntimeExports.jsx("textarea",{id:`reflection-r-${rr}`,className:"w-full border rounded p-1 text-xs",rows:2,placeholder:"What did you learn or change after each attempt? (Not saved)"})]})]})]})]},rr)})})]}),Se&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Se}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Challenge yourself or get extra helpAI-powered for you!"})]})}function ExternalResources({resources:t,onOpen:e}){const[xe,_e]=reactExports.useState(""),[Ee,Se]=reactExports.useState(null),[Ae,Re]=reactExports.useState(""),Pe=async Te=>{_e(Te.url),Se(null),Re("");try{await Promise.resolve(e(Te)),Re(Te.url)}catch{Se("Failed to open resource. Please try again.")}finally{_e("")}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-4 font-poppins drop-shadow",children:"External Resources"}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4",children:t.map((Te,Ie)=>jsxRuntimeExports.jsxs("li",{className:"mb-4 flex flex-col gap-1 border-b pb-3 last:border-b-0 last:pb-0 bg-blue-50/30 rounded-xl p-2 hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-2xl",children:[Te.type==="video"&&jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#2563eb"}),jsxRuntimeExports.jsx("polygon",{points:"9,7 16,11 9,15",fill:"#fff"})]}),Te.type==="article"&&jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#0ea5e9"}),jsxRuntimeExports.jsx("rect",{x:"6",y:"6",width:"10",height:"2",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"6",y:"10",width:"7",height:"2",fill:"#bae6fd"}),jsxRuntimeExports.jsx("rect",{x:"6",y:"14",width:"5",height:"2",fill:"#bae6fd"})]}),Te.type==="interactive"&&jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#22c55e"}),jsxRuntimeExports.jsx("circle",{cx:"11",cy:"11",r:"4",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"10",y:"6",width:"2",height:"10",fill:"#bbf7d0"}),jsxRuntimeExports.jsx("rect",{x:"6",y:"10",width:"10",height:"2",fill:"#bbf7d0"})]}),Te.type==="official"&&jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#f59e42"}),jsxRuntimeExports.jsx("rect",{x:"7",y:"7",width:"8",height:"8",fill:"#fff"}),jsxRuntimeExports.jsx("rect",{x:"9",y:"9",width:"4",height:"4",fill:"#fde68a"})]}),!["video","article","interactive","official"].includes(Te.type)&&jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#64748b"}),jsxRuntimeExports.jsx("circle",{cx:"11",cy:"11",r:"5",fill:"#fff"})]})]}),jsxRuntimeExports.jsx("a",{href:Te.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg text-smartSchool-blue underline hover:text-smartSchool-yellow font-semibold transition-colors",children:Te.title}),jsxRuntimeExports.jsx("button",{onClick:()=>Pe(Te),disabled:xe===Te.url,"aria-label":`Open resource: ${Te.title}`,className:`ml-auto px-4 py-1.5 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${xe===Te.url?"opacity-60 cursor-not-allowed":""}`,children:xe===Te.url?"Opening...":Ae===Te.url?"Opened!":"Open"})]}),Te.description&&jsxRuntimeExports.jsx("div",{className:"ml-8 text-gray-700 text-sm italic",children:Te.description}),Te.tags&&Te.tags.length>0&&jsxRuntimeExports.jsx("div",{className:"ml-8 flex flex-wrap gap-2 mt-1",children:Te.tags.map((je,Oe)=>jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs font-bold",children:je},Oe))}),Te.rating&&jsxRuntimeExports.jsxs("div",{className:"ml-8 flex items-center gap-1 mt-1 text-yellow-500 text-xs",children:["".repeat(Math.round(Te.rating)),"".repeat(5-Math.round(Te.rating)),jsxRuntimeExports.jsxs("span",{className:"ml-1 text-gray-500",children:["(",Te.rating.toFixed(1),"/5)"]})]}),Te.author&&jsxRuntimeExports.jsxs("div",{className:"ml-8 text-xs text-gray-500 mt-1",children:["By: ",Te.author]}),Te.updated&&jsxRuntimeExports.jsxs("div",{className:"ml-8 text-xs text-gray-400",children:["Updated: ",Te.updated]}),Te.type==="video"&&Te.preview&&jsxRuntimeExports.jsx("div",{className:"ml-8 mt-2",children:jsxRuntimeExports.jsx("iframe",{src:Te.preview,title:Te.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg w-full max-w-md aspect-video border border-blue-200 shadow"})}),Te.type==="interactive"&&Te.preview&&jsxRuntimeExports.jsx("div",{className:"ml-8 mt-2",children:jsxRuntimeExports.jsx("iframe",{src:Te.preview,title:Te.title,className:"rounded-lg w-full max-w-md aspect-video border border-blue-200 shadow"})}),Te.type==="article"&&Te.preview&&jsxRuntimeExports.jsxs("div",{className:"ml-8 mt-2 bg-white border border-blue-100 rounded p-2 text-xs text-gray-700 shadow-inner",children:[jsxRuntimeExports.jsx("div",{className:"font-bold mb-1",children:"Preview:"}),jsxRuntimeExports.jsx("div",{children:Te.preview})]})]},Ie))}),Ee&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ee}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:["Explore trusted, AI-curated resources to boost your learning!",jsxRuntimeExports.jsx("br",{}),"Videos, interactives, articles, and morehandpicked for you."]})]})}function GamificationPanel({profile:t}){var je,Oe,ke;const e=((je=t.gamification)==null?void 0:je.xp)||0,xe=((Oe=t.gamification)==null?void 0:Oe.level)||1,_e=((ke=t.gamification)==null?void 0:ke.badges)||[],[Ee,Se]=reactExports.useState(!1),[Ae,Re]=reactExports.useState(null),[Pe,Te]=reactExports.useState(!1),Ie=async()=>{Te(!0),Re(null),Se(!1);try{const Fe=`XP: ${e}
Level: ${xe}
Badges: ${_e.length>0?_e.join(", "):"No badges yet"}`;await navigator.clipboard.writeText(Fe),Se(!0)}catch{Re("Failed to copy gamification summary.")}finally{Te(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-yellow/40 p-8 max-w-md mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-yellow mb-4 font-poppins drop-shadow",children:"Gamification"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center w-full mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-lg font-semibold text-smartSchool-yellow",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#FFD600"}),jsxRuntimeExports.jsx("text",{x:"10",y:"15",textAnchor:"middle",fontSize:"12",fill:"#1E40AF",fontWeight:"bold",children:"XP"})]}),jsxRuntimeExports.jsx("span",{className:"text-smartSchool-blue font-bold",children:e})]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"16",height:"16",rx:"4",fill:"#34D399"}),jsxRuntimeExports.jsx("text",{x:"10",y:"15",textAnchor:"middle",fontSize:"12",fill:"#fff",fontWeight:"bold",children:"Lv"})]}),jsxRuntimeExports.jsx("span",{className:"text-smartSchool-blue font-bold",children:xe})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex flex-wrap gap-2 justify-center",children:_e.length>0?_e.map((Fe,Me)=>jsxRuntimeExports.jsxs("span",{className:"bg-yellow-100 border border-blue-200 text-smartSchool-blue px-3 py-1 rounded-full font-semibold text-sm shadow flex items-center gap-1",children:[jsxRuntimeExports.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"9",fill:"#60A5FA",stroke:"#1E40AF",strokeWidth:"2"}),jsxRuntimeExports.jsx("text",{x:"10",y:"15",textAnchor:"middle",fontSize:"10",fill:"#fff",fontWeight:"bold",children:"B"})]}),Fe]},Me)):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"No badges yet"})}),jsxRuntimeExports.jsxs("div",{className:"w-full mt-4 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex flex-col items-center shadow-inner",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#F59E42"}),jsxRuntimeExports.jsx("text",{x:"11",y:"16",textAnchor:"middle",fontSize:"12",fill:"#fff",fontWeight:"bold",children:"XP"})]}),jsxRuntimeExports.jsx("span",{className:"font-bold text-smartSchool-yellow",children:"Progress to Next Level"})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"bg-smartSchool-yellow h-4 rounded-full transition-all duration-700",style:{width:`${Math.min(e%100||0,100)}%`}})}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[100-e%100," XP to Level ",xe+1]})]})]}),jsxRuntimeExports.jsx("button",{onClick:Ie,disabled:Pe,"aria-label":"Copy gamification summary",className:"px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60 bg-smartSchool-yellow text-white hover:bg-yellow-400 active:scale-95 mt-2",children:Pe?"Copying...":Ee?"Copied!":"Copy Summary"}),Ae&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ae}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:["Earn XP, level up, and collect badges as you learn!",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"block mt-2 text-yellow-700 font-bold",children:"Tip: Complete activities, help others, and explore new topics to earn more rewards!"})]})]})}function toGoalObj(t){return typeof t=="string"?{text:t,completed:!1,notes:"",due:"",editing:!1}:{...t,editing:!1}}function GoalSetting({goals:t,onAddGoal:e}){const[xe,_e]=reactExports.useState(t.map(toGoalObj)),[Ee,Se]=reactExports.useState(""),[Ae,Re]=reactExports.useState(!1),[Pe,Te]=reactExports.useState(null),[Ie,je]=reactExports.useState(!1),[Oe,ke]=reactExports.useState(null);React.useEffect(()=>{_e(t.map(toGoalObj))},[t]);const Fe=Ue=>{if(window.confirm("Delete this goal?")){const ze=xe.filter((We,Ye)=>Ye!==Ue);_e(ze),e(ze)}},Me=()=>{Ee.trim()?(Re(!0),setTimeout(()=>{const Ue=[...xe,toGoalObj(Ee.trim())];_e(Ue),e(Ue),Se(""),je(!0),Re(!1)},500)):(Te("Goal cannot be empty"),je(!1))},De=Ue=>{const ze=xe.map((We,Ye)=>Ye===Ue?{...We,completed:!We.completed}:We);_e(ze),e(ze)};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-md w-full mx-auto flex flex-col items-center relative animate-fade-in",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-4 font-poppins drop-shadow",children:"Learning Goals"}),jsxRuntimeExports.jsxs("ul",{className:"w-full mb-4 list-disc ml-6",children:[xe.length===0&&jsxRuntimeExports.jsx("li",{className:"text-gray-400 italic",children:"No goals set yet. Start by adding one below!"}),xe.map((Ue,ze)=>jsxRuntimeExports.jsxs("li",{className:`mb-2 flex flex-col gap-1 animate-fade-in-slow bg-blue-50/40 rounded-lg p-2 ${Ue.completed?"opacity-60 line-through":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>De(ze),className:`w-5 h-5 rounded-full border-2 ${Ue.completed?"bg-green-400 border-green-600":"border-blue-400"} flex items-center justify-center mr-1`,"aria-label":"Mark as complete",children:Ue.completed&&jsxRuntimeExports.jsx("span",{className:"text-white font-bold",children:""})}),jsxRuntimeExports.jsx("span",{className:"text-gray-800 flex-1",children:Ue.text}),jsxRuntimeExports.jsx("button",{onClick:()=>ke(ze===Oe?null:ze),className:"ml-2 text-blue-600 hover:text-blue-900 text-xs font-bold underline",children:"Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe(ze),className:"ml-2 text-red-500 hover:text-red-700 text-xs font-bold",children:"Delete"})]}),Oe===ze&&jsxRuntimeExports.jsxs("div",{className:"mt-2 bg-white border border-blue-200 rounded-lg p-3 shadow-inner",children:[jsxRuntimeExports.jsxs("div",{className:"w-full mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Goal"}),jsxRuntimeExports.jsx("input",{className:"w-full px-3 py-2 border rounded-lg",value:Ue.text,onChange:We=>handleEditGoal(ze,{text:We.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Notes"}),jsxRuntimeExports.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg",value:Ue.notes,onChange:We=>handleEditGoal(ze,{notes:We.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-semibold mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg",value:Ue.due,onChange:We=>handleEditGoal(ze,{due:We.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Ue.completed,onChange:()=>De(ze),id:`complete-checkbox-${ze}`}),jsxRuntimeExports.jsx("label",{htmlFor:`complete-checkbox-${ze}`,className:"text-xs",children:"Mark as complete"})]}),jsxRuntimeExports.jsx("button",{className:"mt-1 px-3 py-1 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-800 text-xs",onClick:()=>ke(null),children:"Done"})]}),Ue.due&&Oe!==ze&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-700 ml-7",children:["Due: ",Ue.due]}),Ue.notes&&Oe!==ze&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-900 ml-7 italic",children:["Notes: ",Ue.notes]})]},ze))]}),jsxRuntimeExports.jsxs("div",{className:"flex w-full gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{value:Ee,onChange:Ue=>{Se(Ue.target.value),je(!1),Te(null)},placeholder:"Set a new goal (e.g. 'Finish math project by Friday')","aria-label":"Set a new goal",disabled:Ae,className:"flex-1 px-4 py-2 rounded-lg border-2 border-smartSchool-blue/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/40 text-lg shadow"}),jsxRuntimeExports.jsx("button",{onClick:Me,disabled:Ae||!Ee.trim(),"aria-label":"Add goal",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${Ae||!Ee.trim()?"opacity-60 cursor-not-allowed":""}`,children:Ae?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"animate-spin",children:jsxRuntimeExports.jsx("circle",{cx:"8",cy:"8",r:"7",stroke:"#2563eb",strokeWidth:"2"})})," Adding..."]}):"Add Goal"})]}),Ie&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-2",children:"Goal added!"}),Pe&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Pe}),jsxRuntimeExports.jsxs("div",{className:"w-full mt-4 bg-blue-50 border border-blue-100 rounded-xl p-4 flex flex-col items-center shadow-inner",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",className:"inline-block align-middle",children:[jsxRuntimeExports.jsx("rect",{x:"2",y:"2",width:"18",height:"18",rx:"4",fill:"#2563eb"}),jsxRuntimeExports.jsx("text",{x:"11",y:"16",textAnchor:"middle",fontSize:"12",fill:"#fff",fontWeight:"bold",children:"TIP"})]}),jsxRuntimeExports.jsx("span",{className:"font-bold text-smartSchool-blue",children:"Goal-Setting Tips"})]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-6 text-sm text-blue-900",children:[jsxRuntimeExports.jsx("li",{children:"Make your goals specific and measurable."}),jsxRuntimeExports.jsx("li",{children:"Break big goals into smaller steps."}),jsxRuntimeExports.jsx("li",{children:"Set a deadline or target date."}),jsxRuntimeExports.jsx("li",{children:"Review your goals regularly and mark them as complete."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:["Set and track your learning goals here!",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"block mt-2 text-blue-700 font-bold",children:"Tip: Click a goal to mark it as complete or view details."})]})]})}const SUGGESTED_TOPICS=["How do I reset my password?","How do I access my assignments?","How can I contact my teacher?","Where can I find my grades?","How do I use SmartSchool AI features?"];function HelpCenter({onAsk:t}){const[e,xe]=reactExports.useState(""),[_e,Ee]=reactExports.useState(!1),[Se,Ae]=reactExports.useState(null),[Re,Pe]=reactExports.useState(!1),[Te,Ie]=reactExports.useState(""),[je,Oe]=reactExports.useState([]),[ke,Fe]=reactExports.useState(""),Me=async()=>{Ee(!0),Ae(null),Pe(!1),Ie("");try{const De=await Promise.resolve(t(e));Pe(!0),xe(""),Ie((De==null?void 0:De.answer)||De||"No answer provided."),Oe(Ue=>[{question:e,answer:(De==null?void 0:De.answer)||De||"No answer provided."},...Ue])}catch(De){Ae((De==null?void 0:De.message)||"Failed to submit question. Please try again.")}finally{Ee(!1)}};return React.useEffect(()=>{if(!e.trim()){Fe("");return}const De=e.toLowerCase(),Ue=SUGGESTED_TOPICS.find(ze=>ze.toLowerCase().includes(De));Fe(Ue||"")},[e]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-4 font-poppins drop-shadow",children:"Help Center"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{value:e,onChange:De=>{xe(De.target.value),Pe(!1),Ae(null)},placeholder:"Ask a question or search help...",style:{width:"70%"},"aria-label":"Ask a question or search help",disabled:_e,className:"flex-1 px-4 py-2 rounded-lg border-2 border-smartSchool-blue/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/40 text-lg shadow"}),jsxRuntimeExports.jsx("button",{onClick:Me,disabled:_e||!e.trim(),"aria-label":"Ask question",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${_e||!e.trim()?"opacity-60 cursor-not-allowed":""}`,children:_e?"Asking...":"Ask"})]}),ke&&jsxRuntimeExports.jsxs("div",{className:"mb-2 text-blue-600 text-sm animate-fade-in",children:["Did you mean: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:ke}),"?"]}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Suggested topics:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:SUGGESTED_TOPICS.map(De=>jsxRuntimeExports.jsx("button",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs hover:bg-blue-200 transition",onClick:()=>{xe(De),Pe(!1),Ae(null)},disabled:_e,children:De},De))})]}),Te&&jsxRuntimeExports.jsxs("div",{className:"w-full bg-green-50 border border-green-200 rounded-lg p-4 mb-2 animate-fade-in text-green-900",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold mb-1",children:"AI Answer:"}),jsxRuntimeExports.jsx("div",{children:Te})]}),Re&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-2",children:"Submitted!"}),Se&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Se}),je.length>0&&jsxRuntimeExports.jsxs("div",{className:"w-full mt-4",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-700 font-semibold mb-2",children:"Previous Questions:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:je.map((De,Ue)=>jsxRuntimeExports.jsxs("li",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-800",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Q:"})," ",De.question]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-800 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"A:"})," ",De.answer]})]},Ue))})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Get help, tips, or answers from SmartSchool AI!"})]})}function ParentDashboard({profile:t,recommendations:e}){const[xe,_e]=React.useState(!1),[Ee,Se]=React.useState(null),[Ae,Re]=React.useState(!1),[Pe,Te]=React.useState(null),Ie=Object.entries(t.subjects),je=Ie.map(([De,Ue])=>Ue.mastery||0),Oe=je.length?Math.round(je.reduce((De,Ue)=>De+Ue,0)/je.length):0,ke=async()=>{_e(!0),Se(null),Re(!1);try{let De=`Student: ${t.id} (Grade ${t.grade})
`;De+=`Subject Mastery:
`;for(const[Ue,ze]of Object.entries(t.subjects))De+=`- ${Ue}: Mastery ${ze.mastery||0}%`,ze.strengths&&ze.strengths.length>0&&(De+=` | Strengths: ${ze.strengths.join(", ")}`),ze.recentErrors&&ze.recentErrors.length>0&&(De+=` | Needs work: ${ze.recentErrors.join(", ")}`),De+=`
`;De+=`Recent Lessons:
`,(t.history||[]).slice(-5).reverse().forEach(Ue=>{De+=`- ${Ue.lessonId} | Score: ${Ue.score} | Time: ${Ue.timeSpent} | Retries: ${Ue.retries}
`}),De+=`Recommended Next Topics:
`,e.forEach(Ue=>{De+=`- ${Ue.subject}: ${Ue.topic} (${Ue.reason})
`}),await navigator.clipboard.writeText(De),Re(!0)}catch{Se("Failed to copy dashboard summary.")}finally{_e(!1)}},Fe=(t.history||[]).slice(-5).map(De=>De.score),Me=Fe.length>1?Fe[Fe.length-1]>Fe[0]?"up":Fe[Fe.length-1]<Fe[0]?"down":"flat":"flat";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-2xl mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-smartSchool-blue font-poppins drop-shadow mb-2 animate-tada",children:"Parent/Guardian Dashboard"}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-smartSchool-yellow mb-2",children:["Student: ",t.id," (Grade ",t.grade,")"]}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-4 p-4 bg-blue-50 rounded-lg border border-blue-100 flex flex-col md:flex-row md:items-center md:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-smartSchool-blue",children:["Overall Mastery: ",jsxRuntimeExports.jsxs("span",{className:"text-2xl",children:[Oe,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-2 md:mt-0",children:["Recent Progress: ",jsxRuntimeExports.jsx("span",{className:Me==="up"?"text-green-600":Me==="down"?"text-red-500":"text-gray-500",children:Me==="up"?"Improving":Me==="down"?"Needs Attention":"Stable"})]})]}),jsxRuntimeExports.jsx("h4",{className:"text-base font-bold text-smartSchool-blue mb-2",children:"Subject Mastery"}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4",children:Ie.map(([De,Ue])=>jsxRuntimeExports.jsxs("li",{className:"mb-2 text-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{className:"text-smartSchool-blue cursor-pointer",onClick:()=>Te(Pe===De?null:De),title:"Click for details",children:De}),": Mastery ",Ue.mastery||0,"%"]}),jsxRuntimeExports.jsx("div",{className:"w-32 h-3 bg-gray-200 rounded-full ml-4 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${Ue.mastery||0}%`,background:"#3b82f6"}})})]}),Pe===De&&jsxRuntimeExports.jsxs("div",{className:"mt-2 ml-2 p-2 bg-yellow-50 rounded-lg border border-yellow-100 animate-fade-in",children:[Ue.strengths&&Ue.strengths.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-green-600 text-sm mb-1",children:["Strengths: ",Ue.strengths.join(", ")]}),Ue.recentErrors&&Ue.recentErrors.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-red-500 text-sm mb-1",children:["Needs work: ",Ue.recentErrors.join(", ")]}),Ue.recentLessons&&Ue.recentLessons.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-gray-700 text-xs",children:["Recent Lessons: ",Ue.recentLessons.join(", ")]})]})]},De))}),jsxRuntimeExports.jsx("h4",{className:"text-base font-bold text-smartSchool-yellow mb-2",children:"Recent Lessons"}),jsxRuntimeExports.jsx("div",{className:"w-full mb-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left border border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-1",children:"Lesson"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1",children:"Score"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1",children:"Retries"})]})}),jsxRuntimeExports.jsx("tbody",{children:(t.history||[]).slice(-5).reverse().map((De,Ue)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-100",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-smartSchool-blue",children:De.lessonId}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:De.score}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:De.timeSpent}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:De.retries})]},Ue))})]})}),jsxRuntimeExports.jsxs("h4",{className:"text-base font-bold text-smartSchool-blue mb-2 flex items-center",children:["Recommended Next Topics ",jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs text-gray-400",title:"AI-powered suggestions based on progress",children:""})]}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4",children:e.map((De,Ue)=>jsxRuntimeExports.jsxs("li",{className:"mb-1 text-gray-800",children:[jsxRuntimeExports.jsxs("span",{className:"text-smartSchool-yellow",children:[De.subject,":"]})," ",De.topic," ",jsxRuntimeExports.jsxs("span",{className:"text-gray-500",title:De.reason,children:["(",De.reason,")"]})]},Ue))}),jsxRuntimeExports.jsx("button",{onClick:ke,disabled:xe,className:"px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 mt-2",title:"Copy dashboard summary to clipboard",children:xe?"Copying...":Ae?"Copied!":"Copy Summary"}),Ee&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ee}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center",children:"Monitor progress and get recommendations for your student. Click a subject for more details."})]})}function PeerTutoring({requests:t,onRequestHelp:e,onOfferHelp:xe}){const[_e,Ee]=reactExports.useState(""),[Se,Ae]=reactExports.useState(null),[Re,Pe]=reactExports.useState(""),[Te,Ie]=reactExports.useState(!1),[je,Oe]=reactExports.useState(""),[ke,Fe]=reactExports.useState(""),[Me,De]=reactExports.useState(null),[Ue,ze]=reactExports.useState(t),We=async ir=>{ir==null||ir.preventDefault(),Ee("request"),Ae(null),Pe("");try{if(!je.trim()){Ae("Please specify a subject or topic."),Ee("");return}const Qe={student:"You",topic:je,message:ke,time:new Date().toISOString()};await Promise.resolve(e(Qe)),Pe("request"),ze([Qe,...Ue]),Oe(""),Fe(""),Ie(!1)}catch{Ae("Failed to request help. Please try again.")}finally{Ee("")}},Ye=async(ir,Qe)=>{Ee("offer"),Ae(null),Pe("");try{await Promise.resolve(xe(ir)),Pe("offer"),De(Qe)}catch{Ae("Failed to offer help. Please try again.")}finally{Ee("")}},Xe=Ue.length>0?`${Ue.length} active help request${Ue.length>1?"s":""}.`:"No active help requests.";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-4 font-poppins drop-shadow",children:"Peer Tutoring"}),jsxRuntimeExports.jsx("div",{className:"w-full text-gray-600 text-sm mb-2",children:Xe}),Te?jsxRuntimeExports.jsxs("form",{onSubmit:We,className:"w-full flex flex-col gap-2 mb-4 animate-fade-in",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Subject or Topic (e.g. Algebra, Essay)",className:"px-3 py-2 rounded border border-gray-300",value:je,onChange:ir=>Oe(ir.target.value),disabled:_e==="request",required:!0}),jsxRuntimeExports.jsx("textarea",{placeholder:"Describe what you need help with (optional)",className:"px-3 py-2 rounded border border-gray-300",value:ke,onChange:ir=>Fe(ir.target.value),disabled:_e==="request"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:_e==="request",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${_e==="request"?"opacity-60 cursor-not-allowed":""}`,children:_e==="request"?"Requesting...":"Submit Request"}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-sm text-gray-500 underline",onClick:()=>Ie(!1),disabled:_e==="request",children:"Cancel"})]}):jsxRuntimeExports.jsx("div",{className:"flex gap-4 mb-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>{Ie(!0),Pe(""),Ae(null)},disabled:_e==="request","aria-label":"Request peer tutoring help",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${_e==="request"?"opacity-60 cursor-not-allowed":""}`,children:_e==="request"?"Requesting...":Re==="request"?"Requested!":"Request Help"})}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4",children:Ue.map((ir,Qe)=>jsxRuntimeExports.jsxs("li",{className:"mb-2 text-gray-800 animate-fade-in-slow border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:ir.student})," needs help with ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:ir.topic}),ir.time&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",new Date(ir.time).toLocaleString(),")"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ye(ir,Qe),disabled:_e==="offer"||Me===Qe,className:`ml-2 px-3 py-1 rounded bg-smartSchool-yellow text-white text-xs font-semibold hover:bg-yellow-400 transition ${_e==="offer"||Me===Qe?"opacity-60 cursor-not-allowed":""}`,children:Me===Qe&&Re==="offer"?"Offered!":_e==="offer"?"Offering...":"Offer Help"})]}),ir.message&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:['"',ir.message,'"']})]},Qe))}),Se&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Se}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:'Connect with peers for help or to offer your expertise! Click "Offer Help" to respond to a request.'})]})}function Portfolio({projects:t,onUpload:e}){const[xe,_e]=reactExports.useState(!1),[Ee,Se]=reactExports.useState(null),[Ae,Re]=reactExports.useState(!1),[Pe,Te]=reactExports.useState(null),[Ie,je]=reactExports.useState(t),[Oe,ke]=reactExports.useState(null),[Fe,Me]=reactExports.useState(!1),De=async ze=>{ze==null||ze.preventDefault(),_e(!0),Se(null),Re(!1);try{let We=Oe;if(!We||!We.name||!We.type){Se("Please provide project name and type."),_e(!1);return}await Promise.resolve(e(We)),Re(!0),je([We,...Ie]),ke(null),Me(!1)}catch{Se("Failed to upload project. Please try again.")}finally{_e(!1)}},Ue=Ie.length>0?`You have uploaded ${Ie.length} project${Ie.length>1?"s":""}.`:"No projects uploaded yet.";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-lg mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-4 font-poppins drop-shadow",children:"Student Portfolio"}),jsxRuntimeExports.jsx("div",{className:"w-full text-gray-600 text-sm mb-2",children:Ue}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4 list-disc ml-6",children:Ie.map((ze,We)=>jsxRuntimeExports.jsxs("li",{className:"mb-1 text-gray-800 animate-fade-in-slow",children:[jsxRuntimeExports.jsxs("button",{className:"text-left w-full focus:outline-none",onClick:()=>Te(Pe===We?null:We),children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:ze.name})," ",jsxRuntimeExports.jsxs("span",{className:"text-gray-400",children:["(",ze.type,")"]}),Pe===We?" ":" "]}),Pe===We&&jsxRuntimeExports.jsxs("div",{className:"mt-2 ml-2 p-2 bg-blue-50 rounded-lg border border-blue-100 animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Description:"})," ",ze.description||"No description provided."]}),ze.date&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Date:"})," ",new Date(ze.date).toLocaleDateString()]})]})]},We))}),Fe?jsxRuntimeExports.jsxs("form",{onSubmit:De,className:"w-full flex flex-col gap-2 mb-2 animate-fade-in",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Project Name",className:"px-3 py-2 rounded border border-gray-300",value:(Oe==null?void 0:Oe.name)||"",onChange:ze=>ke({...Oe,name:ze.target.value}),disabled:xe,required:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Project Type (e.g. App, Essay)",className:"px-3 py-2 rounded border border-gray-300",value:(Oe==null?void 0:Oe.type)||"",onChange:ze=>ke({...Oe,type:ze.target.value}),disabled:xe,required:!0}),jsxRuntimeExports.jsx("textarea",{placeholder:"Description (optional)",className:"px-3 py-2 rounded border border-gray-300",value:(Oe==null?void 0:Oe.description)||"",onChange:ze=>ke({...Oe,description:ze.target.value}),disabled:xe}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:xe,className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${xe?"opacity-60 cursor-not-allowed":""}`,children:xe?"Uploading...":"Submit Project"}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-sm text-gray-500 underline",onClick:()=>Me(!1),disabled:xe,children:"Cancel"})]}):jsxRuntimeExports.jsx("button",{onClick:()=>{Me(!0),Re(!1),Se(null)},disabled:xe,"aria-label":"Upload new project",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 mt-2 ${xe?"opacity-60 cursor-not-allowed":""}`,children:xe?"Uploading...":Ae?"Uploaded!":"Upload New Project"}),Ae&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-2",children:"Project uploaded!"}),Ee&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ee}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Showcase your best work and achievements here! Click a project to see more details."})]})}function StudyBuddyGroup({group:t,onJoin:e}){const[xe,_e]=reactExports.useState(!1),[Ee,Se]=reactExports.useState(null),[Ae,Re]=reactExports.useState(!1),[Pe,Te]=reactExports.useState(""),[Ie,je]=reactExports.useState(!1),Oe=async Ye=>{Ye==null||Ye.preventDefault(),_e(!0),Se(null),Re(!1);try{await Promise.resolve(e(Pe)),Re(!0),je(!1),Te("")}catch{Se("Failed to join group. Please try again.")}finally{_e(!1)}},{name:ke,subject:Fe,meetingTime:Me,description:De,members:Ue,upcomingSessions:ze,goals:We}=t;return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-yellow/40 p-8 max-w-md mx-auto animate-fade-in flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-yellow mb-2 font-poppins drop-shadow",children:"Study Buddy Group"}),ke&&jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-smartSchool-yellow mb-1",children:ke}),Fe&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Subject: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Fe})]}),Me&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Next Meeting: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Me})]}),We&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-700 mb-2",children:["Group Goals: ",We]}),De&&jsxRuntimeExports.jsx("div",{className:"text-gray-600 text-sm mb-2 italic",children:De}),jsxRuntimeExports.jsxs("div",{className:"w-full mb-2 text-gray-600 text-xs",children:["Members (",Ue.length,"):"]}),jsxRuntimeExports.jsx("ul",{className:"w-full mb-4 list-disc ml-6",children:Ue.map((Ye,Xe)=>jsxRuntimeExports.jsx("li",{className:"mb-1 text-gray-800 animate-fade-in-slow",children:Ye},Xe))}),ze&&ze.length>0&&jsxRuntimeExports.jsxs("div",{className:"w-full mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-smartSchool-yellow mb-1",children:"Upcoming Sessions:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc ml-6 text-gray-700 text-xs",children:ze.map((Ye,Xe)=>jsxRuntimeExports.jsx("li",{children:Ye},Xe))})]}),Ie?jsxRuntimeExports.jsxs("form",{onSubmit:Oe,className:"w-full flex flex-col gap-2 mb-2 animate-fade-in",children:[jsxRuntimeExports.jsx("textarea",{placeholder:"Introduce yourself or add a message (optional)",className:"px-3 py-2 rounded border border-gray-300",value:Pe,onChange:Ye=>Te(Ye.target.value),disabled:xe}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:xe,className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 bg-smartSchool-yellow text-white hover:bg-yellow-400 active:scale-95 ${xe?"opacity-60 cursor-not-allowed":""}`,children:xe?"Joining...":"Confirm Join"}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-sm text-gray-500 underline",onClick:()=>je(!1),disabled:xe,children:"Cancel"})]}):jsxRuntimeExports.jsx("button",{onClick:()=>{je(!0),Re(!1),Se(null)},disabled:xe,"aria-label":"Join study buddy group",className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-yellow/60 bg-smartSchool-yellow text-white hover:bg-yellow-400 active:scale-95 mt-2 ${xe?"opacity-60 cursor-not-allowed":""}`,children:xe?"Joining...":Ae?"Joined!":"Join Group"}),Ae&&jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold animate-bounce mt-2",children:"You joined the group!"}),Ee&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Ee}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center animate-pulse",children:"Collaborate and learn together with your study buddies! Share your goals and join the next session."})]})}function TutorChat({profile:t,onSendMessage:e,messages:xe}){const[_e,Ee]=reactExports.useState(""),[Se,Ae]=reactExports.useState(!1),[Re,Pe]=reactExports.useState(null),[Te,Ie]=reactExports.useState(["Can you explain this concept?","Can you help me with my homework?","What are some tips for studying?","How do I solve this problem?","Can you quiz me on this topic?"]),[je,Oe]=reactExports.useState(!1),ke=reactExports.useRef(null),Fe=async()=>{if(_e.trim()){Ae(!0),Pe(null);try{await e(_e),Ee("")}catch{Pe("Failed to send message. Please try again.")}finally{Ae(!1)}}};reactExports.useEffect(()=>{ke.current&&ke.current.scrollIntoView({behavior:"smooth"})},[xe]),reactExports.useEffect(()=>{if(!_e.trim()){Oe(!1);return}Oe(!0)},[_e]);const Me=De=>De?new Date(De).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-smartSchool-blue/40 p-8 max-w-lg mx-auto flex flex-col items-center",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-smartSchool-blue mb-2 font-poppins drop-shadow",children:"AI Tutor Chat"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Student: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:t==null?void 0:t.id})," | Grade: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:t==null?void 0:t.grade})]}),jsxRuntimeExports.jsxs("div",{className:"w-full h-56 overflow-y-auto bg-smartSchool-blue/5 rounded-lg mb-4 p-3 animate-fade-in-slow",children:[xe.length===0&&jsxRuntimeExports.jsx("div",{className:"text-gray-400 text-center mt-8",children:"No messages yet. Start the conversation!"}),xe.map((De,Ue)=>jsxRuntimeExports.jsx("div",{className:`mb-2 flex ${De.role==="ai"?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-lg shadow font-poppins ${De.role==="ai"?"bg-smartSchool-yellow/20 text-smartSchool-yellow":"bg-smartSchool-blue/20 text-smartSchool-blue"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("strong",{children:De.role==="ai"?"AI":"You"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:Me(De.time)})]}),jsxRuntimeExports.jsx("div",{children:De.text})]})},Ue)),jsxRuntimeExports.jsx("div",{ref:ke})]}),je&&jsxRuntimeExports.jsx("div",{className:"w-full mb-2 flex flex-wrap gap-2 animate-fade-in",children:Te.filter(De=>De.toLowerCase().includes(_e.toLowerCase())).map((De,Ue)=>jsxRuntimeExports.jsx("button",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs hover:bg-blue-200 transition hover:animate-pop-on-hover",onClick:()=>{Ee(De),Oe(!1)},disabled:Se,children:De},Ue))}),jsxRuntimeExports.jsxs("div",{className:"flex w-full gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:De=>Ee(De.target.value),placeholder:"Ask a question...",className:`flex-1 px-4 py-2 rounded-lg border-2 border-smartSchool-blue/30 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/40 text-lg shadow ${Re?"animate-shake border-red-400":""}`,disabled:Se,onKeyDown:De=>{De.key==="Enter"&&Fe()}}),jsxRuntimeExports.jsx("button",{onClick:Fe,disabled:!_e.trim()||Se,className:`px-5 py-2 rounded-lg font-semibold shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-smartSchool-blue/60 bg-smartSchool-blue text-white hover:bg-blue-700 active:scale-95 ${!_e.trim()||Se?"opacity-60 cursor-not-allowed":""}`,children:Se?"Sending...":jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Send"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 inline-block animate-wiggle hover:animate-wiggle ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]})})]}),Re&&jsxRuntimeExports.jsx("div",{className:"text-red-500 font-semibold animate-shake mt-2",children:Re}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-gray-500 text-sm text-center",children:"Chat with your AI tutor for instant help! Try asking for explanations, tips, or practice questions."})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-2",children:Te.map((De,Ue)=>jsxRuntimeExports.jsx("button",{onClick:()=>Ee(De),className:"px-3 py-1 rounded-full bg-gray-100 hover:bg-yellow-100 text-gray-700 text-xs font-semibold transition hover:animate-pop-on-hover",children:De},Ue))}),jsxRuntimeExports.jsxs("div",{className:"fixed bottom-6 right-24 z-50 group",children:[jsxRuntimeExports.jsxs("button",{className:"bg-smartSchool-blue text-white rounded-full shadow-lg p-3 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 animate-float relative",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Chat tips"}),jsxRuntimeExports.jsxs("svg",{width:"22",height:"22",fill:"none",viewBox:"0 0 22 22",className:"inline-block align-middle animate-wiggle group-hover:animate-wiggle",children:[jsxRuntimeExports.jsx("circle",{cx:"11",cy:"11",r:"10",stroke:"#facc15",strokeWidth:"2",fill:"#2563eb"}),jsxRuntimeExports.jsx("text",{x:"50%",y:"55%",textAnchor:"middle",fill:"#facc15",fontSize:"12",fontWeight:"bold",dy:".3em",children:"?"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute right-16 bottom-1/2 translate-y-1/2 bg-white text-gray-700 px-4 py-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:"Try asking for examples, quizzes, or explanations!"})]})]})}function ConfettiPopup({show:t,message:e="Congratulations!",onDone:xe}){return reactExports.useEffect(()=>{if(t){new Audio("/audio/confetti-pop.mp3").play();const Ee=setTimeout(()=>{xe&&xe()},2500);return()=>clearTimeout(Ee)}},[t,xe]),t?jsxRuntimeExports.jsx("div",{role:"status","aria-live":"polite",className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none",style:{animation:"fadeIn 0.3s"},children:jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col items-center bg-white rounded-3xl shadow-3xl border-4 border-smartSchool-yellow px-12 py-10 animate-bounce-in",style:{boxShadow:"0 8px 40px 0 rgba(250,204,21,0.18), 0 2px 8px 0 rgba(0,0,0,0.10)"},children:[jsxRuntimeExports.jsx("span",{className:"text-6xl mb-3 drop-shadow-lg animate-pop","aria-hidden":!0,children:""}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-extrabold text-smartSchool-yellow drop-shadow-glow mb-2",children:e}),jsxRuntimeExports.jsx("div",{className:"text-base font-semibold text-blue-700 animate-bounce-slow mb-2",children:"XP earned! Keep going!"}),jsxRuntimeExports.jsx("svg",{width:"240",height:"110",className:"absolute left-1/2 top-0 -translate-x-1/2 -translate-y-1/2 animate-confetti-burst","aria-hidden":!0,children:jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"4",fill:"#facc15",style:{transform:"rotate(-10deg) scale(1.1)"}}),jsxRuntimeExports.jsx("circle",{cx:"60",cy:"10",r:"3",fill:"#2563eb",style:{transform:"rotate(8deg) scale(1.2)"}}),jsxRuntimeExports.jsx("circle",{cx:"100",cy:"25",r:"5",fill:"#ef4444",style:{transform:"rotate(-6deg) scale(1.05)"}}),jsxRuntimeExports.jsx("circle",{cx:"40",cy:"40",r:"2",fill:"#22d3ee",style:{transform:"rotate(12deg) scale(1.3)"}}),jsxRuntimeExports.jsx("circle",{cx:"80",cy:"35",r:"3",fill:"#a3e635",style:{transform:"rotate(-15deg) scale(1.1)"}}),jsxRuntimeExports.jsx("circle",{cx:"120",cy:"15",r:"4",fill:"#f472b6",style:{transform:"rotate(5deg) scale(1.2)"}}),jsxRuntimeExports.jsx("circle",{cx:"160",cy:"30",r:"3",fill:"#facc15",style:{transform:"rotate(-8deg) scale(1.15)"}}),jsxRuntimeExports.jsx("circle",{cx:"200",cy:"20",r:"5",fill:"#2563eb",style:{transform:"rotate(10deg) scale(1.1)"}}),jsxRuntimeExports.jsx("circle",{cx:"180",cy:"50",r:"2",fill:"#ef4444",style:{transform:"rotate(-12deg) scale(1.25)"}}),jsxRuntimeExports.jsx("circle",{cx:"140",cy:"60",r:"3",fill:"#a3e635",style:{transform:"rotate(7deg) scale(1.1)"}}),jsxRuntimeExports.jsx("circle",{cx:"60",cy:"70",r:"3",fill:"#f472b6",style:{transform:"rotate(-5deg) scale(1.2)"}}),jsxRuntimeExports.jsx("circle",{cx:"100",cy:"80",r:"4",fill:"#22d3ee",style:{transform:"rotate(13deg) scale(1.15)"}}),jsxRuntimeExports.jsx("circle",{cx:"180",cy:"80",r:"3",fill:"#facc15",style:{transform:"rotate(-7deg) scale(1.1)"}}),jsxRuntimeExports.jsx("circle",{cx:"30",cy:"90",r:"2",fill:"#facc15",style:{transform:"rotate(18deg) scale(1.3)"}}),jsxRuntimeExports.jsx("circle",{cx:"210",cy:"60",r:"3",fill:"#2563eb",style:{transform:"rotate(-18deg) scale(1.2)"}}),jsxRuntimeExports.jsx("circle",{cx:"150",cy:"90",r:"2",fill:"#ef4444",style:{transform:"rotate(15deg) scale(1.1)"}})]})}),jsxRuntimeExports.jsx("style",{children:`@keyframes confetti-burst {
            0% { opacity: 0; transform: scale(0.7) translateY(-20px); }
            30% { opacity: 1; transform: scale(1.1) translateY(0); }
            100% { opacity: 0; transform: scale(0.9) translateY(40px); }
          }
          .animate-confetti-burst { animation: confetti-burst 2s cubic-bezier(.23,1.01,.32,1) forwards; }
          .drop-shadow-glow {
            text-shadow: 0 0 8px #facc15, 0 0 16px #facc15, 0 2px 4px #fff;
          }
          .animate-bounce-slow {
            animation: bounceSlow 1.6s infinite alternate cubic-bezier(.5,1.5,.5,1);
          }
          @keyframes bounceSlow {
            0% { transform: translateY(0); }
            100% { transform: translateY(-8px); }
          }
          .shadow-3xl {
            box-shadow: 0 8px 40px 0 rgba(250,204,21,0.18), 0 2px 8px 0 rgba(0,0,0,0.10);
          }
          .animate-pop {
            animation: popIn 0.5s cubic-bezier(.23,1.01,.32,1);
          }
          @keyframes popIn {
            0% { transform: scale(0.7); opacity: 0; }
            80% { transform: scale(1.15); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
          }`})]})}):null}const initialProfile={id:"student1",grade:"5",gamification:{xp:120,level:3,badges:["Math Whiz","Reader"]},subjects:{Math:{mastery:80,strengths:["Addition"],recentErrors:["Fractions"]}},history:[{lessonId:"Math-1",score:90,timeSpent:"10m",retries:1}]},initialRecommendations=[{subject:"Math",topic:"Multiplication",reason:"Next in sequence"}],initialThreads=[{author:"Alice",text:"How do you solve this?"}],initialEnrichment=["Math Challenge","Science Project"],initialRemediation=["Review Fractions","Practice Reading"],initialGoals=["Finish Math Unit","Read 2 books"],initialAlerts=["Parent meeting on Friday","Field trip permission needed"],initialRequests=[{student:"Bob",topic:"Science"}],initialProjects=[{name:"Solar System Model",type:"Science"}],initialGroup={members:["Alice","Bob"]},initialSettings={dyslexiaFont:!1,colorblindMode:!1,tts:!1,language:"English",theme:"system",notifications:!0,profileName:""},initialMessages=[{role:"ai",text:"Hello! How can I help?"},{role:"user",text:"Explain photosynthesis."}],WidgetIcons={lesson:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"8",y:"12",width:"28",height:"20",rx:"5",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("path",{d:"M22 12v20",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("path",{d:"M14 16c2 2 2 10 0 12",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M30 16c-2 2-2 10 0 12",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("rect",{x:"12",y:"24",width:"8",height:"2",rx:"1",fill:"#2563eb",opacity:"0.2"}),jsxRuntimeExports.jsx("rect",{x:"24",y:"24",width:"8",height:"2",rx:"1",fill:"#2563eb",opacity:"0.2"})]}),brainbreak:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("ellipse",{cx:"17",cy:"24",rx:"7",ry:"10",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("ellipse",{cx:"27",cy:"24",rx:"7",ry:"10",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("path",{d:"M22 14c-1 2-1 4 0 6s1 4 0 6 1 4 0 6",stroke:"#facc15",strokeWidth:"2.2",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M14 20c2 2 2 4 0 6",stroke:"#facc15",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M30 20c-2 2-2 4 0 6",stroke:"#facc15",strokeWidth:"1.2",fill:"none"}),jsxRuntimeExports.jsx("ellipse",{cx:"22",cy:"34",rx:"10",ry:"2.5",fill:"#fde68a",opacity:"0.4"})]}),certificate:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"10",y:"14",width:"24",height:"16",rx:"5",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("ellipse",{cx:"14",cy:"22",rx:"2",ry:"3",fill:"#fff",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("ellipse",{cx:"30",cy:"22",rx:"2",ry:"3",fill:"#fff",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("rect",{x:"18",y:"20",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"28",r:"2.2",fill:"#facc15",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M22 30v3",stroke:"#facc15",strokeWidth:"1.2"})]}),checkin:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"15",fill:"#fee2e2",stroke:"#ef4444",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"17",cy:"20",r:"2",fill:"#fff",stroke:"#ef4444",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"27",cy:"20",r:"2",fill:"#fff",stroke:"#ef4444",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M17 27c2 2 8 2 10 0",stroke:"#ef4444",strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),discussion:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"10",y:"15",width:"24",height:"12",rx:"5",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"15",y:"19",width:"14",height:"4",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("polygon",{points:"22,27 26,31 22,29",fill:"#2563eb",opacity:"0.3"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"21",r:"1",fill:"#2563eb"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"21",r:"1",fill:"#2563eb"}),jsxRuntimeExports.jsx("circle",{cx:"28",cy:"21",r:"1",fill:"#2563eb"})]}),enrichment:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("ellipse",{cx:"22",cy:"22",rx:"10",ry:"13",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"18",y:"32",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M22 28v4",stroke:"#facc15",strokeWidth:"2"}),jsxRuntimeExports.jsx("path",{d:"M19 18c1-2 5-2 6 0",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M22 12v3",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M16 15l2 2",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M28 15l-2 2",stroke:"#facc15",strokeWidth:"1.2"})]}),resources:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"12",y:"12",width:"20",height:"20",rx:"6",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"16",y:"16",width:"12",height:"12",rx:"2.5",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("path",{d:"M20 28c0-2 4-2 4 0",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"28",r:"1.5",fill:"#2563eb"})]}),gamification:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"14",y:"18",width:"16",height:"10",rx:"5",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("ellipse",{cx:"22",cy:"32",rx:"6",ry:"2",fill:"#fde68a",opacity:"0.5"}),jsxRuntimeExports.jsx("rect",{x:"19",y:"28",width:"6",height:"4",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M14 18c-2 2-2 6 2 8",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("path",{d:"M30 18c2 2 2 6-2 8",stroke:"#facc15",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"23",r:"2",fill:"#facc15"})]}),goals:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"15",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"9",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"4",fill:"#2563eb",opacity:"0.2"}),jsxRuntimeExports.jsx("path",{d:"M22 10v4M22 30v4M10 22h4M30 22h4",stroke:"#2563eb",strokeWidth:"1.2"})]}),help:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"15",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"8",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("path",{d:"M22 7v6M22 31v6M7 22h6M31 22h6",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"22",cy:"22",r:"3",fill:"#2563eb",opacity:"0.2"}),jsxRuntimeExports.jsx("text",{x:"22",y:"27",textAnchor:"middle",fontSize:"12",fill:"#2563eb",fontWeight:"bold",children:"?"})]}),parentdash:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"16",cy:"22",r:"5",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"28",cy:"22",r:"7",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"29",width:"16",height:"5",rx:"2.5",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("ellipse",{cx:"28",cy:"32",rx:"5",ry:"2",fill:"#fde68a",opacity:"0.3"})]}),peertutoring:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"16",cy:"19",r:"4.5",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"28",cy:"19",r:"4.5",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"27",width:"16",height:"6",rx:"3",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("rect",{x:"24",y:"12",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("circle",{cx:"28",cy:"14",r:"1",fill:"#2563eb"})]}),portfolio:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"10",y:"18",width:"24",height:"12",rx:"4",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"16",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("rect",{x:"22",y:"24",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"1.2"})]}),studybuddy:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("circle",{cx:"16",cy:"21",r:"4.5",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("circle",{cx:"28",cy:"21",r:"4.5",fill:"#fef9c3",stroke:"#facc15",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"28",width:"16",height:"5",rx:"2.5",fill:"#fff",stroke:"#2563eb",strokeWidth:"2.2"}),jsxRuntimeExports.jsx("path",{d:"M22 25c1-2 4-2 4 0s-3 4-4 5c-1-1-4-3-4-5s3-2 4 0z",fill:"#facc15",opacity:"0.7"})]}),tutorch:jsxRuntimeExports.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[jsxRuntimeExports.jsx("rect",{x:"12",y:"16",width:"20",height:"12",rx:"6",fill:"#e0e7ff",stroke:"#2563eb",strokeWidth:"3"}),jsxRuntimeExports.jsx("rect",{x:"18",y:"20",width:"8",height:"4",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("polygon",{points:"22,28 26,32 22,30",fill:"#2563eb",opacity:"0.3"}),jsxRuntimeExports.jsx("circle",{cx:"30",cy:"18",r:"2",fill:"#2563eb"}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("line",{x1:"32",y1:"16",x2:"34",y2:"14",stroke:"#2563eb",strokeWidth:"1.2"}),jsxRuntimeExports.jsx("line",{x1:"34",y1:"16",x2:"32",y2:"14",stroke:"#2563eb",strokeWidth:"1.2"})]})]})};function WidgetLauncher(){const[t,e]=reactExports.useState(!1),[xe,_e]=reactExports.useState(null),[Ee,Se]=reactExports.useState(initialSettings),[Ae,Re]=reactExports.useState(initialAlerts),[Pe,Te]=reactExports.useState(initialProjects),[Ie,je]=reactExports.useState({encryption:!0,parentalConsent:!1}),[Oe,ke]=reactExports.useState(initialRequests),[Fe,Me]=reactExports.useState([{title:"Khan Academy",url:"https://khanacademy.org",description:"Free lessons and practice for all grades."},{title:"CK-12",url:"https://ck12.org",description:"Interactive STEM resources."},{title:"YouTube Learning",url:"https://youtube.com/learning",description:"Educational videos for every subject."}]),[De,Ue]=reactExports.useState({}),[ze,We]=reactExports.useState(initialGoals.map(En=>({text:En,completed:!1}))),[Ye,Xe]=reactExports.useState(""),[ir,Qe]=reactExports.useState(null),[Ke,rr]=reactExports.useState(""),cr=()=>{Ye.trim()&&(We(En=>[...En,{text:Ye.trim(),completed:!1}]),Xe(""))},Ze=En=>{Qe(En),rr(ze[En].text)},er=()=>{We(En=>En.map((Wn,di)=>di===ir?{...Wn,text:Ke}:Wn)),Qe(null),rr("")},sr=En=>We(Wn=>Wn.filter((di,Ei)=>Ei!==En)),fr=En=>We(Wn=>Wn.map((di,Ei)=>Ei===En?{...di,completed:!di.completed}:di)),[_r,Er]=reactExports.useState([]),[yr,mr]=reactExports.useState(""),Pr=En=>{(En||yr).trim()&&(Er(Wn=>[...Wn,{question:(En||yr).trim(),answer:null,resolved:!1}]),mr(""))},Cr=(En,Wn)=>Er(di=>di.map((Ei,aa)=>aa===En?{...Ei,answer:Wn,resolved:!0}:Ei)),wr=En=>Er(Wn=>Wn.filter((di,Ei)=>Ei!==En)),[or,hr]=reactExports.useState([]),br=En=>{hr(Wn=>Wn.includes(En.title)?Wn.filter(di=>di!==En.title):[...Wn,En.title])},Ir=()=>{Te(En=>[...En,{name:`New Project ${En.length+1}`,type:"General"}])},jr=()=>{ke(En=>[...En,{student:"You",topic:"Math"}])},Mr=()=>{},Vr=async En=>{Ue(Wn=>({...Wn,[En.title]:"loading"}));try{window.open(En.url,"_blank"),Ue(Wn=>({...Wn,[En.title]:"opened"}))}catch{Ue(Wn=>({...Wn,[En.title]:"error"}))}},[Or,Xr]=reactExports.useState(null),[Qr,Fr]=reactExports.useState(""),xn=En=>{Xr(En),Fr(Pe[En].name)},An=()=>{Te(En=>En.map((Wn,di)=>di===Or?{...Wn,name:Qr}:Wn)),Xr(null),Fr("")},un=En=>Te(Wn=>Wn.filter((di,Ei)=>Ei!==En)),[Nr,Bn]=reactExports.useState({}),Vn=En=>Bn(Wn=>({...Wn,[En]:"accepted"})),wn=En=>Bn(Wn=>({...Wn,[En]:"declined"})),[In,jn]=reactExports.useState(0),Nn=()=>jn(En=>En+1),[zn,Qn]=reactExports.useState(!1),ni=()=>Qn(!0),Yn=()=>Qn(!1),[ei,hi]=reactExports.useState(initialMessages),ti=En=>hi(Wn=>[...Wn,{role:"user",text:En},{role:"ai",text:"AI response to: "+En}]),si=()=>hi([]);reactExports.useEffect(()=>{const En=query(collection(db,"assignments"),orderBy("createdAt","desc")),Wn=onSnapshot(En,di=>{xo(di.docs.map(Ei=>({id:Ei.id,...Ei.data()})))},di=>{console.error("Assignments real-time sync error:",di)});return()=>Wn()},[]);const[kn,Zi]=reactExports.useState(initialThreads);reactExports.useEffect(()=>{const En=query(collection(db,"discussions"),orderBy("createdAt","desc")),Wn=onSnapshot(En,di=>{Zi(di.docs.map(Ei=>({id:Ei.id,...Ei.data()})))},di=>{console.error("Discussions real-time sync error:",di)});return()=>Wn()},[]),reactExports.useEffect(()=>{const En=onSnapshot(collection(db,"studyGroups"),Wn=>{},Wn=>{console.error("Study group real-time sync error:",Wn)});return()=>En()},[]);const[mi,xo]=reactExports.useState([]),[bi,Pi]=reactExports.useState(""),[zo,gi]=reactExports.useState(""),[ys,Ii]=reactExports.useState(""),[eo,_o]=reactExports.useState("default"),[Li,Jn]=reactExports.useState(120),[vi,ns]=reactExports.useState([]),[Yi,go]=reactExports.useState(""),[Ho,Fn]=reactExports.useState(""),[Io,io]=reactExports.useState(""),[uo,qi]=reactExports.useState(!1),[Wi,Xi]=reactExports.useState(""),Us=(En="Congratulations!")=>{Xi(En),qi(!0)},Cs=()=>{if(!bi.trim()){gi("Assignment cannot be empty."),Ii("");return}xo(En=>[...En,{text:bi.trim(),completed:!1}]),Pi(""),gi(""),Ii("Assignment created!")},jo=En=>{xo(Wn=>Wn.map((di,Ei)=>Ei===En?{...di,completed:!0}:di))},Wo=En=>{xo(Wn=>Wn.filter((di,Ei)=>Ei!==En))},oo=En=>{if(Li<10){alert("Not enough tokens!");return}_o(En),Jn(Wn=>Wn-10),Us("Avatar customized! +XP")},$o=()=>{if(!Yi.trim()){io("Message cannot be empty."),Fn("");return}ns(En=>[...En,{text:Yi.trim(),date:new Date().toLocaleString()}]),go(""),Fn("Message sent!"),io("")},ro=En=>{alert("Assignment reviewed!")},is=[{key:"lesson",label:"Lesson",icon:WidgetIcons.lesson,component:jsxRuntimeExports.jsx(MultiModalLesson,{grade:"5",subject:"Math",topic:"Fractions",studentProfile:initialProfile,standards:["Common Core: 5.NF.1","NGSS: MS-PS1-4"],aiLessonPlan:{objectives:["Understand fractions as division","Add and subtract fractions with unlike denominators","Apply fractions to real-world problems","Explain why common denominators are needed"],activities:["Watch intro video","Interactive whiteboard demo","Practice quiz","Group discussion: When do you use fractions?","Exit ticket: Write your own fraction story"],summary:"Fractions are parts of a whole. You can add and subtract them by finding a common denominator. Mastery of fractions is key for algebra and science."},multiModalContent:{text:"Fractions represent parts of a whole. For example, 1/2 is half of something. You can add, subtract, multiply, and divide fractions. Try the interactive whiteboard to see how fractions work!",visuals:["/img/fractions1.svg","/img/fractions2.svg","/img/pizza-fractions.png"],audio:"/audio/fractions-intro.mp3",video:"https://youtube.com/embed/lesson-fractions",tts:!0,imageGen:!0},interactiveQuestions:[{q:"What is 1/2 + 1/4?",a:"3/4",hints:["Find a common denominator!"],explanation:"1/2 = 2/4, so 2/4 + 1/4 = 3/4."},{q:"Draw a picture to show 3/5.",a:"Student drawing",type:"drawing"},{q:"Which is bigger: 2/3 or 3/5?",a:"2/3",explanation:"2/3 = 0.666..., 3/5 = 0.6"}],scaffolding:{hints:["Find a common denominator first!","Draw a picture to help visualize.","Ask for a hint if stuck."],tips:["Use the whiteboard for tough problems.","Pause and reflect after each section."],altExplanations:["Think of pizza slices.","Imagine splitting a candy bar."]},customPace:!0,aiSummaryAtEnd:!0,comprehensionCheck:{summaryPrompt:"Summarize what you learned about fractions.",aiFeedback:!0},accessibility:{tts:!0,dyslexiaFont:!0,colorContrast:!0},extraTips:["Try the interactive whiteboard for tough problems!","Use the 'Explain' button for step-by-step help.","Check the lesson summary at the end for key takeaways.","Ask the AI for an alternative explanation if youre stuck."],bestPractices:["Take notes as you go.","Pause and reflect after each section.","Ask questions in the Discussion Board if stuck.","Use the glossary for new terms."],extraResources:[{title:"Lesson Video",url:"https://youtube.com/lesson"},{title:"Practice Quiz",url:"https://quiz.com"},{title:"Printable Worksheet",url:"/worksheets/fractions.pdf"},{title:"Parent Tip Sheet",url:"/tips/parents-math.pdf"},{title:"Vocabulary Bank",url:"/audio/fraction.mp3"}],parentTeacherFeatures:{viewProgress:!0,assignExtraPractice:!0,leaveFeedback:!0},assignments:mi,onCreateAssignment:Cs,assignmentInput:bi,onAssignmentInputChange:En=>Pi(En.target.value),onCompleteAssignment:jo,onDeleteAssignment:Wo,assignmentError:zo,assignmentSuccess:ys,tooltipAssignments:"Create, complete, and review assignments here."})},{key:"brainbreak",label:"Brain Breaks",icon:WidgetIcons.brainbreak,component:jsxRuntimeExports.jsx(BrainBreaks,{onTakeBreak:()=>alert("Break started!"),tips:["Stand up and stretch for 1 minute.","Try a quick breathing exercise.","Look away from the screen and blink 10 times.","Play a quick math game to reset your brain."],visuals:["/img/stretch.svg","/img/breathe.svg","/img/brain-game.svg"],funFact:"Did you know? Short breaks can boost your memory!",breakTypes:["Breathing","Stretching","Mindfulness","Quick Game","Dance"],themes:["Nature","Animals","Space","Underwater","Rainforest"],onThemeChange:En=>alert("Theme: "+En),aiSuggestBreak:!0,quickGames:[{name:"Math Puzzle",url:"/games/math-puzzle",description:"Solve as many as you can in 60 seconds!"},{name:"Word Scramble",url:"/games/word-scramble",description:"Unscramble the words!"},{name:"Logic Maze",url:"/games/logic-maze",description:"Find your way out!"}],aiFocusDetection:!0,accessibility:{tts:!0,colorContrast:!0},helperText:"AI will suggest a break if you seem tired. Choose your favorite theme!"})},{key:"certificate",label:"Certificate",icon:WidgetIcons.certificate,component:jsxRuntimeExports.jsx(Certificate,{profile:initialProfile,type:"progress",showShare:!0,showDownload:!0,milestoneTypes:["Lesson Mastery","Unit Completion","Grade Progress","Perfect Attendance"],customDesigns:["Classic","Modern","Diploma","Fun"],onDesignChange:En=>alert("Design: "+En),parentShare:!0,tips:["Share your achievement with your family!","Print and hang your certificate.","Download as PDF or image."],helperText:"Certificates are auto-generated after each milestone. Parents can receive a copy by email.",aiPersonalization:!0,printable:!0})},{key:"checkin",label:"Check-In",icon:WidgetIcons.checkin,component:jsxRuntimeExports.jsx(DailyCheckIn,{onCheckIn:En=>alert("Mood: "+En),moodTips:{happy:"Keep up the great mood!",sad:"Try a brain break or talk to someone you trust.",neutral:"Set a small goal for today!"},visuals:["/img/happy.svg","/img/sad.svg","/img/neutral.svg","/img/excited.svg"],journaling:!0,onJournal:En=>alert("Journal: "+En),aiFeedback:!0,weeklyProgressReport:!0,selPrompts:["Whats one thing you want to learn today?","Whats something youre proud of?","Who helped you this week?"],aiEncouragement:!0,accessibility:{tts:!0,emojiAltText:!0},helperText:"Check in daily for personalized encouragement and SEL support."})},{key:"discussion",label:"Discussion",icon:WidgetIcons.discussion,component:jsxRuntimeExports.jsx(DiscussionBoard,{threads:kn,onPost:En=>{const Wn={...En,createdAt:new Date,author:En.author||"Anonymous"};__vitePreload(async()=>{const{addDoc:di,collection:Ei}=await Promise.resolve().then(()=>index_esm);return{addDoc:di,collection:Ei}},void 0).then(({addDoc:di,collection:Ei})=>{di(Ei(db,"discussions"),Wn)})},tips:["Be respectful and kind.","Use clear questions.","Reply to help others.","Upvote helpful answers."],bestPractices:["Cite your sources.","Stay on topic.","Use evidence in your arguments."],aiModeration:!0,aiStarterBot:!0,parentTeacherOverview:!0,topContributors:!0,aiFilterInappropriate:!0,helperText:"AI will help keep the discussion safe and on-topic. Parents and teachers can view top contributors."})},{key:"enrichment",label:"Enrichment",icon:WidgetIcons.enrichment,component:jsxRuntimeExports.jsx(EnrichmentRemediation,{enrichment:initialEnrichment,remediation:initialRemediation,onStart:En=>alert("Started: "+En),enrichmentTips:["Try something new today!","Pick a challenge that excites you.","Explore a career link for inspiration."],remediationTips:["Review your mistakes for better learning.","Ask for help if you need it.","Use the AI for extra practice."],interactiveSimulations:[{name:"Gravity Lab",url:"/sims/gravity",description:"Experiment with gravity in real time!"},{name:"Plant Growth",url:"/sims/plants",description:"See how plants grow under different conditions."}],careerLinks:[{title:"Astronaut",url:"https://nasa.gov/careers",description:"Explore space careers."},{title:"Engineer",url:"https://engineering.com/careers",description:"Learn about engineering fields."}],projectSuggestions:["Build a volcano model","Design a solar oven","Create a coding game"],aiChallengeQuestions:!0,helperText:"Enrichment is for students who want to go above and beyond. Try a simulation or project!"})},{key:"resources",label:"Resources",icon:WidgetIcons.resources,component:jsxRuntimeExports.jsx(ExternalResources,{resources:Fe,onOpen:Vr,tips:["Bookmark your favorite resources.","Check for new links every week.","Download worksheets for offline practice."],status:De,bookmarked:or,onBookmark:br,printableWorksheets:[{title:"Fractions Practice",url:"/worksheets/fractions.pdf"},{title:"Reading Comprehension",url:"/worksheets/reading.pdf"}],parentTipSheets:[{title:"Math Tips for Parents",url:"/tips/parents-math.pdf"},{title:"Reading at Home",url:"/tips/parents-reading.pdf"}],vocabBanks:[{word:"Fraction",audio:"/audio/fraction.mp3",definition:"A part of a whole."},{word:"Denominator",audio:"/audio/denominator.mp3",definition:"The bottom number in a fraction."}],studyGuides:[{title:"Math Study Guide",url:"/guides/math.pdf"},{title:"Science Study Guide",url:"/guides/science.pdf"}],aiCuration:!0,accessibility:{tts:!0,largeText:!0},helperText:"Resources are AI-curated and updated weekly. Parents can download tip sheets."})},{key:"gamification",label:"Gamification",icon:WidgetIcons.gamification,component:jsxRuntimeExports.jsx(GamificationPanel,{profile:initialProfile,showLeaderboard:!0,showBadges:!0,tips:["Earn XP by completing lessons.","Check the leaderboard for friendly competition.","Customize your avatar with tokens."],avatarCustomization:!0,weeklyMissions:["Finish 5 science lessons this week","Earn 3 badges"],privateLeaderboards:!0,streaks:!0,achievementBadges:["Math Wizard","Discussion Leader","Perfect Attendance"],avatarTokens:120,avatar:eo,onAvatarChange:oo,tooltipAvatar:"Customize your avatar for 10 tokens.",helperText:"Earn XP, badges, and tokens for every activity. Customize your avatar and climb the leaderboard!"})},{key:"goals",label:"Goals",icon:WidgetIcons.goals,component:jsxRuntimeExports.jsx(GoalSetting,{goals:ze,onAddGoal:En=>We(Wn=>[...Wn,{text:En,completed:!1}]),inputValue:Ye,onInputChange:En=>Xe(En.target.value),onAdd:cr,onEdit:Ze,onEditValue:Ke,onEditChange:En=>rr(En.target.value),onSaveEdit:er,editIdx:ir,onDelete:sr,onToggle:fr,tips:["Set SMART goals: Specific, Measurable, Achievable, Relevant, Time-bound.","Review your goals weekly.","Track your streaks for extra rewards."],bestPractices:["Break big goals into small steps.","Celebrate your progress.","Visualize your progress with the dashboard."],streaks:!0,smartSuggestions:["Master 3 fraction lessons this week","Read 2 books by Friday"],visualDashboard:!0,aiGoalSuggestions:!0,progressBars:!0,helperText:"Set daily and weekly goals. AI will suggest SMART goals and track your streaks!"})},{key:"help",label:"Help Center",icon:WidgetIcons.help,component:jsxRuntimeExports.jsx(HelpCenter,{onAsk:En=>Pr(En),faqs:["How do I reset my password?","Where can I find my assignments?","How do I contact my teacher?","How do I use the whiteboard?","How do I join a study group?"],supportLinks:[{title:"Live Chat",url:"#"},{title:"Email Support",url:"#"},{title:"Help Videos",url:"/videos/help-center.mp4"}],questions:_r,inputValue:yr,onInputChange:En=>mr(En.target.value),onAskClick:()=>Pr(yr),onAnswer:Cr,onDelete:wr,aiFaqBot:!0,howToVideos:[{title:"Navigating Lessons",url:"/videos/howto-lessons.mp4"},{title:"Using Dashboards",url:"/videos/howto-dashboards.mp4"}],glossary:[{term:"Mastery",definition:"Full understanding of a topic."},{term:"Streak",definition:"Consecutive days of activity."},{term:"XP",definition:"Experience points earned for activities."}],contactForm:!0,aiSearch:!0,accessibility:{tts:!0,largeText:!0},helperText:"Ask the AI FAQ bot or browse how-to videos. Contact support for help!"})},{key:"portfolio",label:"Portfolio",icon:WidgetIcons.portfolio,component:jsxRuntimeExports.jsx(Portfolio,{projects:Pe,onUpload:Ir,onEdit:xn,onEditValue:Qr,onEditChange:En=>Fr(En.target.value),onSaveEdit:An,editIdx:Or,onDelete:un,aiHighlights:!0,exportPdf:!0,parentView:!0,progressGraphs:!0,journalEntries:!0,certificateExport:!0,aiSummaryForReportCard:!0,helperText:"Your best work, projects, and certificates are saved here. Export as PDF for transcripts or graduation."})},{key:"peertutoring",label:"Peer Tutoring",icon:WidgetIcons.peertutoring,component:jsxRuntimeExports.jsx(PeerTutoring,{requests:Oe,onRequestHelp:jr,onOfferHelp:Mr,onAccept:Vn,onDecline:wn,helpStatus:Nr,aiPairing:!0,chatEnabled:!0,badges:!0,askPeerButton:!0,aiMonitor:!0,helperText:"Ask a peer for help or offer to tutor others. AI pairs you with the best match and awards badges!"})},{key:"parentdash",label:"Parent Dashboard",icon:WidgetIcons.parentdash,component:jsxRuntimeExports.jsx(ParentDashboard,{profile:initialProfile,recommendations:initialRecommendations,onRefresh:Nn,refreshKey:In,motivationalMessages:!0,manualAssignmentSetting:!0,realTimeNotifications:!0,progressLogs:!0,timeOnTask:!0,goalCompletionAlerts:!0,parentRewards:!0,parentOverrideAssignments:!0,parentMessages:vi,parentMessageInput:Yi,onParentMessageInputChange:En=>go(En.target.value),onSendParentMessage:$o,parentMessageSuccess:Ho,parentMessageError:Io,assignments:mi,onReviewAssignment:ro,tooltipParentMessages:"Send motivational messages to your student.",tooltipAssignments:"Review and manage assignments.",helperText:"Parents can view progress, set assignments, and send motivational messages. Real-time alerts for goals and issues."})},{key:"studybuddy",label:"Study Buddy",icon:WidgetIcons.studybuddy,component:jsxRuntimeExports.jsx(StudyBuddyGroup,{group:initialGroup,inGroup:zn,onJoin:ni,onLeave:Yn,pomodoroTimer:!0,groupGoals:["Lets all finish our reading lessons!","Complete 3 math problems together"],avatarInteraction:!0,animatedAvatars:!0,aiGroupCoordination:!0,lightInteraction:["wave","thumbs up","cheer"],helperText:"Join a virtual room, set group goals, and work together with animated avatars!"})},{key:"tutorch",label:"Tutor Chat",icon:WidgetIcons.tutorch,component:jsxRuntimeExports.jsx(TutorChat,{profile:initialProfile,onSendMessage:ti,messages:ei,onClear:si,voiceToText:!0,imStuckButton:!0,targetedSupport:!0,aiHints:!0,writingDraftSupport:!0,stepByStepHelp:!0,accessibility:{tts:!0,largeText:!0},helperText:"Chat with the AI for hints, explanations, and writing help. Use voice input or the 'I'm stuck' button for targeted support."})}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ConfettiPopup,{show:uo,message:Wi,onDone:()=>qi(!1)}),jsxRuntimeExports.jsxs("div",{className:"fixed bottom-6 left-6 z-50 group",children:[jsxRuntimeExports.jsx("button",{className:"bg-white border-2 border-smartSchool-blue rounded-xl shadow-lg p-4 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all flex items-center justify-center animate-float relative",onClick:()=>e(!0),"aria-label":"Open widgets",children:jsxRuntimeExports.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",className:"drop-shadow-sm",children:[jsxRuntimeExports.jsx("circle",{cx:"7",cy:"7",r:"3",fill:"#007BFF"})," ",jsxRuntimeExports.jsx("circle",{cx:"16",cy:"7",r:"3",fill:"#FFDC00"})," ",jsxRuntimeExports.jsx("circle",{cx:"25",cy:"7",r:"3",fill:"#FF4136"})," ",jsxRuntimeExports.jsx("circle",{cx:"7",cy:"16",r:"3",fill:"#007BFF"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"16",r:"3",fill:"#FFDC00"}),jsxRuntimeExports.jsx("circle",{cx:"25",cy:"16",r:"3",fill:"#FF4136"}),jsxRuntimeExports.jsx("circle",{cx:"7",cy:"25",r:"3",fill:"#007BFF"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"25",r:"3",fill:"#FFDC00"}),jsxRuntimeExports.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#FF4136"})]})}),jsxRuntimeExports.jsx("div",{className:"absolute left-16 bottom-1/2 translate-y-1/2 bg-white text-gray-700 px-4 py-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:"Open widgets & tools"})]}),t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center pt-24 sm:pt-32 backdrop-blur-md bg-transparent",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 min-w-[340px] max-w-3xl w-full relative border-2 border-smartSchool-blue/20",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition-colors","aria-label":"Close widget menu",children:jsxRuntimeExports.jsx(X$1,{})}),jsxRuntimeExports.jsx("h2",{className:"text-center mb-8 font-bold text-2xl font-poppins text-smartSchool-blue tracking-tight drop-shadow",children:"App Widgets"}),jsxRuntimeExports.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-auto pb-2 justify-start",children:is.map(En=>jsxRuntimeExports.jsxs("button",{onClick:()=>_e(En),className:"flex flex-col items-center justify-center bg-white hover:bg-smartSchool-yellow/30 border-2 border-smartSchool-blue/10 rounded-xl p-4 w-32 h-32 shadow-md hover:shadow-lg transition group focus:outline-none focus:ring-2 focus:ring-smartSchool-blue min-w-[8rem] hover:animate-pop-on-hover cursor-pointer","aria-label":En.label,children:[jsxRuntimeExports.jsx("span",{className:"mb-2 text-3xl group-hover:scale-110 transition-transform drop-shadow-sm group-hover:animate-wiggle",children:En.icon}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm text-gray-800 group-hover:text-smartSchool-blue text-center font-poppins tracking-tight",children:En.label})]},En.key))})]})}),xe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-white z-[300] flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 min-w-[340px] max-w-3xl w-full relative border-2 border-smartSchool-blue/20 max-h-[90vh] overflow-y-auto flex flex-col items-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e(null),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition-colors","aria-label":"Close widget",children:jsxRuntimeExports.jsx(X$1,{})}),jsxRuntimeExports.jsx("h2",{className:"text-center mb-8 font-bold text-xl font-poppins text-smartSchool-blue tracking-tight drop-shadow",children:xe.label}),jsxRuntimeExports.jsx("div",{className:"w-full flex flex-col items-center",children:xe.component})]})})]})}const LegalComplianceBanner=()=>jsxRuntimeExports.jsxs("div",{style:{background:"#fef3c7",color:"#92400e",padding:"10px",textAlign:"center",fontSize:"0.95rem",borderBottom:"1px solid #fde68a"},children:[jsxRuntimeExports.jsx("strong",{children:"Notice:"})," SmartSchool AI uses artificial intelligence to generate educational content. All user interactions are logged for safety and compliance. The platform complies with COPPA, FERPA, and GDPR. For details, see our ",jsxRuntimeExports.jsx("a",{href:"/PrivacyPolicy.txt",target:"_blank",rel:"noopener noreferrer",style:{color:"#92400e",textDecoration:"underline"},children:"Privacy Policy"})," and ",jsxRuntimeExports.jsx("a",{href:"/Disclaimer.txt",target:"_blank",rel:"noopener noreferrer",style:{color:"#92400e",textDecoration:"underline"},children:"Disclaimer"}),"."]}),Layout=({children:t})=>{const{user:e,logout:xe}=useAuth(),_e=useNavigate(),{toast:Ee}=useToast(),Se=()=>{xe(),Ee({title:"Logged Out",description:"You have been successfully logged out."}),_e("/")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LegalComplianceBanner,{}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-100 via-white to-yellow-100",children:[jsxRuntimeExports.jsx("header",{className:"bg-smartSchool-blue text-white shadow-md sticky top-0 z-50",children:jsxRuntimeExports.jsxs("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsx(Link,{to:"/",className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("img",{src:"/images/logo12.png",alt:"SmartSchool AI Logo",className:"h-12 w-12 rounded bg-white p-1 shadow"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-poppins font-bold tracking-tight",children:"SmartSchool AI"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:e?"/user-home":"/",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"text-white hover:bg-white/20",children:[jsxRuntimeExports.jsx(Home,{size:20,className:"mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:e.role==="student"?"/user-home":e.role==="parent"?"/parent-dashboard":"/dashboard",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"text-white hover:bg-white/20",children:[jsxRuntimeExports.jsx(LayoutDashboard,{size:20,className:"mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})}),jsxRuntimeExports.jsx(Link,{to:"/curriculum",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"text-white hover:bg-white/20",children:[jsxRuntimeExports.jsx(Home,{size:20,className:"mr-1 sm:mr-2"})," ",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Curriculum"})]})}),jsxRuntimeExports.jsxs(Button,{onClick:Se,variant:"destructive",className:"bg-smartSchool-red hover:bg-smartSchool-red/90",children:[jsxRuntimeExports.jsx(LogOut,{size:20,className:"mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Logout"})]}),e.role==="admin"&&jsxRuntimeExports.jsx(Button,{onClick:()=>_e("/admin"),variant:"outline",className:"text-white border-white hover:bg-white/10",children:"Admin"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"text-white hover:bg-white/20",children:[jsxRuntimeExports.jsx(LogIn,{size:20,className:"mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Login"})]})}),jsxRuntimeExports.jsx(Link,{to:"/signup",children:jsxRuntimeExports.jsxs(Button,{className:"bg-smartSchool-yellow hover:bg-smartSchool-yellow/90 text-smartSchool-blue font-semibold",children:[jsxRuntimeExports.jsx(UserPlus,{size:20,className:"mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Sign Up"})]})})]})]})]})}),jsxRuntimeExports.jsxs("main",{className:"flex-grow",children:[" ",t]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-6 mb-12",children:[e&&e.role==="student"&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-8 left-8 z-50",children:jsxRuntimeExports.jsx("img",{src:"/images/user-only-icon.png",alt:"User Only Icon",className:"h-14 w-14 rounded-xl shadow-lg border-4 border-blue-500 bg-white p-2"})}),jsxRuntimeExports.jsx(Link,{to:"/tools",className:"bg-blue-500 text-white px-6 py-3 rounded-lg font-bold text-lg shadow hover:bg-blue-600 transition",children:"Tools"}),jsxRuntimeExports.jsx(Link,{to:"/curriculum",className:"bg-yellow-400 text-gray-900 px-6 py-3 rounded-lg font-bold text-lg shadow hover:bg-yellow-500 transition",children:"Curriculum"}),jsxRuntimeExports.jsx(Link,{to:"/progress",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-bold text-lg shadow hover:bg-red-600 transition",children:"Progress"})]}),jsxRuntimeExports.jsxs("footer",{className:"bg-gray-800 text-gray-300 py-10 text-center",children:[jsxRuntimeExports.jsx("div",{className:"container mx-auto",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-poppins font-semibold text-white",children:"SmartSchool AI"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-openSans mt-1",children:[" ",new Date().getFullYear()," SmartSchool AI. Revolutionizing homeschool, one lesson at a time."]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/privacy-policy",className:"hover:text-smartSchool-yellow transition-colors",children:"Privacy Policy"}),jsxRuntimeExports.jsx(Link,{to:"/terms-of-service",className:"hover:text-smartSchool-yellow transition-colors",children:"Terms of Service"}),jsxRuntimeExports.jsx("a",{href:"/Disclaimer.txt",className:"hover:text-smartSchool-yellow transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Disclaimer"}),jsxRuntimeExports.jsx("a",{href:"/ContentModerationPolicy.txt",className:"hover:text-smartSchool-yellow transition-colors",target:"_blank",rel:"noopener noreferrer",children:"Content Moderation"})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-400",children:jsxRuntimeExports.jsx("a",{href:"/LICENSE",target:"_blank",rel:"noopener noreferrer",children:"Copyright & License"})})]})}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-xs text-gray-400",children:jsxRuntimeExports.jsx("p",{children:"SmartSchool AI complies with COPPA, FERPA, and GDPR. All user data is protected and handled according to strict privacy standards."})})]}),jsxRuntimeExports.jsx(WidgetLauncher,{})]})]})},Card=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx("div",{ref:xe,className:cn$1("rounded-lg border bg-card text-card-foreground shadow-sm hover:animate-pop-on-hover cursor-pointer",t),...e}));Card.displayName="Card";const CardHeader=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx("div",{ref:xe,className:cn$1("flex flex-col space-y-1.5 p-6",t),...e}));CardHeader.displayName="CardHeader";const CardTitle=React.forwardRef(({className:t,children:e,...xe},_e)=>jsxRuntimeExports.jsx("h3",{ref:_e,className:cn$1("text-2xl font-semibold leading-none tracking-tight",t),...xe,children:e}));CardTitle.displayName="CardTitle";const CardDescription=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx("p",{ref:xe,className:cn$1("text-sm text-muted-foreground",t),...e}));CardDescription.displayName="CardDescription";const CardContent=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx("div",{ref:xe,className:cn$1("p-6 pt-0",t),...e}));CardContent.displayName="CardContent";const CardFooter=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx("div",{ref:xe,className:cn$1("flex items-center p-6 pt-0",t),...e}));CardFooter.displayName="CardFooter";function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)({}).hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$t.apply(null,arguments)}function $c512c27ab02ef895$export$50c7b4e9d9f19c1$2(t,e=[]){let xe=[];function _e(Se,Ae){const Re=reactExports.createContext(Ae),Pe=xe.length;xe=[...xe,Ae];function Te(je){const{scope:Oe,children:ke,...Fe}=je,Me=(Oe==null?void 0:Oe[t][Pe])||Re,De=reactExports.useMemo(()=>Fe,Object.values(Fe));return reactExports.createElement(Me.Provider,{value:De},ke)}function Ie(je,Oe){const ke=(Oe==null?void 0:Oe[t][Pe])||Re,Fe=reactExports.useContext(ke);if(Fe)return Fe;if(Ae!==void 0)return Ae;throw new Error(`\`${je}\` must be used within \`${Se}\``)}return Te.displayName=Se+"Provider",[Te,Ie]}const Ee=()=>{const Se=xe.map(Ae=>reactExports.createContext(Ae));return function(Re){const Pe=(Re==null?void 0:Re[t])||Se;return reactExports.useMemo(()=>({[`__scope${t}`]:{...Re,[t]:Pe}}),[Re,Pe])}};return Ee.scopeName=t,[_e,$c512c27ab02ef895$var$composeContextScopes$2(Ee,...e)]}function $c512c27ab02ef895$var$composeContextScopes$2(...t){const e=t[0];if(t.length===1)return e;const xe=()=>{const _e=t.map(Ee=>({useScope:Ee(),scopeName:Ee.scopeName}));return function(Se){const Ae=_e.reduce((Re,{useScope:Pe,scopeName:Te})=>{const je=Pe(Se)[`__scope${Te}`];return{...Re,...je}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:Ae}),[Ae])}};return xe.scopeName=e.scopeName,xe}function $6ed0406888f73fc4$var$setRef$2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function $6ed0406888f73fc4$export$43e446d32b3d21af$2(...t){return e=>t.forEach(xe=>$6ed0406888f73fc4$var$setRef$2(xe,e))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05$2(...t){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af$2(...t),t)}const $5e63c961fc1ce211$export$8c6ed5c666ac1360$2=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t,Ee=reactExports.Children.toArray(xe),Se=Ee.find($5e63c961fc1ce211$var$isSlottable$2);if(Se){const Ae=Se.props.children,Re=Ee.map(Pe=>Pe===Se?reactExports.Children.count(Ae)>1?reactExports.Children.only(null):reactExports.isValidElement(Ae)?Ae.props.children:null:Pe);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$2,_extends$t({},_e,{ref:e}),reactExports.isValidElement(Ae)?reactExports.cloneElement(Ae,void 0,Re):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$2,_extends$t({},_e,{ref:e}),xe)});$5e63c961fc1ce211$export$8c6ed5c666ac1360$2.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone$2=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t;return reactExports.isValidElement(xe)?reactExports.cloneElement(xe,{...$5e63c961fc1ce211$var$mergeProps$2(_e,xe.props),ref:e?$6ed0406888f73fc4$export$43e446d32b3d21af$2(e,xe.ref):xe.ref}):reactExports.Children.count(xe)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone$2.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45$2=({children:t})=>reactExports.createElement(reactExports.Fragment,null,t);function $5e63c961fc1ce211$var$isSlottable$2(t){return reactExports.isValidElement(t)&&t.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45$2}function $5e63c961fc1ce211$var$mergeProps$2(t,e){const xe={...e};for(const _e in e){const Ee=t[_e],Se=e[_e];/^on[A-Z]/.test(_e)?Ee&&Se?xe[_e]=(...Re)=>{Se(...Re),Ee(...Re)}:Ee&&(xe[_e]=Ee):_e==="style"?xe[_e]={...Ee,...Se}:_e==="className"&&(xe[_e]=[Ee,Se].filter(Boolean).join(" "))}return{...t,...xe}}function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2$1(t){const e=t+"CollectionProvider",[xe,_e]=$c512c27ab02ef895$export$50c7b4e9d9f19c1$2(e),[Ee,Se]=xe(e,{collectionRef:{current:null},itemMap:new Map}),Ae=ke=>{const{scope:Fe,children:Me}=ke,De=React.useRef(null),Ue=React.useRef(new Map).current;return React.createElement(Ee,{scope:Fe,itemMap:Ue,collectionRef:De},Me)},Re=t+"CollectionSlot",Pe=React.forwardRef((ke,Fe)=>{const{scope:Me,children:De}=ke,Ue=Se(Re,Me),ze=$6ed0406888f73fc4$export$c7b2cbe3552a0d05$2(Fe,Ue.collectionRef);return React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360$2,{ref:ze},De)}),Te=t+"CollectionItemSlot",Ie="data-radix-collection-item",je=React.forwardRef((ke,Fe)=>{const{scope:Me,children:De,...Ue}=ke,ze=React.useRef(null),We=$6ed0406888f73fc4$export$c7b2cbe3552a0d05$2(Fe,ze),Ye=Se(Te,Me);return React.useEffect(()=>(Ye.itemMap.set(ze,{ref:ze,...Ue}),()=>void Ye.itemMap.delete(ze))),React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360$2,{[Ie]:"",ref:We},De)});function Oe(ke){const Fe=Se(t+"CollectionConsumer",ke);return React.useCallback(()=>{const De=Fe.collectionRef.current;if(!De)return[];const Ue=Array.from(De.querySelectorAll(`[${Ie}]`));return Array.from(Fe.itemMap.values()).sort((Ye,Xe)=>Ue.indexOf(Ye.ref.current)-Ue.indexOf(Xe.ref.current))},[Fe.collectionRef,Fe.itemMap])}return[{Provider:Ae,Slot:Pe,ItemSlot:je},Oe,_e]}function $e42e1063c40fb3ef$export$b9ecd428b558ff10$2(t,e,{checkForDefaultPrevented:xe=!0}={}){return function(Ee){if(t==null||t(Ee),xe===!1||!Ee.defaultPrevented)return e==null?void 0:e(Ee)}}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a$2(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...xe)=>{var _e;return(_e=e.current)===null||_e===void 0?void 0:_e.call(e,...xe)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3$2({prop:t,defaultProp:e,onChange:xe=()=>{}}){const[_e,Ee]=$71cd76cc60e0454e$var$useUncontrolledState$2({defaultProp:e,onChange:xe}),Se=t!==void 0,Ae=Se?t:_e,Re=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a$2(xe),Pe=reactExports.useCallback(Te=>{if(Se){const je=typeof Te=="function"?Te(t):Te;je!==t&&Re(je)}else Ee(Te)},[Se,t,Ee,Re]);return[Ae,Pe]}function $71cd76cc60e0454e$var$useUncontrolledState$2({defaultProp:t,onChange:e}){const xe=reactExports.useState(t),[_e]=xe,Ee=reactExports.useRef(_e),Se=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a$2(e);return reactExports.useEffect(()=>{Ee.current!==_e&&(Se(_e),Ee.current=_e)},[_e,Ee,Se]),xe}const $8927f6f2acc4f386$var$NODES$2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034$2=$8927f6f2acc4f386$var$NODES$2.reduce((t,e)=>{const xe=reactExports.forwardRef((_e,Ee)=>{const{asChild:Se,...Ae}=_e,Re=Se?$5e63c961fc1ce211$export$8c6ed5c666ac1360$2:e;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(Re,_extends$t({},Ae,{ref:Ee}))});return xe.displayName=`Primitive.${e}`,{...t,[e]:xe}},{});function $e42e1063c40fb3ef$export$b9ecd428b558ff10$1(t,e,{checkForDefaultPrevented:xe=!0}={}){return function(Ee){if(t==null||t(Ee),xe===!1||!Ee.defaultPrevented)return e==null?void 0:e(Ee)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1$1(t,e=[]){let xe=[];function _e(Se,Ae){const Re=reactExports.createContext(Ae),Pe=xe.length;xe=[...xe,Ae];function Te(je){const{scope:Oe,children:ke,...Fe}=je,Me=(Oe==null?void 0:Oe[t][Pe])||Re,De=reactExports.useMemo(()=>Fe,Object.values(Fe));return reactExports.createElement(Me.Provider,{value:De},ke)}function Ie(je,Oe){const ke=(Oe==null?void 0:Oe[t][Pe])||Re,Fe=reactExports.useContext(ke);if(Fe)return Fe;if(Ae!==void 0)return Ae;throw new Error(`\`${je}\` must be used within \`${Se}\``)}return Te.displayName=Se+"Provider",[Te,Ie]}const Ee=()=>{const Se=xe.map(Ae=>reactExports.createContext(Ae));return function(Re){const Pe=(Re==null?void 0:Re[t])||Se;return reactExports.useMemo(()=>({[`__scope${t}`]:{...Re,[t]:Pe}}),[Re,Pe])}};return Ee.scopeName=t,[_e,$c512c27ab02ef895$var$composeContextScopes$1(Ee,...e)]}function $c512c27ab02ef895$var$composeContextScopes$1(...t){const e=t[0];if(t.length===1)return e;const xe=()=>{const _e=t.map(Ee=>({useScope:Ee(),scopeName:Ee.scopeName}));return function(Se){const Ae=_e.reduce((Re,{useScope:Pe,scopeName:Te})=>{const je=Pe(Se)[`__scope${Te}`];return{...Re,...je}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:Ae}),[Ae])}};return xe.scopeName=e.scopeName,xe}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...xe)=>{var _e;return(_e=e.current)===null||_e===void 0?void 0:_e.call(e,...xe)},[])}function $71cd76cc60e0454e$export$6f32135080cb4c3$1({prop:t,defaultProp:e,onChange:xe=()=>{}}){const[_e,Ee]=$71cd76cc60e0454e$var$useUncontrolledState$1({defaultProp:e,onChange:xe}),Se=t!==void 0,Ae=Se?t:_e,Re=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a$1(xe),Pe=reactExports.useCallback(Te=>{if(Se){const je=typeof Te=="function"?Te(t):Te;je!==t&&Re(je)}else Ee(Te)},[Se,t,Ee,Re]);return[Ae,Pe]}function $71cd76cc60e0454e$var$useUncontrolledState$1({defaultProp:t,onChange:e}){const xe=reactExports.useState(t),[_e]=xe,Ee=reactExports.useRef(_e),Se=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a$1(e);return reactExports.useEffect(()=>{Ee.current!==_e&&(Se(_e),Ee.current=_e)},[_e,Ee,Se]),xe}const $9f79659886946c16$export$e5c5a5f917a5871c$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function $6ed0406888f73fc4$var$setRef$1(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function $6ed0406888f73fc4$export$43e446d32b3d21af$1(...t){return e=>t.forEach(xe=>$6ed0406888f73fc4$var$setRef$1(xe,e))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05$1(...t){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af$1(...t),t)}const $5e63c961fc1ce211$export$8c6ed5c666ac1360$1=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t,Ee=reactExports.Children.toArray(xe),Se=Ee.find($5e63c961fc1ce211$var$isSlottable$1);if(Se){const Ae=Se.props.children,Re=Ee.map(Pe=>Pe===Se?reactExports.Children.count(Ae)>1?reactExports.Children.only(null):reactExports.isValidElement(Ae)?Ae.props.children:null:Pe);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$t({},_e,{ref:e}),reactExports.isValidElement(Ae)?reactExports.cloneElement(Ae,void 0,Re):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone$1,_extends$t({},_e,{ref:e}),xe)});$5e63c961fc1ce211$export$8c6ed5c666ac1360$1.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone$1=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t;return reactExports.isValidElement(xe)?reactExports.cloneElement(xe,{...$5e63c961fc1ce211$var$mergeProps$1(_e,xe.props),ref:e?$6ed0406888f73fc4$export$43e446d32b3d21af$1(e,xe.ref):xe.ref}):reactExports.Children.count(xe)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone$1.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1=({children:t})=>reactExports.createElement(reactExports.Fragment,null,t);function $5e63c961fc1ce211$var$isSlottable$1(t){return reactExports.isValidElement(t)&&t.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45$1}function $5e63c961fc1ce211$var$mergeProps$1(t,e){const xe={...e};for(const _e in e){const Ee=t[_e],Se=e[_e];/^on[A-Z]/.test(_e)?Ee&&Se?xe[_e]=(...Re)=>{Se(...Re),Ee(...Re)}:Ee&&(xe[_e]=Ee):_e==="style"?xe[_e]={...Ee,...Se}:_e==="className"&&(xe[_e]=[Ee,Se].filter(Boolean).join(" "))}return{...t,...xe}}const $8927f6f2acc4f386$var$NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034$1=$8927f6f2acc4f386$var$NODES$1.reduce((t,e)=>{const xe=reactExports.forwardRef((_e,Ee)=>{const{asChild:Se,...Ae}=_e,Re=Se?$5e63c961fc1ce211$export$8c6ed5c666ac1360$1:e;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(Re,_extends$t({},Ae,{ref:Ee}))});return xe.displayName=`Primitive.${e}`,{...t,[e]:xe}},{});function $fe963b355347cc68$export$3e6543de14f8614f(t,e){return reactExports.useReducer((xe,_e)=>{const Ee=e[xe][_e];return Ee??xe},t)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=t=>{const{present:e,children:xe}=t,_e=$921a889cee6df7e8$var$usePresence(e),Ee=typeof xe=="function"?xe({present:_e.isPresent}):reactExports.Children.only(xe),Se=$6ed0406888f73fc4$export$c7b2cbe3552a0d05$1(_e.ref,Ee.ref);return typeof xe=="function"||_e.isPresent?reactExports.cloneElement(Ee,{ref:Se}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(t){const[e,xe]=reactExports.useState(),_e=reactExports.useRef({}),Ee=reactExports.useRef(t),Se=reactExports.useRef("none"),Ae=t?"mounted":"unmounted",[Re,Pe]=$fe963b355347cc68$export$3e6543de14f8614f(Ae,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const Te=$921a889cee6df7e8$var$getAnimationName(_e.current);Se.current=Re==="mounted"?Te:"none"},[Re]),$9f79659886946c16$export$e5c5a5f917a5871c$2(()=>{const Te=_e.current,Ie=Ee.current;if(Ie!==t){const Oe=Se.current,ke=$921a889cee6df7e8$var$getAnimationName(Te);t?Pe("MOUNT"):ke==="none"||(Te==null?void 0:Te.display)==="none"?Pe("UNMOUNT"):Pe(Ie&&Oe!==ke?"ANIMATION_OUT":"UNMOUNT"),Ee.current=t}},[t,Pe]),$9f79659886946c16$export$e5c5a5f917a5871c$2(()=>{if(e){const Te=je=>{const ke=$921a889cee6df7e8$var$getAnimationName(_e.current).includes(je.animationName);je.target===e&&ke&&reactDomExports.flushSync(()=>Pe("ANIMATION_END"))},Ie=je=>{je.target===e&&(Se.current=$921a889cee6df7e8$var$getAnimationName(_e.current))};return e.addEventListener("animationstart",Ie),e.addEventListener("animationcancel",Te),e.addEventListener("animationend",Te),()=>{e.removeEventListener("animationstart",Ie),e.removeEventListener("animationcancel",Te),e.removeEventListener("animationend",Te)}}else Pe("ANIMATION_END")},[e,Pe]),{isPresent:["mounted","unmountSuspended"].includes(Re),ref:reactExports.useCallback(Te=>{Te&&(_e.current=getComputedStyle(Te)),xe(Te)},[])}}function $921a889cee6df7e8$var$getAnimationName(t){return(t==null?void 0:t.animationName)||"none"}const $1746a345f3d73bb7$var$useReactId$2=React$1.useId||(()=>{});let $1746a345f3d73bb7$var$count$2=0;function $1746a345f3d73bb7$export$f680877a34711e37$2(t){const[e,xe]=reactExports.useState($1746a345f3d73bb7$var$useReactId$2());return $9f79659886946c16$export$e5c5a5f917a5871c$2(()=>{xe(_e=>_e??String($1746a345f3d73bb7$var$count$2++))},[t]),t||(e?`radix-${e}`:"")}const $409067139f391064$var$COLLAPSIBLE_NAME="Collapsible",[$409067139f391064$var$createCollapsibleContext,$409067139f391064$export$952b32dcbe73087a]=$c512c27ab02ef895$export$50c7b4e9d9f19c1$1($409067139f391064$var$COLLAPSIBLE_NAME),[$409067139f391064$var$CollapsibleProvider,$409067139f391064$var$useCollapsibleContext]=$409067139f391064$var$createCollapsibleContext($409067139f391064$var$COLLAPSIBLE_NAME),$409067139f391064$export$6eb0f7ddcda6131f=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:xe,open:_e,defaultOpen:Ee,disabled:Se,onOpenChange:Ae,...Re}=t,[Pe=!1,Te]=$71cd76cc60e0454e$export$6f32135080cb4c3$1({prop:_e,defaultProp:Ee,onChange:Ae});return reactExports.createElement($409067139f391064$var$CollapsibleProvider,{scope:xe,disabled:Se,contentId:$1746a345f3d73bb7$export$f680877a34711e37$2(),open:Pe,onOpenToggle:reactExports.useCallback(()=>Te(Ie=>!Ie),[Te])},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034$1.div,_extends$t({"data-state":$409067139f391064$var$getState(Pe),"data-disabled":Se?"":void 0},Re,{ref:e})))}),$409067139f391064$var$TRIGGER_NAME="CollapsibleTrigger",$409067139f391064$export$c135dce7b15bbbdc=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:xe,..._e}=t,Ee=$409067139f391064$var$useCollapsibleContext($409067139f391064$var$TRIGGER_NAME,xe);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034$1.button,_extends$t({type:"button","aria-controls":Ee.contentId,"aria-expanded":Ee.open||!1,"data-state":$409067139f391064$var$getState(Ee.open),"data-disabled":Ee.disabled?"":void 0,disabled:Ee.disabled},_e,{ref:e,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10$1(t.onClick,Ee.onOpenToggle)}))}),$409067139f391064$var$CONTENT_NAME="CollapsibleContent",$409067139f391064$export$aadde00976f34151=reactExports.forwardRef((t,e)=>{const{forceMount:xe,..._e}=t,Ee=$409067139f391064$var$useCollapsibleContext($409067139f391064$var$CONTENT_NAME,t.__scopeCollapsible);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:xe||Ee.open},({present:Se})=>reactExports.createElement($409067139f391064$var$CollapsibleContentImpl,_extends$t({},_e,{ref:e,present:Se})))}),$409067139f391064$var$CollapsibleContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:xe,present:_e,children:Ee,...Se}=t,Ae=$409067139f391064$var$useCollapsibleContext($409067139f391064$var$CONTENT_NAME,xe),[Re,Pe]=reactExports.useState(_e),Te=reactExports.useRef(null),Ie=$6ed0406888f73fc4$export$c7b2cbe3552a0d05$1(e,Te),je=reactExports.useRef(0),Oe=je.current,ke=reactExports.useRef(0),Fe=ke.current,Me=Ae.open||Re,De=reactExports.useRef(Me),Ue=reactExports.useRef();return reactExports.useEffect(()=>{const ze=requestAnimationFrame(()=>De.current=!1);return()=>cancelAnimationFrame(ze)},[]),$9f79659886946c16$export$e5c5a5f917a5871c$2(()=>{const ze=Te.current;if(ze){Ue.current=Ue.current||{transitionDuration:ze.style.transitionDuration,animationName:ze.style.animationName},ze.style.transitionDuration="0s",ze.style.animationName="none";const We=ze.getBoundingClientRect();je.current=We.height,ke.current=We.width,De.current||(ze.style.transitionDuration=Ue.current.transitionDuration,ze.style.animationName=Ue.current.animationName),Pe(_e)}},[Ae.open,_e]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034$1.div,_extends$t({"data-state":$409067139f391064$var$getState(Ae.open),"data-disabled":Ae.disabled?"":void 0,id:Ae.contentId,hidden:!Me},Se,{ref:Ie,style:{"--radix-collapsible-content-height":Oe?`${Oe}px`:void 0,"--radix-collapsible-content-width":Fe?`${Fe}px`:void 0,...t.style}}),Me&&Ee)});function $409067139f391064$var$getState(t){return t?"open":"closed"}const $409067139f391064$export$be92b6f5f03c0fe9=$409067139f391064$export$6eb0f7ddcda6131f,$409067139f391064$export$41fb9f06171c75f4=$409067139f391064$export$c135dce7b15bbbdc,$409067139f391064$export$7c6e2c02157bb7d2=$409067139f391064$export$aadde00976f34151,$9f79659886946c16$export$e5c5a5f917a5871c$1=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId$1=React$1.useId||(()=>{});let $1746a345f3d73bb7$var$count$1=0;function $1746a345f3d73bb7$export$f680877a34711e37$1(t){const[e,xe]=reactExports.useState($1746a345f3d73bb7$var$useReactId$1());return $9f79659886946c16$export$e5c5a5f917a5871c$1(()=>{xe(_e=>_e??String($1746a345f3d73bb7$var$count$1++))},[t]),e?`radix-${e}`:""}const $f631663db3294ace$var$DirectionContext$1=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3$1(t){const e=reactExports.useContext($f631663db3294ace$var$DirectionContext$1);return t||e||"ltr"}const $1bf158f521e1b1b4$var$ACCORDION_NAME="Accordion",$1bf158f521e1b1b4$var$ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$1bf158f521e1b1b4$var$Collection,$1bf158f521e1b1b4$var$useCollection,$1bf158f521e1b1b4$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2$1($1bf158f521e1b1b4$var$ACCORDION_NAME),[$1bf158f521e1b1b4$var$createAccordionContext,$1bf158f521e1b1b4$export$9748edc328a73be1]=$c512c27ab02ef895$export$50c7b4e9d9f19c1$2($1bf158f521e1b1b4$var$ACCORDION_NAME,[$1bf158f521e1b1b4$var$createCollectionScope,$409067139f391064$export$952b32dcbe73087a]),$1bf158f521e1b1b4$var$useCollapsibleScope=$409067139f391064$export$952b32dcbe73087a(),$1bf158f521e1b1b4$export$a766cd26d0d69044=React.forwardRef((t,e)=>{const{type:xe,..._e}=t,Ee=_e,Se=_e;return React.createElement($1bf158f521e1b1b4$var$Collection.Provider,{scope:t.__scopeAccordion},xe==="multiple"?React.createElement($1bf158f521e1b1b4$var$AccordionImplMultiple,_extends$t({},Se,{ref:e})):React.createElement($1bf158f521e1b1b4$var$AccordionImplSingle,_extends$t({},Ee,{ref:e})))});$1bf158f521e1b1b4$export$a766cd26d0d69044.propTypes={type(t){const e=t.value||t.defaultValue;return t.type&&!["single","multiple"].includes(t.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):t.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):t.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[$1bf158f521e1b1b4$var$AccordionValueProvider,$1bf158f521e1b1b4$var$useAccordionValueContext]=$1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME),[$1bf158f521e1b1b4$var$AccordionCollapsibleProvider,$1bf158f521e1b1b4$var$useAccordionCollapsibleContext]=$1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME,{collapsible:!1}),$1bf158f521e1b1b4$var$AccordionImplSingle=React.forwardRef((t,e)=>{const{value:xe,defaultValue:_e,onValueChange:Ee=()=>{},collapsible:Se=!1,...Ae}=t,[Re,Pe]=$71cd76cc60e0454e$export$6f32135080cb4c3$2({prop:xe,defaultProp:_e,onChange:Ee});return React.createElement($1bf158f521e1b1b4$var$AccordionValueProvider,{scope:t.__scopeAccordion,value:Re?[Re]:[],onItemOpen:Pe,onItemClose:React.useCallback(()=>Se&&Pe(""),[Se,Pe])},React.createElement($1bf158f521e1b1b4$var$AccordionCollapsibleProvider,{scope:t.__scopeAccordion,collapsible:Se},React.createElement($1bf158f521e1b1b4$var$AccordionImpl,_extends$t({},Ae,{ref:e}))))}),$1bf158f521e1b1b4$var$AccordionImplMultiple=React.forwardRef((t,e)=>{const{value:xe,defaultValue:_e,onValueChange:Ee=()=>{},...Se}=t,[Ae=[],Re]=$71cd76cc60e0454e$export$6f32135080cb4c3$2({prop:xe,defaultProp:_e,onChange:Ee}),Pe=React.useCallback(Ie=>Re((je=[])=>[...je,Ie]),[Re]),Te=React.useCallback(Ie=>Re((je=[])=>je.filter(Oe=>Oe!==Ie)),[Re]);return React.createElement($1bf158f521e1b1b4$var$AccordionValueProvider,{scope:t.__scopeAccordion,value:Ae,onItemOpen:Pe,onItemClose:Te},React.createElement($1bf158f521e1b1b4$var$AccordionCollapsibleProvider,{scope:t.__scopeAccordion,collapsible:!0},React.createElement($1bf158f521e1b1b4$var$AccordionImpl,_extends$t({},Se,{ref:e}))))}),[$1bf158f521e1b1b4$var$AccordionImplProvider,$1bf158f521e1b1b4$var$useAccordionContext]=$1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME),$1bf158f521e1b1b4$var$AccordionImpl=React.forwardRef((t,e)=>{const{__scopeAccordion:xe,disabled:_e,dir:Ee,orientation:Se="vertical",...Ae}=t,Re=React.useRef(null),Pe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05$2(Re,e),Te=$1bf158f521e1b1b4$var$useCollection(xe),je=$f631663db3294ace$export$b39126d51d94e6f3$1(Ee)==="ltr",Oe=$e42e1063c40fb3ef$export$b9ecd428b558ff10$2(t.onKeyDown,ke=>{var Fe;if(!$1bf158f521e1b1b4$var$ACCORDION_KEYS.includes(ke.key))return;const Me=ke.target,De=Te().filter(rr=>{var cr;return!((cr=rr.ref.current)!==null&&cr!==void 0&&cr.disabled)}),Ue=De.findIndex(rr=>rr.ref.current===Me),ze=De.length;if(Ue===-1)return;ke.preventDefault();let We=Ue;const Ye=0,Xe=ze-1,ir=()=>{We=Ue+1,We>Xe&&(We=Ye)},Qe=()=>{We=Ue-1,We<Ye&&(We=Xe)};switch(ke.key){case"Home":We=Ye;break;case"End":We=Xe;break;case"ArrowRight":Se==="horizontal"&&(je?ir():Qe());break;case"ArrowDown":Se==="vertical"&&ir();break;case"ArrowLeft":Se==="horizontal"&&(je?Qe():ir());break;case"ArrowUp":Se==="vertical"&&Qe();break}const Ke=We%ze;(Fe=De[Ke].ref.current)===null||Fe===void 0||Fe.focus()});return React.createElement($1bf158f521e1b1b4$var$AccordionImplProvider,{scope:xe,disabled:_e,direction:Ee,orientation:Se},React.createElement($1bf158f521e1b1b4$var$Collection.Slot,{scope:xe},React.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034$2.div,_extends$t({},Ae,{"data-orientation":Se,ref:Pe,onKeyDown:_e?void 0:Oe}))))}),$1bf158f521e1b1b4$var$ITEM_NAME="AccordionItem",[$1bf158f521e1b1b4$var$AccordionItemProvider,$1bf158f521e1b1b4$var$useAccordionItemContext]=$1bf158f521e1b1b4$var$createAccordionContext($1bf158f521e1b1b4$var$ITEM_NAME),$1bf158f521e1b1b4$export$d99097c13d4dac9f=React.forwardRef((t,e)=>{const{__scopeAccordion:xe,value:_e,...Ee}=t,Se=$1bf158f521e1b1b4$var$useAccordionContext($1bf158f521e1b1b4$var$ITEM_NAME,xe),Ae=$1bf158f521e1b1b4$var$useAccordionValueContext($1bf158f521e1b1b4$var$ITEM_NAME,xe),Re=$1bf158f521e1b1b4$var$useCollapsibleScope(xe),Pe=$1746a345f3d73bb7$export$f680877a34711e37$1(),Te=_e&&Ae.value.includes(_e)||!1,Ie=Se.disabled||t.disabled;return React.createElement($1bf158f521e1b1b4$var$AccordionItemProvider,{scope:xe,open:Te,disabled:Ie,triggerId:Pe},React.createElement($409067139f391064$export$be92b6f5f03c0fe9,_extends$t({"data-orientation":Se.orientation,"data-state":$1bf158f521e1b1b4$var$getState(Te)},Re,Ee,{ref:e,disabled:Ie,open:Te,onOpenChange:je=>{je?Ae.onItemOpen(_e):Ae.onItemClose(_e)}})))}),$1bf158f521e1b1b4$var$HEADER_NAME="AccordionHeader",$1bf158f521e1b1b4$export$5e3e5deaaf81ee41=React.forwardRef((t,e)=>{const{__scopeAccordion:xe,..._e}=t,Ee=$1bf158f521e1b1b4$var$useAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME,xe),Se=$1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$HEADER_NAME,xe);return React.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034$2.h3,_extends$t({"data-orientation":Ee.orientation,"data-state":$1bf158f521e1b1b4$var$getState(Se.open),"data-disabled":Se.disabled?"":void 0},_e,{ref:e}))}),$1bf158f521e1b1b4$var$TRIGGER_NAME="AccordionTrigger",$1bf158f521e1b1b4$export$94e939b1f85bdd73=React.forwardRef((t,e)=>{const{__scopeAccordion:xe,..._e}=t,Ee=$1bf158f521e1b1b4$var$useAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME,xe),Se=$1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$TRIGGER_NAME,xe),Ae=$1bf158f521e1b1b4$var$useAccordionCollapsibleContext($1bf158f521e1b1b4$var$TRIGGER_NAME,xe),Re=$1bf158f521e1b1b4$var$useCollapsibleScope(xe);return React.createElement($1bf158f521e1b1b4$var$Collection.ItemSlot,{scope:xe},React.createElement($409067139f391064$export$41fb9f06171c75f4,_extends$t({"aria-disabled":Se.open&&!Ae.collapsible||void 0,"data-orientation":Ee.orientation,id:Se.triggerId},Re,_e,{ref:e})))}),$1bf158f521e1b1b4$var$CONTENT_NAME="AccordionContent",$1bf158f521e1b1b4$export$985b9a77379b54a0=React.forwardRef((t,e)=>{const{__scopeAccordion:xe,..._e}=t,Ee=$1bf158f521e1b1b4$var$useAccordionContext($1bf158f521e1b1b4$var$ACCORDION_NAME,xe),Se=$1bf158f521e1b1b4$var$useAccordionItemContext($1bf158f521e1b1b4$var$CONTENT_NAME,xe),Ae=$1bf158f521e1b1b4$var$useCollapsibleScope(xe);return React.createElement($409067139f391064$export$7c6e2c02157bb7d2,_extends$t({role:"region","aria-labelledby":Se.triggerId,"data-orientation":Ee.orientation},Ae,_e,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}}))});function $1bf158f521e1b1b4$var$getState(t){return t?"open":"closed"}const $1bf158f521e1b1b4$export$be92b6f5f03c0fe9=$1bf158f521e1b1b4$export$a766cd26d0d69044,$1bf158f521e1b1b4$export$6d08773d2e66f8f2=$1bf158f521e1b1b4$export$d99097c13d4dac9f,$1bf158f521e1b1b4$export$8b251419efc915eb=$1bf158f521e1b1b4$export$5e3e5deaaf81ee41,$1bf158f521e1b1b4$export$41fb9f06171c75f4=$1bf158f521e1b1b4$export$94e939b1f85bdd73,$1bf158f521e1b1b4$export$7c6e2c02157bb7d2=$1bf158f521e1b1b4$export$985b9a77379b54a0,Accordion=$1bf158f521e1b1b4$export$be92b6f5f03c0fe9,AccordionItem=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx($1bf158f521e1b1b4$export$6d08773d2e66f8f2,{ref:xe,className:cn$1("border-b",t),...e}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=React.forwardRef(({className:t,children:e,...xe},_e)=>jsxRuntimeExports.jsx($1bf158f521e1b1b4$export$8b251419efc915eb,{className:"flex",children:jsxRuntimeExports.jsxs($1bf158f521e1b1b4$export$41fb9f06171c75f4,{ref:_e,className:cn$1("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...xe,children:[e,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));AccordionTrigger.displayName=$1bf158f521e1b1b4$export$41fb9f06171c75f4.displayName;const AccordionContent=React.forwardRef(({className:t,children:e,...xe},_e)=>jsxRuntimeExports.jsx($1bf158f521e1b1b4$export$7c6e2c02157bb7d2,{ref:_e,className:cn$1("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",t),...xe,children:jsxRuntimeExports.jsx("div",{className:"pb-4 pt-0",children:e})}));AccordionContent.displayName=$1bf158f521e1b1b4$export$7c6e2c02157bb7d2.displayName;const learningStyleQuestionsByGrade={PreK:[{id:"q1",question:"What do you like most when you play?",options:[{label:"Looking at colorful books or pictures",value:"visual"},{label:"Listening to songs or stories",value:"auditory"},{label:"Building with blocks or playing with toys",value:"kinesthetic"}]},{id:"q2",question:"How do you like to learn new things?",options:[{label:"Watching your teacher show you",value:"visual"},{label:"Hearing your teacher talk or sing",value:"auditory"},{label:"Touching and trying things yourself",value:"kinesthetic"}]},{id:"q3",question:"What is your favorite activity?",options:[{label:"Drawing or coloring",value:"visual"},{label:"Singing or listening to music",value:"auditory"},{label:"Dancing or playing outside",value:"kinesthetic"}]},{id:"q4",question:"How do you like to show what you know?",options:[{label:"Pointing to pictures",value:"visual"},{label:"Telling a story",value:"auditory"},{label:"Acting it out",value:"kinesthetic"}]}],Kindergarten:[{id:"q1",question:"What do you like to do in class?",options:[{label:"Look at books or pictures",value:"visual"},{label:"Listen to stories or music",value:"auditory"},{label:"Play games or use your hands",value:"kinesthetic"}]},{id:"q2",question:"How do you remember things best?",options:[{label:"Seeing them",value:"visual"},{label:"Hearing them",value:"auditory"},{label:"Doing them",value:"kinesthetic"}]},{id:"q3",question:"What is your favorite way to learn?",options:[{label:"Watching videos or looking at pictures",value:"visual"},{label:"Listening to songs or stories",value:"auditory"},{label:"Building or making things",value:"kinesthetic"}]},{id:"q4",question:"How do you like to show what you learned?",options:[{label:"Drawing or showing pictures",value:"visual"},{label:"Telling or singing",value:"auditory"},{label:"Acting or building",value:"kinesthetic"}]}],"Grade 1":[{id:"q1",question:"When you read a story, what helps you understand it?",options:[{label:"Looking at the pictures",value:"visual"},{label:"Listening to someone read",value:"auditory"},{label:"Acting out the story",value:"kinesthetic"}]},{id:"q2",question:"How do you like to solve math problems?",options:[{label:"Drawing or using objects",value:"visual"},{label:"Saying the steps out loud",value:"auditory"},{label:"Using your fingers or moving things",value:"kinesthetic"}]},{id:"q3",question:"What do you like to do in science?",options:[{label:"Look at pictures or watch experiments",value:"visual"},{label:"Listen to explanations",value:"auditory"},{label:"Do experiments yourself",value:"kinesthetic"}]},{id:"q4",question:"How do you like to show what you learned?",options:[{label:"Draw or make a chart",value:"visual"},{label:"Tell someone about it",value:"auditory"},{label:"Build or act it out",value:"kinesthetic"}]},{id:"q5",question:"What is your favorite way to learn new words?",options:[{label:"See them written",value:"visual"},{label:"Hear them spoken",value:"auditory"},{label:"Use them in a game",value:"kinesthetic"}]}],"Grade 2":[{id:"q1",question:"When you study, what helps you focus best?",options:[{label:"Having a quiet space",value:"auditory"},{label:"Listening to music",value:"auditory"},{label:"Using noise-canceling headphones",value:"auditory"}]},{id:"q2",question:"How do you like to organize your notes?",options:[{label:"Using colors and drawings",value:"visual"},{label:"Writing everything down in order",value:"visual"},{label:"Recording and listening to them",value:"auditory"}]},{id:"q3",question:"What helps you learn about new places or topics?",options:[{label:"Looking at maps or pictures",value:"visual"},{label:"Listening to descriptions or stories",value:"auditory"},{label:"Exploring or visiting the places",value:"kinesthetic"}]},{id:"q4",question:"How do you prefer to practice new skills?",options:[{label:"Watching someone do it first",value:"visual"},{label:"Hearing instructions",value:"auditory"},{label:"Trying it out yourself",value:"kinesthetic"}]},{id:"q5",question:"What is your favorite subject, and why?",options:[{label:"Art, because I love to draw and create",value:"visual"},{label:"Music, because I enjoy singing and listening",value:"auditory"},{label:"PE, because I like to move and play sports",value:"kinesthetic"}]}],"Grade 3":[{id:"q1",question:"When learning about history, what helps you remember events best?",options:[{label:"Looking at timelines or maps",value:"visual"},{label:"Listening to stories or lectures",value:"auditory"},{label:"Reenacting events or using models",value:"kinesthetic"}]},{id:"q2",question:"How do you like to explore new topics in science?",options:[{label:"Watching videos or demonstrations",value:"visual"},{label:"Listening to explanations or podcasts",value:"auditory"},{label:"Conducting experiments or building models",value:"kinesthetic"}]},{id:"q3",question:"What is your preferred way to work on math problems?",options:[{label:"Seeing examples worked out",value:"visual"},{label:"Hearing the steps explained",value:"auditory"},{label:"Using physical objects to solve them",value:"kinesthetic"}]},{id:"q4",question:"How do you like to show your understanding of a topic?",options:[{label:"Creating a poster or drawing",value:"visual"},{label:"Giving a speech or presentation",value:"auditory"},{label:"Performing a skit or building a model",value:"kinesthetic"}]},{id:"q5",question:"What helps you stay organized with your schoolwork?",options:[{label:"Using a planner or calendar",value:"visual"},{label:"Setting reminders on a device",value:"auditory"},{label:"Having a specific place for everything",value:"kinesthetic"}]}],"Grade 4":[{id:"q1",question:"When reading a book, what helps you understand the characters better?",options:[{label:"Looking at the illustrations",value:"visual"},{label:"Listening to the audiobook",value:"auditory"},{label:"Acting out the parts",value:"kinesthetic"}]},{id:"q2",question:"How do you prefer to learn about different cultures?",options:[{label:"Watching documentaries or videos",value:"visual"},{label:"Listening to music or stories from that culture",value:"auditory"},{label:"Trying foods or making crafts",value:"kinesthetic"}]},{id:"q3",question:"What is your favorite way to practice spelling or vocabulary words?",options:[{label:"Writing them out with colors",value:"visual"},{label:"Saying them out loud or singing",value:"auditory"},{label:"Using them in a game or activity",value:"kinesthetic"}]},{id:"q4",question:"How do you like to receive feedback on your work?",options:[{label:"Seeing comments or grades",value:"visual"},{label:"Hearing feedback in person or via audio",value:"auditory"},{label:"Receiving a certificate or physical reward",value:"kinesthetic"}]},{id:"q5",question:"What helps you most when studying for a test?",options:[{label:"Reviewing notes and highlighting key points",value:"visual"},{label:"Listening to review podcasts or discussions",value:"auditory"},{label:"Teaching the material to someone else",value:"kinesthetic"}]}],"Grade 5":[{id:"q1",question:"When you study for a test, what helps you remember best?",options:[{label:"Making diagrams or flashcards",value:"visual"},{label:"Explaining the material to someone",value:"auditory"},{label:"Doing practice problems or experiments",value:"kinesthetic"}]},{id:"q2",question:"How do you like to learn new science concepts?",options:[{label:"Watching videos or looking at models",value:"visual"},{label:"Listening to podcasts or lectures",value:"auditory"},{label:"Doing hands-on labs",value:"kinesthetic"}]},{id:"q3",question:"What is your favorite way to work on group projects?",options:[{label:"Making posters or slides",value:"visual"},{label:"Discussing ideas with the group",value:"auditory"},{label:"Building or acting out a skit",value:"kinesthetic"}]},{id:"q4",question:"How do you like to show what you learned?",options:[{label:"Create a visual project",value:"visual"},{label:"Give a presentation",value:"auditory"},{label:"Demonstrate or build something",value:"kinesthetic"}]},{id:"q5",question:"How do you prefer to review your work?",options:[{label:"Look over notes and diagrams",value:"visual"},{label:"Talk through answers with someone",value:"auditory"},{label:"Redo the activity or experiment",value:"kinesthetic"}]},{id:"q6",question:"What helps you most when you get stuck?",options:[{label:"See an example",value:"visual"},{label:"Hear an explanation",value:"auditory"},{label:"Try it yourself",value:"kinesthetic"}]}]};function getQuestionsForGrade(t){return learningStyleQuestionsByGrade[t]||learningStyleQuestionsByGrade["Grade 1"]||learningStyleQuestionsByGrade.Kindergarten}function OnboardingLearningStyle({onComplete:t,grade:e}){const xe=getQuestionsForGrade(e),[_e,Ee]=reactExports.useState({}),[Se,Ae]=reactExports.useState(0),[Re,Pe]=reactExports.useState(null),Te=(je,Oe)=>{if(Ee(ke=>({...ke,[je]:Oe})),Se<xe.length-1)Ae(Se+1);else{const ke={visual:0,auditory:0,kinesthetic:0};Object.values({..._e,[je]:Oe}).forEach(Me=>ke[Me]++);const Fe=Object.keys(ke).reduce((Me,De)=>ke[Me]>ke[De]?Me:De);Pe(Fe),localStorage.setItem("learningStyle",Fe),t&&t(Fe)}};if(Re)return jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-lg border bg-white max-w-md mx-auto mt-10 text-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Your Learning Style: ",jsxRuntimeExports.jsx("span",{className:"capitalize",children:Re})]}),jsxRuntimeExports.jsx("p",{className:"mb-4",children:"We'll personalize your lessons to match your preferred way to learn!"}),jsxRuntimeExports.jsx(Button,{onClick:()=>t&&t(Re),children:"Continue"})]});const Ie=xe[Se];return jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-lg border bg-white max-w-md mx-auto mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Find Your Learning Style"}),jsxRuntimeExports.jsx("p",{className:"mb-6",children:Ie.question}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Ie.options.map(je=>jsxRuntimeExports.jsx(Button,{className:"w-full",onClick:()=>Te(Ie.id,je.value),children:je.label},je.value))})]})}const fadeIn=(t="up",e=0)=>({hidden:{opacity:0,y:t==="up"?20:t==="down"?-20:0,x:t==="left"?20:t==="right"?-20:0},visible:{opacity:1,y:0,x:0,transition:{duration:.6,delay:e,ease:"easeOut"}}}),staggerContainer=(t=.1,e=0)=>({hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:t,delayChildren:e}}}),features=[{icon:Brain,title:"AI-Powered Lessons",description:"Engaging, adaptive lessons tailored to your child's pace and grade level, generated by advanced AI."},{icon:Zap,title:"Interactive Content",description:"Quizzes, activities, and multimedia to make learning fun and effective."},{icon:BarChart$1,title:"Progress Tracking",description:"Visual progress reports and mastery tracking for parents and students."},{icon:Users,title:"Multi-Student Ready",description:"Manage multiple children under one parent account with ease."},{icon:BookOpen,title:"Comprehensive Subjects",description:"Covering Math, Reading, Science, History, Art, Coding, and more!"},{icon:ShieldCheck,title:"Safe & Secure",description:"A COPPA-compliant platform focused on your child's safety."}],pricingTiers=[{name:"Spark Learner",price:"$19",period:"/month",features:["1 Student Profile","Access to All Core Subjects","AI Lesson Generation","Basic Progress Tracking","Email Support"],cta:"Get Started",popular:!1,color:"smartSchool-blue"},{name:"Genius Explorer",price:"$39",period:"/month",features:["Up to 3 Student Profiles","All Core & Elective Subjects","Advanced AI Personalization","Detailed Progress Reports","Printable Worksheets","Priority Email Support"],cta:"Choose Genius",popular:!0,color:"smartSchool-red"},{name:"Scholar Pro",price:"$349",period:"/year",features:["Up to 5 Student Profiles","Everything in Genius Explorer","Dedicated Onboarding Call","Early Access to New Features","Community Forum Access"],cta:"Go Scholar",popular:!1,color:"smartSchool-yellow"}],faqs=[{q:"What grade levels does SmartSchool AI cover?",a:"SmartSchool AI is designed for Pre-K through 12th grade, with adaptive content for each level."},{q:"Is SmartSchool AI aligned with educational standards?",a:"Yes, our AI strives to align lessons with Common Core and other state standards to ensure comprehensive coverage."},{q:"Can I try SmartSchool AI before subscribing?",a:"We plan to offer a trial period or limited free content in the future. Currently, you can explore our features and sign up for a plan."},{q:"How does the AI adapt to my child's learning?",a:"Our AI analyzes your child's responses to quizzes and activities, adjusting the difficulty and focus of subsequent lessons to match their needs."}],LandingPage=()=>{const[t,e]=React.useState(!1),[xe,_e]=React.useState(null);return jsxRuntimeExports.jsxs(motion.div,{className:"overflow-x-hidden animate-fade-in",initial:"hidden",animate:"visible",variants:staggerContainer(),children:[jsxRuntimeExports.jsxs(motion.section,{variants:fadeIn("up"),className:"relative py-20 md:py-32 bg-gradient-to-b from-smartSchool-blue via-blue-400 to-white text-white overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-8",children:jsxRuntimeExports.jsx("img",{src:"/images/logo12.png",alt:"SmartSchool AI Logo",className:"h-24 w-24 rounded bg-white p-2 shadow-lg"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-smartSchool-blue opacity-30 rounded-full blur-3xl z-0"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-32 right-0 w-96 h-96 bg-blue-300 opacity-20 rounded-full blur-2xl z-0"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 z-0",children:jsxRuntimeExports.jsx("img",{alt:"Abstract background learning pattern",className:"w-full h-full object-cover animate-float",src:"https://images.unsplash.com/photo-1700941019917-731dc64ce685"})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[jsxRuntimeExports.jsx(motion.h1,{variants:fadeIn("down",.2),className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-6 leading-tight text-white drop-shadow-lg",children:"The Future of Homeschooling is Here."}),jsxRuntimeExports.jsx(motion.p,{variants:fadeIn("up",.4),className:"text-lg md:text-xl mb-10 max-w-3xl mx-auto font-openSans text-blue-100",children:"SmartSchool AI provides personalized, AI-powered education for Pre-K to 12th grade, making learning engaging, effective, and fun for your child."}),jsxRuntimeExports.jsx(motion.div,{variants:fadeIn("up",.6),children:jsxRuntimeExports.jsx(Link,{to:"/signup",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-smartSchool-yellow hover:bg-yellow-500 text-smartSchool-blue font-bold py-4 px-10 text-xl shadow-lg transform hover:scale-105 transition-transform duration-200 rounded-xl",children:[jsxRuntimeExports.jsx(Rocket,{size:24,className:"mr-3 animate-wiggle hover:animate-wiggle"})," Get Started For Free"]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-10 flex flex-col items-center",children:[jsxRuntimeExports.jsx(Button,{size:"lg",className:"mb-4",onClick:()=>e(!0),children:"Take the Learning Style Quiz"}),xe&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-white text-smartSchool-blue rounded shadow",children:["Your learning style: ",jsxRuntimeExports.jsx("b",{className:"capitalize",children:xe})]})]})]}),t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>e(!1),children:""}),jsxRuntimeExports.jsx(OnboardingLearningStyle,{onComplete:Ee=>{_e(Ee),e(!1)}})]})})]}),jsxRuntimeExports.jsx(motion.section,{className:"py-16 md:py-24 bg-slate-50",variants:staggerContainer(.2,.5),children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6",children:[jsxRuntimeExports.jsxs(motion.h2,{variants:fadeIn("up"),className:"text-3xl md:text-4xl font-bold text-center mb-4 text-gray-800",children:["Why Choose ",jsxRuntimeExports.jsx("span",{className:"text-smartSchool-blue",children:"SmartSchool AI"}),"?"]}),jsxRuntimeExports.jsx(motion.p,{variants:fadeIn("up",.1),className:"text-center text-gray-600 mb-12 md:mb-16 max-w-2xl mx-auto font-openSans",children:"We combine cutting-edge AI with proven educational strategies to create a learning experience your child will love."}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:features.map((Ee,Se)=>jsxRuntimeExports.jsx(motion.div,{variants:fadeIn("up",Se*.1),children:jsxRuntimeExports.jsxs(Card,{className:"h-full shadow-lg hover:shadow-xl transition-shadow duration-300 rounded-2xl border-2 border-smartSchool-yellow bg-white hover:border-smartSchool-blue/80 hover:scale-[1.03] hover:-translate-y-1 hover:bg-blue-50 group cursor-pointer",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("span",{className:"rounded-full p-2 bg-gradient-to-br from-smartSchool-blue via-smartSchool-yellow to-smartSchool-red shadow group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Ee.icon,{className:"w-10 h-10 text-smartSchool-blue group-hover:text-smartSchool-red transition-colors duration-200"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-semibold text-smartSchool-blue group-hover:text-smartSchool-red transition-colors",children:Ee.title})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-openSans text-sm",children:Ee.description})})]})},Se))})]})}),jsxRuntimeExports.jsx(motion.section,{className:"py-16 md:py-24 bg-gradient-to-b from-smartSchool-blue via-blue-100 to-white",variants:staggerContainer(),children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6",children:[jsxRuntimeExports.jsxs(motion.h2,{variants:fadeIn("up"),className:"text-3xl md:text-4xl font-bold text-center mb-16 text-white drop-shadow-lg",children:["Getting Started is ",jsxRuntimeExports.jsx("span",{className:"text-smartSchool-yellow",children:"Easy!"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-10 text-center",children:[{icon:UserPlus,title:"Sign Up",description:"Create your parent account and add student profiles in minutes."},{icon:BookOpenText,title:"Choose Subjects",description:"Select from a wide range of subjects tailored to your child's grade."},{icon:PlayCircle,title:"Start Learning!",description:"Let your child dive into interactive AI-generated lessons and watch them grow."}].map((Ee,Se)=>jsxRuntimeExports.jsxs(motion.div,{variants:fadeIn("up",Se*.2),className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-5 rounded-full mb-6 shadow-lg border-4 border-smartSchool-blue",children:jsxRuntimeExports.jsx(Ee.icon,{className:"w-12 h-12 text-smartSchool-blue"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2 text-smartSchool-blue",children:Ee.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 font-openSans text-sm",children:Ee.description})]},Se))})]})}),jsxRuntimeExports.jsx(motion.section,{id:"pricing",className:"py-16 md:py-24 bg-gray-100",variants:staggerContainer(),children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6",children:[jsxRuntimeExports.jsx(motion.h2,{variants:fadeIn("up"),className:"text-3xl md:text-4xl font-bold text-center mb-4 text-gray-800",children:"Flexible Plans for Every Family"}),jsxRuntimeExports.jsx(motion.p,{variants:fadeIn("up",.1),className:"text-center text-gray-600 mb-12 md:mb-16 max-w-2xl mx-auto font-openSans",children:"Choose the plan that best fits your homeschooling needs and budget. All plans come with our core AI learning engine."}),jsxRuntimeExports.jsx("div",{className:"grid lg:grid-cols-3 gap-8 items-stretch",children:pricingTiers.map((Ee,Se)=>jsxRuntimeExports.jsx(motion.div,{variants:fadeIn("up",Se*.15),className:"flex",children:jsxRuntimeExports.jsxs(Card,{className:`w-full flex flex-col rounded-2xl shadow-xl ${Ee.popular?"border-4 border-smartSchool-red transform scale-105":"border border-gray-200"} transition-all duration-300`,children:[Ee.popular&&jsxRuntimeExports.jsx("div",{className:"bg-smartSchool-red text-white text-xs font-bold uppercase tracking-wider py-1 px-4 rounded-t-lg text-center -mt-px",children:"Most Popular"}),jsxRuntimeExports.jsxs(CardHeader,{className:"text-center pt-8 pb-4",children:[jsxRuntimeExports.jsx(CardTitle,{className:`text-2xl font-bold text-${Ee.color}`,children:Ee.name}),jsxRuntimeExports.jsxs("div",{className:"my-4",children:[jsxRuntimeExports.jsx("span",{className:"text-5xl font-extrabold text-gray-800",children:Ee.price}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 font-openSans",children:Ee.period})]})]}),jsxRuntimeExports.jsx(CardContent,{className:"flex-grow",children:jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-8",children:Ee.features.map((Ae,Re)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-gray-600 font-openSans text-sm",children:Ae})]},Re))})}),jsxRuntimeExports.jsx(CardFooter,{className:"p-6 mt-auto",children:jsxRuntimeExports.jsx(Link,{to:"/signup",className:"w-full",children:jsxRuntimeExports.jsx(Button,{size:"lg",className:`w-full font-bold py-3 text-lg rounded-xl bg-${Ee.color} hover:bg-${Ee.color}/90 text-white`,children:Ee.cta})})})]})},Se))})]})}),jsxRuntimeExports.jsx(motion.section,{className:"py-16 md:py-24 bg-gradient-to-b from-smartSchool-blue via-blue-100 to-white",variants:staggerContainer(),children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6",children:[jsxRuntimeExports.jsx(motion.h2,{variants:fadeIn("up"),className:"text-3xl md:text-4xl font-bold text-center mb-4 text-white drop-shadow-lg",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx(motion.div,{variants:fadeIn("up",.2),className:"max-w-3xl mx-auto",children:jsxRuntimeExports.jsx(Accordion,{type:"single",collapsible:!0,className:"w-full",children:faqs.map((Ee,Se)=>jsxRuntimeExports.jsxs(AccordionItem,{value:`item-${Se}`,className:"border-b border-gray-200",children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"py-5 text-left text-lg font-semibold text-gray-700 hover:text-smartSchool-blue hover:no-underline",children:Ee.q}),jsxRuntimeExports.jsx(AccordionContent,{className:"pb-5 pt-2 text-gray-600 font-openSans text-base",children:Ee.a})]},Se))})})]})}),jsxRuntimeExports.jsx(motion.section,{className:"py-20 md:py-32 bg-yellow-100 text-gray-800",variants:fadeIn("up"),children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 text-center",children:[jsxRuntimeExports.jsx(motion.h2,{variants:fadeIn("up",.1),className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mb-6",children:"Ready to Transform Your Child's Education?"}),jsxRuntimeExports.jsx(motion.p,{variants:fadeIn("up",.2),className:"text-lg md:text-xl mb-10 max-w-2xl mx-auto font-openSans",children:"Join thousands of families discovering the joy of personalized, AI-driven learning with SmartSchool AI."}),jsxRuntimeExports.jsx(motion.div,{variants:fadeIn("up",.3),children:jsxRuntimeExports.jsx(Link,{to:"/signup",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-smartSchool-red hover:bg-red-700 text-white font-bold py-4 px-10 text-xl shadow-lg transform hover:scale-105 transition-transform duration-200 rounded-xl",children:[jsxRuntimeExports.jsx(Star,{size:24,className:"mr-3"})," Sign Up & Start Learning"]})})})]})}),jsxRuntimeExports.jsxs("div",{className:"fixed bottom-6 right-6 z-50 group",children:[jsxRuntimeExports.jsxs("button",{className:"bg-smartSchool-blue text-white rounded-full shadow-lg p-4 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 animate-float relative",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Need help?"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 animate-wiggle group-hover:animate-wiggle"})]}),jsxRuntimeExports.jsx("div",{className:"absolute right-16 bottom-1/2 translate-y-1/2 bg-white text-gray-700 px-4 py-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:"Need help? Click here for tips!"})]})]})},subjects=[{name:"Math",icon:Calculator$1,color:"text-smartSchool-blue",gradeLevels:["Pre-K","K","1","2","3","4","5","6","7","8","9","10","11","12"]},{name:"Reading",icon:BookOpenText,color:"text-smartSchool-red",gradeLevels:["Pre-K","K","1","2","3","4","5","6","7","8","9","10","11","12"]},{name:"Writing",icon:PencilLine,color:"text-green-500",gradeLevels:["K","1","2","3","4","5","6","7","8","9","10","11","12"]},{name:"Science",icon:FlaskConical,color:"text-smartSchool-yellow",gradeLevels:["K","1","2","3","4","5","6","7","8","9","10","11","12"]},{name:"Social Studies",icon:Landmark,color:"text-purple-500",gradeLevels:["K","1","2","3","4","5","6","7","8","9","10","11","12"]},{name:"Art",icon:Palette,color:"text-orange-500",gradeLevels:["Pre-K","K","1","2","3","4","5","6","7","8"]},{name:"Bible",icon:Sparkles,color:"text-sky-500",gradeLevels:["Pre-K","K","1","2","3","4","5","6","7","8","9","10","11","12"],optional:!0},{name:"Coding",icon:Code2,color:"text-gray-700",gradeLevels:["3","4","5","6","7","8","9","10","11","12"]}],DashboardPage=()=>{const{user:t}=useAuth(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},xe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return t?(t&&t.role==="student"&&t.name,jsxRuntimeExports.jsxs(motion.div,{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12 animate-fade-in",initial:"hidden",animate:"visible",variants:e,children:[jsxRuntimeExports.jsxs(motion.section,{variants:xe,children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-4 text-smartSchool-blue animate-fade-in",children:["Welcome, ",t.name,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-center text-gray-600",children:t&&t.role==="parent"?"Manage your family's learning journey.":"Ready for a new day of learning adventures?"})]}),t&&t.role==="student"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(motion.section,{variants:xe,className:"p-6 bg-white rounded-2xl shadow-xl border border-smartSchool-blue/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx(Target,{size:32,className:"text-smartSchool-red"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Daily Learning Plan"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:"Here's what's on your plate today. Let's make it awesome!"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 pl-2",children:[jsxRuntimeExports.jsx("li",{children:"Complete 1 Math lesson on Addition."}),jsxRuntimeExports.jsx("li",{children:"Read a story about Brave Knights."}),jsxRuntimeExports.jsx("li",{children:"Explore the wonders of Plant Life in Science."})]}),jsxRuntimeExports.jsxs(Button,{size:"lg",className:"mt-6 bg-smartSchool-red hover:bg-smartSchool-red/90 text-white font-semibold py-3 px-8 text-lg rounded-xl",children:[jsxRuntimeExports.jsx(PlayCircle,{size:24,className:"mr-2"}),"Start Today's Plan"]})]}),jsxRuntimeExports.jsxs(motion.section,{variants:xe,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[jsxRuntimeExports.jsx(Award,{size:32,className:"text-smartSchool-yellow hover:animate-wiggle"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Your Subjects"})]}),jsxRuntimeExports.jsx(motion.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",variants:e,children:subjects.map(_e=>jsxRuntimeExports.jsx(motion.div,{variants:xe,children:jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-2xl transition-shadow duration-300 ease-in-out border-2 border-transparent hover:border-smartSchool-blue transform hover:-translate-y-1 rounded-2xl hover:animate-pop-on-hover cursor-pointer",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-4",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-poppins",children:_e.name}),jsxRuntimeExports.jsx(_e.icon,{size:32,className:`${_e.color} hover:animate-wiggle`})]}),jsxRuntimeExports.jsxs(CardContent,{className:"p-4 pt-0",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Explore lessons, quizzes, and fun activities in ",_e.name,"."]}),jsxRuntimeExports.jsxs(Button,{size:"default",className:"w-full font-semibold py-2 text-base rounded-lg",children:[jsxRuntimeExports.jsx(PlayCircle,{size:18,className:"mr-2"}),"Start ",_e.name]})]})]})},_e.name))})]}),jsxRuntimeExports.jsxs(motion.section,{variants:xe,className:"text-center mt-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Ready to Dive In?"}),jsxRuntimeExports.jsx(Button,{size:"lg",className:"bg-smartSchool-blue hover:bg-blue-700 text-white font-bold py-4 px-10 text-xl shadow-lg transform hover:scale-105 transition-transform duration-200 rounded-xl",children:"Let's Learn Something New!"})]})]}),t&&t.role==="parent"&&jsxRuntimeExports.jsxs(motion.section,{variants:xe,className:"text-center p-8 bg-white rounded-2xl shadow-xl",children:[jsxRuntimeExports.jsx(Smile,{size:64,className:"mx-auto text-smartSchool-yellow mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold mb-3",children:"Parent Dashboard Overview"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This is your central hub. Manage students, track progress, and access resources."}),jsxRuntimeExports.jsx(Link,{to:"/parent-dashboard",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-smartSchool-blue hover:bg-smartSchool-blue/90 text-white font-semibold py-3 px-8 text-lg rounded-xl",children:[jsxRuntimeExports.jsx(Settings,{size:20,className:"mr-2"})," Go to Full Parent Management"]})})]}),jsxRuntimeExports.jsxs("div",{className:"fixed bottom-6 right-6 z-50 group",children:[jsxRuntimeExports.jsxs("button",{className:"bg-smartSchool-blue text-white rounded-full shadow-lg p-4 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 animate-float relative",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Need help?"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 animate-wiggle group-hover:animate-wiggle"})]}),jsxRuntimeExports.jsx("div",{className:"absolute right-16 bottom-1/2 translate-y-1/2 bg-white text-gray-700 px-4 py-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none group-hover:pointer-events-auto",children:"Need help? Click here for tips!"})]})]})):jsxRuntimeExports.jsxs(motion.div,{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-smartSchool-blue mb-4",children:"Access Denied"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Please log in to access your dashboard."}),jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsx(Button,{size:"lg",className:"bg-smartSchool-red hover:bg-smartSchool-red/90 text-white font-semibold py-3 px-8 text-lg rounded-xl",children:"Go to Login"})})]})},Input=React.forwardRef(({className:t,type:e,...xe},_e)=>jsxRuntimeExports.jsx("input",{type:e,className:cn$1("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:_e,...xe}));Input.displayName="Input";var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((t,e)=>{const xe=createSlot(`Primitive.${e}`),_e=reactExports.forwardRef((Ee,Se)=>{const{asChild:Ae,...Re}=Ee,Pe=Ae?xe:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(Pe,{...Re,ref:Se})});return _e.displayName=`Primitive.${e}`,{...t,[e]:_e}},{});function dispatchDiscreteCustomEvent(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}var NAME$1="Label",Label$2=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive.label,{...t,ref:e,onMouseDown:xe=>{var Ee;xe.target.closest("button, input, select, textarea")||((Ee=t.onMouseDown)==null||Ee.call(t,xe),!xe.defaultPrevented&&xe.detail>1&&xe.preventDefault())}}));Label$2.displayName=NAME$1;var Root$1=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Root$1,{ref:xe,className:cn$1(labelVariants(),t),...e}));Label$1.displayName=Root$1.displayName;const LoginPage=()=>{const[t,e]=reactExports.useState(""),[xe,_e]=reactExports.useState(""),[Ee,Se]=reactExports.useState(!1),[Ae,Re]=reactExports.useState(!1),{toast:Pe}=useToast();useNavigate();const{login:Te}=useAuth(),Ie=async je=>{if(je.preventDefault(),Re(!0),!t||!xe){Pe({variant:"destructive",title:"Uh oh! Something went wrong.",description:"Please fill in all fields."}),Re(!1);return}try{const Oe=await Te(t,xe);Pe(Oe?{title:"Login Successful!",description:"Welcome back! Redirecting you now..."}:{variant:"destructive",title:"Login Failed",description:"Invalid email or password. Please try again."})}catch(Oe){let ke=Oe.message||"An unexpected error occurred.";Oe.code==="auth/invalid-login-credentials"||Oe.code==="auth/wrong-password"?ke="Invalid email or password.":Oe.code==="auth/user-not-found"&&(ke="No account found with this email."),Pe({variant:"destructive",title:"Login Error",description:ke})}finally{Re(!1)}};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-center items-center min-h-[calc(100vh-10rem)] py-12",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-2xl rounded-2xl border-smartSchool-blue/30",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl font-bold text-smartSchool-blue",children:"Parent Login"}),jsxRuntimeExports.jsx(CardDescription,{children:"Access your SmartSchool AI parent dashboard."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"your.email@example.com",value:t,onChange:je=>e(je.target.value),required:!0,className:"pl-10 rounded-lg text-lg p-4",autoComplete:"email"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"password",type:Ee?"text":"password",placeholder:"",value:xe,onChange:je=>_e(je.target.value),required:!0,className:"pl-10 pr-10 rounded-lg text-lg p-4",autoComplete:"current-password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Se(!Ee),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:Ee?jsxRuntimeExports.jsx(EyeOff,{size:20}):jsxRuntimeExports.jsx(Eye,{size:20})})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full bg-smartSchool-blue hover:bg-smartSchool-blue/90 text-white font-semibold py-3 text-lg rounded-xl",disabled:Ae,children:Ae?"Logging in...":"Login"})]})}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex flex-col items-center space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/signup",className:"font-semibold text-smartSchool-red hover:underline",children:"Sign up here"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Student login?"," ",jsxRuntimeExports.jsx(Button,{variant:"link",className:"p-0 h-auto text-smartSchool-yellow hover:underline",children:"Click here for Student PIN Login (Coming Soon!)"})]})]})]})})},SignupPage=()=>{const[t,e]=reactExports.useState(""),[xe,_e]=reactExports.useState(""),[Ee,Se]=reactExports.useState(""),[Ae,Re]=reactExports.useState(""),[Pe,Te]=reactExports.useState(!1),[Ie,je]=reactExports.useState(!1),[Oe,ke]=reactExports.useState(!1),{toast:Fe}=useToast(),Me=useNavigate(),{signup:De}=useAuth(),Ue=async ze=>{if(ze.preventDefault(),ke(!0),!t||!xe||!Ee||!Ae){Fe({variant:"destructive",title:"Missing Fields",description:"Please fill in all fields."}),ke(!1);return}if(Ee!==Ae){Fe({variant:"destructive",title:"Password Mismatch",description:"Passwords do not match. Please try again."}),ke(!1);return}if(Ee.length<6){Fe({variant:"destructive",title:"Password Too Short",description:"Password must be at least 6 characters long."}),ke(!1);return}try{await De(t,xe,Ee)?(Fe({title:"Account Created!",description:"Welcome to SmartSchool AI! Please log in."}),Me("/login")):Fe({variant:"destructive",title:"Signup Failed",description:"An account with this email may already exist."})}catch(We){let Ye=We.message||"An unexpected error occurred.";We.code==="auth/email-already-in-use"||We.code==="EMAIL_EXISTS"?Ye="An account with this email already exists.":We.code==="auth/invalid-email"?Ye="Please enter a valid email address.":We.code==="auth/weak-password"&&(Ye="Password is too weak. Please use at least 6 characters."),Fe({variant:"destructive",title:"Signup Error",description:Ye}),console.error("Signup error:",We)}finally{ke(!1)}};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-center items-center min-h-[calc(100vh-10rem)] py-12",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-lg shadow-2xl rounded-2xl border-smartSchool-red/30",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl font-bold text-smartSchool-red",children:"Create Parent Account"}),jsxRuntimeExports.jsx(CardDescription,{children:"Join SmartSchool AI to personalize your child's learning journey."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Full Name"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User$1,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"Your Full Name",value:t,onChange:ze=>e(ze.target.value),required:!0,className:"pl-10 rounded-lg text-lg p-4",autoComplete:"name"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"your.email@example.com",value:xe,onChange:ze=>_e(ze.target.value),required:!0,className:"pl-10 rounded-lg text-lg p-4",autoComplete:"email"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"password",type:Pe?"text":"password",placeholder:"Create a strong password (min. 6 chars)",value:Ee,onChange:ze=>Se(ze.target.value),required:!0,className:"pl-10 pr-10 rounded-lg text-lg p-4",autoComplete:"new-password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Te(!Pe),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:Pe?jsxRuntimeExports.jsx(EyeOff,{size:20}):jsxRuntimeExports.jsx(Eye,{size:20})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirmPassword",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:Ie?"text":"password",placeholder:"Re-enter your password",value:Ae,onChange:ze=>Re(ze.target.value),required:!0,className:"pl-10 pr-10 rounded-lg text-lg p-4"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>je(!Ie),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:Ie?jsxRuntimeExports.jsx(EyeOff,{size:20}):jsxRuntimeExports.jsx(Eye,{size:20})})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full bg-smartSchool-red hover:bg-smartSchool-red/90 text-white font-semibold py-3 text-lg rounded-xl",disabled:Oe,children:Oe?"Creating Account...":"Sign Up"})]})}),jsxRuntimeExports.jsx(CardFooter,{className:"flex flex-col items-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"font-semibold text-smartSchool-blue hover:underline",children:"Log in here"})]})})]})})};function $ae6933e535247d3d$export$7d15b64cf5a3a4c4(t,[e,xe]){return Math.min(xe,Math.max(e,t))}function $e42e1063c40fb3ef$export$b9ecd428b558ff10(t,e,{checkForDefaultPrevented:xe=!0}={}){return function(Ee){if(t==null||t(Ee),xe===!1||!Ee.defaultPrevented)return e==null?void 0:e(Ee)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(t,e=[]){let xe=[];function _e(Se,Ae){const Re=reactExports.createContext(Ae),Pe=xe.length;xe=[...xe,Ae];function Te(je){const{scope:Oe,children:ke,...Fe}=je,Me=(Oe==null?void 0:Oe[t][Pe])||Re,De=reactExports.useMemo(()=>Fe,Object.values(Fe));return reactExports.createElement(Me.Provider,{value:De},ke)}function Ie(je,Oe){const ke=(Oe==null?void 0:Oe[t][Pe])||Re,Fe=reactExports.useContext(ke);if(Fe)return Fe;if(Ae!==void 0)return Ae;throw new Error(`\`${je}\` must be used within \`${Se}\``)}return Te.displayName=Se+"Provider",[Te,Ie]}const Ee=()=>{const Se=xe.map(Ae=>reactExports.createContext(Ae));return function(Re){const Pe=(Re==null?void 0:Re[t])||Se;return reactExports.useMemo(()=>({[`__scope${t}`]:{...Re,[t]:Pe}}),[Re,Pe])}};return Ee.scopeName=t,[_e,$c512c27ab02ef895$var$composeContextScopes(Ee,...e)]}function $c512c27ab02ef895$var$composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const xe=()=>{const _e=t.map(Ee=>({useScope:Ee(),scopeName:Ee.scopeName}));return function(Se){const Ae=_e.reduce((Re,{useScope:Pe,scopeName:Te})=>{const je=Pe(Se)[`__scope${Te}`];return{...Re,...je}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:Ae}),[Ae])}};return xe.scopeName=e.scopeName,xe}function $6ed0406888f73fc4$var$setRef(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...t){return e=>t.forEach(xe=>$6ed0406888f73fc4$var$setRef(xe,e))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...t){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...t),t)}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t,Ee=reactExports.Children.toArray(xe),Se=Ee.find($5e63c961fc1ce211$var$isSlottable);if(Se){const Ae=Se.props.children,Re=Ee.map(Pe=>Pe===Se?reactExports.Children.count(Ae)>1?reactExports.Children.only(null):reactExports.isValidElement(Ae)?Ae.props.children:null:Pe);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$t({},_e,{ref:e}),reactExports.isValidElement(Ae)?reactExports.cloneElement(Ae,void 0,Re):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$t({},_e,{ref:e}),xe)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((t,e)=>{const{children:xe,..._e}=t;return reactExports.isValidElement(xe)?reactExports.cloneElement(xe,{...$5e63c961fc1ce211$var$mergeProps(_e,xe.props),ref:e?$6ed0406888f73fc4$export$43e446d32b3d21af(e,xe.ref):xe.ref}):reactExports.Children.count(xe)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:t})=>reactExports.createElement(reactExports.Fragment,null,t);function $5e63c961fc1ce211$var$isSlottable(t){return reactExports.isValidElement(t)&&t.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(t,e){const xe={...e};for(const _e in e){const Ee=t[_e],Se=e[_e];/^on[A-Z]/.test(_e)?Ee&&Se?xe[_e]=(...Re)=>{Se(...Re),Ee(...Re)}:Ee&&(xe[_e]=Ee):_e==="style"?xe[_e]={...Ee,...Se}:_e==="className"&&(xe[_e]=[Ee,Se].filter(Boolean).join(" "))}return{...t,...xe}}function $e02a7d9cb1dc128c$export$c74125a8e3af6bb2(t){const e=t+"CollectionProvider",[xe,_e]=$c512c27ab02ef895$export$50c7b4e9d9f19c1(e),[Ee,Se]=xe(e,{collectionRef:{current:null},itemMap:new Map}),Ae=ke=>{const{scope:Fe,children:Me}=ke,De=React.useRef(null),Ue=React.useRef(new Map).current;return React.createElement(Ee,{scope:Fe,itemMap:Ue,collectionRef:De},Me)},Re=t+"CollectionSlot",Pe=React.forwardRef((ke,Fe)=>{const{scope:Me,children:De}=ke,Ue=Se(Re,Me),ze=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(Fe,Ue.collectionRef);return React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{ref:ze},De)}),Te=t+"CollectionItemSlot",Ie="data-radix-collection-item",je=React.forwardRef((ke,Fe)=>{const{scope:Me,children:De,...Ue}=ke,ze=React.useRef(null),We=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(Fe,ze),Ye=Se(Te,Me);return React.useEffect(()=>(Ye.itemMap.set(ze,{ref:ze,...Ue}),()=>void Ye.itemMap.delete(ze))),React.createElement($5e63c961fc1ce211$export$8c6ed5c666ac1360,{[Ie]:"",ref:We},De)});function Oe(ke){const Fe=Se(t+"CollectionConsumer",ke);return React.useCallback(()=>{const De=Fe.collectionRef.current;if(!De)return[];const Ue=Array.from(De.querySelectorAll(`[${Ie}]`));return Array.from(Fe.itemMap.values()).sort((Ye,Xe)=>Ue.indexOf(Ye.ref.current)-Ue.indexOf(Xe.ref.current))},[Fe.collectionRef,Fe.itemMap])}return[{Provider:Ae,Slot:Pe,ItemSlot:je},Oe,_e]}const $f631663db3294ace$var$DirectionContext=reactExports.createContext(void 0);function $f631663db3294ace$export$b39126d51d94e6f3(t){const e=reactExports.useContext($f631663db3294ace$var$DirectionContext);return t||e||"ltr"}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((t,e)=>{const xe=reactExports.forwardRef((_e,Ee)=>{const{asChild:Se,...Ae}=_e,Re=Se?$5e63c961fc1ce211$export$8c6ed5c666ac1360:e;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(Re,_extends$t({},Ae,{ref:Ee}))});return xe.displayName=`Primitive.${e}`,{...t,[e]:xe}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...xe)=>{var _e;return(_e=e.current)===null||_e===void 0?void 0:_e.call(e,...xe)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(t,e=globalThis==null?void 0:globalThis.document){const xe=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t);reactExports.useEffect(()=>{const _e=Ee=>{Ee.key==="Escape"&&xe(Ee)};return e.addEventListener("keydown",_e),()=>e.removeEventListener("keydown",_e)},[xe,e])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((t,e)=>{var xe;const{disableOutsidePointerEvents:_e=!1,onEscapeKeyDown:Ee,onPointerDownOutside:Se,onFocusOutside:Ae,onInteractOutside:Re,onDismiss:Pe,...Te}=t,Ie=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[je,Oe]=reactExports.useState(null),ke=(xe=je==null?void 0:je.ownerDocument)!==null&&xe!==void 0?xe:globalThis==null?void 0:globalThis.document,[,Fe]=reactExports.useState({}),Me=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ke=>Oe(Ke)),De=Array.from(Ie.layers),[Ue]=[...Ie.layersWithOutsidePointerEventsDisabled].slice(-1),ze=De.indexOf(Ue),We=je?De.indexOf(je):-1,Ye=Ie.layersWithOutsidePointerEventsDisabled.size>0,Xe=We>=ze,ir=$5cb92bef7577960e$var$usePointerDownOutside(Ke=>{const rr=Ke.target,cr=[...Ie.branches].some(Ze=>Ze.contains(rr));!Xe||cr||(Se==null||Se(Ke),Re==null||Re(Ke),Ke.defaultPrevented||Pe==null||Pe())},ke),Qe=$5cb92bef7577960e$var$useFocusOutside(Ke=>{const rr=Ke.target;[...Ie.branches].some(Ze=>Ze.contains(rr))||(Ae==null||Ae(Ke),Re==null||Re(Ke),Ke.defaultPrevented||Pe==null||Pe())},ke);return $addc16e1bbe58fd0$export$3a72a57244d6e765(Ke=>{We===Ie.layers.size-1&&(Ee==null||Ee(Ke),!Ke.defaultPrevented&&Pe&&(Ke.preventDefault(),Pe()))},ke),reactExports.useEffect(()=>{if(je)return _e&&(Ie.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=ke.body.style.pointerEvents,ke.body.style.pointerEvents="none"),Ie.layersWithOutsidePointerEventsDisabled.add(je)),Ie.layers.add(je),$5cb92bef7577960e$var$dispatchUpdate(),()=>{_e&&Ie.layersWithOutsidePointerEventsDisabled.size===1&&(ke.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[je,ke,_e,Ie]),reactExports.useEffect(()=>()=>{je&&(Ie.layers.delete(je),Ie.layersWithOutsidePointerEventsDisabled.delete(je),$5cb92bef7577960e$var$dispatchUpdate())},[je,Ie]),reactExports.useEffect(()=>{const Ke=()=>Fe({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Ke),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,Ke)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({},Te,{ref:Me,style:{pointerEvents:Ye?Xe?"auto":"none":void 0,...t.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onFocusCapture,Qe.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onBlurCapture,Qe.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(t.onPointerDownCapture,ir.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(t,e=globalThis==null?void 0:globalThis.document){const xe=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),_e=reactExports.useRef(!1),Ee=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const Se=Re=>{if(Re.target&&!_e.current){let Te=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,xe,Pe,{discrete:!0})};const Pe={originalEvent:Re};Re.pointerType==="touch"?(e.removeEventListener("click",Ee.current),Ee.current=Te,e.addEventListener("click",Ee.current,{once:!0})):Te()}else e.removeEventListener("click",Ee.current);_e.current=!1},Ae=window.setTimeout(()=>{e.addEventListener("pointerdown",Se)},0);return()=>{window.clearTimeout(Ae),e.removeEventListener("pointerdown",Se),e.removeEventListener("click",Ee.current)}},[e,xe]),{onPointerDownCapture:()=>_e.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(t,e=globalThis==null?void 0:globalThis.document){const xe=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),_e=reactExports.useRef(!1);return reactExports.useEffect(()=>{const Ee=Se=>{Se.target&&!_e.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,xe,{originalEvent:Se},{discrete:!1})};return e.addEventListener("focusin",Ee),()=>e.removeEventListener("focusin",Ee)},[e,xe]),{onFocusCapture:()=>_e.current=!0,onBlurCapture:()=>_e.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const t=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(t)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(t,e,xe,{discrete:_e}){const Ee=xe.originalEvent.target,Se=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:xe});e&&Ee.addEventListener(t,e,{once:!0}),_e?$8927f6f2acc4f386$export$6d1a0317bde7de7f(Ee,Se):Ee.dispatchEvent(Se)}let $3db38b7d1fb3fe6a$var$count=0;function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c(){reactExports.useEffect(()=>{var t,e;const xe=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=xe[0])!==null&&t!==void 0?t:$3db38b7d1fb3fe6a$var$createFocusGuard()),document.body.insertAdjacentElement("beforeend",(e=xe[1])!==null&&e!==void 0?e:$3db38b7d1fb3fe6a$var$createFocusGuard()),$3db38b7d1fb3fe6a$var$count++,()=>{$3db38b7d1fb3fe6a$var$count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(_e=>_e.remove()),$3db38b7d1fb3fe6a$var$count--}},[])}function $3db38b7d1fb3fe6a$var$createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",$d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",$d3863c46a17e8a28$var$EVENT_OPTIONS={bubbles:!1,cancelable:!0},$d3863c46a17e8a28$export$20e40289641fbbb6=reactExports.forwardRef((t,e)=>{const{loop:xe=!1,trapped:_e=!1,onMountAutoFocus:Ee,onUnmountAutoFocus:Se,...Ae}=t,[Re,Pe]=reactExports.useState(null),Te=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Ee),Ie=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(Se),je=reactExports.useRef(null),Oe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Me=>Pe(Me)),ke=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(_e){let Me=function(We){if(ke.paused||!Re)return;const Ye=We.target;Re.contains(Ye)?je.current=Ye:$d3863c46a17e8a28$var$focus(je.current,{select:!0})},De=function(We){if(ke.paused||!Re)return;const Ye=We.relatedTarget;Ye!==null&&(Re.contains(Ye)||$d3863c46a17e8a28$var$focus(je.current,{select:!0}))},Ue=function(We){if(document.activeElement===document.body)for(const Xe of We)Xe.removedNodes.length>0&&$d3863c46a17e8a28$var$focus(Re)};document.addEventListener("focusin",Me),document.addEventListener("focusout",De);const ze=new MutationObserver(Ue);return Re&&ze.observe(Re,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Me),document.removeEventListener("focusout",De),ze.disconnect()}}},[_e,Re,ke.paused]),reactExports.useEffect(()=>{if(Re){$d3863c46a17e8a28$var$focusScopesStack.add(ke);const Me=document.activeElement;if(!Re.contains(Me)){const Ue=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);Re.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,Te),Re.dispatchEvent(Ue),Ue.defaultPrevented||($d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(Re)),{select:!0}),document.activeElement===Me&&$d3863c46a17e8a28$var$focus(Re))}return()=>{Re.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT,Te),setTimeout(()=>{const Ue=new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,$d3863c46a17e8a28$var$EVENT_OPTIONS);Re.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,Ie),Re.dispatchEvent(Ue),Ue.defaultPrevented||$d3863c46a17e8a28$var$focus(Me??document.body,{select:!0}),Re.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT,Ie),$d3863c46a17e8a28$var$focusScopesStack.remove(ke)},0)}}},[Re,Te,Ie,ke]);const Fe=reactExports.useCallback(Me=>{if(!xe&&!_e||ke.paused)return;const De=Me.key==="Tab"&&!Me.altKey&&!Me.ctrlKey&&!Me.metaKey,Ue=document.activeElement;if(De&&Ue){const ze=Me.currentTarget,[We,Ye]=$d3863c46a17e8a28$var$getTabbableEdges(ze);We&&Ye?!Me.shiftKey&&Ue===Ye?(Me.preventDefault(),xe&&$d3863c46a17e8a28$var$focus(We,{select:!0})):Me.shiftKey&&Ue===We&&(Me.preventDefault(),xe&&$d3863c46a17e8a28$var$focus(Ye,{select:!0})):Ue===ze&&Me.preventDefault()}},[xe,_e,ke.paused]);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({tabIndex:-1},Ae,{ref:Oe,onKeyDown:Fe}))});function $d3863c46a17e8a28$var$focusFirst(t,{select:e=!1}={}){const xe=document.activeElement;for(const _e of t)if($d3863c46a17e8a28$var$focus(_e,{select:e}),document.activeElement!==xe)return}function $d3863c46a17e8a28$var$getTabbableEdges(t){const e=$d3863c46a17e8a28$var$getTabbableCandidates(t),xe=$d3863c46a17e8a28$var$findVisible(e,t),_e=$d3863c46a17e8a28$var$findVisible(e.reverse(),t);return[xe,_e]}function $d3863c46a17e8a28$var$getTabbableCandidates(t){const e=[],xe=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const Ee=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||Ee?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;xe.nextNode();)e.push(xe.currentNode);return e}function $d3863c46a17e8a28$var$findVisible(t,e){for(const xe of t)if(!$d3863c46a17e8a28$var$isHidden(xe,{upTo:e}))return xe}function $d3863c46a17e8a28$var$isHidden(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $d3863c46a17e8a28$var$isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function $d3863c46a17e8a28$var$focus(t,{select:e=!1}={}){if(t&&t.focus){const xe=document.activeElement;t.focus({preventScroll:!0}),t!==xe&&$d3863c46a17e8a28$var$isSelectableInput(t)&&e&&t.select()}}const $d3863c46a17e8a28$var$focusScopesStack=$d3863c46a17e8a28$var$createFocusScopesStack();function $d3863c46a17e8a28$var$createFocusScopesStack(){let t=[];return{add(e){const xe=t[0];e!==xe&&(xe==null||xe.pause()),t=$d3863c46a17e8a28$var$arrayRemove(t,e),t.unshift(e)},remove(e){var xe;t=$d3863c46a17e8a28$var$arrayRemove(t,e),(xe=t[0])===null||xe===void 0||xe.resume()}}}function $d3863c46a17e8a28$var$arrayRemove(t,e){const xe=[...t],_e=xe.indexOf(e);return _e!==-1&&xe.splice(_e,1),xe}function $d3863c46a17e8a28$var$removeLinks(t){return t.filter(e=>e.tagName!=="A")}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=React$1.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(t){const[e,xe]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{xe(_e=>_e??String($1746a345f3d73bb7$var$count++))},[t]),e?`radix-${e}`:""}const sides=["top","right","bottom","left"],min$2=Math.min,max$3=Math.max,round$2=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(t,e,xe){return max$3(t,min$2(e,xe))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,xe){xe===void 0&&(xe=!1);const _e=getAlignment(t),Ee=getAlignmentAxis(t),Se=getAxisLength(Ee);let Ae=Ee==="x"?_e===(xe?"end":"start")?"right":"left":_e==="start"?"bottom":"top";return e.reference[Se]>e.floating[Se]&&(Ae=getOppositePlacement(Ae)),[Ae,getOppositePlacement(Ae)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}function getSideList(t,e,xe){const _e=["left","right"],Ee=["right","left"],Se=["top","bottom"],Ae=["bottom","top"];switch(t){case"top":case"bottom":return xe?e?Ee:_e:e?_e:Ee;case"left":case"right":return e?Se:Ae;default:return[]}}function getOppositeAxisPlacements(t,e,xe,_e){const Ee=getAlignment(t);let Se=getSideList(getSide(t),xe==="start",_e);return Ee&&(Se=Se.map(Ae=>Ae+"-"+Ee),e&&(Se=Se.concat(Se.map(getOppositeAlignmentPlacement)))),Se}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:xe,width:_e,height:Ee}=t;return{width:_e,height:Ee,top:xe,left:e,right:e+_e,bottom:xe+Ee,x:e,y:xe}}function computeCoordsFromPlacement(t,e,xe){let{reference:_e,floating:Ee}=t;const Se=getSideAxis(e),Ae=getAlignmentAxis(e),Re=getAxisLength(Ae),Pe=getSide(e),Te=Se==="y",Ie=_e.x+_e.width/2-Ee.width/2,je=_e.y+_e.height/2-Ee.height/2,Oe=_e[Re]/2-Ee[Re]/2;let ke;switch(Pe){case"top":ke={x:Ie,y:_e.y-Ee.height};break;case"bottom":ke={x:Ie,y:_e.y+_e.height};break;case"right":ke={x:_e.x+_e.width,y:je};break;case"left":ke={x:_e.x-Ee.width,y:je};break;default:ke={x:_e.x,y:_e.y}}switch(getAlignment(e)){case"start":ke[Ae]-=Oe*(xe&&Te?-1:1);break;case"end":ke[Ae]+=Oe*(xe&&Te?-1:1);break}return ke}const computePosition$1=async(t,e,xe)=>{const{placement:_e="bottom",strategy:Ee="absolute",middleware:Se=[],platform:Ae}=xe,Re=Se.filter(Boolean),Pe=await(Ae.isRTL==null?void 0:Ae.isRTL(e));let Te=await Ae.getElementRects({reference:t,floating:e,strategy:Ee}),{x:Ie,y:je}=computeCoordsFromPlacement(Te,_e,Pe),Oe=_e,ke={},Fe=0;for(let Me=0;Me<Re.length;Me++){const{name:De,fn:Ue}=Re[Me],{x:ze,y:We,data:Ye,reset:Xe}=await Ue({x:Ie,y:je,initialPlacement:_e,placement:Oe,strategy:Ee,middlewareData:ke,rects:Te,platform:Ae,elements:{reference:t,floating:e}});Ie=ze??Ie,je=We??je,ke={...ke,[De]:{...ke[De],...Ye}},Xe&&Fe<=50&&(Fe++,typeof Xe=="object"&&(Xe.placement&&(Oe=Xe.placement),Xe.rects&&(Te=Xe.rects===!0?await Ae.getElementRects({reference:t,floating:e,strategy:Ee}):Xe.rects),{x:Ie,y:je}=computeCoordsFromPlacement(Te,Oe,Pe)),Me=-1)}return{x:Ie,y:je,placement:Oe,strategy:Ee,middlewareData:ke}};async function detectOverflow(t,e){var xe;e===void 0&&(e={});const{x:_e,y:Ee,platform:Se,rects:Ae,elements:Re,strategy:Pe}=t,{boundary:Te="clippingAncestors",rootBoundary:Ie="viewport",elementContext:je="floating",altBoundary:Oe=!1,padding:ke=0}=evaluate(e,t),Fe=getPaddingObject(ke),De=Re[Oe?je==="floating"?"reference":"floating":je],Ue=rectToClientRect(await Se.getClippingRect({element:(xe=await(Se.isElement==null?void 0:Se.isElement(De)))==null||xe?De:De.contextElement||await(Se.getDocumentElement==null?void 0:Se.getDocumentElement(Re.floating)),boundary:Te,rootBoundary:Ie,strategy:Pe})),ze=je==="floating"?{x:_e,y:Ee,width:Ae.floating.width,height:Ae.floating.height}:Ae.reference,We=await(Se.getOffsetParent==null?void 0:Se.getOffsetParent(Re.floating)),Ye=await(Se.isElement==null?void 0:Se.isElement(We))?await(Se.getScale==null?void 0:Se.getScale(We))||{x:1,y:1}:{x:1,y:1},Xe=rectToClientRect(Se.convertOffsetParentRelativeRectToViewportRelativeRect?await Se.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Re,rect:ze,offsetParent:We,strategy:Pe}):ze);return{top:(Ue.top-Xe.top+Fe.top)/Ye.y,bottom:(Xe.bottom-Ue.bottom+Fe.bottom)/Ye.y,left:(Ue.left-Xe.left+Fe.left)/Ye.x,right:(Xe.right-Ue.right+Fe.right)/Ye.x}}const arrow$3=t=>({name:"arrow",options:t,async fn(e){const{x:xe,y:_e,placement:Ee,rects:Se,platform:Ae,elements:Re,middlewareData:Pe}=e,{element:Te,padding:Ie=0}=evaluate(t,e)||{};if(Te==null)return{};const je=getPaddingObject(Ie),Oe={x:xe,y:_e},ke=getAlignmentAxis(Ee),Fe=getAxisLength(ke),Me=await Ae.getDimensions(Te),De=ke==="y",Ue=De?"top":"left",ze=De?"bottom":"right",We=De?"clientHeight":"clientWidth",Ye=Se.reference[Fe]+Se.reference[ke]-Oe[ke]-Se.floating[Fe],Xe=Oe[ke]-Se.reference[ke],ir=await(Ae.getOffsetParent==null?void 0:Ae.getOffsetParent(Te));let Qe=ir?ir[We]:0;(!Qe||!await(Ae.isElement==null?void 0:Ae.isElement(ir)))&&(Qe=Re.floating[We]||Se.floating[Fe]);const Ke=Ye/2-Xe/2,rr=Qe/2-Me[Fe]/2-1,cr=min$2(je[Ue],rr),Ze=min$2(je[ze],rr),er=cr,sr=Qe-Me[Fe]-Ze,fr=Qe/2-Me[Fe]/2+Ke,_r=clamp(er,fr,sr),Er=!Pe.arrow&&getAlignment(Ee)!=null&&fr!==_r&&Se.reference[Fe]/2-(fr<er?cr:Ze)-Me[Fe]/2<0,yr=Er?fr<er?fr-er:fr-sr:0;return{[ke]:Oe[ke]+yr,data:{[ke]:_r,centerOffset:fr-_r-yr,...Er&&{alignmentOffset:yr}},reset:Er}}}),flip$2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var xe,_e;const{placement:Ee,middlewareData:Se,rects:Ae,initialPlacement:Re,platform:Pe,elements:Te}=e,{mainAxis:Ie=!0,crossAxis:je=!0,fallbackPlacements:Oe,fallbackStrategy:ke="bestFit",fallbackAxisSideDirection:Fe="none",flipAlignment:Me=!0,...De}=evaluate(t,e);if((xe=Se.arrow)!=null&&xe.alignmentOffset)return{};const Ue=getSide(Ee),ze=getSideAxis(Re),We=getSide(Re)===Re,Ye=await(Pe.isRTL==null?void 0:Pe.isRTL(Te.floating)),Xe=Oe||(We||!Me?[getOppositePlacement(Re)]:getExpandedPlacements(Re)),ir=Fe!=="none";!Oe&&ir&&Xe.push(...getOppositeAxisPlacements(Re,Me,Fe,Ye));const Qe=[Re,...Xe],Ke=await detectOverflow(e,De),rr=[];let cr=((_e=Se.flip)==null?void 0:_e.overflows)||[];if(Ie&&rr.push(Ke[Ue]),je){const _r=getAlignmentSides(Ee,Ae,Ye);rr.push(Ke[_r[0]],Ke[_r[1]])}if(cr=[...cr,{placement:Ee,overflows:rr}],!rr.every(_r=>_r<=0)){var Ze,er;const _r=(((Ze=Se.flip)==null?void 0:Ze.index)||0)+1,Er=Qe[_r];if(Er){var sr;const mr=je==="alignment"?ze!==getSideAxis(Er):!1,Pr=((sr=cr[0])==null?void 0:sr.overflows[0])>0;if(!mr||Pr)return{data:{index:_r,overflows:cr},reset:{placement:Er}}}let yr=(er=cr.filter(mr=>mr.overflows[0]<=0).sort((mr,Pr)=>mr.overflows[1]-Pr.overflows[1])[0])==null?void 0:er.placement;if(!yr)switch(ke){case"bestFit":{var fr;const mr=(fr=cr.filter(Pr=>{if(ir){const Cr=getSideAxis(Pr.placement);return Cr===ze||Cr==="y"}return!0}).map(Pr=>[Pr.placement,Pr.overflows.filter(Cr=>Cr>0).reduce((Cr,wr)=>Cr+wr,0)]).sort((Pr,Cr)=>Pr[1]-Cr[1])[0])==null?void 0:fr[0];mr&&(yr=mr);break}case"initialPlacement":yr=Re;break}if(Ee!==yr)return{reset:{placement:yr}}}return{}}}};function getSideOffsets(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function isAnySideFullyClipped(t){return sides.some(e=>t[e]>=0)}const hide$2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:xe}=e,{strategy:_e="referenceHidden",...Ee}=evaluate(t,e);switch(_e){case"referenceHidden":{const Se=await detectOverflow(e,{...Ee,elementContext:"reference"}),Ae=getSideOffsets(Se,xe.reference);return{data:{referenceHiddenOffsets:Ae,referenceHidden:isAnySideFullyClipped(Ae)}}}case"escaped":{const Se=await detectOverflow(e,{...Ee,altBoundary:!0}),Ae=getSideOffsets(Se,xe.floating);return{data:{escapedOffsets:Ae,escaped:isAnySideFullyClipped(Ae)}}}default:return{}}}}};async function convertValueToCoords(t,e){const{placement:xe,platform:_e,elements:Ee}=t,Se=await(_e.isRTL==null?void 0:_e.isRTL(Ee.floating)),Ae=getSide(xe),Re=getAlignment(xe),Pe=getSideAxis(xe)==="y",Te=["left","top"].includes(Ae)?-1:1,Ie=Se&&Pe?-1:1,je=evaluate(e,t);let{mainAxis:Oe,crossAxis:ke,alignmentAxis:Fe}=typeof je=="number"?{mainAxis:je,crossAxis:0,alignmentAxis:null}:{mainAxis:je.mainAxis||0,crossAxis:je.crossAxis||0,alignmentAxis:je.alignmentAxis};return Re&&typeof Fe=="number"&&(ke=Re==="end"?Fe*-1:Fe),Pe?{x:ke*Ie,y:Oe*Te}:{x:Oe*Te,y:ke*Ie}}const offset$2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var xe,_e;const{x:Ee,y:Se,placement:Ae,middlewareData:Re}=e,Pe=await convertValueToCoords(e,t);return Ae===((xe=Re.offset)==null?void 0:xe.placement)&&(_e=Re.arrow)!=null&&_e.alignmentOffset?{}:{x:Ee+Pe.x,y:Se+Pe.y,data:{...Pe,placement:Ae}}}}},shift$2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:xe,y:_e,placement:Ee}=e,{mainAxis:Se=!0,crossAxis:Ae=!1,limiter:Re={fn:De=>{let{x:Ue,y:ze}=De;return{x:Ue,y:ze}}},...Pe}=evaluate(t,e),Te={x:xe,y:_e},Ie=await detectOverflow(e,Pe),je=getSideAxis(getSide(Ee)),Oe=getOppositeAxis(je);let ke=Te[Oe],Fe=Te[je];if(Se){const De=Oe==="y"?"top":"left",Ue=Oe==="y"?"bottom":"right",ze=ke+Ie[De],We=ke-Ie[Ue];ke=clamp(ze,ke,We)}if(Ae){const De=je==="y"?"top":"left",Ue=je==="y"?"bottom":"right",ze=Fe+Ie[De],We=Fe-Ie[Ue];Fe=clamp(ze,Fe,We)}const Me=Re.fn({...e,[Oe]:ke,[je]:Fe});return{...Me,data:{x:Me.x-xe,y:Me.y-_e,enabled:{[Oe]:Se,[je]:Ae}}}}}},limitShift$2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:xe,y:_e,placement:Ee,rects:Se,middlewareData:Ae}=e,{offset:Re=0,mainAxis:Pe=!0,crossAxis:Te=!0}=evaluate(t,e),Ie={x:xe,y:_e},je=getSideAxis(Ee),Oe=getOppositeAxis(je);let ke=Ie[Oe],Fe=Ie[je];const Me=evaluate(Re,e),De=typeof Me=="number"?{mainAxis:Me,crossAxis:0}:{mainAxis:0,crossAxis:0,...Me};if(Pe){const We=Oe==="y"?"height":"width",Ye=Se.reference[Oe]-Se.floating[We]+De.mainAxis,Xe=Se.reference[Oe]+Se.reference[We]-De.mainAxis;ke<Ye?ke=Ye:ke>Xe&&(ke=Xe)}if(Te){var Ue,ze;const We=Oe==="y"?"width":"height",Ye=["top","left"].includes(getSide(Ee)),Xe=Se.reference[je]-Se.floating[We]+(Ye&&((Ue=Ae.offset)==null?void 0:Ue[je])||0)+(Ye?0:De.crossAxis),ir=Se.reference[je]+Se.reference[We]+(Ye?0:((ze=Ae.offset)==null?void 0:ze[je])||0)-(Ye?De.crossAxis:0);Fe<Xe?Fe=Xe:Fe>ir&&(Fe=ir)}return{[Oe]:ke,[je]:Fe}}}},size$2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var xe,_e;const{placement:Ee,rects:Se,platform:Ae,elements:Re}=e,{apply:Pe=()=>{},...Te}=evaluate(t,e),Ie=await detectOverflow(e,Te),je=getSide(Ee),Oe=getAlignment(Ee),ke=getSideAxis(Ee)==="y",{width:Fe,height:Me}=Se.floating;let De,Ue;je==="top"||je==="bottom"?(De=je,Ue=Oe===(await(Ae.isRTL==null?void 0:Ae.isRTL(Re.floating))?"start":"end")?"left":"right"):(Ue=je,De=Oe==="end"?"top":"bottom");const ze=Me-Ie.top-Ie.bottom,We=Fe-Ie.left-Ie.right,Ye=min$2(Me-Ie[De],ze),Xe=min$2(Fe-Ie[Ue],We),ir=!e.middlewareData.shift;let Qe=Ye,Ke=Xe;if((xe=e.middlewareData.shift)!=null&&xe.enabled.x&&(Ke=We),(_e=e.middlewareData.shift)!=null&&_e.enabled.y&&(Qe=ze),ir&&!Oe){const cr=max$3(Ie.left,0),Ze=max$3(Ie.right,0),er=max$3(Ie.top,0),sr=max$3(Ie.bottom,0);ke?Ke=Fe-2*(cr!==0||Ze!==0?cr+Ze:max$3(Ie.left,Ie.right)):Qe=Me-2*(er!==0||sr!==0?er+sr:max$3(Ie.top,Ie.bottom))}await Pe({...e,availableWidth:Ke,availableHeight:Qe});const rr=await Ae.getDimensions(Re.floating);return Fe!==rr.width||Me!==rr.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement$1(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}function isOverflowElement(t){const{overflow:e,overflowX:xe,overflowY:_e,display:Ee}=getComputedStyle$2(t);return/auto|scroll|overlay|hidden|clip/.test(e+_e+xe)&&!["inline","contents"].includes(Ee)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isTopLayer(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function isContainingBlock(t){const e=isWebKit(),xe=isElement(t)?getComputedStyle$2(t):t;return["transform","translate","scale","rotate","perspective"].some(_e=>xe[_e]?xe[_e]!=="none":!1)||(xe.containerType?xe.containerType!=="normal":!1)||!e&&(xe.backdropFilter?xe.backdropFilter!=="none":!1)||!e&&(xe.filter?xe.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(_e=>(xe.willChange||"").includes(_e))||["paint","layout","strict","content"].some(_e=>(xe.contain||"").includes(_e))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement$1(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle$2(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement$1(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,xe){var _e;e===void 0&&(e=[]),xe===void 0&&(xe=!0);const Ee=getNearestOverflowAncestor(t),Se=Ee===((_e=t.ownerDocument)==null?void 0:_e.body),Ae=getWindow(Ee);if(Se){const Re=getFrameElement(Ae);return e.concat(Ae,Ae.visualViewport||[],isOverflowElement(Ee)?Ee:[],Re&&xe?getOverflowAncestors(Re):[])}return e.concat(Ee,getOverflowAncestors(Ee,[],xe))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$2(t);let xe=parseFloat(e.width)||0,_e=parseFloat(e.height)||0;const Ee=isHTMLElement$1(t),Se=Ee?t.offsetWidth:xe,Ae=Ee?t.offsetHeight:_e,Re=round$2(xe)!==Se||round$2(_e)!==Ae;return Re&&(xe=Se,_e=Ae),{width:xe,height:_e,$:Re}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const e=unwrapElement(t);if(!isHTMLElement$1(e))return createCoords(1);const xe=e.getBoundingClientRect(),{width:_e,height:Ee,$:Se}=getCssDimensions(e);let Ae=(Se?round$2(xe.width):xe.width)/_e,Re=(Se?round$2(xe.height):xe.height)/Ee;return(!Ae||!Number.isFinite(Ae))&&(Ae=1),(!Re||!Number.isFinite(Re))&&(Re=1),{x:Ae,y:Re}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,xe){return e===void 0&&(e=!1),!xe||e&&xe!==getWindow(t)?!1:e}function getBoundingClientRect(t,e,xe,_e){e===void 0&&(e=!1),xe===void 0&&(xe=!1);const Ee=t.getBoundingClientRect(),Se=unwrapElement(t);let Ae=createCoords(1);e&&(_e?isElement(_e)&&(Ae=getScale(_e)):Ae=getScale(t));const Re=shouldAddVisualOffsets(Se,xe,_e)?getVisualOffsets(Se):createCoords(0);let Pe=(Ee.left+Re.x)/Ae.x,Te=(Ee.top+Re.y)/Ae.y,Ie=Ee.width/Ae.x,je=Ee.height/Ae.y;if(Se){const Oe=getWindow(Se),ke=_e&&isElement(_e)?getWindow(_e):_e;let Fe=Oe,Me=getFrameElement(Fe);for(;Me&&_e&&ke!==Fe;){const De=getScale(Me),Ue=Me.getBoundingClientRect(),ze=getComputedStyle$2(Me),We=Ue.left+(Me.clientLeft+parseFloat(ze.paddingLeft))*De.x,Ye=Ue.top+(Me.clientTop+parseFloat(ze.paddingTop))*De.y;Pe*=De.x,Te*=De.y,Ie*=De.x,je*=De.y,Pe+=We,Te+=Ye,Fe=getWindow(Me),Me=getFrameElement(Fe)}}return rectToClientRect({width:Ie,height:je,x:Pe,y:Te})}function getWindowScrollBarX(t,e){const xe=getNodeScroll(t).scrollLeft;return e?e.left+xe:getBoundingClientRect(getDocumentElement(t)).left+xe}function getHTMLOffset(t,e,xe){xe===void 0&&(xe=!1);const _e=t.getBoundingClientRect(),Ee=_e.left+e.scrollLeft-(xe?0:getWindowScrollBarX(t,_e)),Se=_e.top+e.scrollTop;return{x:Ee,y:Se}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:xe,offsetParent:_e,strategy:Ee}=t;const Se=Ee==="fixed",Ae=getDocumentElement(_e),Re=e?isTopLayer(e.floating):!1;if(_e===Ae||Re&&Se)return xe;let Pe={scrollLeft:0,scrollTop:0},Te=createCoords(1);const Ie=createCoords(0),je=isHTMLElement$1(_e);if((je||!je&&!Se)&&((getNodeName(_e)!=="body"||isOverflowElement(Ae))&&(Pe=getNodeScroll(_e)),isHTMLElement$1(_e))){const ke=getBoundingClientRect(_e);Te=getScale(_e),Ie.x=ke.x+_e.clientLeft,Ie.y=ke.y+_e.clientTop}const Oe=Ae&&!je&&!Se?getHTMLOffset(Ae,Pe,!0):createCoords(0);return{width:xe.width*Te.x,height:xe.height*Te.y,x:xe.x*Te.x-Pe.scrollLeft*Te.x+Ie.x+Oe.x,y:xe.y*Te.y-Pe.scrollTop*Te.y+Ie.y+Oe.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),xe=getNodeScroll(t),_e=t.ownerDocument.body,Ee=max$3(e.scrollWidth,e.clientWidth,_e.scrollWidth,_e.clientWidth),Se=max$3(e.scrollHeight,e.clientHeight,_e.scrollHeight,_e.clientHeight);let Ae=-xe.scrollLeft+getWindowScrollBarX(t);const Re=-xe.scrollTop;return getComputedStyle$2(_e).direction==="rtl"&&(Ae+=max$3(e.clientWidth,_e.clientWidth)-Ee),{width:Ee,height:Se,x:Ae,y:Re}}function getViewportRect(t,e){const xe=getWindow(t),_e=getDocumentElement(t),Ee=xe.visualViewport;let Se=_e.clientWidth,Ae=_e.clientHeight,Re=0,Pe=0;if(Ee){Se=Ee.width,Ae=Ee.height;const Te=isWebKit();(!Te||Te&&e==="fixed")&&(Re=Ee.offsetLeft,Pe=Ee.offsetTop)}return{width:Se,height:Ae,x:Re,y:Pe}}function getInnerBoundingClientRect(t,e){const xe=getBoundingClientRect(t,!0,e==="fixed"),_e=xe.top+t.clientTop,Ee=xe.left+t.clientLeft,Se=isHTMLElement$1(t)?getScale(t):createCoords(1),Ae=t.clientWidth*Se.x,Re=t.clientHeight*Se.y,Pe=Ee*Se.x,Te=_e*Se.y;return{width:Ae,height:Re,x:Pe,y:Te}}function getClientRectFromClippingAncestor(t,e,xe){let _e;if(e==="viewport")_e=getViewportRect(t,xe);else if(e==="document")_e=getDocumentRect(getDocumentElement(t));else if(isElement(e))_e=getInnerBoundingClientRect(e,xe);else{const Ee=getVisualOffsets(t);_e={x:e.x-Ee.x,y:e.y-Ee.y,width:e.width,height:e.height}}return rectToClientRect(_e)}function hasFixedPositionAncestor(t,e){const xe=getParentNode(t);return xe===e||!isElement(xe)||isLastTraversableNode(xe)?!1:getComputedStyle$2(xe).position==="fixed"||hasFixedPositionAncestor(xe,e)}function getClippingElementAncestors(t,e){const xe=e.get(t);if(xe)return xe;let _e=getOverflowAncestors(t,[],!1).filter(Re=>isElement(Re)&&getNodeName(Re)!=="body"),Ee=null;const Se=getComputedStyle$2(t).position==="fixed";let Ae=Se?getParentNode(t):t;for(;isElement(Ae)&&!isLastTraversableNode(Ae);){const Re=getComputedStyle$2(Ae),Pe=isContainingBlock(Ae);!Pe&&Re.position==="fixed"&&(Ee=null),(Se?!Pe&&!Ee:!Pe&&Re.position==="static"&&!!Ee&&["absolute","fixed"].includes(Ee.position)||isOverflowElement(Ae)&&!Pe&&hasFixedPositionAncestor(t,Ae))?_e=_e.filter(Ie=>Ie!==Ae):Ee=Re,Ae=getParentNode(Ae)}return e.set(t,_e),_e}function getClippingRect(t){let{element:e,boundary:xe,rootBoundary:_e,strategy:Ee}=t;const Ae=[...xe==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(xe),_e],Re=Ae[0],Pe=Ae.reduce((Te,Ie)=>{const je=getClientRectFromClippingAncestor(e,Ie,Ee);return Te.top=max$3(je.top,Te.top),Te.right=min$2(je.right,Te.right),Te.bottom=min$2(je.bottom,Te.bottom),Te.left=max$3(je.left,Te.left),Te},getClientRectFromClippingAncestor(e,Re,Ee));return{width:Pe.right-Pe.left,height:Pe.bottom-Pe.top,x:Pe.left,y:Pe.top}}function getDimensions(t){const{width:e,height:xe}=getCssDimensions(t);return{width:e,height:xe}}function getRectRelativeToOffsetParent(t,e,xe){const _e=isHTMLElement$1(e),Ee=getDocumentElement(e),Se=xe==="fixed",Ae=getBoundingClientRect(t,!0,Se,e);let Re={scrollLeft:0,scrollTop:0};const Pe=createCoords(0);function Te(){Pe.x=getWindowScrollBarX(Ee)}if(_e||!_e&&!Se)if((getNodeName(e)!=="body"||isOverflowElement(Ee))&&(Re=getNodeScroll(e)),_e){const ke=getBoundingClientRect(e,!0,Se,e);Pe.x=ke.x+e.clientLeft,Pe.y=ke.y+e.clientTop}else Ee&&Te();Se&&!_e&&Ee&&Te();const Ie=Ee&&!_e&&!Se?getHTMLOffset(Ee,Re):createCoords(0),je=Ae.left+Re.scrollLeft-Pe.x-Ie.x,Oe=Ae.top+Re.scrollTop-Pe.y-Ie.y;return{x:je,y:Oe,width:Ae.width,height:Ae.height}}function isStaticPositioned(t){return getComputedStyle$2(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement$1(t)||getComputedStyle$2(t).position==="fixed")return null;if(e)return e(t);let xe=t.offsetParent;return getDocumentElement(t)===xe&&(xe=xe.ownerDocument.body),xe}function getOffsetParent(t,e){const xe=getWindow(t);if(isTopLayer(t))return xe;if(!isHTMLElement$1(t)){let Ee=getParentNode(t);for(;Ee&&!isLastTraversableNode(Ee);){if(isElement(Ee)&&!isStaticPositioned(Ee))return Ee;Ee=getParentNode(Ee)}return xe}let _e=getTrueOffsetParent(t,e);for(;_e&&isTableElement(_e)&&isStaticPositioned(_e);)_e=getTrueOffsetParent(_e,e);return _e&&isLastTraversableNode(_e)&&isStaticPositioned(_e)&&!isContainingBlock(_e)?xe:_e||getContainingBlock(t)||xe}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,xe=this.getDimensions,_e=await xe(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:_e.width,height:_e.height}}};function isRTL(t){return getComputedStyle$2(t).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let xe=null,_e;const Ee=getDocumentElement(t);function Se(){var Re;clearTimeout(_e),(Re=xe)==null||Re.disconnect(),xe=null}function Ae(Re,Pe){Re===void 0&&(Re=!1),Pe===void 0&&(Pe=1),Se();const Te=t.getBoundingClientRect(),{left:Ie,top:je,width:Oe,height:ke}=Te;if(Re||e(),!Oe||!ke)return;const Fe=floor(je),Me=floor(Ee.clientWidth-(Ie+Oe)),De=floor(Ee.clientHeight-(je+ke)),Ue=floor(Ie),We={rootMargin:-Fe+"px "+-Me+"px "+-De+"px "+-Ue+"px",threshold:max$3(0,min$2(1,Pe))||1};let Ye=!0;function Xe(ir){const Qe=ir[0].intersectionRatio;if(Qe!==Pe){if(!Ye)return Ae();Qe?Ae(!1,Qe):_e=setTimeout(()=>{Ae(!1,1e-7)},1e3)}Qe===1&&!rectsAreEqual(Te,t.getBoundingClientRect())&&Ae(),Ye=!1}try{xe=new IntersectionObserver(Xe,{...We,root:Ee.ownerDocument})}catch{xe=new IntersectionObserver(Xe,We)}xe.observe(t)}return Ae(!0),Se}function autoUpdate(t,e,xe,_e){_e===void 0&&(_e={});const{ancestorScroll:Ee=!0,ancestorResize:Se=!0,elementResize:Ae=typeof ResizeObserver=="function",layoutShift:Re=typeof IntersectionObserver=="function",animationFrame:Pe=!1}=_e,Te=unwrapElement(t),Ie=Ee||Se?[...Te?getOverflowAncestors(Te):[],...getOverflowAncestors(e)]:[];Ie.forEach(Ue=>{Ee&&Ue.addEventListener("scroll",xe,{passive:!0}),Se&&Ue.addEventListener("resize",xe)});const je=Te&&Re?observeMove(Te,xe):null;let Oe=-1,ke=null;Ae&&(ke=new ResizeObserver(Ue=>{let[ze]=Ue;ze&&ze.target===Te&&ke&&(ke.unobserve(e),cancelAnimationFrame(Oe),Oe=requestAnimationFrame(()=>{var We;(We=ke)==null||We.observe(e)})),xe()}),Te&&!Pe&&ke.observe(Te),ke.observe(e));let Fe,Me=Pe?getBoundingClientRect(t):null;Pe&&De();function De(){const Ue=getBoundingClientRect(t);Me&&!rectsAreEqual(Me,Ue)&&xe(),Me=Ue,Fe=requestAnimationFrame(De)}return xe(),()=>{var Ue;Ie.forEach(ze=>{Ee&&ze.removeEventListener("scroll",xe),Se&&ze.removeEventListener("resize",xe)}),je==null||je(),(Ue=ke)==null||Ue.disconnect(),ke=null,Pe&&cancelAnimationFrame(Fe)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(t,e,xe)=>{const _e=new Map,Ee={platform,...xe},Se={...Ee.platform,_c:_e};return computePosition$1(t,e,{...Ee,platform:Se})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let xe,_e,Ee;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(xe=t.length,xe!==e.length)return!1;for(_e=xe;_e--!==0;)if(!deepEqual$1(t[_e],e[_e]))return!1;return!0}if(Ee=Object.keys(t),xe=Ee.length,xe!==Object.keys(e).length)return!1;for(_e=xe;_e--!==0;)if(!{}.hasOwnProperty.call(e,Ee[_e]))return!1;for(_e=xe;_e--!==0;){const Se=Ee[_e];if(!(Se==="_owner"&&t.$$typeof)&&!deepEqual$1(t[Se],e[Se]))return!1}return!0}return t!==t&&e!==e}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,e){const xe=getDPR(t);return Math.round(e*xe)/xe}function useLatestRef(t){const e=reactExports.useRef(t);return index(()=>{e.current=t}),e}function useFloating(t){t===void 0&&(t={});const{placement:e="bottom",strategy:xe="absolute",middleware:_e=[],platform:Ee,elements:{reference:Se,floating:Ae}={},transform:Re=!0,whileElementsMounted:Pe,open:Te}=t,[Ie,je]=reactExports.useState({x:0,y:0,strategy:xe,placement:e,middlewareData:{},isPositioned:!1}),[Oe,ke]=reactExports.useState(_e);deepEqual$1(Oe,_e)||ke(_e);const[Fe,Me]=reactExports.useState(null),[De,Ue]=reactExports.useState(null),ze=reactExports.useCallback(mr=>{mr!==ir.current&&(ir.current=mr,Me(mr))},[]),We=reactExports.useCallback(mr=>{mr!==Qe.current&&(Qe.current=mr,Ue(mr))},[]),Ye=Se||Fe,Xe=Ae||De,ir=reactExports.useRef(null),Qe=reactExports.useRef(null),Ke=reactExports.useRef(Ie),rr=Pe!=null,cr=useLatestRef(Pe),Ze=useLatestRef(Ee),er=useLatestRef(Te),sr=reactExports.useCallback(()=>{if(!ir.current||!Qe.current)return;const mr={placement:e,strategy:xe,middleware:Oe};Ze.current&&(mr.platform=Ze.current),computePosition(ir.current,Qe.current,mr).then(Pr=>{const Cr={...Pr,isPositioned:er.current!==!1};fr.current&&!deepEqual$1(Ke.current,Cr)&&(Ke.current=Cr,reactDomExports.flushSync(()=>{je(Cr)}))})},[Oe,e,xe,Ze,er]);index(()=>{Te===!1&&Ke.current.isPositioned&&(Ke.current.isPositioned=!1,je(mr=>({...mr,isPositioned:!1})))},[Te]);const fr=reactExports.useRef(!1);index(()=>(fr.current=!0,()=>{fr.current=!1}),[]),index(()=>{if(Ye&&(ir.current=Ye),Xe&&(Qe.current=Xe),Ye&&Xe){if(cr.current)return cr.current(Ye,Xe,sr);sr()}},[Ye,Xe,sr,cr,rr]);const _r=reactExports.useMemo(()=>({reference:ir,floating:Qe,setReference:ze,setFloating:We}),[ze,We]),Er=reactExports.useMemo(()=>({reference:Ye,floating:Xe}),[Ye,Xe]),yr=reactExports.useMemo(()=>{const mr={position:xe,left:0,top:0};if(!Er.floating)return mr;const Pr=roundByDPR(Er.floating,Ie.x),Cr=roundByDPR(Er.floating,Ie.y);return Re?{...mr,transform:"translate("+Pr+"px, "+Cr+"px)",...getDPR(Er.floating)>=1.5&&{willChange:"transform"}}:{position:xe,left:Pr,top:Cr}},[xe,Re,Er.floating,Ie.x,Ie.y]);return reactExports.useMemo(()=>({...Ie,update:sr,refs:_r,elements:Er,floatingStyles:yr}),[Ie,sr,_r,Er,yr])}const arrow$1=t=>{function e(xe){return{}.hasOwnProperty.call(xe,"current")}return{name:"arrow",options:t,fn(xe){const{element:_e,padding:Ee}=typeof t=="function"?t(xe):t;return _e&&e(_e)?_e.current!=null?arrow$2({element:_e.current,padding:Ee}).fn(xe):{}:_e?arrow$2({element:_e,padding:Ee}).fn(xe):{}}}},offset=(t,e)=>({...offset$1(t),options:[t,e]}),shift=(t,e)=>({...shift$1(t),options:[t,e]}),limitShift=(t,e)=>({...limitShift$1(t),options:[t,e]}),flip=(t,e)=>({...flip$1(t),options:[t,e]}),size=(t,e)=>({...size$1(t),options:[t,e]}),hide=(t,e)=>({...hide$1(t),options:[t,e]}),arrow=(t,e)=>({...arrow$1(t),options:[t,e]}),$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((t,e)=>{const{children:xe,width:_e=10,height:Ee=5,...Se}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$t({},Se,{ref:e,width:_e,height:Ee,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?xe:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(t){const[e,xe]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(t){xe({width:t.offsetWidth,height:t.offsetHeight});const _e=new ResizeObserver(Ee=>{if(!Array.isArray(Ee)||!Ee.length)return;const Se=Ee[0];let Ae,Re;if("borderBoxSize"in Se){const Pe=Se.borderBoxSize,Te=Array.isArray(Pe)?Pe[0]:Pe;Ae=Te.inlineSize,Re=Te.blockSize}else Ae=t.offsetWidth,Re=t.offsetHeight;xe({width:Ae,height:Re})});return _e.observe(t,{box:"border-box"}),()=>_e.unobserve(t)}else xe(void 0)},[t]),e}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=t=>{const{__scopePopper:e,children:xe}=t,[_e,Ee]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:e,anchor:_e,onAnchorChange:Ee},xe)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((t,e)=>{const{__scopePopper:xe,virtualRef:_e,...Ee}=t,Se=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,xe),Ae=reactExports.useRef(null),Re=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ae);return reactExports.useEffect(()=>{Se.onAnchorChange((_e==null?void 0:_e.current)||Ae.current)}),_e?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({},Ee,{ref:Re}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((t,e)=>{var xe,_e,Ee,Se,Ae,Re,Pe,Te;const{__scopePopper:Ie,side:je="bottom",sideOffset:Oe=0,align:ke="center",alignOffset:Fe=0,arrowPadding:Me=0,avoidCollisions:De=!0,collisionBoundary:Ue=[],collisionPadding:ze=0,sticky:We="partial",hideWhenDetached:Ye=!1,updatePositionStrategy:Xe="optimized",onPlaced:ir,...Qe}=t,Ke=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,Ie),[rr,cr]=reactExports.useState(null),Ze=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,un=>cr(un)),[er,sr]=reactExports.useState(null),fr=$db6c3485150b8e66$export$1ab7ae714698c4b8(er),_r=(xe=fr==null?void 0:fr.width)!==null&&xe!==void 0?xe:0,Er=(_e=fr==null?void 0:fr.height)!==null&&_e!==void 0?_e:0,yr=je+(ke!=="center"?"-"+ke:""),mr=typeof ze=="number"?ze:{top:0,right:0,bottom:0,left:0,...ze},Pr=Array.isArray(Ue)?Ue:[Ue],Cr=Pr.length>0,wr={padding:mr,boundary:Pr.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:Cr},{refs:or,floatingStyles:hr,placement:br,isPositioned:Ir,middlewareData:jr}=useFloating({strategy:"fixed",placement:yr,whileElementsMounted:(...un)=>autoUpdate(...un,{animationFrame:Xe==="always"}),elements:{reference:Ke.anchor},middleware:[offset({mainAxis:Oe+Er,alignmentAxis:Fe}),De&&shift({mainAxis:!0,crossAxis:!1,limiter:We==="partial"?limitShift():void 0,...wr}),De&&flip({...wr}),size({...wr,apply:({elements:un,rects:Nr,availableWidth:Bn,availableHeight:Vn})=>{const{width:wn,height:In}=Nr.reference,jn=un.floating.style;jn.setProperty("--radix-popper-available-width",`${Bn}px`),jn.setProperty("--radix-popper-available-height",`${Vn}px`),jn.setProperty("--radix-popper-anchor-width",`${wn}px`),jn.setProperty("--radix-popper-anchor-height",`${In}px`)}}),er&&arrow({element:er,padding:Me}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:_r,arrowHeight:Er}),Ye&&hide({strategy:"referenceHidden",...wr})]}),[Mr,Vr]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(br),Or=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ir);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Ir&&(Or==null||Or())},[Ir,Or]);const Xr=(Ee=jr.arrow)===null||Ee===void 0?void 0:Ee.x,Qr=(Se=jr.arrow)===null||Se===void 0?void 0:Se.y,Fr=((Ae=jr.arrow)===null||Ae===void 0?void 0:Ae.centerOffset)!==0,[xn,An]=reactExports.useState();return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{rr&&An(window.getComputedStyle(rr).zIndex)},[rr]),reactExports.createElement("div",{ref:or.setFloating,"data-radix-popper-content-wrapper":"",style:{...hr,transform:Ir?hr.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xn,"--radix-popper-transform-origin":[(Re=jr.transformOrigin)===null||Re===void 0?void 0:Re.x,(Pe=jr.transformOrigin)===null||Pe===void 0?void 0:Pe.y].join(" ")},dir:t.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:Ie,placedSide:Mr,onArrowChange:sr,arrowX:Xr,arrowY:Qr,shouldHideArrow:Fr},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({"data-side":Mr,"data-align":Vr},Qe,{ref:Ze,style:{...Qe.style,animation:Ir?void 0:"none",opacity:(Te=jr.hide)!==null&&Te!==void 0&&Te.referenceHidden?0:void 0}}))))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function(e,xe){const{__scopePopper:_e,...Ee}=e,Se=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,_e),Ae=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[Se.placedSide];return reactExports.createElement("span",{ref:Se.onArrowChange,style:{position:"absolute",left:Se.arrowX,top:Se.arrowY,[Ae]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[Se.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[Se.placedSide],visibility:Se.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$t({},Ee,{ref:xe,style:{...Ee.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isNotNull(t){return t!==null}const $cf1ac5d9fe0e8206$var$transformOrigin=t=>({name:"transformOrigin",options:t,fn(e){var xe,_e,Ee,Se,Ae;const{placement:Re,rects:Pe,middlewareData:Te}=e,je=((xe=Te.arrow)===null||xe===void 0?void 0:xe.centerOffset)!==0,Oe=je?0:t.arrowWidth,ke=je?0:t.arrowHeight,[Fe,Me]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Re),De={start:"0%",center:"50%",end:"100%"}[Me],Ue=((_e=(Ee=Te.arrow)===null||Ee===void 0?void 0:Ee.x)!==null&&_e!==void 0?_e:0)+Oe/2,ze=((Se=(Ae=Te.arrow)===null||Ae===void 0?void 0:Ae.y)!==null&&Se!==void 0?Se:0)+ke/2;let We="",Ye="";return Fe==="bottom"?(We=je?De:`${Ue}px`,Ye=`${-ke}px`):Fe==="top"?(We=je?De:`${Ue}px`,Ye=`${Pe.floating.height+ke}px`):Fe==="right"?(We=`${-ke}px`,Ye=je?De:`${ze}px`):Fe==="left"&&(We=`${Pe.floating.width+ke}px`,Ye=je?De:`${ze}px`),{data:{x:We,y:Ye}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(t){const[e,xe="center"]=t.split("-");return[e,xe]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((t,e)=>{var xe;const{container:_e=globalThis==null||(xe=globalThis.document)===null||xe===void 0?void 0:xe.body,...Ee}=t;return _e?ReactDOM.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({},Ee,{ref:e})),_e):null});function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:t,defaultProp:e,onChange:xe=()=>{}}){const[_e,Ee]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:e,onChange:xe}),Se=t!==void 0,Ae=Se?t:_e,Re=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(xe),Pe=reactExports.useCallback(Te=>{if(Se){const je=typeof Te=="function"?Te(t):Te;je!==t&&Re(je)}else Ee(Te)},[Se,t,Ee,Re]);return[Ae,Pe]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:t,onChange:e}){const xe=reactExports.useState(t),[_e]=xe,Ee=reactExports.useRef(_e),Se=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(e);return reactExports.useEffect(()=>{Ee.current!==_e&&(Se(_e),Ee.current=_e)},[_e,Ee,Se]),xe}function $010c2913dbd2fe3d$export$5cae361ad82dce8b(t){const e=reactExports.useRef({value:t,previous:t});return reactExports.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((t,e)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$t({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var getDefaultParent=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,e){return e.map(function(xe){if(t.contains(xe))return xe;var _e=unwrapHost(xe);return _e&&t.contains(_e)?_e:(console.error("aria-hidden",xe,"in not contained inside",t,". Doing nothing"),null)}).filter(function(xe){return!!xe})},applyAttributeToOthers=function(t,e,xe,_e){var Ee=correctTargets(e,Array.isArray(t)?t:[t]);markerMap[xe]||(markerMap[xe]=new WeakMap);var Se=markerMap[xe],Ae=[],Re=new Set,Pe=new Set(Ee),Te=function(je){!je||Re.has(je)||(Re.add(je),Te(je.parentNode))};Ee.forEach(Te);var Ie=function(je){!je||Pe.has(je)||Array.prototype.forEach.call(je.children,function(Oe){if(Re.has(Oe))Ie(Oe);else try{var ke=Oe.getAttribute(_e),Fe=ke!==null&&ke!=="false",Me=(counterMap.get(Oe)||0)+1,De=(Se.get(Oe)||0)+1;counterMap.set(Oe,Me),Se.set(Oe,De),Ae.push(Oe),Me===1&&Fe&&uncontrolledNodes.set(Oe,!0),De===1&&Oe.setAttribute(xe,"true"),Fe||Oe.setAttribute(_e,"true")}catch(Ue){console.error("aria-hidden: cannot operate on ",Oe,Ue)}})};return Ie(e),Re.clear(),lockCount++,function(){Ae.forEach(function(je){var Oe=counterMap.get(je)-1,ke=Se.get(je)-1;counterMap.set(je,Oe),Se.set(je,ke),Oe||(uncontrolledNodes.has(je)||je.removeAttribute(_e),uncontrolledNodes.delete(je)),ke||je.removeAttribute(xe)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,e,xe){xe===void 0&&(xe="data-aria-hidden");var _e=Array.from(Array.isArray(t)?t:[t]),Ee=getDefaultParent(t);return Ee?(_e.push.apply(_e,Array.from(Ee.querySelectorAll("[aria-live]"))),applyAttributeToOthers(_e,Ee,xe,"aria-hidden")):function(){return null}},zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function useCallbackRef$1(t,e){var xe=reactExports.useState(function(){return{value:t,callback:e,facade:{get current(){return xe.value},set current(_e){var Ee=xe.value;Ee!==_e&&(xe.value=_e,xe.callback(_e,Ee))}}}})[0];return xe.callback=e,xe.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(t,e){var xe=useCallbackRef$1(null,function(_e){return t.forEach(function(Ee){return assignRef(Ee,_e)})});return useIsomorphicLayoutEffect(function(){var _e=currentValues.get(xe);if(_e){var Ee=new Set(_e),Se=new Set(t),Ae=xe.current;Ee.forEach(function(Re){Se.has(Re)||assignRef(Re,null)}),Se.forEach(function(Re){Ee.has(Re)||assignRef(Re,Ae)})}currentValues.set(xe,t)},[t]),xe}function ItoI(t){return t}function innerCreateMedium(t,e){e===void 0&&(e=ItoI);var xe=[],_e=!1,Ee={read:function(){if(_e)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return xe.length?xe[xe.length-1]:t},useMedium:function(Se){var Ae=e(Se,_e);return xe.push(Ae),function(){xe=xe.filter(function(Re){return Re!==Ae})}},assignSyncMedium:function(Se){for(_e=!0;xe.length;){var Ae=xe;xe=[],Ae.forEach(Se)}xe={push:function(Re){return Se(Re)},filter:function(){return xe}}},assignMedium:function(Se){_e=!0;var Ae=[];if(xe.length){var Re=xe;xe=[],Re.forEach(Se),Ae=xe}var Pe=function(){var Ie=Ae;Ae=[],Ie.forEach(Se)},Te=function(){return Promise.resolve().then(Pe)};Te(),xe={push:function(Ie){Ae.push(Ie),Te()},filter:function(Ie){return Ae=Ae.filter(Ie),xe}}}};return Ee}function createSidecarMedium(t){t===void 0&&(t={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},t),e}var SideCar$1=function(t){var e=t.sideCar,xe=__rest(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var _e=e.read();if(!_e)throw new Error("Sidecar medium not found");return reactExports.createElement(_e,__assign({},xe))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,e){return t.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,e){var xe=reactExports.useRef(null),_e=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),Ee=_e[0],Se=_e[1],Ae=t.forwardProps,Re=t.children,Pe=t.className,Te=t.removeScrollBar,Ie=t.enabled,je=t.shards,Oe=t.sideCar,ke=t.noIsolation,Fe=t.inert,Me=t.allowPinchZoom,De=t.as,Ue=De===void 0?"div":De,ze=__rest(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),We=Oe,Ye=useMergeRefs([xe,e]),Xe=__assign(__assign({},ze),Ee);return reactExports.createElement(reactExports.Fragment,null,Ie&&reactExports.createElement(We,{sideCar:effectCar,removeScrollBar:Te,shards:je,noIsolation:ke,inert:Fe,setCallbacks:Se,allowPinchZoom:!!Me,lockRef:xe}),Ae?reactExports.cloneElement(reactExports.Children.only(Re),__assign(__assign({},Xe),{ref:Ye})):reactExports.createElement(Ue,__assign({},Xe,{className:Pe,ref:Ye}),Re))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=getNonce();return e&&t.setAttribute("nonce",e),t}function injectStyles(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function insertStyleTag(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var stylesheetSingleton=function(){var t=0,e=null;return{add:function(xe){t==0&&(e=makeStyleTag())&&(injectStyles(e,xe),insertStyleTag(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(e,xe){reactExports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&xe])}},styleSingleton=function(){var t=styleHookSingleton(),e=function(xe){var _e=xe.styles,Ee=xe.dynamic;return t(_e,Ee),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(t){return parseInt(t||"",10)||0},getOffset$1=function(t){var e=window.getComputedStyle(document.body),xe=e[t==="padding"?"paddingLeft":"marginLeft"],_e=e[t==="padding"?"paddingTop":"marginTop"],Ee=e[t==="padding"?"paddingRight":"marginRight"];return[parse$1(xe),parse$1(_e),parse$1(Ee)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var e=getOffset$1(t),xe=document.documentElement.clientWidth,_e=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,_e-xe+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,e,xe,_e){var Ee=t.left,Se=t.top,Ae=t.right,Re=t.gap;return xe===void 0&&(xe="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(_e,`;
   padding-right: `).concat(Re,"px ").concat(_e,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(_e,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(_e,";"),xe==="margin"&&`
    padding-left: `.concat(Ee,`px;
    padding-top: `).concat(Se,`px;
    padding-right: `).concat(Ae,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Re,"px ").concat(_e,`;
    `),xe==="padding"&&"padding-right: ".concat(Re,"px ").concat(_e,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(Re,"px ").concat(_e,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(Re,"px ").concat(_e,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(_e,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(_e,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(Re,`px;
  }
`)},getCurrentUseCounter=function(){var t=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(t)?t:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var t=getCurrentUseCounter()-1;t<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,t.toString())}},[])},RemoveScrollBar=function(t){var e=t.noRelative,xe=t.noImportant,_e=t.gapMode,Ee=_e===void 0?"margin":_e;useLockAttribute();var Se=reactExports.useMemo(function(){return getGapWidth(Ee)},[Ee]);return reactExports.createElement(Style,{styles:getStyles(Se,!e,Ee,xe?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,e){var xe=window.getComputedStyle(t);return xe[e]!=="hidden"&&!(xe.overflowY===xe.overflowX&&!alwaysContainsScroll(t)&&xe[e]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,e){var xe=e;do{typeof ShadowRoot<"u"&&xe instanceof ShadowRoot&&(xe=xe.host);var _e=elementCouldBeScrolled(t,xe);if(_e){var Ee=getScrollVariables(t,xe),Se=Ee[1],Ae=Ee[2];if(Se>Ae)return!0}xe=xe.parentNode}while(xe&&xe!==document.body);return!1},getVScrollVariables=function(t){var e=t.scrollTop,xe=t.scrollHeight,_e=t.clientHeight;return[e,xe,_e]},getHScrollVariables=function(t){var e=t.scrollLeft,xe=t.scrollWidth,_e=t.clientWidth;return[e,xe,_e]},elementCouldBeScrolled=function(t,e){return t==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(t,e){return t==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(t,e){return t==="h"&&e==="rtl"?-1:1},handleScroll=function(t,e,xe,_e,Ee){var Se=getDirectionFactor(t,window.getComputedStyle(e).direction),Ae=Se*_e,Re=xe.target,Pe=e.contains(Re),Te=!1,Ie=Ae>0,je=0,Oe=0;do{var ke=getScrollVariables(t,Re),Fe=ke[0],Me=ke[1],De=ke[2],Ue=Me-De-Se*Fe;(Fe||Ue)&&elementCouldBeScrolled(t,Re)&&(je+=Ue,Oe+=Fe),Re=Re.parentNode}while(!Pe&&Re!==document.body||Pe&&(e.contains(Re)||e===Re));return(Ie&&je===0||!Ie&&Oe===0)&&(Te=!0),Te},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,e){return t[0]===e[0]&&t[1]===e[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(t){var e=reactExports.useRef([]),xe=reactExports.useRef([0,0]),_e=reactExports.useRef(),Ee=reactExports.useState(idCounter$1++)[0],Se=reactExports.useState(function(){return styleSingleton()})[0],Ae=reactExports.useRef(t);reactExports.useEffect(function(){Ae.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(Ee));var Me=__spreadArray([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return Me.forEach(function(De){return De.classList.add("allow-interactivity-".concat(Ee))}),function(){document.body.classList.remove("block-interactivity-".concat(Ee)),Me.forEach(function(De){return De.classList.remove("allow-interactivity-".concat(Ee))})}}},[t.inert,t.lockRef.current,t.shards]);var Re=reactExports.useCallback(function(Me,De){if("touches"in Me&&Me.touches.length===2)return!Ae.current.allowPinchZoom;var Ue=getTouchXY(Me),ze=xe.current,We="deltaX"in Me?Me.deltaX:ze[0]-Ue[0],Ye="deltaY"in Me?Me.deltaY:ze[1]-Ue[1],Xe,ir=Me.target,Qe=Math.abs(We)>Math.abs(Ye)?"h":"v";if("touches"in Me&&Qe==="h"&&ir.type==="range")return!1;var Ke=locationCouldBeScrolled(Qe,ir);if(!Ke)return!0;if(Ke?Xe=Qe:(Xe=Qe==="v"?"h":"v",Ke=locationCouldBeScrolled(Qe,ir)),!Ke)return!1;if(!_e.current&&"changedTouches"in Me&&(We||Ye)&&(_e.current=Xe),!Xe)return!0;var rr=_e.current||Xe;return handleScroll(rr,De,Me,rr==="h"?We:Ye)},[]),Pe=reactExports.useCallback(function(Me){var De=Me;if(!(!lockStack.length||lockStack[lockStack.length-1]!==Se)){var Ue="deltaY"in De?getDeltaXY(De):getTouchXY(De),ze=e.current.filter(function(Xe){return Xe.name===De.type&&Xe.target===De.target&&deltaCompare(Xe.delta,Ue)})[0];if(ze&&ze.should){De.cancelable&&De.preventDefault();return}if(!ze){var We=(Ae.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Xe){return Xe.contains(De.target)}),Ye=We.length>0?Re(De,We[0]):!Ae.current.noIsolation;Ye&&De.cancelable&&De.preventDefault()}}},[]),Te=reactExports.useCallback(function(Me,De,Ue,ze){var We={name:Me,delta:De,target:Ue,should:ze};e.current.push(We),setTimeout(function(){e.current=e.current.filter(function(Ye){return Ye!==We})},1)},[]),Ie=reactExports.useCallback(function(Me){xe.current=getTouchXY(Me),_e.current=void 0},[]),je=reactExports.useCallback(function(Me){Te(Me.type,getDeltaXY(Me),Me.target,Re(Me,t.lockRef.current))},[]),Oe=reactExports.useCallback(function(Me){Te(Me.type,getTouchXY(Me),Me.target,Re(Me,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(Se),t.setCallbacks({onScrollCapture:je,onWheelCapture:je,onTouchMoveCapture:Oe}),document.addEventListener("wheel",Pe,nonPassive),document.addEventListener("touchmove",Pe,nonPassive),document.addEventListener("touchstart",Ie,nonPassive),function(){lockStack=lockStack.filter(function(Me){return Me!==Se}),document.removeEventListener("wheel",Pe,nonPassive),document.removeEventListener("touchmove",Pe,nonPassive),document.removeEventListener("touchstart",Ie,nonPassive)}},[]);var ke=t.removeScrollBar,Fe=t.inert;return reactExports.createElement(reactExports.Fragment,null,Fe?reactExports.createElement(Se,{styles:generateStyle(Ee)}):null,ke?reactExports.createElement(RemoveScrollBar,{gapMode:"margin"}):null)}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,e){return reactExports.createElement(RemoveScroll,__assign({},t,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;const $cc7e05a45900e73f$var$OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],$cc7e05a45900e73f$var$SELECTION_KEYS=[" ","Enter"],$cc7e05a45900e73f$var$SELECT_NAME="Select",[$cc7e05a45900e73f$var$Collection,$cc7e05a45900e73f$var$useCollection,$cc7e05a45900e73f$var$createCollectionScope]=$e02a7d9cb1dc128c$export$c74125a8e3af6bb2($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$createSelectContext,$cc7e05a45900e73f$export$286727a75dc039bd]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cc7e05a45900e73f$var$SELECT_NAME,[$cc7e05a45900e73f$var$createCollectionScope,$cf1ac5d9fe0e8206$export$722aac194ae923]),$cc7e05a45900e73f$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),[$cc7e05a45900e73f$var$SelectProvider,$cc7e05a45900e73f$var$useSelectContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),[$cc7e05a45900e73f$var$SelectNativeOptionsProvider,$cc7e05a45900e73f$var$useSelectNativeOptionsContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$SELECT_NAME),$cc7e05a45900e73f$export$ef9b1a59e592288f=t=>{const{__scopeSelect:e,children:xe,open:_e,defaultOpen:Ee,onOpenChange:Se,value:Ae,defaultValue:Re,onValueChange:Pe,dir:Te,name:Ie,autoComplete:je,disabled:Oe,required:ke}=t,Fe=$cc7e05a45900e73f$var$usePopperScope(e),[Me,De]=reactExports.useState(null),[Ue,ze]=reactExports.useState(null),[We,Ye]=reactExports.useState(!1),Xe=$f631663db3294ace$export$b39126d51d94e6f3(Te),[ir=!1,Qe]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:_e,defaultProp:Ee,onChange:Se}),[Ke,rr]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:Ae,defaultProp:Re,onChange:Pe}),cr=reactExports.useRef(null),Ze=Me?!!Me.closest("form"):!0,[er,sr]=reactExports.useState(new Set),fr=Array.from(er).map(_r=>_r.props.value).join(";");return reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,Fe,reactExports.createElement($cc7e05a45900e73f$var$SelectProvider,{required:ke,scope:e,trigger:Me,onTriggerChange:De,valueNode:Ue,onValueNodeChange:ze,valueNodeHasChildren:We,onValueNodeHasChildrenChange:Ye,contentId:$1746a345f3d73bb7$export$f680877a34711e37(),value:Ke,onValueChange:rr,open:ir,onOpenChange:Qe,dir:Xe,triggerPointerDownPosRef:cr,disabled:Oe},reactExports.createElement($cc7e05a45900e73f$var$Collection.Provider,{scope:e},reactExports.createElement($cc7e05a45900e73f$var$SelectNativeOptionsProvider,{scope:t.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(_r=>{sr(Er=>new Set(Er).add(_r))},[]),onNativeOptionRemove:reactExports.useCallback(_r=>{sr(Er=>{const yr=new Set(Er);return yr.delete(_r),yr})},[])},xe)),Ze?reactExports.createElement($cc7e05a45900e73f$var$BubbleSelect,{key:fr,"aria-hidden":!0,required:ke,tabIndex:-1,name:Ie,autoComplete:je,value:Ke,onChange:_r=>rr(_r.target.value),disabled:Oe},Ke===void 0?reactExports.createElement("option",{value:""}):null,Array.from(er)):null))},$cc7e05a45900e73f$var$TRIGGER_NAME="SelectTrigger",$cc7e05a45900e73f$export$3ac1e88a1c0b9f1=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,disabled:_e=!1,...Ee}=t,Se=$cc7e05a45900e73f$var$usePopperScope(xe),Ae=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$TRIGGER_NAME,xe),Re=Ae.disabled||_e,Pe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ae.onTriggerChange),Te=$cc7e05a45900e73f$var$useCollection(xe),[Ie,je,Oe]=$cc7e05a45900e73f$var$useTypeaheadSearch(Fe=>{const Me=Te().filter(ze=>!ze.disabled),De=Me.find(ze=>ze.value===Ae.value),Ue=$cc7e05a45900e73f$var$findNextItem(Me,Fe,De);Ue!==void 0&&Ae.onValueChange(Ue.value)}),ke=()=>{Re||(Ae.onOpenChange(!0),Oe())};return reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$t({asChild:!0},Se),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$t({type:"button",role:"combobox","aria-controls":Ae.contentId,"aria-expanded":Ae.open,"aria-required":Ae.required,"aria-autocomplete":"none",dir:Ae.dir,"data-state":Ae.open?"open":"closed",disabled:Re,"data-disabled":Re?"":void 0,"data-placeholder":$cc7e05a45900e73f$var$shouldShowPlaceholder(Ae.value)?"":void 0},Ee,{ref:Pe,onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ee.onClick,Fe=>{Fe.currentTarget.focus()}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ee.onPointerDown,Fe=>{const Me=Fe.target;Me.hasPointerCapture(Fe.pointerId)&&Me.releasePointerCapture(Fe.pointerId),Fe.button===0&&Fe.ctrlKey===!1&&(ke(),Ae.triggerPointerDownPosRef.current={x:Math.round(Fe.pageX),y:Math.round(Fe.pageY)},Fe.preventDefault())}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ee.onKeyDown,Fe=>{const Me=Ie.current!=="";!(Fe.ctrlKey||Fe.altKey||Fe.metaKey)&&Fe.key.length===1&&je(Fe.key),!(Me&&Fe.key===" ")&&$cc7e05a45900e73f$var$OPEN_KEYS.includes(Fe.key)&&(ke(),Fe.preventDefault())})})))}),$cc7e05a45900e73f$var$VALUE_NAME="SelectValue",$cc7e05a45900e73f$export$e288731fd71264f0=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,className:_e,style:Ee,children:Se,placeholder:Ae="",...Re}=t,Pe=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$VALUE_NAME,xe),{onValueNodeHasChildrenChange:Te}=Pe,Ie=Se!==void 0,je=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Pe.onValueNodeChange);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{Te(Ie)},[Te,Ie]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$t({},Re,{ref:je,style:{pointerEvents:"none"}}),$cc7e05a45900e73f$var$shouldShowPlaceholder(Pe.value)?reactExports.createElement(reactExports.Fragment,null,Ae):Se)}),$cc7e05a45900e73f$export$99b400cabb58c515=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,children:_e,...Ee}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$t({"aria-hidden":!0},Ee,{ref:e}),_e||"")}),$cc7e05a45900e73f$export$b2af6c9944296213=t=>reactExports.createElement($f1701beae083dbae$export$602eac185826482c,_extends$t({asChild:!0},t)),$cc7e05a45900e73f$var$CONTENT_NAME="SelectContent",$cc7e05a45900e73f$export$c973a4b3cb86a03d=reactExports.forwardRef((t,e)=>{const xe=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,t.__scopeSelect),[_e,Ee]=reactExports.useState();if($9f79659886946c16$export$e5c5a5f917a5871c(()=>{Ee(new DocumentFragment)},[]),!xe.open){const Se=_e;return Se?reactDomExports.createPortal(reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:t.__scopeSelect},reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:t.__scopeSelect},reactExports.createElement("div",null,t.children))),Se):null}return reactExports.createElement($cc7e05a45900e73f$var$SelectContentImpl,_extends$t({},t,{ref:e}))}),$cc7e05a45900e73f$var$CONTENT_MARGIN=10,[$cc7e05a45900e73f$var$SelectContentProvider,$cc7e05a45900e73f$var$useSelectContentContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME),$cc7e05a45900e73f$var$SelectContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,position:_e="item-aligned",onCloseAutoFocus:Ee,onEscapeKeyDown:Se,onPointerDownOutside:Ae,side:Re,sideOffset:Pe,align:Te,alignOffset:Ie,arrowPadding:je,collisionBoundary:Oe,collisionPadding:ke,sticky:Fe,hideWhenDetached:Me,avoidCollisions:De,...Ue}=t,ze=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,xe),[We,Ye]=reactExports.useState(null),[Xe,ir]=reactExports.useState(null),Qe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Mr=>Ye(Mr)),[Ke,rr]=reactExports.useState(null),[cr,Ze]=reactExports.useState(null),er=$cc7e05a45900e73f$var$useCollection(xe),[sr,fr]=reactExports.useState(!1),_r=reactExports.useRef(!1);reactExports.useEffect(()=>{if(We)return hideOthers(We)},[We]),$3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();const Er=reactExports.useCallback(Mr=>{const[Vr,...Or]=er().map(Fr=>Fr.ref.current),[Xr]=Or.slice(-1),Qr=document.activeElement;for(const Fr of Mr)if(Fr===Qr||(Fr==null||Fr.scrollIntoView({block:"nearest"}),Fr===Vr&&Xe&&(Xe.scrollTop=0),Fr===Xr&&Xe&&(Xe.scrollTop=Xe.scrollHeight),Fr==null||Fr.focus(),document.activeElement!==Qr))return},[er,Xe]),yr=reactExports.useCallback(()=>Er([Ke,We]),[Er,Ke,We]);reactExports.useEffect(()=>{sr&&yr()},[sr,yr]);const{onOpenChange:mr,triggerPointerDownPosRef:Pr}=ze;reactExports.useEffect(()=>{if(We){let Mr={x:0,y:0};const Vr=Xr=>{var Qr,Fr,xn,An;Mr={x:Math.abs(Math.round(Xr.pageX)-((Qr=(Fr=Pr.current)===null||Fr===void 0?void 0:Fr.x)!==null&&Qr!==void 0?Qr:0)),y:Math.abs(Math.round(Xr.pageY)-((xn=(An=Pr.current)===null||An===void 0?void 0:An.y)!==null&&xn!==void 0?xn:0))}},Or=Xr=>{Mr.x<=10&&Mr.y<=10?Xr.preventDefault():We.contains(Xr.target)||mr(!1),document.removeEventListener("pointermove",Vr),Pr.current=null};return Pr.current!==null&&(document.addEventListener("pointermove",Vr),document.addEventListener("pointerup",Or,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Vr),document.removeEventListener("pointerup",Or,{capture:!0})}}},[We,mr,Pr]),reactExports.useEffect(()=>{const Mr=()=>mr(!1);return window.addEventListener("blur",Mr),window.addEventListener("resize",Mr),()=>{window.removeEventListener("blur",Mr),window.removeEventListener("resize",Mr)}},[mr]);const[Cr,wr]=$cc7e05a45900e73f$var$useTypeaheadSearch(Mr=>{const Vr=er().filter(Qr=>!Qr.disabled),Or=Vr.find(Qr=>Qr.ref.current===document.activeElement),Xr=$cc7e05a45900e73f$var$findNextItem(Vr,Mr,Or);Xr&&setTimeout(()=>Xr.ref.current.focus())}),or=reactExports.useCallback((Mr,Vr,Or)=>{const Xr=!_r.current&&!Or;(ze.value!==void 0&&ze.value===Vr||Xr)&&(rr(Mr),Xr&&(_r.current=!0))},[ze.value]),hr=reactExports.useCallback(()=>We==null?void 0:We.focus(),[We]),br=reactExports.useCallback((Mr,Vr,Or)=>{const Xr=!_r.current&&!Or;(ze.value!==void 0&&ze.value===Vr||Xr)&&Ze(Mr)},[ze.value]),Ir=_e==="popper"?$cc7e05a45900e73f$var$SelectPopperPosition:$cc7e05a45900e73f$var$SelectItemAlignedPosition,jr=Ir===$cc7e05a45900e73f$var$SelectPopperPosition?{side:Re,sideOffset:Pe,align:Te,alignOffset:Ie,arrowPadding:je,collisionBoundary:Oe,collisionPadding:ke,sticky:Fe,hideWhenDetached:Me,avoidCollisions:De}:{};return reactExports.createElement($cc7e05a45900e73f$var$SelectContentProvider,{scope:xe,content:We,viewport:Xe,onViewportChange:ir,itemRefCallback:or,selectedItem:Ke,onItemLeave:hr,itemTextRefCallback:br,focusSelectedItem:yr,selectedItemText:cr,position:_e,isPositioned:sr,searchRef:Cr},reactExports.createElement(ReactRemoveScroll,{as:$5e63c961fc1ce211$export$8c6ed5c666ac1360,allowPinchZoom:!0},reactExports.createElement($d3863c46a17e8a28$export$20e40289641fbbb6,{asChild:!0,trapped:ze.open,onMountAutoFocus:Mr=>{Mr.preventDefault()},onUnmountAutoFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ee,Mr=>{var Vr;(Vr=ze.trigger)===null||Vr===void 0||Vr.focus({preventScroll:!0}),Mr.preventDefault()})},reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:Se,onPointerDownOutside:Ae,onFocusOutside:Mr=>Mr.preventDefault(),onDismiss:()=>ze.onOpenChange(!1)},reactExports.createElement(Ir,_extends$t({role:"listbox",id:ze.contentId,"data-state":ze.open?"open":"closed",dir:ze.dir,onContextMenu:Mr=>Mr.preventDefault()},Ue,jr,{onPlaced:()=>fr(!0),ref:Qe,style:{display:"flex",flexDirection:"column",outline:"none",...Ue.style},onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ue.onKeyDown,Mr=>{const Vr=Mr.ctrlKey||Mr.altKey||Mr.metaKey;if(Mr.key==="Tab"&&Mr.preventDefault(),!Vr&&Mr.key.length===1&&wr(Mr.key),["ArrowUp","ArrowDown","Home","End"].includes(Mr.key)){let Xr=er().filter(Qr=>!Qr.disabled).map(Qr=>Qr.ref.current);if(["ArrowUp","End"].includes(Mr.key)&&(Xr=Xr.slice().reverse()),["ArrowUp","ArrowDown"].includes(Mr.key)){const Qr=Mr.target,Fr=Xr.indexOf(Qr);Xr=Xr.slice(Fr+1)}setTimeout(()=>Er(Xr)),Mr.preventDefault()}})}))))))}),$cc7e05a45900e73f$var$SelectItemAlignedPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,onPlaced:_e,...Ee}=t,Se=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,xe),Ae=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$CONTENT_NAME,xe),[Re,Pe]=reactExports.useState(null),[Te,Ie]=reactExports.useState(null),je=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Qe=>Ie(Qe)),Oe=$cc7e05a45900e73f$var$useCollection(xe),ke=reactExports.useRef(!1),Fe=reactExports.useRef(!0),{viewport:Me,selectedItem:De,selectedItemText:Ue,focusSelectedItem:ze}=Ae,We=reactExports.useCallback(()=>{if(Se.trigger&&Se.valueNode&&Re&&Te&&Me&&De&&Ue){const Qe=Se.trigger.getBoundingClientRect(),Ke=Te.getBoundingClientRect(),rr=Se.valueNode.getBoundingClientRect(),cr=Ue.getBoundingClientRect();if(Se.dir!=="rtl"){const Qr=cr.left-Ke.left,Fr=rr.left-Qr,xn=Qe.left-Fr,An=Qe.width+xn,un=Math.max(An,Ke.width),Nr=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,Bn=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(Fr,[$cc7e05a45900e73f$var$CONTENT_MARGIN,Nr-un]);Re.style.minWidth=An+"px",Re.style.left=Bn+"px"}else{const Qr=Ke.right-cr.right,Fr=window.innerWidth-rr.right-Qr,xn=window.innerWidth-Qe.right-Fr,An=Qe.width+xn,un=Math.max(An,Ke.width),Nr=window.innerWidth-$cc7e05a45900e73f$var$CONTENT_MARGIN,Bn=$ae6933e535247d3d$export$7d15b64cf5a3a4c4(Fr,[$cc7e05a45900e73f$var$CONTENT_MARGIN,Nr-un]);Re.style.minWidth=An+"px",Re.style.right=Bn+"px"}const Ze=Oe(),er=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,sr=Me.scrollHeight,fr=window.getComputedStyle(Te),_r=parseInt(fr.borderTopWidth,10),Er=parseInt(fr.paddingTop,10),yr=parseInt(fr.borderBottomWidth,10),mr=parseInt(fr.paddingBottom,10),Pr=_r+Er+sr+mr+yr,Cr=Math.min(De.offsetHeight*5,Pr),wr=window.getComputedStyle(Me),or=parseInt(wr.paddingTop,10),hr=parseInt(wr.paddingBottom,10),br=Qe.top+Qe.height/2-$cc7e05a45900e73f$var$CONTENT_MARGIN,Ir=er-br,jr=De.offsetHeight/2,Mr=De.offsetTop+jr,Vr=_r+Er+Mr,Or=Pr-Vr;if(Vr<=br){const Qr=De===Ze[Ze.length-1].ref.current;Re.style.bottom="0px";const Fr=Te.clientHeight-Me.offsetTop-Me.offsetHeight,xn=Math.max(Ir,jr+(Qr?hr:0)+Fr+yr),An=Vr+xn;Re.style.height=An+"px"}else{const Qr=De===Ze[0].ref.current;Re.style.top="0px";const xn=Math.max(br,_r+Me.offsetTop+(Qr?or:0)+jr)+Or;Re.style.height=xn+"px",Me.scrollTop=Vr-br+Me.offsetTop}Re.style.margin=`${$cc7e05a45900e73f$var$CONTENT_MARGIN}px 0`,Re.style.minHeight=Cr+"px",Re.style.maxHeight=er+"px",_e==null||_e(),requestAnimationFrame(()=>ke.current=!0)}},[Oe,Se.trigger,Se.valueNode,Re,Te,Me,De,Ue,Se.dir,_e]);$9f79659886946c16$export$e5c5a5f917a5871c(()=>We(),[We]);const[Ye,Xe]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Te&&Xe(window.getComputedStyle(Te).zIndex)},[Te]);const ir=reactExports.useCallback(Qe=>{Qe&&Fe.current===!0&&(We(),ze==null||ze(),Fe.current=!1)},[We,ze]);return reactExports.createElement($cc7e05a45900e73f$var$SelectViewportProvider,{scope:xe,contentWrapper:Re,shouldExpandOnScrollRef:ke,onScrollButtonChange:ir},reactExports.createElement("div",{ref:Pe,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Ye}},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({},Ee,{ref:je,style:{boxSizing:"border-box",maxHeight:"100%",...Ee.style}}))))}),$cc7e05a45900e73f$var$SelectPopperPosition=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,align:_e="start",collisionPadding:Ee=$cc7e05a45900e73f$var$CONTENT_MARGIN,...Se}=t,Ae=$cc7e05a45900e73f$var$usePopperScope(xe);return reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$t({},Ae,Se,{ref:e,align:_e,collisionPadding:Ee,style:{boxSizing:"border-box",...Se.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[$cc7e05a45900e73f$var$SelectViewportProvider,$cc7e05a45900e73f$var$useSelectViewportContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$CONTENT_NAME,{}),$cc7e05a45900e73f$var$VIEWPORT_NAME="SelectViewport",$cc7e05a45900e73f$export$9ed6e7b40248d36d=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,..._e}=t,Ee=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$VIEWPORT_NAME,xe),Se=$cc7e05a45900e73f$var$useSelectViewportContext($cc7e05a45900e73f$var$VIEWPORT_NAME,xe),Ae=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ee.onViewportChange),Re=reactExports.useRef(0);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),reactExports.createElement($cc7e05a45900e73f$var$Collection.Slot,{scope:xe},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({"data-radix-select-viewport":"",role:"presentation"},_e,{ref:Ae,style:{position:"relative",flex:1,overflow:"auto",..._e.style},onScroll:$e42e1063c40fb3ef$export$b9ecd428b558ff10(_e.onScroll,Pe=>{const Te=Pe.currentTarget,{contentWrapper:Ie,shouldExpandOnScrollRef:je}=Se;if(je!=null&&je.current&&Ie){const Oe=Math.abs(Re.current-Te.scrollTop);if(Oe>0){const ke=window.innerHeight-$cc7e05a45900e73f$var$CONTENT_MARGIN*2,Fe=parseFloat(Ie.style.minHeight),Me=parseFloat(Ie.style.height),De=Math.max(Fe,Me);if(De<ke){const Ue=De+Oe,ze=Math.min(ke,Ue),We=Ue-ze;Ie.style.height=ze+"px",Ie.style.bottom==="0px"&&(Te.scrollTop=We>0?We:0,Ie.style.justifyContent="flex-end")}}}Re.current=Te.scrollTop})}))))}),$cc7e05a45900e73f$var$GROUP_NAME="SelectGroup",[$cc7e05a45900e73f$var$SelectGroupContextProvider,$cc7e05a45900e73f$var$useSelectGroupContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$GROUP_NAME),$cc7e05a45900e73f$var$LABEL_NAME="SelectLabel",$cc7e05a45900e73f$export$f67338d29bd972f8=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,..._e}=t,Ee=$cc7e05a45900e73f$var$useSelectGroupContext($cc7e05a45900e73f$var$LABEL_NAME,xe);return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({id:Ee.id},_e,{ref:e}))}),$cc7e05a45900e73f$var$ITEM_NAME="SelectItem",[$cc7e05a45900e73f$var$SelectItemContextProvider,$cc7e05a45900e73f$var$useSelectItemContext]=$cc7e05a45900e73f$var$createSelectContext($cc7e05a45900e73f$var$ITEM_NAME),$cc7e05a45900e73f$export$13ef48a934230896=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,value:_e,disabled:Ee=!1,textValue:Se,...Ae}=t,Re=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_NAME,xe),Pe=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_NAME,xe),Te=Re.value===_e,[Ie,je]=reactExports.useState(Se??""),[Oe,ke]=reactExports.useState(!1),Fe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ue=>{var ze;return(ze=Pe.itemRefCallback)===null||ze===void 0?void 0:ze.call(Pe,Ue,_e,Ee)}),Me=$1746a345f3d73bb7$export$f680877a34711e37(),De=()=>{Ee||(Re.onValueChange(_e),Re.onOpenChange(!1))};if(_e==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return reactExports.createElement($cc7e05a45900e73f$var$SelectItemContextProvider,{scope:xe,value:_e,disabled:Ee,textId:Me,isSelected:Te,onItemTextChange:reactExports.useCallback(Ue=>{je(ze=>{var We;return ze||((We=Ue==null?void 0:Ue.textContent)!==null&&We!==void 0?We:"").trim()})},[])},reactExports.createElement($cc7e05a45900e73f$var$Collection.ItemSlot,{scope:xe,value:_e,disabled:Ee,textValue:Ie},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({role:"option","aria-labelledby":Me,"data-highlighted":Oe?"":void 0,"aria-selected":Te&&Oe,"data-state":Te?"checked":"unchecked","aria-disabled":Ee||void 0,"data-disabled":Ee?"":void 0,tabIndex:Ee?void 0:-1},Ae,{ref:Fe,onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onFocus,()=>ke(!0)),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onBlur,()=>ke(!1)),onPointerUp:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onPointerUp,De),onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onPointerMove,Ue=>{if(Ee){var ze;(ze=Pe.onItemLeave)===null||ze===void 0||ze.call(Pe)}else Ue.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onPointerLeave,Ue=>{if(Ue.currentTarget===document.activeElement){var ze;(ze=Pe.onItemLeave)===null||ze===void 0||ze.call(Pe)}}),onKeyDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(Ae.onKeyDown,Ue=>{var ze;((ze=Pe.searchRef)===null||ze===void 0?void 0:ze.current)!==""&&Ue.key===" "||($cc7e05a45900e73f$var$SELECTION_KEYS.includes(Ue.key)&&De(),Ue.key===" "&&Ue.preventDefault())})}))))}),$cc7e05a45900e73f$var$ITEM_TEXT_NAME="SelectItemText",$cc7e05a45900e73f$export$3572fb0fb821ff49=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,className:_e,style:Ee,...Se}=t,Ae=$cc7e05a45900e73f$var$useSelectContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,xe),Re=$cc7e05a45900e73f$var$useSelectContentContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,xe),Pe=$cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,xe),Te=$cc7e05a45900e73f$var$useSelectNativeOptionsContext($cc7e05a45900e73f$var$ITEM_TEXT_NAME,xe),[Ie,je]=reactExports.useState(null),Oe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ue=>je(Ue),Pe.onItemTextChange,Ue=>{var ze;return(ze=Re.itemTextRefCallback)===null||ze===void 0?void 0:ze.call(Re,Ue,Pe.value,Pe.disabled)}),ke=Ie==null?void 0:Ie.textContent,Fe=reactExports.useMemo(()=>reactExports.createElement("option",{key:Pe.value,value:Pe.value,disabled:Pe.disabled},ke),[Pe.disabled,Pe.value,ke]),{onNativeOptionAdd:Me,onNativeOptionRemove:De}=Te;return $9f79659886946c16$export$e5c5a5f917a5871c(()=>(Me(Fe),()=>De(Fe)),[Me,De,Fe]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$t({id:Pe.textId},Se,{ref:Oe})),Pe.isSelected&&Ae.valueNode&&!Ae.valueNodeHasChildren?reactDomExports.createPortal(Se.children,Ae.valueNode):null)}),$cc7e05a45900e73f$var$ITEM_INDICATOR_NAME="SelectItemIndicator",$cc7e05a45900e73f$export$6b9198de19accfe6=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,..._e}=t;return $cc7e05a45900e73f$var$useSelectItemContext($cc7e05a45900e73f$var$ITEM_INDICATOR_NAME,xe).isSelected?reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$t({"aria-hidden":!0},_e,{ref:e})):null}),$cc7e05a45900e73f$export$eba4b1df07cb1d3=reactExports.forwardRef((t,e)=>{const{__scopeSelect:xe,..._e}=t;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$t({"aria-hidden":!0},_e,{ref:e}))});function $cc7e05a45900e73f$var$shouldShowPlaceholder(t){return t===""||t===void 0}const $cc7e05a45900e73f$var$BubbleSelect=reactExports.forwardRef((t,e)=>{const{value:xe,..._e}=t,Ee=reactExports.useRef(null),Se=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(e,Ee),Ae=$010c2913dbd2fe3d$export$5cae361ad82dce8b(xe);return reactExports.useEffect(()=>{const Re=Ee.current,Pe=window.HTMLSelectElement.prototype,Ie=Object.getOwnPropertyDescriptor(Pe,"value").set;if(Ae!==xe&&Ie){const je=new Event("change",{bubbles:!0});Ie.call(Re,xe),Re.dispatchEvent(je)}},[Ae,xe]),reactExports.createElement($ea1ef594cf570d83$export$439d29a4e110a164,{asChild:!0},reactExports.createElement("select",_extends$t({},_e,{ref:Se,defaultValue:xe})))});$cc7e05a45900e73f$var$BubbleSelect.displayName="BubbleSelect";function $cc7e05a45900e73f$var$useTypeaheadSearch(t){const e=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(t),xe=reactExports.useRef(""),_e=reactExports.useRef(0),Ee=reactExports.useCallback(Ae=>{const Re=xe.current+Ae;e(Re),function Pe(Te){xe.current=Te,window.clearTimeout(_e.current),Te!==""&&(_e.current=window.setTimeout(()=>Pe(""),1e3))}(Re)},[e]),Se=reactExports.useCallback(()=>{xe.current="",window.clearTimeout(_e.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(_e.current),[]),[xe,Ee,Se]}function $cc7e05a45900e73f$var$findNextItem(t,e,xe){const Ee=e.length>1&&Array.from(e).every(Te=>Te===e[0])?e[0]:e,Se=xe?t.indexOf(xe):-1;let Ae=$cc7e05a45900e73f$var$wrapArray(t,Math.max(Se,0));Ee.length===1&&(Ae=Ae.filter(Te=>Te!==xe));const Pe=Ae.find(Te=>Te.textValue.toLowerCase().startsWith(Ee.toLowerCase()));return Pe!==xe?Pe:void 0}function $cc7e05a45900e73f$var$wrapArray(t,e){return t.map((xe,_e)=>t[(e+_e)%t.length])}const $cc7e05a45900e73f$export$be92b6f5f03c0fe9=$cc7e05a45900e73f$export$ef9b1a59e592288f,$cc7e05a45900e73f$export$41fb9f06171c75f4=$cc7e05a45900e73f$export$3ac1e88a1c0b9f1,$cc7e05a45900e73f$export$4c8d1a57a761ef94=$cc7e05a45900e73f$export$e288731fd71264f0,$cc7e05a45900e73f$export$f04a61298a47a40f=$cc7e05a45900e73f$export$99b400cabb58c515,$cc7e05a45900e73f$export$602eac185826482c=$cc7e05a45900e73f$export$b2af6c9944296213,$cc7e05a45900e73f$export$7c6e2c02157bb7d2=$cc7e05a45900e73f$export$c973a4b3cb86a03d,$cc7e05a45900e73f$export$d5c6c08dc2d3ca7=$cc7e05a45900e73f$export$9ed6e7b40248d36d,$cc7e05a45900e73f$export$b04be29aa201d4f5=$cc7e05a45900e73f$export$f67338d29bd972f8,$cc7e05a45900e73f$export$6d08773d2e66f8f2=$cc7e05a45900e73f$export$13ef48a934230896,$cc7e05a45900e73f$export$d6e5bf9c43ea9319=$cc7e05a45900e73f$export$3572fb0fb821ff49,$cc7e05a45900e73f$export$c3468e2714d175fa=$cc7e05a45900e73f$export$6b9198de19accfe6,$cc7e05a45900e73f$export$1ff3c3f08ae963c0=$cc7e05a45900e73f$export$eba4b1df07cb1d3,Select=$cc7e05a45900e73f$export$be92b6f5f03c0fe9,SelectValue=$cc7e05a45900e73f$export$4c8d1a57a761ef94,SelectTrigger=React.forwardRef(({className:t,children:e,...xe},_e)=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$41fb9f06171c75f4,{ref:_e,className:cn$1("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...xe,children:[e,jsxRuntimeExports.jsx($cc7e05a45900e73f$export$f04a61298a47a40f,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=$cc7e05a45900e73f$export$41fb9f06171c75f4.displayName;const SelectContent=React.forwardRef(({className:t,children:e,position:xe="popper",..._e},Ee)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$602eac185826482c,{children:jsxRuntimeExports.jsx($cc7e05a45900e73f$export$7c6e2c02157bb7d2,{ref:Ee,className:cn$1("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",xe==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:xe,..._e,children:jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d5c6c08dc2d3ca7,{className:cn$1("p-1",xe==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));SelectContent.displayName=$cc7e05a45900e73f$export$7c6e2c02157bb7d2.displayName;const SelectLabel=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$b04be29aa201d4f5,{ref:xe,className:cn$1("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));SelectLabel.displayName=$cc7e05a45900e73f$export$b04be29aa201d4f5.displayName;const SelectItem=React.forwardRef(({className:t,children:e,...xe},_e)=>jsxRuntimeExports.jsxs($cc7e05a45900e73f$export$6d08773d2e66f8f2,{ref:_e,className:cn$1("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...xe,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx($cc7e05a45900e73f$export$c3468e2714d175fa,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx($cc7e05a45900e73f$export$d6e5bf9c43ea9319,{children:e})]}));SelectItem.displayName=$cc7e05a45900e73f$export$6d08773d2e66f8f2.displayName;const SelectSeparator=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx($cc7e05a45900e73f$export$1ff3c3f08ae963c0,{ref:xe,className:cn$1("-mx-1 my-1 h-px bg-muted",t),...e}));SelectSeparator.displayName=$cc7e05a45900e73f$export$1ff3c3f08ae963c0.displayName;function Modal({open:t,onClose:e,title:xe,children:_e}){const Ee=reactExports.useRef(null);return reactExports.useEffect(()=>{var Re;if(!t)return;const Se=(Re=Ee.current)==null?void 0:Re.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');Se&&Se.length&&Se[0].focus();const Ae=Pe=>{Pe.key==="Escape"&&e()};return document.addEventListener("keydown",Ae),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",Ae),document.body.style.overflow=""}},[t,e]),reactExports.useEffect(()=>{if(!t)return;const Se=Ae=>{Ee.current&&!Ee.current.contains(Ae.target)&&e()};return document.addEventListener("mousedown",Se),()=>document.removeEventListener("mousedown",Se)},[t,e]),t?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{ref:Ee,className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full relative animate-pop-in",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold focus:outline-none","aria-label":"Close",children:""}),jsxRuntimeExports.jsx("h2",{id:"modal-title",className:"text-2xl font-bold mb-4 text-smartSchool-blue",children:xe}),jsxRuntimeExports.jsx("div",{children:_e})]})}):null}const gradeLevels=["Pre-K","K","1","2","3","4","5","6","7","8","9","10","11","12"],ParentDashboardPage=()=>{const{user:t,addStudent:e,getStudents:xe,updateStudent:_e,deleteStudent:Ee}=useAuth(),{toast:Se}=useToast(),[Ae,Re]=reactExports.useState([]),[Pe,Te]=reactExports.useState(!1),[Ie,je]=reactExports.useState(null),[Oe,ke]=reactExports.useState(""),[Fe,Me]=reactExports.useState(""),[De,Ue]=reactExports.useState(""),[ze,We]=reactExports.useState({}),[Ye,Xe]=reactExports.useState(!1),[ir,Qe]=reactExports.useState(""),[Ke,rr]=reactExports.useState(null),[cr,Ze]=reactExports.useState(!1);reactExports.useEffect(()=>{t&&t.role==="parent"&&Re(xe())},[t,xe]),reactExports.useEffect(()=>{async function or(){const hr={};for(const br of Ae)try{const Ir=await fetch(`${API_BASE$1}/api/dashboard-analytics?userId=${br.id}`);Ir.ok&&(hr[br.id]=await Ir.json())}catch{hr[br.id]={error:"Failed to load analytics"}}We(hr)}Ae.length>0&&or()},[Ae]);const er=or=>{if(or.preventDefault(),!Oe||!Fe){Se({variant:"destructive",title:"Missing Fields",description:"Please provide student name and grade."});return}const hr={name:Oe,gradeLevel:Fe,emojiPin:De||fr()};let br;Ie?(br=_e({...Ie,...hr}),br&&Se({title:"Student Updated!",description:`${Oe} has been updated.`})):(br=e(hr),br&&Se({title:"Student Added!",description:`${Oe} has been added to your family.`})),br?(Re(xe()),sr(),Ze(!0)):Se({variant:"destructive",title:"Error",description:"Could not save student. Please try again."})},sr=()=>{ke(""),Me(""),Ue(""),Te(!1),je(null)},fr=()=>{const or=["","","","","","","",""];let hr="";for(let br=0;br<4;br++)hr+=or[Math.floor(Math.random()*or.length)];return hr},_r=or=>{je(or),ke(or.name),Me(or.gradeLevel),Ue(or.emojiPin),Te(!0)},Er=or=>{Ee(or)?(Se({title:"Student Removed",description:"The student has been removed from your account."}),Re(xe())):Se({variant:"destructive",title:"Error",description:"Could not remove student."})},yr=(or,hr)=>{var jr,Mr,Vr,Or,Xr,Qr;const br=(Mr=(jr=ze[or.id])==null?void 0:jr.interventionSummary)==null?void 0:Mr.find(Fr=>Fr.topic===hr),Ir=((Xr=(Or=(Vr=ze[or.id])==null?void 0:Vr.raw)==null?void 0:Or.mastery_history)==null?void 0:Xr[hr])||[];Qe(`${or.name}  ${hr} Details`),rr(jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Mastery:"})," ",(br==null?void 0:br.mastery)??"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Velocity:"})," ",(Qr=br==null?void 0:br.velocity)!=null&&Qr.toFixed?br.velocity.toFixed(2):(br==null?void 0:br.velocity)??"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Intervention:"})," ",(br==null?void 0:br.intervention)??"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("strong",{children:"Recent Progress:"}),Ir.length>0?jsxRuntimeExports.jsx("ul",{className:"list-disc ml-6 mt-1",children:Ir.slice(-5).map((Fr,xn)=>jsxRuntimeExports.jsxs("li",{children:["Score: ",Fr.score,", Date: ",new Date(Fr.timestamp).toLocaleDateString()]},xn))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No recent progress data."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("strong",{children:"Suggested Actions:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-6",children:[(br==null?void 0:br.intervention)==="remediation"&&jsxRuntimeExports.jsx("li",{children:"Review previous lessons and practice more on this topic."}),(br==null?void 0:br.intervention)==="enrichment"&&jsxRuntimeExports.jsx("li",{children:"Try advanced or enrichment activities for this topic!"}),(br==null?void 0:br.intervention)==="regular"&&jsxRuntimeExports.jsx("li",{children:"Continue steady practice and move to the next topic soon."})]})]})]})),Xe(!0)},mr=()=>{const or=Ae.map(jr=>({name:jr.name,grade:jr.gradeLevel,analytics:ze[jr.id]||{}})),hr=new Blob([JSON.stringify(or,null,2)],{type:"application/json"}),br=URL.createObjectURL(hr),Ir=document.createElement("a");Ir.href=br,Ir.download=`SmartSchool-Reports-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Ir),Ir.click(),document.body.removeChild(Ir),URL.revokeObjectURL(br)},Pr=()=>{if(!Ae.length)return null;let or=0,hr=0,br=0;return Ae.forEach(Ir=>{var Mr;(((Mr=ze[Ir.id])==null?void 0:Mr.interventionSummary)||[]).forEach(Vr=>{Vr.intervention==="remediation"?or++:Vr.intervention==="enrichment"?hr++:br++})}),jsxRuntimeExports.jsxs(motion.div,{className:"flex flex-wrap gap-4 items-center justify-center mb-8 mt-8 animate-fade-in",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"rounded-xl px-4 py-2 font-extrabold shadow border-2 border-red-300 bg-white text-red-600 text-base",style:{minWidth:"140px"},children:[jsxRuntimeExports.jsx("span",{className:"text-lg align-middle font-extrabold mr-1",children:or})," ",jsxRuntimeExports.jsx("span",{className:"align-middle font-bold",children:"Remediation Needed"})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"rounded-xl px-4 py-2 font-extrabold shadow border-2 border-green-300 bg-white text-green-700 text-base",style:{minWidth:"140px"},children:[jsxRuntimeExports.jsx("span",{className:"text-lg align-middle font-extrabold mr-1",children:hr})," ",jsxRuntimeExports.jsx("span",{className:"align-middle font-bold",children:"Enrichment Opportunities"})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"rounded-xl px-4 py-2 font-extrabold shadow border-2 border-blue-300 bg-white text-blue-700 text-base",style:{minWidth:"120px"},children:[jsxRuntimeExports.jsx("span",{className:"text-lg align-middle font-extrabold mr-1",children:br})," ",jsxRuntimeExports.jsx("span",{className:"align-middle font-bold",children:"On Track"})]})]})};if(reactExports.useEffect(()=>{if(cr){const or=setTimeout(()=>Ze(!1),2e3);return()=>clearTimeout(or)}},[cr]),!t||t.role!=="parent")return jsxRuntimeExports.jsxs("div",{className:"text-center py-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold",children:"Access Denied"}),jsxRuntimeExports.jsx("p",{children:"You must be logged in as a parent to view this page."})]});const Cr={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},wr={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return jsxRuntimeExports.jsxs(motion.div,{className:"space-y-8 bg-white min-h-screen",initial:"hidden",animate:"visible",variants:Cr,children:[cr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 animate-fade-in",children:jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full flex flex-wrap justify-center items-start",children:[...Array(30)].map((or,hr)=>jsxRuntimeExports.jsx("span",{style:{fontSize:"2rem",position:"absolute",left:`${Math.random()*100}%`,top:`${Math.random()*80}%`,transition:"all 2s",opacity:.8},children:["","","","","","","",""][hr%8]},hr))})}),Pr(),jsxRuntimeExports.jsxs(motion.section,{variants:wr,children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-smartSchool-blue mb-2",children:"Parent Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"Manage your students, view progress, and access learning resources."})]}),jsxRuntimeExports.jsxs(motion.div,{variants:wr,children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>{Te(!Pe),je(null),Pe&&sr()},className:"mb-6 bg-smartSchool-yellow hover:bg-smartSchool-yellow/90 text-smartSchool-blue font-semibold text-lg py-3 px-6 rounded-xl",children:[jsxRuntimeExports.jsx(PlusCircle,{size:22,className:"mr-2"})," ",Pe?Ie?"Cancel Edit":"Cancel Adding":"Add New Student"]}),Pe&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:jsxRuntimeExports.jsxs(Card,{className:"mb-8 shadow-lg rounded-2xl border-smartSchool-yellow/50",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-smartSchool-yellow",children:Ie?"Edit Student Details":"Add a New Student"}),jsxRuntimeExports.jsx(CardDescription,{children:Ie?`Update information for ${Ie.name}.`:"Enter the details for your new student."})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:er,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"studentName",className:"text-base",children:"Student's Full Name"}),jsxRuntimeExports.jsx(Input,{id:"studentName",value:Oe,onChange:or=>ke(or.target.value),placeholder:"e.g., Jamie Doe",className:"text-lg p-3 rounded-lg"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"studentGrade",className:"text-base",children:"Grade Level"}),jsxRuntimeExports.jsxs(Select,{value:Fe,onValueChange:Me,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full text-lg p-3 rounded-lg",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select grade"})}),jsxRuntimeExports.jsx(SelectContent,{children:gradeLevels.map(or=>jsxRuntimeExports.jsx(SelectItem,{value:or,children:or},or))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"studentEmojiPin",className:"text-base",children:"Emoji PIN (4 Emojis - e.g., )"}),jsxRuntimeExports.jsx(Input,{id:"studentEmojiPin",value:De,onChange:or=>Ue(or.target.value),placeholder:"Optional, or will be auto-generated",className:"text-lg p-3 rounded-lg"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"bg-smartSchool-blue hover:bg-smartSchool-blue/90 text-white font-semibold py-3 text-lg rounded-xl w-full",children:Ie?"Save Changes":"Add Student"})]})})]})})]}),jsxRuntimeExports.jsxs(motion.section,{variants:wr,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx(Users,{size:30,className:"text-smartSchool-red"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Your Students"})]}),Ae.length===0&&!Pe?jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:`You haven't added any students yet. Click "Add New Student" to get started!`}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(or=>jsxRuntimeExports.jsx(motion.div,{variants:wr,children:jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl hover:shadow-xl transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl text-smartSchool-blue",children:or.name}),jsxRuntimeExports.jsxs(CardDescription,{children:["Grade: ",or.gradeLevel," | PIN: ",or.emojiPin]})]}),jsxRuntimeExports.jsx(User$1,{size:36,className:"text-smartSchool-yellow"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"View progress, assign lessons, and more."}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-gray-200 rounded-full mb-2",children:jsxRuntimeExports.jsx("div",{className:"h-2 bg-green-500 rounded-full w-3/4"})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress: 75%"})]}),jsxRuntimeExports.jsxs(CardFooter,{className:"flex justify-between",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>_r(or),className:"rounded-lg border-smartSchool-blue text-smartSchool-blue hover:bg-smartSchool-blue/10",children:[jsxRuntimeExports.jsx(PenLine,{size:18,className:"mr-2"})," Edit"]}),jsxRuntimeExports.jsxs(Button,{variant:"destructive",onClick:()=>Er(or.id),className:"rounded-lg bg-smartSchool-red hover:bg-smartSchool-red/90",children:[jsxRuntimeExports.jsx(Trash2,{size:18,className:"mr-2"})," Delete"]})]})]})},or.id))})]}),jsxRuntimeExports.jsxs(motion.section,{variants:wr,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx(BarChart3,{size:30,className:"text-smartSchool-red"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Student Analytics"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:jsxRuntimeExports.jsx(Accordion,{type:"multiple",className:"w-full",children:Ae.map(or=>{var hr,br,Ir;return jsxRuntimeExports.jsxs(AccordionItem,{value:or.id,className:"mb-4",children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"rounded-lg bg-gray-50 hover:bg-yellow-50 px-4 py-2 text-lg font-semibold flex items-center",children:jsxRuntimeExports.jsxs("span",{children:[or.name," - Analytics"]})}),jsxRuntimeExports.jsx(AccordionContent,{className:"bg-white rounded-b-lg shadow-inner",children:jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl border border-yellow-100",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl text-smartSchool-blue flex items-center gap-2",children:[or.name," ",jsxRuntimeExports.jsxs("span",{className:"text-base text-gray-400",children:["(Grade ",or.gradeLevel,")"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:ze[or.id]?ze[or.id].error?jsxRuntimeExports.jsx("p",{className:"text-red-500",children:ze[or.id].error}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Strengths:"})," ",((hr=ze[or.id].strengths)==null?void 0:hr.join(", "))||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Gaps:"})," ",((br=ze[or.id].gaps)==null?void 0:br.join(", "))||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Learning Style:"})," ",ze[or.id].learningStyle||"N/A"]}),ze[or.id].interventionSummary&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("strong",{children:"Topic Interventions:"}),jsxRuntimeExports.jsxs("table",{className:"min-w-full text-xs mt-1 border",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsxs("th",{className:"px-2 py-1 text-left flex items-center gap-1",children:["Topic ",jsxRuntimeExports.jsx(Info,{size:14,title:"The subject area or skill."})]}),jsxRuntimeExports.jsxs("th",{className:"px-2 py-1 text-left flex items-center gap-1",children:["Mastery ",jsxRuntimeExports.jsx(Info,{size:14,title:"How well your child knows this topic (0-100)."})]}),jsxRuntimeExports.jsxs("th",{className:"px-2 py-1 text-left flex items-center gap-1",children:["Velocity ",jsxRuntimeExports.jsx(Info,{size:14,title:"How quickly your child is improving (slope)."})]}),jsxRuntimeExports.jsxs("th",{className:"px-2 py-1 text-left flex items-center gap-1",children:["Intervention ",jsxRuntimeExports.jsx(Info,{size:14,title:"Recommended action: Remediation, Enrichment, or Regular."})]}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 text-left",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:ze[or.id].interventionSummary.map(jr=>{var Mr;return jsxRuntimeExports.jsxs("tr",{className:jr.intervention==="remediation"?"bg-red-100":jr.intervention==="enrichment"?"bg-green-100":"",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1 font-medium",children:jr.topic}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:jr.mastery}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:(Mr=jr.velocity)!=null&&Mr.toFixed?jr.velocity.toFixed(2):jr.velocity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1 font-semibold",children:[jr.intervention==="remediation"&&jsxRuntimeExports.jsx("span",{className:"text-red-600",children:"Remediation"}),jr.intervention==="enrichment"&&jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Enrichment"}),jr.intervention==="regular"&&jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:"Regular"})]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1",children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>yr(or,jr.topic),className:"mr-2",children:"View Details"})})]},jr.topic)})})]})]}),((Ir=ze[or.id].interventions)==null?void 0:Ir.length)>0&&jsxRuntimeExports.jsxs("p",{className:"mt-2",children:[jsxRuntimeExports.jsx("strong",{children:"Suggested Interventions:"})," ",ze[or.id].interventions.map(jr=>typeof jr=="string"?jr:jr.intervention).join(", ")]})]}):jsxRuntimeExports.jsx("p",{children:"Loading analytics..."})})]})})]},or.id)})})})]}),jsxRuntimeExports.jsxs(motion.section,{variants:wr,className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(BookOpen,{size:28,className:"text-smartSchool-blue"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl",children:"Curriculum Overview"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Browse lessons by subject and grade level. (Coming Soon)"})}),jsxRuntimeExports.jsx(CardFooter,{children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"rounded-lg w-full",children:"Explore Curriculum"})})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(BarChart3,{size:28,className:"text-smartSchool-red"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-xl",children:"Progress Reports"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"View detailed weekly reports and download records. (Coming Soon)"})}),jsxRuntimeExports.jsx(CardFooter,{children:jsxRuntimeExports.jsxs(Button,{className:"bg-smartSchool-red hover:bg-smartSchool-red/90 text-white rounded-lg w-full",children:[jsxRuntimeExports.jsx(Download,{size:18,className:"mr-2"})," Download Reports"]})})]})]}),jsxRuntimeExports.jsxs(Button,{className:"bg-smartSchool-blue text-white rounded-lg px-6 py-3 mt-6 shadow hover:bg-blue-700 transition-all animate-pop-in",onClick:()=>mr(),children:[jsxRuntimeExports.jsx(Download,{size:18,className:"mr-2"})," Download All Reports"]}),jsxRuntimeExports.jsx(Modal,{open:Ye,onClose:()=>Xe(!1),title:ir,children:Ke})]})};function composeEventHandlers(t,e,{checkForDefaultPrevented:xe=!0}={}){return function(Ee){if(t==null||t(Ee),xe===!1||!Ee.defaultPrevented)return e==null?void 0:e(Ee)}}function createContextScope(t,e=[]){let xe=[];function _e(Se,Ae){const Re=reactExports.createContext(Ae),Pe=xe.length;xe=[...xe,Ae];const Te=je=>{var Ue;const{scope:Oe,children:ke,...Fe}=je,Me=((Ue=Oe==null?void 0:Oe[t])==null?void 0:Ue[Pe])||Re,De=reactExports.useMemo(()=>Fe,Object.values(Fe));return jsxRuntimeExports.jsx(Me.Provider,{value:De,children:ke})};Te.displayName=Se+"Provider";function Ie(je,Oe){var Me;const ke=((Me=Oe==null?void 0:Oe[t])==null?void 0:Me[Pe])||Re,Fe=reactExports.useContext(ke);if(Fe)return Fe;if(Ae!==void 0)return Ae;throw new Error(`\`${je}\` must be used within \`${Se}\``)}return[Te,Ie]}const Ee=()=>{const Se=xe.map(Ae=>reactExports.createContext(Ae));return function(Re){const Pe=(Re==null?void 0:Re[t])||Se;return reactExports.useMemo(()=>({[`__scope${t}`]:{...Re,[t]:Pe}}),[Re,Pe])}};return Ee.scopeName=t,[_e,composeContextScopes(Ee,...e)]}function composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const xe=()=>{const _e=t.map(Ee=>({useScope:Ee(),scopeName:Ee.scopeName}));return function(Se){const Ae=_e.reduce((Re,{useScope:Pe,scopeName:Te})=>{const je=Pe(Se)[`__scope${Te}`];return{...Re,...je}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:Ae}),[Ae])}};return xe.scopeName=e.scopeName,xe}function createCollection(t){const e=t+"CollectionProvider",[xe,_e]=createContextScope(e),[Ee,Se]=xe(e,{collectionRef:{current:null},itemMap:new Map}),Ae=Me=>{const{scope:De,children:Ue}=Me,ze=React.useRef(null),We=React.useRef(new Map).current;return jsxRuntimeExports.jsx(Ee,{scope:De,itemMap:We,collectionRef:ze,children:Ue})};Ae.displayName=e;const Re=t+"CollectionSlot",Pe=createSlot(Re),Te=React.forwardRef((Me,De)=>{const{scope:Ue,children:ze}=Me,We=Se(Re,Ue),Ye=useComposedRefs(De,We.collectionRef);return jsxRuntimeExports.jsx(Pe,{ref:Ye,children:ze})});Te.displayName=Re;const Ie=t+"CollectionItemSlot",je="data-radix-collection-item",Oe=createSlot(Ie),ke=React.forwardRef((Me,De)=>{const{scope:Ue,children:ze,...We}=Me,Ye=React.useRef(null),Xe=useComposedRefs(De,Ye),ir=Se(Ie,Ue);return React.useEffect(()=>(ir.itemMap.set(Ye,{ref:Ye,...We}),()=>void ir.itemMap.delete(Ye))),jsxRuntimeExports.jsx(Oe,{[je]:"",ref:Xe,children:ze})});ke.displayName=Ie;function Fe(Me){const De=Se(t+"CollectionConsumer",Me);return React.useCallback(()=>{const ze=De.collectionRef.current;if(!ze)return[];const We=Array.from(ze.querySelectorAll(`[${je}]`));return Array.from(De.itemMap.values()).sort((ir,Qe)=>We.indexOf(ir.ref.current)-We.indexOf(Qe.ref.current))},[De.collectionRef,De.itemMap])}return[{Provider:Ae,Slot:Te,ItemSlot:ke},Fe,_e]}function useCallbackRef(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...xe)=>{var _e;return(_e=e.current)==null?void 0:_e.call(e,...xe)},[])}function useEscapeKeydown(t,e=globalThis==null?void 0:globalThis.document){const xe=useCallbackRef(t);reactExports.useEffect(()=>{const _e=Ee=>{Ee.key==="Escape"&&xe(Ee)};return e.addEventListener("keydown",_e,{capture:!0}),()=>e.removeEventListener("keydown",_e,{capture:!0})},[xe,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:xe=!1,onEscapeKeyDown:_e,onPointerDownOutside:Ee,onFocusOutside:Se,onInteractOutside:Ae,onDismiss:Re,...Pe}=t,Te=reactExports.useContext(DismissableLayerContext),[Ie,je]=reactExports.useState(null),Oe=(Ie==null?void 0:Ie.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ke]=reactExports.useState({}),Fe=useComposedRefs(e,Qe=>je(Qe)),Me=Array.from(Te.layers),[De]=[...Te.layersWithOutsidePointerEventsDisabled].slice(-1),Ue=Me.indexOf(De),ze=Ie?Me.indexOf(Ie):-1,We=Te.layersWithOutsidePointerEventsDisabled.size>0,Ye=ze>=Ue,Xe=usePointerDownOutside(Qe=>{const Ke=Qe.target,rr=[...Te.branches].some(cr=>cr.contains(Ke));!Ye||rr||(Ee==null||Ee(Qe),Ae==null||Ae(Qe),Qe.defaultPrevented||Re==null||Re())},Oe),ir=useFocusOutside(Qe=>{const Ke=Qe.target;[...Te.branches].some(cr=>cr.contains(Ke))||(Se==null||Se(Qe),Ae==null||Ae(Qe),Qe.defaultPrevented||Re==null||Re())},Oe);return useEscapeKeydown(Qe=>{ze===Te.layers.size-1&&(_e==null||_e(Qe),!Qe.defaultPrevented&&Re&&(Qe.preventDefault(),Re()))},Oe),reactExports.useEffect(()=>{if(Ie)return xe&&(Te.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Oe.body.style.pointerEvents,Oe.body.style.pointerEvents="none"),Te.layersWithOutsidePointerEventsDisabled.add(Ie)),Te.layers.add(Ie),dispatchUpdate(),()=>{xe&&Te.layersWithOutsidePointerEventsDisabled.size===1&&(Oe.body.style.pointerEvents=originalBodyPointerEvents)}},[Ie,Oe,xe,Te]),reactExports.useEffect(()=>()=>{Ie&&(Te.layers.delete(Ie),Te.layersWithOutsidePointerEventsDisabled.delete(Ie),dispatchUpdate())},[Ie,Te]),reactExports.useEffect(()=>{const Qe=()=>ke({});return document.addEventListener(CONTEXT_UPDATE,Qe),()=>document.removeEventListener(CONTEXT_UPDATE,Qe)},[]),jsxRuntimeExports.jsx(Primitive.div,{...Pe,ref:Fe,style:{pointerEvents:We?Ye?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers(t.onFocusCapture,ir.onFocusCapture),onBlurCapture:composeEventHandlers(t.onBlurCapture,ir.onBlurCapture),onPointerDownCapture:composeEventHandlers(t.onPointerDownCapture,Xe.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((t,e)=>{const xe=reactExports.useContext(DismissableLayerContext),_e=reactExports.useRef(null),Ee=useComposedRefs(e,_e);return reactExports.useEffect(()=>{const Se=_e.current;if(Se)return xe.branches.add(Se),()=>{xe.branches.delete(Se)}},[xe.branches]),jsxRuntimeExports.jsx(Primitive.div,{...t,ref:Ee})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(t,e=globalThis==null?void 0:globalThis.document){const xe=useCallbackRef(t),_e=reactExports.useRef(!1),Ee=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const Se=Re=>{if(Re.target&&!_e.current){let Pe=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,xe,Te,{discrete:!0})};const Te={originalEvent:Re};Re.pointerType==="touch"?(e.removeEventListener("click",Ee.current),Ee.current=Pe,e.addEventListener("click",Ee.current,{once:!0})):Pe()}else e.removeEventListener("click",Ee.current);_e.current=!1},Ae=window.setTimeout(()=>{e.addEventListener("pointerdown",Se)},0);return()=>{window.clearTimeout(Ae),e.removeEventListener("pointerdown",Se),e.removeEventListener("click",Ee.current)}},[e,xe]),{onPointerDownCapture:()=>_e.current=!0}}function useFocusOutside(t,e=globalThis==null?void 0:globalThis.document){const xe=useCallbackRef(t),_e=reactExports.useRef(!1);return reactExports.useEffect(()=>{const Ee=Se=>{Se.target&&!_e.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,xe,{originalEvent:Se},{discrete:!1})};return e.addEventListener("focusin",Ee),()=>e.removeEventListener("focusin",Ee)},[e,xe]),{onFocusCapture:()=>_e.current=!0,onBlurCapture:()=>_e.current=!1}}function dispatchUpdate(){const t=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(t)}function handleAndDispatchCustomEvent$1(t,e,xe,{discrete:_e}){const Ee=xe.originalEvent.target,Se=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:xe});e&&Ee.addEventListener(t,e,{once:!0}),_e?dispatchDiscreteCustomEvent(Ee,Se):Ee.dispatchEvent(Se)}var Root=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME="Portal",Portal=reactExports.forwardRef((t,e)=>{var Re;const{container:xe,..._e}=t,[Ee,Se]=reactExports.useState(!1);useLayoutEffect2(()=>Se(!0),[]);const Ae=xe||Ee&&((Re=globalThis==null?void 0:globalThis.document)==null?void 0:Re.body);return Ae?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:e}),Ae):null});Portal.displayName=PORTAL_NAME;function useStateMachine(t,e){return reactExports.useReducer((xe,_e)=>e[xe][_e]??xe,t)}var Presence=t=>{const{present:e,children:xe}=t,_e=usePresence(e),Ee=typeof xe=="function"?xe({present:_e.isPresent}):reactExports.Children.only(xe),Se=useComposedRefs(_e.ref,getElementRef(Ee));return typeof xe=="function"||_e.isPresent?reactExports.cloneElement(Ee,{ref:Se}):null};Presence.displayName="Presence";function usePresence(t){const[e,xe]=reactExports.useState(),_e=reactExports.useRef(null),Ee=reactExports.useRef(t),Se=reactExports.useRef("none"),Ae=t?"mounted":"unmounted",[Re,Pe]=useStateMachine(Ae,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const Te=getAnimationName(_e.current);Se.current=Re==="mounted"?Te:"none"},[Re]),useLayoutEffect2(()=>{const Te=_e.current,Ie=Ee.current;if(Ie!==t){const Oe=Se.current,ke=getAnimationName(Te);t?Pe("MOUNT"):ke==="none"||(Te==null?void 0:Te.display)==="none"?Pe("UNMOUNT"):Pe(Ie&&Oe!==ke?"ANIMATION_OUT":"UNMOUNT"),Ee.current=t}},[t,Pe]),useLayoutEffect2(()=>{if(e){let Te;const Ie=e.ownerDocument.defaultView??window,je=ke=>{const Me=getAnimationName(_e.current).includes(ke.animationName);if(ke.target===e&&Me&&(Pe("ANIMATION_END"),!Ee.current)){const De=e.style.animationFillMode;e.style.animationFillMode="forwards",Te=Ie.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=De)})}},Oe=ke=>{ke.target===e&&(Se.current=getAnimationName(_e.current))};return e.addEventListener("animationstart",Oe),e.addEventListener("animationcancel",je),e.addEventListener("animationend",je),()=>{Ie.clearTimeout(Te),e.removeEventListener("animationstart",Oe),e.removeEventListener("animationcancel",je),e.removeEventListener("animationend",je)}}else Pe("ANIMATION_END")},[e,Pe]),{isPresent:["mounted","unmountSuspended"].includes(Re),ref:reactExports.useCallback(Te=>{_e.current=Te?getComputedStyle(Te):null,xe(Te)},[])}}function getAnimationName(t){return(t==null?void 0:t.animationName)||"none"}function getElementRef(t){var _e,Ee;let e=(_e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:_e.get,xe=e&&"isReactWarning"in e&&e.isReactWarning;return xe?t.ref:(e=(Ee=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:Ee.get,xe=e&&"isReactWarning"in e&&e.isReactWarning,xe?t.props.ref:t.props.ref||t.ref)}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:t,defaultProp:e,onChange:xe=()=>{},caller:_e}){const[Ee,Se,Ae]=useUncontrolledState({defaultProp:e,onChange:xe}),Re=t!==void 0,Pe=Re?t:Ee;{const Ie=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const je=Ie.current;je!==Re&&console.warn(`${_e} is changing from ${je?"controlled":"uncontrolled"} to ${Re?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),Ie.current=Re},[Re,_e])}const Te=reactExports.useCallback(Ie=>{var je;if(Re){const Oe=isFunction$2(Ie)?Ie(t):Ie;Oe!==t&&((je=Ae.current)==null||je.call(Ae,Oe))}else Se(Ie)},[Re,t,Se,Ae]);return[Pe,Te]}function useUncontrolledState({defaultProp:t,onChange:e}){const[xe,_e]=reactExports.useState(t),Ee=reactExports.useRef(xe),Se=reactExports.useRef(e);return useInsertionEffect(()=>{Se.current=e},[e]),reactExports.useEffect(()=>{var Ae;Ee.current!==xe&&((Ae=Se.current)==null||Ae.call(Se,xe),Ee.current=xe)},[xe,Ee]),[xe,_e,Se]}function isFunction$2(t){return typeof t=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive.span,{...t,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...t.style}}));VisuallyHidden.displayName=NAME;var PROVIDER_NAME="ToastProvider",[Collection,useCollection,createCollectionScope]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME),VIEWPORT_NAME="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,hotkey:_e=VIEWPORT_DEFAULT_HOTKEY,label:Ee="Notifications ({hotkey})",...Se}=t,Ae=useToastProviderContext(VIEWPORT_NAME,xe),Re=useCollection(xe),Pe=reactExports.useRef(null),Te=reactExports.useRef(null),Ie=reactExports.useRef(null),je=reactExports.useRef(null),Oe=useComposedRefs(e,je,Ae.onViewportChange),ke=_e.join("+").replace(/Key/g,"").replace(/Digit/g,""),Fe=Ae.toastCount>0;reactExports.useEffect(()=>{const De=Ue=>{var We;_e.length!==0&&_e.every(Ye=>Ue[Ye]||Ue.code===Ye)&&((We=je.current)==null||We.focus())};return document.addEventListener("keydown",De),()=>document.removeEventListener("keydown",De)},[_e]),reactExports.useEffect(()=>{const De=Pe.current,Ue=je.current;if(Fe&&De&&Ue){const ze=()=>{if(!Ae.isClosePausedRef.current){const ir=new CustomEvent(VIEWPORT_PAUSE);Ue.dispatchEvent(ir),Ae.isClosePausedRef.current=!0}},We=()=>{if(Ae.isClosePausedRef.current){const ir=new CustomEvent(VIEWPORT_RESUME);Ue.dispatchEvent(ir),Ae.isClosePausedRef.current=!1}},Ye=ir=>{!De.contains(ir.relatedTarget)&&We()},Xe=()=>{De.contains(document.activeElement)||We()};return De.addEventListener("focusin",ze),De.addEventListener("focusout",Ye),De.addEventListener("pointermove",ze),De.addEventListener("pointerleave",Xe),window.addEventListener("blur",ze),window.addEventListener("focus",We),()=>{De.removeEventListener("focusin",ze),De.removeEventListener("focusout",Ye),De.removeEventListener("pointermove",ze),De.removeEventListener("pointerleave",Xe),window.removeEventListener("blur",ze),window.removeEventListener("focus",We)}}},[Fe,Ae.isClosePausedRef]);const Me=reactExports.useCallback(({tabbingDirection:De})=>{const ze=Re().map(We=>{const Ye=We.ref.current,Xe=[Ye,...getTabbableCandidates(Ye)];return De==="forwards"?Xe:Xe.reverse()});return(De==="forwards"?ze.reverse():ze).flat()},[Re]);return reactExports.useEffect(()=>{const De=je.current;if(De){const Ue=ze=>{var Xe,ir,Qe;const We=ze.altKey||ze.ctrlKey||ze.metaKey;if(ze.key==="Tab"&&!We){const Ke=document.activeElement,rr=ze.shiftKey;if(ze.target===De&&rr){(Xe=Te.current)==null||Xe.focus();return}const er=Me({tabbingDirection:rr?"backwards":"forwards"}),sr=er.findIndex(fr=>fr===Ke);focusFirst(er.slice(sr+1))?ze.preventDefault():rr?(ir=Te.current)==null||ir.focus():(Qe=Ie.current)==null||Qe.focus()}};return De.addEventListener("keydown",Ue),()=>De.removeEventListener("keydown",Ue)}},[Re,Me]),jsxRuntimeExports.jsxs(Branch,{ref:Pe,role:"region","aria-label":Ee.replace("{hotkey}",ke),tabIndex:-1,style:{pointerEvents:Fe?void 0:"none"},children:[Fe&&jsxRuntimeExports.jsx(FocusProxy,{ref:Te,onFocusFromOutsideViewport:()=>{const De=Me({tabbingDirection:"forwards"});focusFirst(De)}}),jsxRuntimeExports.jsx(Collection.Slot,{scope:xe,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...Se,ref:Oe})}),Fe&&jsxRuntimeExports.jsx(FocusProxy,{ref:Ie,onFocusFromOutsideViewport:()=>{const De=Me({tabbingDirection:"backwards"});focusFirst(De)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,onFocusFromOutsideViewport:_e,...Ee}=t,Se=useToastProviderContext(FOCUS_PROXY_NAME,xe);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...Ee,ref:e,style:{position:"fixed"},onFocus:Ae=>{var Te;const Re=Ae.relatedTarget;!((Te=Se.viewport)!=null&&Te.contains(Re))&&_e()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((t,e)=>{const{forceMount:xe,open:_e,defaultOpen:Ee,onOpenChange:Se,...Ae}=t,[Re,Pe]=useControllableState({prop:_e,defaultProp:Ee??!0,onChange:Se,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:xe||Re,children:jsxRuntimeExports.jsx(ToastImpl,{open:Re,...Ae,ref:e,onClose:()=>Pe(!1),onPause:useCallbackRef(t.onPause),onResume:useCallbackRef(t.onResume),onSwipeStart:composeEventHandlers(t.onSwipeStart,Te=>{Te.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(t.onSwipeMove,Te=>{const{x:Ie,y:je}=Te.detail.delta;Te.currentTarget.setAttribute("data-swipe","move"),Te.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${Ie}px`),Te.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${je}px`)}),onSwipeCancel:composeEventHandlers(t.onSwipeCancel,Te=>{Te.currentTarget.setAttribute("data-swipe","cancel"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(t.onSwipeEnd,Te=>{const{x:Ie,y:je}=Te.detail.delta;Te.currentTarget.setAttribute("data-swipe","end"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),Te.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),Te.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${Ie}px`),Te.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${je}px`),Pe(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,type:_e="foreground",duration:Ee,open:Se,onClose:Ae,onEscapeKeyDown:Re,onPause:Pe,onResume:Te,onSwipeStart:Ie,onSwipeMove:je,onSwipeCancel:Oe,onSwipeEnd:ke,...Fe}=t,Me=useToastProviderContext(TOAST_NAME,xe),[De,Ue]=reactExports.useState(null),ze=useComposedRefs(e,fr=>Ue(fr)),We=reactExports.useRef(null),Ye=reactExports.useRef(null),Xe=Ee||Me.duration,ir=reactExports.useRef(0),Qe=reactExports.useRef(Xe),Ke=reactExports.useRef(0),{onToastAdd:rr,onToastRemove:cr}=Me,Ze=useCallbackRef(()=>{var _r;(De==null?void 0:De.contains(document.activeElement))&&((_r=Me.viewport)==null||_r.focus()),Ae()}),er=reactExports.useCallback(fr=>{!fr||fr===1/0||(window.clearTimeout(Ke.current),ir.current=new Date().getTime(),Ke.current=window.setTimeout(Ze,fr))},[Ze]);reactExports.useEffect(()=>{const fr=Me.viewport;if(fr){const _r=()=>{er(Qe.current),Te==null||Te()},Er=()=>{const yr=new Date().getTime()-ir.current;Qe.current=Qe.current-yr,window.clearTimeout(Ke.current),Pe==null||Pe()};return fr.addEventListener(VIEWPORT_PAUSE,Er),fr.addEventListener(VIEWPORT_RESUME,_r),()=>{fr.removeEventListener(VIEWPORT_PAUSE,Er),fr.removeEventListener(VIEWPORT_RESUME,_r)}}},[Me.viewport,Xe,Pe,Te,er]),reactExports.useEffect(()=>{Se&&!Me.isClosePausedRef.current&&er(Xe)},[Se,Xe,Me.isClosePausedRef,er]),reactExports.useEffect(()=>(rr(),()=>cr()),[rr,cr]);const sr=reactExports.useMemo(()=>De?getAnnounceTextContent(De):null,[De]);return Me.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[sr&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:xe,role:"status","aria-live":_e==="foreground"?"assertive":"polite","aria-atomic":!0,children:sr}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:xe,onClose:Ze,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:xe,children:jsxRuntimeExports.jsx(Root,{asChild:!0,onEscapeKeyDown:composeEventHandlers(Re,()=>{Me.isFocusedToastEscapeKeyDownRef.current||Ze(),Me.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":Se?"open":"closed","data-swipe-direction":Me.swipeDirection,...Fe,ref:ze,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:composeEventHandlers(t.onKeyDown,fr=>{fr.key==="Escape"&&(Re==null||Re(fr.nativeEvent),fr.nativeEvent.defaultPrevented||(Me.isFocusedToastEscapeKeyDownRef.current=!0,Ze()))}),onPointerDown:composeEventHandlers(t.onPointerDown,fr=>{fr.button===0&&(We.current={x:fr.clientX,y:fr.clientY})}),onPointerMove:composeEventHandlers(t.onPointerMove,fr=>{if(!We.current)return;const _r=fr.clientX-We.current.x,Er=fr.clientY-We.current.y,yr=!!Ye.current,mr=["left","right"].includes(Me.swipeDirection),Pr=["left","up"].includes(Me.swipeDirection)?Math.min:Math.max,Cr=mr?Pr(0,_r):0,wr=mr?0:Pr(0,Er),or=fr.pointerType==="touch"?10:2,hr={x:Cr,y:wr},br={originalEvent:fr,delta:hr};yr?(Ye.current=hr,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,je,br,{discrete:!1})):isDeltaInDirection(hr,Me.swipeDirection,or)?(Ye.current=hr,handleAndDispatchCustomEvent(TOAST_SWIPE_START,Ie,br,{discrete:!1}),fr.target.setPointerCapture(fr.pointerId)):(Math.abs(_r)>or||Math.abs(Er)>or)&&(We.current=null)}),onPointerUp:composeEventHandlers(t.onPointerUp,fr=>{const _r=Ye.current,Er=fr.target;if(Er.hasPointerCapture(fr.pointerId)&&Er.releasePointerCapture(fr.pointerId),Ye.current=null,We.current=null,_r){const yr=fr.currentTarget,mr={originalEvent:fr,delta:_r};isDeltaInDirection(_r,Me.swipeDirection,Me.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,ke,mr,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,Oe,mr,{discrete:!0}),yr.addEventListener("click",Pr=>Pr.preventDefault(),{once:!0})}})})})}),Me.viewport)})]}):null}),ToastAnnounce=t=>{const{__scopeToast:e,children:xe,..._e}=t,Ee=useToastProviderContext(TOAST_NAME,e),[Se,Ae]=reactExports.useState(!1),[Re,Pe]=reactExports.useState(!1);return useNextFrame(()=>Ae(!0)),reactExports.useEffect(()=>{const Te=window.setTimeout(()=>Pe(!0),1e3);return()=>window.clearTimeout(Te)},[]),Re?null:jsxRuntimeExports.jsx(Portal,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{..._e,children:Se&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ee.label," ",xe]})})})},TITLE_NAME="ToastTitle",ToastTitle$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,..._e}=t;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:e})});ToastTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="ToastDescription",ToastDescription$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,..._e}=t;return jsxRuntimeExports.jsx(Primitive.div,{..._e,ref:e})});ToastDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((t,e)=>{const{altText:xe,..._e}=t;return xe.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:xe,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{..._e,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME="ToastClose",ToastClose$1=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,..._e}=t,Ee=useToastInteractiveContext(CLOSE_NAME,xe);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",..._e,ref:e,onClick:composeEventHandlers(t.onClick,Ee.onClose)})})});ToastClose$1.displayName=CLOSE_NAME;var ToastAnnounceExclude=reactExports.forwardRef((t,e)=>{const{__scopeToast:xe,altText:_e,...Ee}=t;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":_e||void 0,...Ee,ref:e})});function getAnnounceTextContent(t){const e=[];return Array.from(t.childNodes).forEach(_e=>{if(_e.nodeType===_e.TEXT_NODE&&_e.textContent&&e.push(_e.textContent),isHTMLElement(_e)){const Ee=_e.ariaHidden||_e.hidden||_e.style.display==="none",Se=_e.dataset.radixToastAnnounceExclude==="";if(!Ee)if(Se){const Ae=_e.dataset.radixToastAnnounceAlt;Ae&&e.push(Ae)}else e.push(...getAnnounceTextContent(_e))}}),e}function handleAndDispatchCustomEvent(t,e,xe,{discrete:_e}){const Ee=xe.originalEvent.currentTarget,Se=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:xe});e&&Ee.addEventListener(t,e,{once:!0}),_e?dispatchDiscreteCustomEvent(Ee,Se):Ee.dispatchEvent(Se)}var isDeltaInDirection=(t,e,xe=0)=>{const _e=Math.abs(t.x),Ee=Math.abs(t.y),Se=_e>Ee;return e==="left"||e==="right"?Se&&_e>xe:!Se&&Ee>xe};function useNextFrame(t=()=>{}){const e=useCallbackRef(t);useLayoutEffect2(()=>{let xe=0,_e=0;return xe=window.requestAnimationFrame(()=>_e=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(xe),window.cancelAnimationFrame(_e)}},[e])}function isHTMLElement(t){return t.nodeType===t.ELEMENT_NODE}function getTabbableCandidates(t){const e=[],xe=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:_e=>{const Ee=_e.tagName==="INPUT"&&_e.type==="hidden";return _e.disabled||_e.hidden||Ee?NodeFilter.FILTER_SKIP:_e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;xe.nextNode();)e.push(xe.currentNode);return e}function focusFirst(t){const e=document.activeElement;return t.some(xe=>xe===e?!0:(xe.focus(),document.activeElement!==e))}var Viewport=ToastViewport$1,Root2=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action=ToastAction$1,Close=ToastClose$1;const ToastViewport=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Viewport,{ref:xe,className:cn$1("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=React.forwardRef(({className:t,variant:e,...xe},_e)=>jsxRuntimeExports.jsx(Root2,{ref:_e,className:cn$1(toastVariants({variant:e}),t),...xe}));Toast.displayName=Root2.displayName;const ToastAction=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Action,{ref:xe,className:cn$1("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ToastAction.displayName=Action.displayName;const ToastClose=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Close,{ref:xe,className:cn$1("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Title,{ref:xe,className:cn$1("text-sm font-semibold",t),...e}));ToastTitle.displayName=Title.displayName;const ToastDescription=React.forwardRef(({className:t,...e},xe)=>jsxRuntimeExports.jsx(Description,{ref:xe,className:cn$1("text-sm opacity-90",t),...e}));ToastDescription.displayName=Description.displayName;const gradeNames=["PreK","Kindergarten","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Grade 8","Grade 9","Grade 10","Grade 11","Grade 12"],prekSubjects=[{name:"Early Literacy",icon:"BookOpenText"},{name:"Early Math",icon:"Calculator"},{name:"Shapes & Colors",icon:"Palette"},{name:"Arts & Crafts",icon:"Scissors"},{name:"Music & Movement",icon:"Music"},{name:"Science Exploration",icon:"FlaskConical"},{name:"Social-Emotional Learning",icon:"Users"}],defaultSubjects=["Math","Science","English","History"];function getDetailedPlaceholder(t,e,xe,_e,Ee=0,Se,Ae){const Re=`${xe} - Step ${e}`;switch(_e){case"objective":return[`Understand key concept #${Ee+1} related to ${Re}.`,`Apply skill #${Ee+1} from ${Re} to solve problems.`,`Analyze aspect #${Ee+1} of ${Re}.`];case"content":return`Click 'Start Lesson' to begin. This lesson will guide you through foundational principles of ${Ae}.`;case"videoTitle":return`Instructional Video for ${Re}: Exploring Topic ${Ee+1}`;case"videoUrl":return`https://example.com/video/${Se.toLowerCase()}/${Ae.toLowerCase()}/lesson-${t}/topic-${Ee+1}`;case"activityTitle":return`Interactive Activity: ${Re} Challenge ${Ee+1}`;case"activityType":return Ee%2===0?"interactive-simulation":"drag-and-drop-exercise";case"homeworkTitle":return`Practice Assignment for ${Re}`;case"homeworkDesc":return`Complete exercises 1-${5+Ee} covering concepts from ${Re}. Ensure you show your work and explain your reasoning for at least two problems.`;case"quizQuestion":return`Quiz for ${Re}: What is a critical element of Concept ${Ee+1} discussed in this lesson?`;case"quizOptions":return[`Option A for Q${Ee+1}`,`Option B for Q${Ee+1}`,`Correct Answer for Q${Ee+1}`,`Option D for Q${Ee+1}`];case"quizAnswer":return`Correct Answer for Q${Ee+1}`;case"testQuestion":return`Unit Test Question ${Ee+1}: Comprehensively explain or solve a problem related to ${Ae} Unit 1, incorporating concepts from various lessons.`;case"testOptions":return[`Detailed Option 1 for Test Q${Ee+1}`,`Detailed Option 2 for Test Q${Ee+1}`,`Correct Detailed Answer for Test Q${Ee+1}`,`Detailed Option 4 for Test Q${Ee+1}`];case"testAnswer":return`Correct Detailed Answer for Test Q${Ee+1}`;default:return"Placeholder"}}function getRealLessons(t,e){const xe=[];for(let _e=1;_e<=10;_e++)xe.push({id:`${t}-${e}-Lesson-${_e}`,title:`Lesson ${_e}: ${getLessonTitle(t,e,_e)}`,duration:getLessonDuration(t),prerequisites:getLessonPrerequisites(t,e,_e),teacherNotes:getTeacherNotes(t,e),learningObjectives:getLearningObjectives(t,e,_e),content:getLessonContent(t,e,_e),videos:getLessonVideos(t,e,_e),activities:getLessonActivities(t,e,_e),homework:getLessonHomework(t,e,_e),quiz:getLessonQuiz(t,e,_e),resources:getLessonResources(t,e,_e),attachments:getLessonAttachments()});return xe}function getLessonTitle(t,e,xe){if(e==="Math"){const _e={PreK:["Counting Objects (CCSS.MATH.CONTENT.PK.CC.A.1)","Recognizing Shapes (CCSS.MATH.CONTENT.PK.G.A.2)","Comparing Quantities (CCSS.MATH.CONTENT.PK.CC.C.6)","Simple Patterns (CCSS.MATH.CONTENT.PK.OA.A.2)","Sorting and Classifying (CCSS.MATH.CONTENT.PK.MD.A.2)","Measuring Length (CCSS.MATH.CONTENT.PK.MD.A.1)","Understanding Position (CCSS.MATH.CONTENT.PK.G.A.1)","Numbers 1-10 (CCSS.MATH.CONTENT.PK.CC.A.2)","Math Stories (CCSS.MATH.CONTENT.PK.OA.A.1)","Review and Games (CCSS.MATH.CONTENT.PK.CC.B.4)"],Kindergarten:["Counting to 20 (CCSS.MATH.CONTENT.K.CC.A.1)","Addition with Objects (CCSS.MATH.CONTENT.K.OA.A.1)","Subtraction Stories (CCSS.MATH.CONTENT.K.OA.A.2)","Shapes and Space (CCSS.MATH.CONTENT.K.G.A.2)","Comparing Numbers (CCSS.MATH.CONTENT.K.CC.C.6)","Measurement (CCSS.MATH.CONTENT.K.MD.A.1)","Patterns (CCSS.MATH.CONTENT.K.OA.A.3)","Math in Daily Life (CCSS.MATH.CONTENT.K.CC.B.4)","Math Games (CCSS.MATH.CONTENT.K.OA.A.5)","Review and Assessment (CCSS.MATH.CONTENT.K.CC.B.5)"],"Grade 1":["Addition and Subtraction within 20 (CCSS.MATH.CONTENT.1.OA.B.3)","Understanding Place Value (CCSS.MATH.CONTENT.1.NBT.A.1)","Measuring Lengths (CCSS.MATH.CONTENT.1.MD.A.1)","Tell Time to the Hour and Half-Hour (CCSS.MATH.CONTENT.1.MD.B.3)","Representing and Interpreting Data (CCSS.MATH.CONTENT.1.MD.C.4)","Geometry: Shapes and Attributes (CCSS.MATH.CONTENT.1.G.A.1)","Composing and Decomposing Numbers (CCSS.MATH.CONTENT.1.NBT.B.2)","Word Problems within 20 (CCSS.MATH.CONTENT.1.OA.A.1)","Math Talks: Strategies and Reasoning (CCSS.MATH.CONTENT.1.OA.C.6)","Review and Assessment (CCSS.MATH.CONTENT.1.OA.D.8)"],"Grade 2":["Addition and Subtraction within 100 (CCSS.MATH.CONTENT.2.OA.B.2)","Place Value to 1,000 (CCSS.MATH.CONTENT.2.NBT.A.1)","Measurement: Length, Weight, and Capacity (CCSS.MATH.CONTENT.2.MD.A.1)","Time: Hours, Half-hours, and Quarter-hours (CCSS.MATH.CONTENT.2.MD.B.5)","Data Interpretation: Bar Graphs and Line Plots (CCSS.MATH.CONTENT.2.MD.C.9)","Geometry: Attributes and Partitioning (CCSS.MATH.CONTENT.2.G.A.1)","Skip Counting and Patterns (CCSS.MATH.CONTENT.2.NBT.A.3)","Money: Counting and Making Change (CCSS.MATH.CONTENT.2.MD.C.8)","Math Puzzles and Problem Solving (CCSS.MATH.CONTENT.2.OA.A.1)","Review and Assessment (CCSS.MATH.CONTENT.2.OA.D.10)"],"Grade 3":["Multiplication and Division Facts (CCSS.MATH.CONTENT.3.OA.A.1)","Understanding Fractions: Basics (CCSS.MATH.CONTENT.3.NF.A.1)","Area and Perimeter (CCSS.MATH.CONTENT.3.MD.A.1)","Time: Elapsed Time (CCSS.MATH.CONTENT.3.MD.A.2)","Data Interpretation: Tables and Graphs (CCSS.MATH.CONTENT.3.MD.B.3)","Geometry: Shapes, Angles, and Symmetry (CCSS.MATH.CONTENT.3.G.A.1)","Place Value: Understanding Thousands (CCSS.MATH.CONTENT.3.NBT.A.1)","Problem Solving with Fractions (CCSS.MATH.CONTENT.3.NF.A.3)","Math Games: Strategies and Logic (CCSS.MATH.CONTENT.3.OA.B.5)","Review and Assessment (CCSS.MATH.CONTENT.3.OA.D.9)"],"Grade 4":["Factors and Multiples (CCSS.MATH.CONTENT.4.OA.B.4)","Adding and Subtracting Fractions (CCSS.MATH.CONTENT.4.NF.A.1)","Decimal Place Value (CCSS.MATH.CONTENT.4.NBT.A.2)","Measurement: Converting Units (CCSS.MATH.CONTENT.4.MD.A.1)","Data Analysis: Mean, Median, Mode (CCSS.MATH.CONTENT.4.MD.B.4)","Geometry: Lines, Angles, and Shapes (CCSS.MATH.CONTENT.4.G.A.1)","Patterns and Algebra (CCSS.MATH.CONTENT.4.OA.A.3)","Problem Solving with Decimals (CCSS.MATH.CONTENT.4.NBT.B.4)","Math Projects: Real-World Applications (CCSS.MATH.CONTENT.4.MP.4)","Review and Assessment (CCSS.MATH.CONTENT.4.OA.C.5)"],"Grade 5":["Prime and Composite Numbers (CCSS.MATH.CONTENT.5.OA.B.6)","Adding and Subtracting Decimals and Fractions (CCSS.MATH.CONTENT.5.NF.A.1)","Volume and Surface Area (CCSS.MATH.CONTENT.5.MD.C.3)","Coordinate Plane: Graphing Points (CCSS.MATH.CONTENT.5.G.A.1)","Data Interpretation: Histograms and Box Plots (CCSS.MATH.CONTENT.5.MD.B.2)","Geometry: Classifying 2D and 3D Shapes (CCSS.MATH.CONTENT.5.G.A.3)","Algebraic Thinking: Patterns and Rules (CCSS.MATH.CONTENT.5.OA.A.2)","Problem Solving with Volume (CCSS.MATH.CONTENT.5.MD.C.5)","Math in the Real World: Projects and Problems (CCSS.MATH.CONTENT.5.MP.4)","Review and Assessment (CCSS.MATH.CONTENT.5.OA.C.5)"],"Grade 6":["Ratios and Proportions (CCSS.MATH.CONTENT.6.RP.A.1)","Integers and Absolute Value (CCSS.MATH.CONTENT.6.NS.C.5)","Expressions and Equations (CCSS.MATH.CONTENT.6.EE.A.1)","Statistics: Mean, Median, Mode, and Range (CCSS.MATH.CONTENT.6.SP.B.5)","Geometry: Area, Surface Area, and Volume (CCSS.MATH.CONTENT.6.G.A.1)","The Number System: Dividing Fractions (CCSS.MATH.CONTENT.6.NS.A.3)","Expressions: Evaluating and Comparing (CCSS.MATH.CONTENT.6.EE.A.2)","Inequalities and Absolute Value (CCSS.MATH.CONTENT.6.EE.C.9)","Statistical Projects: Collecting and Analyzing Data (CCSS.MATH.CONTENT.6.SP.B.6)","Review and Assessment (CCSS.MATH.CONTENT.6.EE.C.8)"],"Grade 7":["Proportional Relationships (CCSS.MATH.CONTENT.7.RP.A.2)","Operations with Rational Numbers (CCSS.MATH.CONTENT.7.NS.A.1)","Expressions and Equations: Solving (CCSS.MATH.CONTENT.7.EE.B.4)","Statistics: Analyzing and Interpreting (CCSS.MATH.CONTENT.7.SP.B.5)","Geometry: Scale Drawings and Models (CCSS.MATH.CONTENT.7.G.A.1)","The Number System: Rational and Irrational Numbers (CCSS.MATH.CONTENT.7.NS.A.2)","Expressions: Factoring and Expanding (CCSS.MATH.CONTENT.7.EE.A.1)","Probability: Simple and Compound Events (CCSS.MATH.CONTENT.7.SP.C.7)","Statistical Projects: Designing Surveys and Experiments (CCSS.MATH.CONTENT.7.SP.B.6)","Review and Assessment (CCSS.MATH.CONTENT.7.EE.B.5)"],"Grade 8":["Linear Relationships: Slope and Intercept (CCSS.MATH.CONTENT.8.EE.B.5)","Transformations: Translations, Rotations, and Reflections (CCSS.MATH.CONTENT.8.G.A.1)","Congruence and Similarity (CCSS.MATH.CONTENT.8.G.A.2)","Statistics: Scatter Plots and Correlation (CCSS.MATH.CONTENT.8.SP.A.1)","The Pythagorean Theorem (CCSS.MATH.CONTENT.8.G.B.7)","Volume and Surface Area of Cylinders, Cones, and Spheres (CCSS.MATH.CONTENT.8.G.C.9)","Expressions and Equations: Linear and Nonlinear (CCSS.MATH.CONTENT.8.EE.A.2)","Functions: Introduction to Functions (CCSS.MATH.CONTENT.8.F.A.1)","Probability: Theoretical and Experimental (CCSS.MATH.CONTENT.8.SP.B.5)","Review and Assessment (CCSS.MATH.CONTENT.8.EE.C.8)"],"Grade 9":["Algebra: Solving Linear Equations and Inequalities (CCSS.MATH.CONTENT.HSA.REI.A.1)","Functions: Linear, Quadratic, and Exponential (CCSS.MATH.CONTENT.HSF.IF.A.1)","Statistics: Describing Data Distributions (CCSS.MATH.CONTENT.HSS.ID.A.1)","Geometry: Congruence and Similarity (CCSS.MATH.CONTENT.HSG.CO.A.1)","The Pythagorean Theorem and Its Converse (CCSS.MATH.CONTENT.HSG.SRT.B.4)","Circles: Angles, Arcs, and Chords (CCSS.MATH.CONTENT.HSG.C.B.5)","Transformations: Rigid Motions and Dilations (CCSS.MATH.CONTENT.HSG.CO.A.2)","Probability: Rules and Applications (CCSS.MATH.CONTENT.HSS.CP.A.1)","Statistical Projects: Designing and Interpreting (CCSS.MATH.CONTENT.HSS.IC.B.6)","Review and Assessment (CCSS.MATH.CONTENT.HSA.REI.D.10)"],"Grade 10":["Algebra II: Polynomial Functions and Factoring (CCSS.MATH.CONTENT.HSA.SSE.A.1)","Statistics: Two-Way Tables and Probability (CCSS.MATH.CONTENT.HSS.ID.C.5)","Geometry: Circles and Volume (CCSS.MATH.CONTENT.HSG.C.A.1)","Trigonometry: Right Triangle Trigonometry (CCSS.MATH.CONTENT.HST.T.1)","Functions: Inverse and Exponential Functions (CCSS.MATH.CONTENT.HSF.BF.A.1)","Sequences and Series (CCSS.MATH.CONTENT.HSF.BF.A.2)","Probability: Conditional Probability and Independence (CCSS.MATH.CONTENT.HSS.CP.B.6)","Statistical Projects: Correlation and Causation (CCSS.MATH.CONTENT.HSS.IC.B.6)","Review and Assessment (CCSS.MATH.CONTENT.HSA.REI.D.10)"],"Grade 11":["Functions: Polynomial, Rational, and Radical Functions (CCSS.MATH.CONTENT.HSF.IF.A.1)","Statistics: Sampling Distributions and Inference (CCSS.MATH.CONTENT.HSS.IC.A.1)","Geometry: Coordinate Geometry and Transformations (CCSS.MATH.CONTENT.HSG.CO.A.1)","Trigonometry: Unit Circle and Trigonometric Functions (CCSS.MATH.CONTENT.HST.T.2)","Sequences and Series: Arithmetic and Geometric (CCSS.MATH.CONTENT.HSF.BF.A.2)","Probability: Rules of Probability and Applications (CCSS.MATH.CONTENT.HSS.CP.B.6)","Statistical Projects: Designing and Conducting (CCSS.MATH.CONTENT.HSS.IC.B.6)","Review and Assessment (CCSS.MATH.CONTENT.HSA.REI.D.10)"],"Grade 12":["Calculus: Limits and Continuity (CCSS.MATH.CONTENT.HS.LIM.A.1)","Statistics: Regression and Correlation (CCSS.MATH.CONTENT.HSS.ID.C.5)","Geometry: Three-Dimensional Figures and Surface Area (CCSS.MATH.CONTENT.HSG.GMD.A.1)","Trigonometry: Law of Sines and Cosines (CCSS.MATH.CONTENT.HST.T.3)","Functions: Logarithmic and Exponential Functions (CCSS.MATH.CONTENT.HSF.BF.A.1)","Sequences and Series: Convergence and Divergence (CCSS.MATH.CONTENT.HSF.BF.A.2)","Probability: Bayes Theorem and Applications (CCSS.MATH.CONTENT.HSS.CP.B.6)","Statistical Projects: Advanced Data Analysis (CCSS.MATH.CONTENT.HSS.IC.B.6)","Review and Assessment (CCSS.MATH.CONTENT.HSA.REI.D.10)"]},Ee=t in _e?t:"Kindergarten";return _e[Ee][(xe-1)%_e[Ee].length]}if(e==="Science"){const _e={PreK:["Weather and Seasons (NGSS.PK.ESS2.1)","Plants and Animals (NGSS.PK.LS1.1)","Exploring Water (NGSS.PK.PS1.4)","Five Senses (NGSS.PK.LS1.2)","Day and Night (NGSS.PK.ESS1.1)","Simple Experiments (NGSS.PK.PS1.1)","Habitats (NGSS.PK.LS1.3)","Earth Materials (NGSS.PK.ESS3.1)","Animal Families (NGSS.PK.LS1.4)","Review and Fun (NGSS.PK.ESS2.2)"],Kindergarten:["Weather Patterns (NGSS.K.ESS2.1)","Animal Habitats (NGSS.K.LS1.1)","Properties of Materials (NGSS.K.PS1.1)","Senses and Perception (NGSS.K.LS1.2)","Earths Resources (NGSS.K.ESS3.1)","Simple Machines (NGSS.K.PS2.1)","Life Cycles (NGSS.K.LS1.3)","Seasons and Weather (NGSS.K.ESS2.2)","Sound and Light (NGSS.K.PS4.1)","Review and Explore (NGSS.K.ESS2.3)"],"Grade 1":["Weather and Climate (NGSS.1.ESS2.1)","Plants: Structure and Function (NGSS.1.LS1.1)","Animal Adaptations (NGSS.1.LS1.2)","Earths Resources: Conservation (NGSS.1.ESS3.1)","Simple Machines in Action (NGSS.1.PS2.1)","Light and Sound Energy (NGSS.1.PS4.1)","Magnetism and Gravity (NGSS.1.PS2.3)","Space Systems: Sun, Earth, Moon (NGSS.1.ESS1.1)","Scientific Investigations (NGSS.1.ETS1.1)","Review and Assess (NGSS.1.ESS2.2)"],"Grade 2":["Earths Systems: Weather and Water (NGSS.2.ESS2.1)","Plants and Animals: Interactions (NGSS.2.LS2.1)","Matter and Its Properties (NGSS.2.PS1.1)","Energy: Heat and Light (NGSS.2.PS3.1)","Forces and Motion: Pushes and Pulls (NGSS.2.PS2.1)","Earths Resources: Usage and Conservation (NGSS.2.ESS3.1)","Simple Machines: Lever and Incline (NGSS.2.PS2.3)","Sound and Light: Production and Propagation (NGSS.2.PS4.2)","Space Systems: Patterns and Cycles (NGSS.2.ESS1.1)","Review and Assess (NGSS.2.ESS2.2)"],"Grade 3":["Weather and Climate: Patterns and Predictions (NGSS.3.ESS2.1)","Ecosystems: Interactions and Dynamics (NGSS.3.LS2.1)","Structure and Properties of Matter (NGSS.3.PS1.1)","Energy: Conservation and Transfer (NGSS.3.PS3.2)","Forces and Motion: Speed and Direction (NGSS.3.PS2.4)","Earths Resources: Renewable and Nonrenewable (NGSS.3.ESS3.1)","Simple Machines: Pulley and Wheel (NGSS.3.PS2.3)","Sound and Light: Reflection and Absorption (NGSS.3.PS4.5)","Space Systems: Earths Place in the Universe (NGSS.3.ESS1.1)","Review and Assess (NGSS.3.ESS2.2)"],"Grade 4":["Earths Systems: Processes and Changes (NGSS.4.ESS2.1)","Organisms and Populations: Adaptations (NGSS.4.LS1.1)","Matter: Atoms and Molecules (NGSS.4.PS1.1)","Energy: Forms and Uses (NGSS.4.PS3.1)","Forces and Motion: Balanced and Unbalanced (NGSS.4.PS2.1)","Earths Resources: Impact of Human Activity (NGSS.4.ESS3.2)","Simple Machines: Mechanical Advantage (NGSS.4.PS2.4)","Sound and Light: Waves and Information (NGSS.4.PS4.3)","Space Systems: The Solar System (NGSS.4.ESS1.2)","Review and Assess (NGSS.4.ESS2.2)"],"Grade 5":["Earths Systems: Weather and Climate (NGSS.5.ESS2.1)","Ecosystems: Biodiversity and Stability (NGSS.5.LS2.1)","Matter and Its Interactions (NGSS.5.PS1.1)","Energy: Electrical and Magnetic (NGSS.5.PS3.2)","Forces and Motion: Friction and Gravity (NGSS.5.PS2.4)","Earths Resources: Conservation and Sustainability (NGSS.5.ESS3.1)","Simple Machines: Types and Uses (NGSS.5.PS2.3)","Sound and Light: Properties and Applications (NGSS.5.PS4.2)","Space Systems: The Universe and Its Stars (NGSS.5.ESS1.1)","Review and Assess (NGSS.5.ESS2.2)"],"Grade 6":["Earths Systems: Plate Tectonics and Earthquakes (NGSS.6.ESS2.1)","Organisms: Structure and Function (NGSS.6.LS1.1)","Matter: Properties and Changes (NGSS.6.PS1.1)","Energy: Conservation and Transfer (NGSS.6.PS3.2)","Forces and Motion: Newtons Laws (NGSS.6.PS2.4)","Earths Resources: Natural Resources and Human Impact (NGSS.6.ESS3.2)","Simple Machines: Work and Efficiency (NGSS.6.PS2.3)","Sound and Light: Behavior and Effects (NGSS.6.PS4.3)","Space Systems: The Solar System and Beyond (NGSS.6.ESS1.2)","Review and Assess (NGSS.6.ESS2.2)"],"Grade 7":["Earths Systems: Weather and Climate (NGSS.7.ESS2.1)","Ecosystems: Interactions and Energy Flow (NGSS.7.LS2.1)","Cells: Structure and Function (NGSS.7.LS1.1)","Genetics: Inheritance and Variation (NGSS.7.LS3.1)","Matter: Conservation and Chemical Reactions (NGSS.7.PS1.2)","Energy: Forms, Transfer, and Conservation (NGSS.7.PS3.1)","Forces and Motion: Dynamics and Stability (NGSS.7.PS2.2)","Earths Resources: Usage and Management (NGSS.7.ESS3.1)","Simple Machines: Principles and Applications (NGSS.7.PS2.4)","Sound and Light: Waves and Technology (NGSS.7.PS4.4)","Space Systems: The Universe and Its Stars (NGSS.7.ESS1.1)","Review and Assess (NGSS.7.ESS2.2)"],"Grade 8":["Earths Systems: Structure and Processes (NGSS.8.ESS2.1)","Organisms: Function and Regulation (NGSS.8.LS1.1)","Reproduction and Development: From Cells to Organisms (NGSS.8.LS1.2)","Heredity: Traits and Variations (NGSS.8.LS3.1)","Matter: Properties, States, and Changes (NGSS.8.PS1.1)","Energy: Transfer and Transformation (NGSS.8.PS3.2)","Forces and Motion: Relationships and Effects (NGSS.8.PS2.1)","Earths Resources: Renewable and Nonrenewable (NGSS.8.ESS3.1)","Simple Machines: Mechanical Advantage and Efficiency (NGSS.8.PS2.3)","Sound and Light: Production, Propagation, and Detection (NGSS.8.PS4.2)","Space Systems: The Solar System and Exoplanets (NGSS.8.ESS1.2)","Review and Assess (NGSS.8.ESS2.2)"],"Grade 9":["Biological Macromolecules: Structure and Function (NGSS.HS.LS1-1)","Cellular Processes: Energy and Communication (NGSS.HS.LS1-2)","Genetics: DNA, Genes, and Chromosomes (NGSS.HS.LS3-1)","Evolution: Natural Selection and Adaptation (NGSS.HS.LS4-2)","Ecology: Ecosystems and Biomes (NGSS.HS.LS2-2)","Matter and Energy: Chemical Reactions (NGSS.HS.PS1-2)","Forces and Motion: Newtons Laws (NGSS.HS.PS2-1)","Waves: Properties and Applications (NGSS.HS.PS4-1)","Earth and Space: The Universe and Its Stars (NGSS.HS.ESS1-1)","Review and Assess (NGSS.HS.ESS2-2)"],"Grade 10":["Biochemistry: Structure and Function of Macromolecules (NGSS.HS.LS1-1)","Cell Biology: Organelles and Their Functions (NGSS.HS.LS1-2)","Genetics: Patterns of Inheritance (NGSS.HS.LS3-2)","Evolution: Evidence and Mechanisms (NGSS.HS.LS4-4)","Ecology: Populations and Communities (NGSS.HS.LS2-4)","Chemistry: Properties and Changes of Matter (NGSS.HS.PS1-3)","Physics: Forces, Motion, and Energy (NGSS.HS.PS2-4)","Waves: Sound and Light (NGSS.HS.PS4-3)","Earth and Space Science: The Solar System (NGSS.HS.ESS1-2)","Review and Assess (NGSS.HS.ESS2-4)"],"Grade 11":["Molecular Biology: DNA Replication and Repair (NGSS.HS.LS1-3)","Cellular Respiration and Photosynthesis (NGSS.HS.LS1-4)","Genetics: Biotechnology and Genomics (NGSS.HS.LS3-3)","Evolution: Speciation and Extinction (NGSS.HS.LS4-5)","Ecology: Ecosystem Dynamics and Human Impact (NGSS.HS.LS2-7)","Chemistry: Chemical Reactions and Stoichiometry (NGSS.HS.PS1-5)","Physics: Work, Energy, and Power (NGSS.HS.PS3-5)","Waves: Electromagnetic Spectrum and Applications (NGSS.HS.PS4-4)","Earth and Space Science: The Universe (NGSS.HS.ESS1-3)","Review and Assess (NGSS.HS.ESS2-5)"],"Grade 12":["Advanced Topics in Biology: Cell Signaling and Cancer (NGSS.HS.LS1-5)","Human Body Systems: Structure and Function (NGSS.HS.LS1-6)","Genetics: Evolutionary Genetics and Genomics (NGSS.HS.LS3-4)","Ecology: Global Climate Change (NGSS.HS.LS2-8)","Chemistry: Organic Chemistry and Biochemistry (NGSS.HS.PS1-6)","Physics: Circular Motion and Gravitation (NGSS.HS.PS2-5)","Waves: Quantum Theory and Applications (NGSS.HS.PS4-5)","Earth and Space Science: Earths Place in the Universe (NGSS.HS.ESS1-4)","Review and Assessment (NGSS.HS.ESS2-6)"]},Ee=t in _e?t:"PreK";return _e[Ee][(xe-1)%_e[Ee].length]}if(e==="English"){const _e={PreK:["Letter Sounds (CCSS.ELA-LITERACY.RF.PK.1)","Rhyming Words (CCSS.ELA-LITERACY.RF.PK.2)","Story Time (CCSS.ELA-LITERACY.RL.PK.1)","Speaking and Listening (CCSS.ELA-LITERACY.SL.PK.1)","Drawing and Dictating (CCSS.ELA-LITERACY.W.PK.2)","Names and Letters (CCSS.ELA-LITERACY.L.PK.1)","Picture Books (CCSS.ELA-LITERACY.RL.PK.2)","Songs and Poems (CCSS.ELA-LITERACY.RL.PK.5)","Favorite Stories (CCSS.ELA-LITERACY.RL.PK.10)","Review and Share (CCSS.ELA-LITERACY.SL.PK.6)"],Kindergarten:["Identifying Letters and Sounds (CCSS.ELA-LITERACY.RF.K.1)","Blending Sounds to Read (CCSS.ELA-LITERACY.RF.K.2)","Reading High-Frequency Words (CCSS.ELA-LITERACY.RF.K.3)","Understanding Story Structure (CCSS.ELA-LITERACY.RL.K.1)","Writing Simple Sentences (CCSS.ELA-LITERACY.W.K.2)","Participating in Discussions (CCSS.ELA-LITERACY.SL.K.1)","Using Capitalization and Punctuation (CCSS.ELA-LITERACY.L.K.1)","Expanding Vocabulary (CCSS.ELA-LITERACY.L.K.4)","Rhymes and Alliteration (CCSS.ELA-LITERACY.RF.K.2)","Review and Assessment (CCSS.ELA-LITERACY.RF.K.4)"],"Grade 1":["Short Vowels and Consonants (CCSS.ELA-LITERACY.RF.1.1)","Digraphs and Blends (CCSS.ELA-LITERACY.RF.1.2)","Reading Comprehension: Key Details (CCSS.ELA-LITERACY.RL.1.1)","Writing: Opinion Pieces (CCSS.ELA-LITERACY.W.1.1)","Speaking: Informative Topics (CCSS.ELA-LITERACY.SL.1.4)","Nouns, Verbs, and Adjectives (CCSS.ELA-LITERACY.L.1.1)","Synonyms and Antonyms (CCSS.ELA-LITERACY.L.1.5)","Reading Fluency: Accuracy and Rate (CCSS.ELA-LITERACY.RF.1.4)","Story Elements: Character, Setting, Plot (CCSS.ELA-LITERACY.RL.1.3)","Review and Assessment (CCSS.ELA-LITERACY.RL.1.10)"],"Grade 2":["Long Vowels and Diphthongs (CCSS.ELA-LITERACY.RF.2.1)","Syllables and Affixes (CCSS.ELA-LITERACY.RF.2.3)","Reading Comprehension: Main Idea and Details (CCSS.ELA-LITERACY.RL.2.2)","Writing: Informative/Explanatory Texts (CCSS.ELA-LITERACY.W.2.2)","Speaking: Collaborative Discussions (CCSS.ELA-LITERACY.SL.2.1)","Pronouns and Prepositions (CCSS.ELA-LITERACY.L.2.1)","Homophones and Homographs (CCSS.ELA-LITERACY.L.2.5)","Reading Fluency: Expression and Phrasing (CCSS.ELA-LITERACY.RF.2.4)","Text Features and Their Functions (CCSS.ELA-LITERACY.RI.2.5)","Review and Assessment (CCSS.ELA-LITERACY.RI.2.10)"],"Grade 3":["R-controlled Vowels (CCSS.ELA-LITERACY.RF.3.1)","Prefixes and Suffixes (CCSS.ELA-LITERACY.RF.3.3)","Reading Comprehension: Text Structure (CCSS.ELA-LITERACY.RL.3.5)","Writing: Narrative Techniques (CCSS.ELA-LITERACY.W.3.3)","Speaking: Effective Communication (CCSS.ELA-LITERACY.SL.3.6)","Adverbs and Adjectives (CCSS.ELA-LITERACY.L.3.1)","Contractions and Possessives (CCSS.ELA-LITERACY.L.3.2)","Reading Fluency: Self-Correction and Monitoring (CCSS.ELA-LITERACY.RF.3.4)","Summarizing and Paraphrasing (CCSS.ELA-LITERACY.RL.3.2)","Review and Assessment (CCSS.ELA-LITERACY.RL.3.10)"],"Grade 4":["Vowel Patterns and Syllable Division (CCSS.ELA-LITERACY.RF.4.1)","Greek and Latin Roots (CCSS.ELA-LITERACY.RF.4.3)","Reading Comprehension: Inference and Evidence (CCSS.ELA-LITERACY.RL.4.1)","Writing: Opinion and Argumentative Essays (CCSS.ELA-LITERACY.W.4.1)","Speaking: Presentation Skills (CCSS.ELA-LITERACY.SL.4.4)","Complex Sentences and Clauses (CCSS.ELA-LITERACY.L.4.1)","Figurative Language: Metaphors and Similes (CCSS.ELA-LITERACY.L.4.5)","Reading Fluency: Rate and Expression (CCSS.ELA-LITERACY.RF.4.4)","Comparing and Contrasting Texts (CCSS.ELA-LITERACY.RI.4.9)","Review and Assessment (CCSS.ELA-LITERACY.RI.4.10)"],"Grade 5":["Diphthongs and Complex Vowel Sounds (CCSS.ELA-LITERACY.RF.5.1)","Word Roots and Affixes (CCSS.ELA-LITERACY.RF.5.3)","Reading Comprehension: Theme and Central Idea (CCSS.ELA-LITERACY.RL.5.2)","Writing: Informative/Explanatory Essays (CCSS.ELA-LITERACY.W.5.2)","Speaking: Effective Discussion Skills (CCSS.ELA-LITERACY.SL.5.1)","Phrases and Clauses (CCSS.ELA-LITERACY.L.5.1)","Context Clues and Word Relationships (CCSS.ELA-LITERACY.L.5.4)","Reading Fluency: Expression and Intonation (CCSS.ELA-LITERACY.RF.5.4)","Analyzing Text Structure and Authors Purpose (CCSS.ELA-LITERACY.RI.5.6)","Review and Assessment (CCSS.ELA-LITERACY.RI.5.10)"],"Grade 6":["Greek and Latin Roots in Academic Vocabulary (CCSS.ELA-LITERACY.RF.6.3)","Affixes and Word Formation (CCSS.ELA-LITERACY.RF.6.4)","Reading Comprehension: Analyzing Characters and Events (CCSS.ELA-LITERACY.RL.6.3)","Writing: Argumentative Essays with Evidence (CCSS.ELA-LITERACY.W.6.1)","Speaking: Engaging in Collaborative Discussions (CCSS.ELA-LITERACY.SL.6.1)","Independent and Dependent Clauses (CCSS.ELA-LITERACY.L.6.1)","Nuances in Word Meanings (CCSS.ELA-LITERACY.L.6.5)","Reading Fluency: Monitoring and Self-Correcting (CCSS.ELA-LITERACY.RF.6.4)","Comparing Texts from Different Cultures (CCSS.ELA-LITERACY.RI.6.9)","Review and Assessment (CCSS.ELA-LITERACY.RI.6.10)"],"Grade 7":["Latin and Greek Roots in Scientific Terms (CCSS.ELA-LITERACY.RF.7.3)","Word Relationships and Nuances (CCSS.ELA-LITERACY.RF.7.4)","Reading Comprehension: Analyzing Text Features (CCSS.ELA-LITERACY.RL.7.5)","Writing: Research Reports and Presentations (CCSS.ELA-LITERACY.W.7.7)","Speaking: Formal and Informal Language (CCSS.ELA-LITERACY.SL.7.6)","Active and Passive Voice (CCSS.ELA-LITERACY.L.7.1)","Shades of Meaning: Words with Similar Denotations (CCSS.ELA-LITERACY.L.7.5)","Reading Fluency: Prosody and Pacing (CCSS.ELA-LITERACY.RF.7.4)","Evaluating Arguments and Claims in Texts (CCSS.ELA-LITERACY.RI.7.8)","Review and Assessment (CCSS.ELA-LITERACY.RI.7.10)"],"Grade 8":["Roots and Affixes in Complex Words (CCSS.ELA-LITERACY.RF.8.3)","Figurative Language and Literary Devices (CCSS.ELA-LITERACY.RF.8.4)","Reading Comprehension: Analyzing Theme and Structure (CCSS.ELA-LITERACY.RL.8.2)","Writing: Narrative and Descriptive Techniques (CCSS.ELA-LITERACY.W.8.3)","Speaking: Persuasive Presentations (CCSS.ELA-LITERACY.SL.8.4)","Sentence Structure and Punctuation (CCSS.ELA-LITERACY.L.8.2)","Connotations and Denotations (CCSS.ELA-LITERACY.L.8.5)","Reading Fluency: Accuracy and Expression (CCSS.ELA-LITERACY.RF.8.4)","Analyzing Authors Purpose and Perspective (CCSS.ELA-LITERACY.RI.8.6)","Review and Assessment (CCSS.ELA-LITERACY.RI.8.10)"],"Grade 9":["Analyzing Literary Texts: Themes and Motifs (CCSS.ELA-LITERACY.RL.9-10.2)","Writing: Argumentative and Informative Essays (CCSS.ELA-LITERACY.W.9-10.1)","Speaking: Effective Communication in Discussions (CCSS.ELA-LITERACY.SL.9-10.1)","Vocabulary: Academic and Domain-Specific Words (CCSS.ELA-LITERACY.L.9-10.6)","Reading Fluency: Rate, Accuracy, and Expression (CCSS.ELA-LITERACY.RF.9-10.4)","Analyzing Authors Choices and Their Impact (CCSS.ELA-LITERACY.RL.9-10.3)","Review and Assessment (CCSS.ELA-LITERACY.RL.9-10.10)"],"Grade 10":["Literary Analysis: Character, Setting, and Plot (CCSS.ELA-LITERACY.RL.9-10.3)","Writing: Narrative and Descriptive Techniques (CCSS.ELA-LITERACY.W.9-10.3)","Speaking: Presenting Arguments and Supporting Ideas (CCSS.ELA-LITERACY.SL.9-10.4)","Vocabulary: Context Clues and Word Origins (CCSS.ELA-LITERACY.L.9-10.4)","Reading Fluency: Expression, Intonation, and Phrasing (CCSS.ELA-LITERACY.RF.9-10.4)","Analyzing Multiple Texts: Comparing and Contrasting (CCSS.ELA-LITERACY.RI.9-10.9)","Review and Assessment (CCSS.ELA-LITERACY.RI.9-10.10)"],"Grade 11":["Analyzing Complex Characters and Development (CCSS.ELA-LITERACY.RL.11-12.3)","Writing: Research-Based Argument Essays (CCSS.ELA-LITERACY.W.11-12.1)","Speaking: Engaging in Collaborative Discussions (CCSS.ELA-LITERACY.SL.11-12.1)","Vocabulary: Nuances and Connotations (CCSS.ELA-LITERACY.L.11-12.5)","Reading Fluency: Rate, Accuracy, and Expression (CCSS.ELA-LITERACY.RF.11-12.4)","Analyzing Themes and Central Ideas (CCSS.ELA-LITERACY.RL.11-12.2)","Review and Assessment (CCSS.ELA-LITERACY.RL.11-12.10)"],"Grade 12":["Analyzing Sophisticated Texts: Themes and Arguments (CCSS.ELA-LITERACY.RL.11-12.2)","Writing: Synthesis and Research-Based Essays (CCSS.ELA-LITERACY.W.11-12.7)","Speaking: Presenting Ideas and Supporting Evidence (CCSS.ELA-LITERACY.SL.11-12.4)","Vocabulary: Academic and Technical Words (CCSS.ELA-LITERACY.L.11-12.6)","Reading Fluency: Expression, Intonation, and Phrasing (CCSS.ELA-LITERACY.RF.11-12.4)","Evaluating Arguments and Claims in Texts (CCSS.ELA-LITERACY.RI.11-12.8)","Review and Assessment (CCSS.ELA-LITERACY.RI.11-12.10)"]},Ee=t in _e?t:"PreK";return _e[Ee][(xe-1)%_e[Ee].length]}if(e==="History"){const _e={PreK:["My Family (C3.D2.HIS.PK.1)","My School (C3.D2.CIV.PK.1)","Community Helpers (C3.D2.CIV.PK.2)","Maps and Places (C3.D2.GEO.PK.1)","Holidays and Traditions (C3.D2.HIS.PK.2)","Rules and Fairness (C3.D2.CIV.PK.3)","Past and Present (C3.D2.HIS.PK.3)","Symbols (C3.D2.CIV.PK.4)","Celebrations (C3.D2.HIS.PK.4)","Review and Share (C3.D2.HIS.PK.5)"],Kindergarten:["Family and Community (C3.D2.HIS.K.1)","School and Neighborhood (C3.D2.CIV.K.1)","Helpers in the Community (C3.D2.CIV.K.2)","Maps and Globes (C3.D2.GEO.K.1)","Holidays and Traditions (C3.D2.HIS.K.2)","Rules and Responsibilities (C3.D2.CIV.K.3)","Then and Now: Past and Present (C3.D2.HIS.K.3)","National Symbols and Songs (C3.D2.CIV.K.4)","Celebrations and Events (C3.D2.HIS.K.4)","Review and Reflect (C3.D2.HIS.K.5)"],"Grade 1":["My Family and Me (C3.D2.HIS.1.1)","Neighborhoods and Communities (C3.D2.CIV.1.1)","Community Helpers and Jobs (C3.D2.CIV.1.2)","Maps and Directions (C3.D2.GEO.1.1)","Holidays and Celebrations (C3.D2.HIS.1.2)","Rules and Laws (C3.D2.CIV.1.3)","Then and Now: Changes Over Time (C3.D2.HIS.1.3)","American Symbols and Monuments (C3.D2.CIV.1.4)","Celebrations Around the World (C3.D2.HIS.1.4)","Review and Assessment (C3.D2.HIS.1.5)"],"Grade 2":["Families and Communities: Past and Present (C3.D2.HIS.2.1)","Roles and Responsibilities in the Community (C3.D2.CIV.2.1)","Goods and Services: Producers and Consumers (C3.D2.Econ.2.1)","Maps and Their Uses (C3.D2.GEO.2.1)","Holidays and Celebrations: History and Significance (C3.D2.HIS.2.2)","Rights and Responsibilities of Citizens (C3.D2.CIV.2.2)","Changes in the Community Over Time (C3.D2.HIS.2.3)","National Symbols and Their Meaning (C3.D2.CIV.2.3)","Cultural Celebrations and Traditions (C3.D2.HIS.2.4)","Review and Assessment (C3.D2.HIS.2.5)"],"Grade 3":["Communities: Similarities and Differences (C3.D2.HIS.3.1)","Citizenship and Civic Engagement (C3.D2.CIV.3.1)","Economic Systems: Needs, Wants, and Choices (C3.D2.Econ.3.1)","Geographic Tools and Patterns (C3.D2.GEO.3.1)","Historical Figures and Events (C3.D2.HIS.3.2)","Rights and Responsibilities: Civic Life (C3.D2.CIV.3.2)","Local History: The Community Over Time (C3.D2.HIS.3.3)","Symbols and Holidays: Shared Heritage (C3.D2.CIV.3.3)","Global Connections: Our Place in the World (C3.D2.HIS.3.4)","Review and Assessment (C3.D2.HIS.3.5)"],"Grade 4":["Regions and Cultures: Diversity and Unity (C3.D2.HIS.4.1)","Government and Civic Engagement (C3.D2.CIV.4.1)","Economic Principles: Supply and Demand (C3.D2.Econ.4.1)","Maps and Spatial Understanding (C3.D2.GEO.4.1)","Colonial America: Settlement and Growth (C3.D2.HIS.4.2)","Rights and Responsibilities: Participation and Advocacy (C3.D2.CIV.4.2)","Historical Changes: Continuity and Change (C3.D2.HIS.4.3)","Symbols, Monuments, and Holidays: National Identity (C3.D2.CIV.4.3)","Global Interactions: Trade and Cultural Exchange (C3.D2.HIS.4.4)","Review and Assessment (C3.D2.HIS.4.5)"],"Grade 5":["Exploration and Colonization: Motivations and Consequences (C3.D2.HIS.5.1)","Revolution and Independence: Causes and Effects (C3.D2.CIV.5.1)","Foundations of Government: Principles and Documents (C3.D2.Econ.5.1)","Geography and Early Settlement Patterns (C3.D2.GEO.5.1)","The American Revolution: Key Events and Figures (C3.D2.HIS.5.2)","Rights and Responsibilities: Civic Participation (C3.D2.CIV.5.2)","The Constitution: Principles and Amendments (C3.D2.HIS.5.3)","Symbols and Holidays: Reflection of National Values (C3.D2.CIV.5.3)","Global Perspectives: Historical Connections (C3.D2.HIS.5.4)","Review and Assessment (C3.D2.HIS.5.5)"],"Grade 6":["The Ancient World: Civilizations and Empires (C3.D2.HIS.6.1)","Government Systems: Structures and Functions (C3.D2.CIV.6.1)","Economic Concepts: Trade, Resources, and Scarcity (C3.D2.Econ.6.1)","Geographic Understanding: Regions and Cultures (C3.D2.GEO.6.1)","Classical Civilizations: Contributions and Legacies (C3.D2.HIS.6.2)","Rights and Responsibilities: Civic Ideals and Practices (C3.D2.CIV.6.2)","Historical Inquiry: Analyzing Sources and Evidence (C3.D2.HIS.6.3)","Symbols and Monuments: Commemoration and Controversy (C3.D2.CIV.6.3)","Global Interactions: Empires and Trade Networks (C3.D2.HIS.6.4)","Review and Assessment (C3.D2.HIS.6.5)"],"Grade 7":["The Middle Ages: Societies and Cultures (C3.D2.HIS.7.1)","Feudalism and the Manor System (C3.D2.CIV.7.1)","Economic Systems: Barter and Trade (C3.D2.Econ.7.1)","Geographic Influence: Landforms and Resources (C3.D2.GEO.7.1)","The Renaissance: Ideas and Innovations (C3.D2.HIS.7.2)","Rights and Responsibilities: Civic Participation in a Democracy (C3.D2.CIV.7.2)","Revolutionary Ideas: Enlightenment and Independence (C3.D2.HIS.7.3)","Symbols and Holidays: Cultural Heritage and Identity (C3.D2.CIV.7.3)","Global Connections: Exploration and Colonization (C3.D2.HIS.7.4)","Review and Assessment (C3.D2.HIS.7.5)"],"Grade 8":["The Age of Revolutions: Causes and Consequences (C3.D2.HIS.8.1)","Democracy and the American Revolution (C3.D2.CIV.8.1)","Industrialization and Economic Change (C3.D2.Econ.8.1)","Geography: Human-Environment Interaction (C3.D2.GEO.8.1)","The Enlightenment: Ideas and Impact (C3.D2.HIS.8.2)","Rights and Responsibilities: Civic Engagement and the Common Good (C3.D2.CIV.8.2)","The French and Indian War: Causes and Effects (C3.D2.HIS.8.3)","Symbols and Holidays: National Identity and Unity (C3.D2.CIV.8.3)","Global Interactions: Trade, Conflict, and Cooperation (C3.D2.HIS.8.4)","Review and Assessment (C3.D2.HIS.8.5)"],"Grade 9":["The Enlightenment and Revolution (C3.D2.HIS.9.1)","The American Revolution: A New Nation (C3.D2.CIV.9.1)","The Industrial Revolution: Transformations and Innovations (C3.D2.Econ.9.1)","Geography: Patterns and Processes (C3.D2.GEO.9.1)","The French Revolution: Causes and Outcomes (C3.D2.HIS.9.2)","Rights and Responsibilities: Civic Participation in a Republic (C3.D2.CIV.9.2)","The Haitian Revolution: A Fight for Freedom (C3.D2.HIS.9.3)","Symbols and Holidays: Reflection of Values and Beliefs (C3.D2.CIV.9.3)","Global Connections: Imperialism and Resistance (C3.D2.HIS.9.4)","Review and Assessment (C3.D2.HIS.9.5)"],"Grade 10":["The Age of Revolutions: Atlantic Revolutions (C3.D2.HIS.10.1)","The American Revolution: Ideals and Outcomes (C3.D2.CIV.10.1)","The Industrial Revolution: Economic and Social Impact (C3.D2.Econ.10.1)","Geography: Spatial Analysis and Interpretation (C3.D2.GEO.10.1)","The Haitian Revolution: Causes and Consequences (C3.D2.HIS.10.2)","Rights and Responsibilities: Civic Engagement in a Democracy (C3.D2.CIV.10.2)","The French Revolution: Liberty, Equality, Fraternity (C3.D2.HIS.10.3)","Symbols and Holidays: Nationalism and Identity (C3.D2.CIV.10.3)","Global Interactions: World War I and Its Aftermath (C3.D2.HIS.10.4)","Review and Assessment (C3.D2.HIS.10.5)"],"Grade 11":["The Age of Revolutions: Political and Social Change (C3.D2.HIS.11.1)","The American Revolution: A New Nation and Its Challenges (C3.D2.CIV.11.1)","The Industrial Revolution: Transformations in Industry and Society (C3.D2.Econ.11.1)","Geography: Human Impact on the Environment (C3.D2.GEO.11.1)","The Haitian Revolution: A Struggle for Freedom and Equality (C3.D2.HIS.11.2)","Rights and Responsibilities: Civic Participation and the Common Good (C3.D2.CIV.11.2)","The French Revolution: Causes, Events, and Consequences (C3.D2.HIS.11.3)","Symbols and Holidays: Cultural Significance and National Identity (C3.D2.CIV.11.3)","Global Connections: World War II and Its Aftermath (C3.D2.HIS.11.4)","Review and Assessment (C3.D2.HIS.11.5)"],"Grade 12":["The Age of Revolutions: Global Perspectives (C3.D2.HIS.12.1)","The American Revolution: Ideals and Realities (C3.D2.CIV.12.1)","The Industrial Revolution: A Global Perspective (C3.D2.Econ.12.1)","Geography: Global Patterns of Trade and Development (C3.D2.GEO.12.1)","The Haitian Revolution: Impact and Legacy (C3.D2.HIS.12.2)","Rights and Responsibilities: Civic Engagement in a Global Context (C3.D2.CIV.12.2)","The French Revolution: Revolutionary Ideas and Their Global Impact (C3.D2.HIS.12.3)","Symbols and Holidays: Reflection of Cultural Values (C3.D2.CIV.12.3)","Global Interactions: The Cold War and Its Aftermath (C3.D2.HIS.12.4)","Review and Assessment (C3.D2.HIS.12.5)"]},Ee=t in _e?t:"PreK";return _e[Ee][(xe-1)%_e[Ee].length]}return`Core Topic ${xe}`}function getLessonDuration(t){return t==="PreK"||t==="Kindergarten"?"25 minutes":t.startsWith("Grade 1")||t.startsWith("Grade 2")?"30 minutes":t.startsWith("Grade")?"45 minutes":"40 minutes"}function getLessonPrerequisites(t,e,xe){return xe===1?[]:[`Complete Lesson ${xe-1}`]}function getTeacherNotes(t,e,xe){return e==="Math"?"Use manipulatives and visual aids.":e==="Science"?"Encourage hands-on exploration.":e==="English"?"Read aloud and encourage participation.":e==="History"?"Connect topics to students lives.":""}function getLearningObjectives(t,e,xe){return e==="Math"?[`Understand and apply concepts of ${getLessonTitle(t,e,xe)}.`,"Solve problems using learned strategies.","Demonstrate understanding through activities and assessment."]:e==="Science"?[`Explore and describe ${getLessonTitle(t,e,xe)}.`,"Ask questions and make observations.","Participate in simple experiments."]:e==="English"?[`Read, write, and discuss ${getLessonTitle(t,e,xe)}.`,"Build vocabulary and comprehension.","Demonstrate understanding through writing and speaking."]:e==="History"?[`Learn about ${getLessonTitle(t,e,xe)}.`,"Connect history to personal experience.","Share ideas and ask questions."]:[`Master ${getLessonTitle(t,e,xe)}.`]}function getLessonContent(t,e,xe){return e==="Math"?`In this lesson, you will learn about ${getLessonTitle(t,e,xe)}. Practice with examples and solve problems to build your skills.`:e==="Science"?`Explore the topic: ${getLessonTitle(t,e,xe)}. Observe, ask questions, and try a simple experiment or activity.`:e==="English"?`Read and write about ${getLessonTitle(t,e,xe)}. Practice with stories, poems, and writing exercises.`:e==="History"?`Learn about ${getLessonTitle(t,e,xe)}. Discuss with your class and complete a related project or activity.`:`Engage with the topic: ${getLessonTitle(t,e,xe)}.`}function getLessonVideos(t,e,xe){return[{id:`${t}-${e}-Lesson-${xe}-Video-1`,title:`${getLessonTitle(t,e,xe)} - Instructional Video`,url:`https://example.com/${t.toLowerCase().replace(/ /g,"")}/${e.toLowerCase()}/lesson${xe}/video1.mp4`,description:`A video lesson on ${getLessonTitle(t,e,xe)}.`}]}function getLessonActivities(t,e,xe){if(e==="Math"){const _e=[{title:"Counting Objects Scavenger Hunt",type:"hands-on",description:"Find 10 small objects in your house or classroom. Count them out loud. Group them by color or size. Draw a picture of your groups."},{title:"Addition Card Game",type:"game",description:"Use a deck of cards. Draw two cards and add the numbers together. Whoever gets the highest sum wins a point!"},{title:"Shape Sorting Challenge",type:"hands-on",description:"Cut out paper shapes (circle, square, triangle, rectangle). Sort them by shape and color. Glue them on a poster."},{title:"Math Story Drawing",type:"creative",description:"Draw a picture that tells a math story (e.g., 3 cats in a tree, 2 more join). Write the number sentence."},{title:"Measurement Hunt",type:"exploration",description:"Use a ruler or string to measure objects around you. Record the lengths and compare."},{title:"Pattern Necklace",type:"craft",description:"Make a necklace using beads or pasta. Create a repeating pattern (e.g., red-blue-red-blue). Show your pattern to a friend."},{title:"Time Telling Relay",type:"game",description:"Draw clock faces showing different times. Race to match the time cards to the correct clocks."},{title:"Money Match",type:"hands-on",description:"Use play money or real coins. Match the correct amount to price tags on classroom items."},{title:"Fraction Pizza",type:"craft",description:"Make a paper pizza and cut it into equal slices. Show halves, quarters, and thirds."},{title:"Math Jeopardy",type:"game",description:"Play a math review game with questions from the unit. Teams earn points for correct answers."}];return[{id:`${t}-${e}-Lesson-${xe}-Activity-1`,..._e[(xe-1)%_e.length]}]}if(e==="Science"){const _e=[{title:"Plant a Seed",type:"experiment",description:"Plant a seed in a cup of soil. Water it and place it in sunlight. Observe and draw its growth each day."},{title:"Weather Journal",type:"observation",description:"Keep a daily weather journal. Draw the sky and record temperature, wind, and precipitation."},{title:"Build a Mini Volcano",type:"experiment",description:"Use baking soda and vinegar to make a volcano erupt. Draw and label the parts of your volcano."},{title:"Shadow Tracking",type:"observation",description:"Go outside at different times of day. Trace your shadow with chalk. How does it change?"},{title:"Sink or Float",type:"experiment",description:"Test different objects in water. Predict and record which will sink or float."},{title:"Animal Habitat Diorama",type:"craft",description:"Create a shoebox diorama of an animal habitat. Include plants, animals, and water."},{title:"Simple Circuit",type:"experiment",description:"Use a battery, wire, and bulb to make a simple circuit. Draw your circuit and explain how it works."},{title:"Rock Collection",type:"exploration",description:"Collect rocks from outside. Sort them by color, size, and texture. Research and label each type."},{title:"Water Cycle in a Bag",type:"experiment",description:"Draw the water cycle on a plastic bag. Add water and tape it to a window. Watch evaporation and condensation."},{title:"Science Fair Project",type:"project",description:"Choose a science question. Plan and conduct an experiment. Present your results to the class."}];return[{id:`${t}-${e}-Lesson-${xe}-Activity-1`,..._e[(xe-1)%_e.length]}]}if(e==="English"){const _e=[{title:"Story Retelling Puppet Show",type:"creative",description:"Make puppets for the characters in a story. Retell the story using your puppets."},{title:"Word Family Sort",type:"game",description:"Sort word cards into families (e.g., -at, -an, -it). Read each word aloud."},{title:"Poetry Reading",type:"performance",description:"Choose a short poem. Practice reading it with expression. Perform for your class or family."},{title:"Letter Writing",type:"writing",description:"Write a letter to a friend or family member. Include a greeting, body, and closing."},{title:"Character Map",type:"analysis",description:"Draw a map of a story character. List their traits, actions, and feelings."},{title:"Book Cover Design",type:"art",description:"Design a new cover for your favorite book. Include the title, author, and an illustration."},{title:"Grammar Scavenger Hunt",type:"game",description:"Find examples of nouns, verbs, and adjectives in a book or around your home."},{title:"Dialogue Practice",type:"speaking",description:"Write a short conversation between two characters. Practice reading it with a partner."},{title:"Vocabulary Collage",type:"art",description:"Cut out words and pictures from magazines to make a collage of new vocabulary."},{title:"Reading Bingo",type:"game",description:"Complete a bingo card by reading different types of books or stories."}];return[{id:`${t}-${e}-Lesson-${xe}-Activity-1`,..._e[(xe-1)%_e.length]}]}if(e==="History"){const _e=[{title:"Family Tree Poster",type:"project",description:"Create a family tree poster. Include names, photos, or drawings of family members."},{title:"Community Helper Interview",type:"speaking",description:"Interview a community helper (like a firefighter or nurse). Ask about their job and share what you learned."},{title:"Map Drawing",type:"art",description:"Draw a map of your neighborhood or school. Label important places."},{title:"Timeline of My Life",type:"writing",description:"Make a timeline of important events in your life. Add pictures or drawings."},{title:"Tradition Show-and-Tell",type:"presentation",description:"Share a family or cultural tradition with your class. Bring an object or photo if you can."},{title:"Landmark Model",type:"craft",description:"Build a model of a famous landmark using blocks, clay, or recycled materials."},{title:"History Skit",type:"performance",description:"Act out a scene from history with your classmates."},{title:"Law-Making Game",type:"game",description:"Work in groups to create a classroom rule. Vote to see if it becomes a class law."},{title:"Symbol Hunt",type:"exploration",description:"Find symbols (like flags or logos) in your community. Draw and explain their meaning."},{title:"History Review Jeopardy",type:"game",description:"Play a review game with questions from the unit. Teams earn points for correct answers."}];return[{id:`${t}-${e}-Lesson-${xe}-Activity-1`,..._e[(xe-1)%_e.length]}]}return[{id:`${t}-${e}-Lesson-${xe}-Activity-1`,title:"Creative Play",type:"exploration",description:"Use blocks, art supplies, or music to create something new. Share your creation with a friend or family member."}]}function getLessonHomework(t,e,xe){return[{id:`${t}-${e}-Lesson-${xe}-Homework-1`,title:`${getLessonTitle(t,e,xe)} Homework`,description:`Complete the worksheet and practice problems for ${getLessonTitle(t,e,xe)}.`}]}function getLessonQuiz(t,e,xe){return[{id:`${t}-${e}-Lesson-${xe}-Quiz-1`,question:`What is one important thing you learned about ${getLessonTitle(t,e,xe)}?`,options:["A","B","C","D"],answer:"A",feedback:`Review the lesson on ${getLessonTitle(t,e,xe)} if you are unsure.`}]}function getLessonResources(t,e,xe){return[{type:"interactive",label:`${getLessonTitle(t,e,xe)} Interactive Activity`,url:""}]}function getLessonAttachments(t,e,xe){return[]}const curriculum=gradeNames.map(t=>{let e;return t==="PreK"?e=prekSubjects.map(xe=>xe.name):e=defaultSubjects,{grade:t,subjects:e.map(xe=>{var Se;const _e=t==="PreK"?(Se=prekSubjects.find(Ae=>Ae.name===xe))==null?void 0:Se.icon:null;let Ee=getRealLessons(t,xe);return Ee||(Ee=Array.from({length:10},(Ae,Re)=>{const Pe=Re+1,Te=Pe<=3?`Getting Started with ${xe}`:Pe<=7?`Developing ${xe} Skills`:`Advancing in ${xe}`;let Ie;return Pe<=3?Ie=Pe:Pe<=7?Ie=Pe-3:Ie=Pe-7,{id:`${t}-${xe}-Lesson-${Pe}`,title:`Lesson ${Pe}: ${Te} - Step ${Ie}`,learningObjectives:getDetailedPlaceholder(Pe,Ie,Te,"objective",0,t,xe),content:getDetailedPlaceholder(Pe,Ie,Te,"content",0,t,xe),videos:Array.from({length:2},(je,Oe)=>({id:`${t}-${xe}-Lesson-${Pe}-Video-${Oe+1}`,title:getDetailedPlaceholder(Pe,Ie,Te,"videoTitle",Oe,t,xe),url:getDetailedPlaceholder(Pe,Ie,Te,"videoUrl",Oe,t,xe)})),activities:Array.from({length:2},(je,Oe)=>({id:`${t}-${xe}-Lesson-${Pe}-Activity-${Oe+1}`,title:getDetailedPlaceholder(Pe,Ie,Te,"activityTitle",Oe,t,xe),type:getDetailedPlaceholder(Pe,Ie,Te,"activityType",Oe,t,xe)})),homework:[{id:`${t}-${xe}-Lesson-${Pe}-Homework-1`,title:getDetailedPlaceholder(Pe,Ie,Te,"homeworkTitle",0,t,xe),description:getDetailedPlaceholder(Pe,Ie,Te,"homeworkDesc",0,t,xe)}],quiz:Array.from({length:5},(je,Oe)=>({id:`${t}-${xe}-Lesson-${Pe}-Quiz-${Oe+1}`,question:getDetailedPlaceholder(Pe,Ie,Te,"quizQuestion",Oe,t,xe),options:getDetailedPlaceholder(Pe,Ie,Te,"quizOptions",Oe,t,xe),answer:getDetailedPlaceholder(Pe,Ie,Te,"quizAnswer",Oe,t,xe)}))}})),{subject:xe,icon:_e,lessons:Ee,tests:Array.from({length:2},(Ae,Re)=>({id:`${t}-${xe}-Test-Unit-${Re+1}`,title:`Unit ${Re+1} Test for ${xe}`,questions:Array.from({length:10},(Pe,Te)=>({id:`${t}-${xe}-Test-Unit-${Re+1}-Question-${Te+1}`,question:getDetailedPlaceholder(0,0,`Unit ${Re+1} Review`,"testQuestion",Te,t,xe),options:getDetailedPlaceholder(0,0,`Unit ${Re+1} Review`,"testOptions",Te,t,xe),answer:getDetailedPlaceholder(0,0,`Unit ${Re+1} Review`,"testAnswer",Te,t,xe)}))}))}})}}),CurriculumContext=reactExports.createContext(),CurriculumProvider=({children:t})=>{const{user:e}=reactExports.useContext(AuthContext),[xe,_e]=reactExports.useState({completedLessons:[]});reactExports.useEffect(()=>{if(e&&e.id)try{const Ae=localStorage.getItem(`userProgress_${e.id}`);_e(Ae?JSON.parse(Ae):{completedLessons:[]})}catch(Ae){console.error("Failed to load user progress:",Ae),_e({completedLessons:[]})}else _e({completedLessons:[]})},[e]),reactExports.useEffect(()=>{if(e&&e.id&&xe)try{localStorage.setItem(`userProgress_${e.id}`,JSON.stringify(xe))}catch(Ae){console.error("Failed to save user progress:",Ae)}},[e,xe]);const Ee=Ae=>{_e(Re=>Re.completedLessons.includes(Ae)?Re:{...Re,completedLessons:[...Re.completedLessons,Ae]})},Se=Ae=>xe.completedLessons.includes(Ae);return jsxRuntimeExports.jsx(CurriculumContext.Provider,{value:{curriculumData:curriculum,userProgress:xe,markLessonComplete:Ee,isLessonCompleted:Se,completedLessons:xe.completedLessons},children:t})},ProgressTracker=({completed:t,total:e})=>{const xe=e>0?t/e*100:0;return jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"bg-smartSchool-blue h-3",initial:{width:0},animate:{width:`${xe}%`},transition:{duration:.8}})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t,"/",e," lessons completed"]})]})},CurriculumLayout=()=>{const{grade:t,subject:e,lesson:xe}=useParams(),{curriculumData:_e,completedLessons:Ee}=reactExports.useContext(CurriculumContext),Se=[{label:"Curriculum",to:"/curriculum"}];t&&Se.push({label:t,to:`/curriculum/${encodeURIComponent(t)}`}),e&&Se.push({label:e,to:`/curriculum/${encodeURIComponent(t)}/${encodeURIComponent(e)}`}),xe&&Se.push({label:xe,to:`/curriculum/${encodeURIComponent(t)}/${encodeURIComponent(e)}/${encodeURIComponent(xe)}`});const Ae=_e.reduce((ke,Fe)=>ke+Fe.subjects.reduce((Me,De)=>Me+De.lessons.length,0),0),[Re,Pe]=React.useState(!1),[Te,Ie]=React.useState(null),je=async()=>{Pe(!0),Ie(null);try{await Promise.resolve()}catch{Ie("Failed to refresh curriculum. Please try again.")}finally{Pe(!1)}},Oe={position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"};return!_e||_e.length===0?jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 py-8",children:[jsxRuntimeExports.jsx("div",{role:"status","aria-live":"polite",style:Oe,children:Re?"Loading curriculum...":Te||""}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginTop:40},children:[jsxRuntimeExports.jsx("h2",{children:"Curriculum Not Available"}),jsxRuntimeExports.jsx("p",{children:"Please try refreshing or check back later."}),jsxRuntimeExports.jsx("button",{onClick:je,"aria-label":"Refresh curriculum",disabled:Re,style:{marginTop:16,fontSize:"1em"},children:Re?"Refreshing...":"Refresh"}),Te&&jsxRuntimeExports.jsx("div",{style:{color:"red",marginTop:12},children:Te})]})]}):jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 py-8",children:[jsxRuntimeExports.jsxs("nav",{className:"text-gray-600 mb-4","aria-label":"Breadcrumb",children:[Se.map((ke,Fe)=>jsxRuntimeExports.jsxs("span",{children:[Fe>0&&" / ",jsxRuntimeExports.jsx(Link,{to:ke.to,className:"hover:underline","aria-label":`Go to ${ke.label}`,children:ke.label})]},Fe)),jsxRuntimeExports.jsx("button",{onClick:je,style:{marginLeft:16,fontSize:"0.95em"},"aria-label":"Refresh curriculum",disabled:Re,children:Re?jsxRuntimeExports.jsx("span",{"aria-live":"polite","aria-busy":"true",children:" Refreshing..."}):"Refresh"})]}),jsxRuntimeExports.jsx("div",{role:"status","aria-live":"polite",style:Oe,children:Re?"Refreshing curriculum...":Te||""}),jsxRuntimeExports.jsx(ProgressTracker,{completed:Ee.length,total:Ae}),jsxRuntimeExports.jsx(motion.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},children:jsxRuntimeExports.jsx(Outlet,{})})]})},cardVariants$2={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},GradesPage=()=>{const{curriculumData:t}=reactExports.useContext(CurriculumContext);return jsxRuntimeExports.jsx(motion.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:t.map(e=>jsxRuntimeExports.jsx(motion.div,{variants:cardVariants$2,children:jsxRuntimeExports.jsx(Link,{to:`/curriculum/${encodeURIComponent(e.grade)}`,children:jsxRuntimeExports.jsx("div",{className:"p-6 bg-white shadow rounded-lg hover:shadow-lg transition",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-center",children:e.grade})})})},e.grade))})},cardVariants$1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},SubjectsPage=()=>{const{grade:t}=useParams(),{curriculumData:e}=reactExports.useContext(CurriculumContext),xe=e.find(_e=>_e.grade===t);return xe?jsxRuntimeExports.jsx(motion.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:xe.subjects.map(_e=>jsxRuntimeExports.jsx(motion.div,{variants:cardVariants$1,children:jsxRuntimeExports.jsx(Link,{to:`/curriculum/${encodeURIComponent(t)}/${encodeURIComponent(_e.subject)}`,children:jsxRuntimeExports.jsx("div",{className:"p-6 bg-white shadow rounded-lg hover:shadow-lg transition",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-center",children:_e.subject})})})},_e.subject))}):jsxRuntimeExports.jsx("p",{children:"Grade not found"})};function useLesson(t,e){const[xe,_e]=reactExports.useState(null),[Ee,Se]=reactExports.useState(!0);return reactExports.useEffect(()=>{!t||!e||(Se(!0),getDoc(doc(db,"students",t,"lessons",e)).then(Ae=>{_e(Ae.exists()?Ae.data():null),Se(!1)}))},[t,e]),{lesson:xe,loading:Ee}}async function generateLesson({studentId:t,lessonData:e}){const xe=await fetch(`${API_BASE$1}/api/generate-assignment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,lessonData:e})});if(!xe.ok)throw new Error("Failed to generate lesson");return await xe.json()}const cardVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},LessonsPage=()=>{const{grade:t,subject:e}=useParams(),{user:xe}=useAuth(),[_e,Ee]=reactExports.useState([]),[Se,Ae]=reactExports.useState([]),[Re,Pe]=reactExports.useState(()=>{const De=localStorage.getItem("favoriteLessons");return De?JSON.parse(De):[]}),[Te,Ie]=reactExports.useState(!0),[je,Oe]=reactExports.useState(!1),[ke,Fe]=reactExports.useState(null);reactExports.useEffect(()=>{if(!xe)return;Ie(!0),(async()=>{const Ue=collection(db,"students",xe.uid,"lessons"),We=(await getDocs(Ue)).docs.map(Ye=>({id:Ye.id,...Ye.data()})).filter(Ye=>Ye.grade===t&&Ye.subject===e);Ee(We),Ae(We.filter(Ye=>Ye.completed).map(Ye=>Ye.id)),Ie(!1)})()},[xe,t,e]);const Me=De=>{Pe(Ue=>{const ze=Ue.includes(De)?Ue.filter(We=>We!==De):[...Ue,De];return localStorage.setItem("favoriteLessons",JSON.stringify(ze)),ze})};return Te?jsxRuntimeExports.jsx("div",{children:"Loading lessons..."}):_e.length?jsxRuntimeExports.jsx(motion.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:_e.map(De=>{const Ue=Se.includes(De.id);return jsxRuntimeExports.jsx(motion.div,{variants:cardVariants,children:jsxRuntimeExports.jsxs("div",{className:`p-6 bg-white shadow rounded-lg hover:shadow-lg transition ${Ue?"bg-green-100 border border-green-500":"border border-gray-300"}`,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:De.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:De.content}),De.duration&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Duration: ",De.duration]}),De.prerequisites&&De.prerequisites.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Prerequisites: ",De.prerequisites.join(", ")]}),De.teacherNotes&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 italic mt-1",children:["Teacher Notes: ",De.teacherNotes]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[jsxRuntimeExports.jsx(Link,{to:`/curriculum/${encodeURIComponent(t)}/${encodeURIComponent(e)}/${encodeURIComponent(De.id)}`,className:`px-4 py-2 rounded font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${Ue?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,"aria-disabled":Ue?"true":"false",tabIndex:Ue?-1:0,onClick:ze=>{Ue&&ze.preventDefault()},children:Ue?"Lesson Completed":"Start Lesson"}),jsxRuntimeExports.jsx("button",{className:`ml-2 text-xl ${Re.includes(De.id)?"text-yellow-400":"text-gray-400"} hover:text-yellow-500`,title:Re.includes(De.id)?"Unfavorite":"Favorite",onClick:()=>Me(De.id),"aria-label":"Favorite lesson",type:"button",children:""})]})]})},De.id)})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"mb-4",children:"No lessons available for this subject."}),jsxRuntimeExports.jsx("button",{className:"bg-smartSchool-blue text-white px-6 py-3 rounded-lg font-semibold text-lg hover:bg-smartSchool-blue/90 disabled:opacity-60",onClick:async()=>{Oe(!0),Fe(null);try{await generateLesson({studentId:xe.uid,lessonData:{grade:t,subject:e}}),window.location.reload()}catch{Fe("Failed to generate lesson.")}finally{Oe(!1)}},disabled:je,children:je?"Generating Lesson...":"Generate AI Lesson"}),ke&&jsxRuntimeExports.jsx("p",{className:"text-red-500 mt-2",children:ke})]})};async function updateStudentProfile({student_id:t,subject:e,feedback:xe}){const _e=await fetch(`${API_BASE$1}/api/update-student-profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({student_id:t,subject:e,feedback:xe})});if(!_e.ok)throw new Error("Failed to update student profile");return await _e.json()}const LessonPage=()=>{const{grade:t,subject:e,lessonId:xe}=useParams(),{user:_e}=useAuth(),{lesson:Ee,loading:Se}=useLesson(_e==null?void 0:_e.uid,xe),[Ae,Re]=reactExports.useState(!1),[Pe,Te]=reactExports.useState(null);if(Ee==null||Ee.completed,Se)return jsxRuntimeExports.jsx("div",{children:"Loading lesson..."});if(!Ee)return jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-red-500",children:"Lesson not found"});const Ie=(_e==null?void 0:_e.profile)||{id:_e==null?void 0:_e.uid,name:_e==null?void 0:_e.name,grade:t,strengths:[],weaknesses:[],mastery:{},mood:"neutral"},je=(Ee==null?void 0:Ee.topic)||(Ee==null?void 0:Ee.title)||xe;return jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 font-sans",children:jsxRuntimeExports.jsx("div",{className:"bg-white shadow-2xl rounded-xl p-6 sm:p-10",children:jsxRuntimeExports.jsx(MultiModalLesson,{studentProfile:Ie,grade:t,subject:e,topic:je})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(t){return t+.5|0}const lim=(t,e,xe)=>Math.max(Math.min(t,xe),e);function p2b(t){return lim(round$1(t*2.55),0,255)}function n2b(t){return lim(round$1(t*255),0,255)}function b2n(t){return lim(round$1(t/2.55)/100,0,1)}function n2p(t){return lim(round$1(t*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=t=>hex$1[t&15],h2=t=>hex$1[(t&240)>>4]+hex$1[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,xe;return t[0]==="#"&&(e===4||e===5?xe={r:255&map$1$1[t[1]]*17,g:255&map$1$1[t[2]]*17,b:255&map$1$1[t[3]]*17,a:e===5?map$1$1[t[4]]*17:255}:(e===7||e===9)&&(xe={r:map$1$1[t[1]]<<4|map$1$1[t[2]],g:map$1$1[t[3]]<<4|map$1$1[t[4]],b:map$1$1[t[5]]<<4|map$1$1[t[6]],a:e===9?map$1$1[t[7]]<<4|map$1$1[t[8]]:255})),xe}const alpha$1=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha$1(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,xe){const _e=e*Math.min(xe,1-xe),Ee=(Se,Ae=(Se+t/30)%12)=>xe-_e*Math.max(Math.min(Ae-3,9-Ae,1),-1);return[Ee(0),Ee(8),Ee(4)]}function hsv2rgbn(t,e,xe){const _e=(Ee,Se=(Ee+t/60)%6)=>xe-xe*e*Math.max(Math.min(Se,4-Se,1),0);return[_e(5),_e(3),_e(1)]}function hwb2rgbn(t,e,xe){const _e=hsl2rgbn(t,1,.5);let Ee;for(e+xe>1&&(Ee=1/(e+xe),e*=Ee,xe*=Ee),Ee=0;Ee<3;Ee++)_e[Ee]*=1-e-xe,_e[Ee]+=e;return _e}function hueValue(t,e,xe,_e,Ee){return t===Ee?(e-xe)/_e+(e<xe?6:0):e===Ee?(xe-t)/_e+2:(t-e)/_e+4}function rgb2hsl(t){const xe=t.r/255,_e=t.g/255,Ee=t.b/255,Se=Math.max(xe,_e,Ee),Ae=Math.min(xe,_e,Ee),Re=(Se+Ae)/2;let Pe,Te,Ie;return Se!==Ae&&(Ie=Se-Ae,Te=Re>.5?Ie/(2-Se-Ae):Ie/(Se+Ae),Pe=hueValue(xe,_e,Ee,Ie,Se),Pe=Pe*60+.5),[Pe|0,Te||0,Re]}function calln(t,e,xe,_e){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,xe,_e)).map(n2b)}function hsl2rgb$1(t,e,xe){return calln(hsl2rgbn,t,e,xe)}function hwb2rgb(t,e,xe){return calln(hwb2rgbn,t,e,xe)}function hsv2rgb(t,e,xe){return calln(hsv2rgbn,t,e,xe)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let xe=255,_e;if(!e)return;e[5]!==_e&&(xe=e[6]?p2b(+e[5]):n2b(+e[5]));const Ee=hue(+e[2]),Se=+e[3]/100,Ae=+e[4]/100;return e[1]==="hwb"?_e=hwb2rgb(Ee,Se,Ae):e[1]==="hsv"?_e=hsv2rgb(Ee,Se,Ae):_e=hsl2rgb$1(Ee,Se,Ae),{r:_e[0],g:_e[1],b:_e[2],a:xe}}function rotate(t,e){var xe=rgb2hsl(t);xe[0]=hue(xe[0]+e),xe=hsl2rgb$1(xe),t.r=xe[0],t.g=xe[1],t.b=xe[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),xe=e[0],_e=n2p(e[1]),Ee=n2p(e[2]);return t.a<255?`hsla(${xe}, ${_e}%, ${Ee}%, ${b2n(t.a)})`:`hsl(${xe}, ${_e}%, ${Ee}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),xe=Object.keys(map$2);let _e,Ee,Se,Ae,Re;for(_e=0;_e<e.length;_e++){for(Ae=Re=e[_e],Ee=0;Ee<xe.length;Ee++)Se=xe[Ee],Re=Re.replace(Se,map$2[Se]);Se=parseInt(names$1[Ae],16),t[Re]=[Se>>16&255,Se>>8&255,Se&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let xe=255,_e,Ee,Se;if(e){if(e[7]!==_e){const Ae=+e[7];xe=e[8]?p2b(Ae):lim(Ae*255,0,255)}return _e=+e[1],Ee=+e[3],Se=+e[5],_e=255&(e[2]?p2b(_e):lim(_e,0,255)),Ee=255&(e[4]?p2b(Ee):lim(Ee,0,255)),Se=255&(e[6]?p2b(Se):lim(Se,0,255)),{r:_e,g:Ee,b:Se,a:xe}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$2(t,e,xe){const _e=from(b2n(t.r)),Ee=from(b2n(t.g)),Se=from(b2n(t.b));return{r:n2b(to(_e+xe*(from(b2n(e.r))-_e))),g:n2b(to(Ee+xe*(from(b2n(e.g))-Ee))),b:n2b(to(Se+xe*(from(b2n(e.b))-Se))),a:t.a+xe*(e.a-t.a)}}function modHSL(t,e,xe){if(t){let _e=rgb2hsl(t);_e[e]=Math.max(0,Math.min(_e[e]+_e[e]*xe,e===0?360:1)),_e=hsl2rgb$1(_e),t.r=_e[0],t.g=_e[1],t.b=_e[2]}}function clone$2(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$2(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}let Color$1=class bf{constructor(e){if(e instanceof bf)return e;const xe=typeof e;let _e;xe==="object"?_e=fromObject(e):xe==="string"&&(_e=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=_e,this._valid=!!_e}get valid(){return this._valid}get rgb(){var e=clone$2(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,xe){if(e){const _e=this.rgb,Ee=e.rgb;let Se;const Ae=xe===Se?.5:xe,Re=2*Ae-1,Pe=_e.a-Ee.a,Te=((Re*Pe===-1?Re:(Re+Pe)/(1+Re*Pe))+1)/2;Se=1-Te,_e.r=255&Te*_e.r+Se*Ee.r+.5,_e.g=255&Te*_e.g+Se*Ee.g+.5,_e.b=255&Te*_e.b+Se*Ee.b+.5,_e.a=Ae*_e.a+(1-Ae)*Ee.a,this.rgb=_e}return this}interpolate(e,xe){return e&&(this._rgb=interpolate$2(this._rgb,e._rgb,xe)),this}clone(){return new bf(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const xe=this._rgb;return xe.a*=1-e,this}greyscale(){const e=this._rgb,xe=round$1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=xe,this}opaquer(e){const xe=this._rgb;return xe.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray$1(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$1(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toPercentage=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,xe){if(t&&typeof t.call=="function")return t.apply(xe,e)}function each(t,e,xe,_e){let Ee,Se,Ae;if(isArray$1(t))for(Se=t.length,Ee=0;Ee<Se;Ee++)e.call(xe,t[Ee],Ee);else if(isObject$1(t))for(Ae=Object.keys(t),Se=Ae.length,Ee=0;Ee<Se;Ee++)e.call(xe,t[Ae[Ee]],Ae[Ee])}function _elementsEqual(t,e){let xe,_e,Ee,Se;if(!t||!e||t.length!==e.length)return!1;for(xe=0,_e=t.length;xe<_e;++xe)if(Ee=t[xe],Se=e[xe],Ee.datasetIndex!==Se.datasetIndex||Ee.index!==Se.index)return!1;return!0}function clone$1(t){if(isArray$1(t))return t.map(clone$1);if(isObject$1(t)){const e=Object.create(null),xe=Object.keys(t),_e=xe.length;let Ee=0;for(;Ee<_e;++Ee)e[xe[Ee]]=clone$1(t[xe[Ee]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,xe,_e){if(!isValidKey(t))return;const Ee=e[t],Se=xe[t];isObject$1(Ee)&&isObject$1(Se)?merge(Ee,Se,_e):e[t]=clone$1(Se)}function merge(t,e,xe){const _e=isArray$1(e)?e:[e],Ee=_e.length;if(!isObject$1(t))return t;xe=xe||{};const Se=xe.merger||_merger;let Ae;for(let Re=0;Re<Ee;++Re){if(Ae=_e[Re],!isObject$1(Ae))continue;const Pe=Object.keys(Ae);for(let Te=0,Ie=Pe.length;Te<Ie;++Te)Se(Pe[Te],t,Ae,xe)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,xe){if(!isValidKey(t))return;const _e=e[t],Ee=xe[t];isObject$1(_e)&&isObject$1(Ee)?mergeIf(_e,Ee):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(Ee))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),xe=[];let _e="";for(const Ee of e)_e+=Ee,_e.endsWith("\\")?_e=_e.slice(0,-1)+".":(xe.push(_e),_e="");return xe}function _getKeyResolver(t){const e=_splitKey(t);return xe=>{for(const _e of e){if(_e==="")break;xe=xe&&xe[_e]}return xe}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined$1=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const xe of t)if(!e.has(xe))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,sign$1=Math.sign;function _factorize(t){const e=[],xe=Math.sqrt(t);let _e;for(_e=1;_e<xe;_e++)t%_e===0&&(e.push(_e),e.push(t/_e));return xe===(xe|0)&&e.push(xe),e.sort((Ee,Se)=>Ee-Se).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber$2(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function getAngleFromPoint(t,e){const xe=e.x-t.x,_e=e.y-t.y,Ee=Math.sqrt(xe*xe+_e*_e);let Se=Math.atan2(_e,xe);return Se<-.5*PI&&(Se+=TAU),{angle:Se,distance:Ee}}function distanceBetweenPoints$1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,xe,_e){const Ee=_normalizeAngle(t),Se=_normalizeAngle(e),Ae=_normalizeAngle(xe),Re=_normalizeAngle(Se-Ee),Pe=_normalizeAngle(Ae-Ee),Te=_normalizeAngle(Ee-Se),Ie=_normalizeAngle(Ee-Ae);return Ee===Se||Ee===Ae||_e&&Se===Ae||Re>Pe&&Te<Ie}function _limitValue(t,e,xe){return Math.max(e,Math.min(xe,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,xe,_e=1e-6){return t>=Math.min(e,xe)-_e&&t<=Math.max(e,xe)+_e}function _lookup(t,e,xe){xe=xe||(Ae=>t[Ae]<e);let _e=t.length-1,Ee=0,Se;for(;_e-Ee>1;)Se=Ee+_e>>1,xe(Se)?Ee=Se:_e=Se;return{lo:Ee,hi:_e}}const _lookupByKey=(t,e,xe,_e)=>_lookup(t,xe,_e?Ee=>{const Se=t[Ee][e];return Se<xe||Se===xe&&t[Ee+1][e]===xe}:Ee=>t[Ee][e]<xe),_rlookupByKey=(t,e,xe)=>_lookup(t,xe,_e=>t[_e][e]>=xe);function _filterBetween(t,e,xe){let _e=0,Ee=t.length;for(;_e<Ee&&t[_e]<e;)_e++;for(;Ee>_e&&t[Ee-1]>xe;)Ee--;return _e>0||Ee<t.length?t.slice(_e,Ee):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(xe=>{const _e="_onData"+_capitalize(xe),Ee=t[xe];Object.defineProperty(t,xe,{configurable:!0,enumerable:!1,value(...Se){const Ae=Ee.apply(this,Se);return t._chartjs.listeners.forEach(Re=>{typeof Re[_e]=="function"&&Re[_e](...Se)}),Ae}})})}function unlistenArrayEvents(t,e){const xe=t._chartjs;if(!xe)return;const _e=xe.listeners,Ee=_e.indexOf(e);Ee!==-1&&_e.splice(Ee,1),!(_e.length>0)&&(arrayEvents.forEach(Se=>{delete t[Se]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e){let xe=[],_e=!1;return function(...Ee){xe=Ee,_e||(_e=!0,requestAnimFrame.call(window,()=>{_e=!1,t.apply(e,xe)}))}}function debounce(t,e){let xe;return function(..._e){return e?(clearTimeout(xe),xe=setTimeout(t,e,_e)):t.apply(this,_e),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,xe)=>t==="start"?e:t==="end"?xe:(e+xe)/2,_textX=(t,e,xe,_e)=>t===(_e?"left":"right")?xe:t==="center"?(e+xe)/2:e,atEdge=t=>t===0||t===1,elasticIn=(t,e,xe)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/xe)),elasticOut=(t,e,xe)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/xe)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color$1(t){return isPatternOrGradient(t)?t:new Color$1(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color$1(t).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers$1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const xe=t+JSON.stringify(e);let _e=intlCache.get(xe);return _e||(_e=new Intl.NumberFormat(t,e),intlCache.set(xe,_e)),_e}function formatNumber(t,e,xe){return getNumberFormat(e,xe).format(t)}const formatters={values(t){return isArray$1(t)?t:""+t}};var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,xe)=>xe.lineWidth,tickColor:(e,xe)=>xe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const xe=e.split(".");for(let _e=0,Ee=xe.length;_e<Ee;++_e){const Se=xe[_e];t=t[Se]||(t[Se]=Object.create(null))}return t}function set(t,e,xe){return typeof e=="string"?merge(getScope$1(t,e),xe):merge(getScope$1(t,""),e)}class Defaults{constructor(e,xe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_e=>_e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_e,Ee)=>getHoverColor(Ee.backgroundColor),this.hoverBorderColor=(_e,Ee)=>getHoverColor(Ee.borderColor),this.hoverColor=(_e,Ee)=>getHoverColor(Ee.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(xe)}set(e,xe){return set(this,e,xe)}get(e){return getScope$1(this,e)}describe(e,xe){return set(descriptors,e,xe)}override(e,xe){return set(overrides,e,xe)}route(e,xe,_e,Ee){const Se=getScope$1(this,e),Ae=getScope$1(this,_e),Re="_"+xe;Object.defineProperties(Se,{[Re]:{value:Se[xe],writable:!0},[xe]:{enumerable:!0,get(){const Pe=this[Re],Te=Ae[Ee];return isObject$1(Pe)?Object.assign({},Te,Pe):valueOrDefault(Pe,Te)},set(Pe){this[Re]=Pe}}})}apply(e){e.forEach(xe=>xe(this))}}var defaults$1=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,xe,_e,Ee){let Se=e[Ee];return Se||(Se=e[Ee]=t.measureText(Ee).width,xe.push(Ee)),Se>_e&&(_e=Se),_e}function _alignPixel(t,e,xe){const _e=t.currentDevicePixelRatio,Ee=xe!==0?Math.max(xe/2,.5):0;return Math.round((e-Ee)*_e)/_e+Ee}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,xe,_e){drawPointLegend(t,e,xe,_e,null)}function drawPointLegend(t,e,xe,_e,Ee){let Se,Ae,Re,Pe,Te,Ie,je,Oe;const ke=e.pointStyle,Fe=e.rotation,Me=e.radius;let De=(Fe||0)*RAD_PER_DEG;if(ke&&typeof ke=="object"&&(Se=ke.toString(),Se==="[object HTMLImageElement]"||Se==="[object HTMLCanvasElement]")){t.save(),t.translate(xe,_e),t.rotate(De),t.drawImage(ke,-ke.width/2,-ke.height/2,ke.width,ke.height),t.restore();return}if(!(isNaN(Me)||Me<=0)){switch(t.beginPath(),ke){default:Ee?t.ellipse(xe,_e,Ee/2,Me,0,0,TAU):t.arc(xe,_e,Me,0,TAU),t.closePath();break;case"triangle":Ie=Ee?Ee/2:Me,t.moveTo(xe+Math.sin(De)*Ie,_e-Math.cos(De)*Me),De+=TWO_THIRDS_PI,t.lineTo(xe+Math.sin(De)*Ie,_e-Math.cos(De)*Me),De+=TWO_THIRDS_PI,t.lineTo(xe+Math.sin(De)*Ie,_e-Math.cos(De)*Me),t.closePath();break;case"rectRounded":Te=Me*.516,Pe=Me-Te,Ae=Math.cos(De+QUARTER_PI)*Pe,je=Math.cos(De+QUARTER_PI)*(Ee?Ee/2-Te:Pe),Re=Math.sin(De+QUARTER_PI)*Pe,Oe=Math.sin(De+QUARTER_PI)*(Ee?Ee/2-Te:Pe),t.arc(xe-je,_e-Re,Te,De-PI,De-HALF_PI),t.arc(xe+Oe,_e-Ae,Te,De-HALF_PI,De),t.arc(xe+je,_e+Re,Te,De,De+HALF_PI),t.arc(xe-Oe,_e+Ae,Te,De+HALF_PI,De+PI),t.closePath();break;case"rect":if(!Fe){Pe=Math.SQRT1_2*Me,Ie=Ee?Ee/2:Pe,t.rect(xe-Ie,_e-Pe,2*Ie,2*Pe);break}De+=QUARTER_PI;case"rectRot":je=Math.cos(De)*(Ee?Ee/2:Me),Ae=Math.cos(De)*Me,Re=Math.sin(De)*Me,Oe=Math.sin(De)*(Ee?Ee/2:Me),t.moveTo(xe-je,_e-Re),t.lineTo(xe+Oe,_e-Ae),t.lineTo(xe+je,_e+Re),t.lineTo(xe-Oe,_e+Ae),t.closePath();break;case"crossRot":De+=QUARTER_PI;case"cross":je=Math.cos(De)*(Ee?Ee/2:Me),Ae=Math.cos(De)*Me,Re=Math.sin(De)*Me,Oe=Math.sin(De)*(Ee?Ee/2:Me),t.moveTo(xe-je,_e-Re),t.lineTo(xe+je,_e+Re),t.moveTo(xe+Oe,_e-Ae),t.lineTo(xe-Oe,_e+Ae);break;case"star":je=Math.cos(De)*(Ee?Ee/2:Me),Ae=Math.cos(De)*Me,Re=Math.sin(De)*Me,Oe=Math.sin(De)*(Ee?Ee/2:Me),t.moveTo(xe-je,_e-Re),t.lineTo(xe+je,_e+Re),t.moveTo(xe+Oe,_e-Ae),t.lineTo(xe-Oe,_e+Ae),De+=QUARTER_PI,je=Math.cos(De)*(Ee?Ee/2:Me),Ae=Math.cos(De)*Me,Re=Math.sin(De)*Me,Oe=Math.sin(De)*(Ee?Ee/2:Me),t.moveTo(xe-je,_e-Re),t.lineTo(xe+je,_e+Re),t.moveTo(xe+Oe,_e-Ae),t.lineTo(xe-Oe,_e+Ae);break;case"line":Ae=Ee?Ee/2:Math.cos(De)*Me,Re=Math.sin(De)*Me,t.moveTo(xe-Ae,_e-Re),t.lineTo(xe+Ae,_e+Re);break;case"dash":t.moveTo(xe,_e),t.lineTo(xe+Math.cos(De)*(Ee?Ee/2:Me),_e+Math.sin(De)*Me);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,xe){return xe=xe||.5,!e||t&&t.x>e.left-xe&&t.x<e.right+xe&&t.y>e.top-xe&&t.y<e.bottom+xe}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,xe,_e,Ee){if(Ee.strikethrough||Ee.underline){const Se=t.measureText(_e),Ae=e-Se.actualBoundingBoxLeft,Re=e+Se.actualBoundingBoxRight,Pe=xe-Se.actualBoundingBoxAscent,Te=xe+Se.actualBoundingBoxDescent,Ie=Ee.strikethrough?(Pe+Te)/2:Te;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=Ee.decorationWidth||2,t.moveTo(Ae,Ie),t.lineTo(Re,Ie),t.stroke()}}function drawBackdrop(t,e){const xe=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=xe}function renderText(t,e,xe,_e,Ee,Se={}){const Ae=isArray$1(e)?e:[e],Re=Se.strokeWidth>0&&Se.strokeColor!=="";let Pe,Te;for(t.save(),t.font=Ee.string,setRenderOpts(t,Se),Pe=0;Pe<Ae.length;++Pe)Te=Ae[Pe],Se.backdrop&&drawBackdrop(t,Se.backdrop),Re&&(Se.strokeColor&&(t.strokeStyle=Se.strokeColor),isNullOrUndef(Se.strokeWidth)||(t.lineWidth=Se.strokeWidth),t.strokeText(Te,xe,_e,Se.maxWidth)),t.fillText(Te,xe,_e,Se.maxWidth),decorateText(t,xe,_e,Te,Se),_e+=Number(Ee.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:xe,y:_e,w:Ee,h:Se,radius:Ae}=e;t.arc(xe+Ae.topLeft,_e+Ae.topLeft,Ae.topLeft,1.5*PI,PI,!0),t.lineTo(xe,_e+Se-Ae.bottomLeft),t.arc(xe+Ae.bottomLeft,_e+Se-Ae.bottomLeft,Ae.bottomLeft,PI,HALF_PI,!0),t.lineTo(xe+Ee-Ae.bottomRight,_e+Se),t.arc(xe+Ee-Ae.bottomRight,_e+Se-Ae.bottomRight,Ae.bottomRight,HALF_PI,0,!0),t.lineTo(xe+Ee,_e+Ae.topRight),t.arc(xe+Ee-Ae.topRight,_e+Ae.topRight,Ae.topRight,0,-HALF_PI,!0),t.lineTo(xe+Ae.topLeft,_e)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const xe=(""+t).match(LINE_HEIGHT);if(!xe||xe[1]==="normal")return e*1.2;switch(t=+xe[2],xe[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const xe={},_e=isObject$1(e),Ee=_e?Object.keys(e):e,Se=isObject$1(t)?_e?Ae=>valueOrDefault(t[Ae],t[e[Ae]]):Ae=>t[Ae]:()=>t;for(const Ae of Ee)xe[Ae]=numberOrZero(Se(Ae));return xe}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults$1.font;let xe=valueOrDefault(t.size,e.size);typeof xe=="string"&&(xe=parseInt(xe,10));let _e=valueOrDefault(t.style,e.style);_e&&!(""+_e).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+_e+'"'),_e=void 0);const Ee={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),xe),size:xe,style:_e,weight:valueOrDefault(t.weight,e.weight),string:""};return Ee.string=toFontString(Ee),Ee}function resolve(t,e,xe,_e){let Ee,Se,Ae;for(Ee=0,Se=t.length;Ee<Se;++Ee)if(Ae=t[Ee],Ae!==void 0&&Ae!==void 0)return Ae}function _addGrace(t,e,xe){const{min:_e,max:Ee}=t,Se=toDimension(e,(Ee-_e)/2),Ae=(Re,Pe)=>xe&&Re===0?0:Re+Pe;return{min:Ae(_e,-Math.abs(Se)),max:Ae(Ee,Se)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],xe,_e,Ee=()=>t[0]){const Se=xe||t;typeof _e>"u"&&(_e=_resolve("_fallback",t));const Ae={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:Se,_fallback:_e,_getTarget:Ee,override:Re=>_createResolver([Re,...t],e,Se,_e)};return new Proxy(Ae,{deleteProperty(Re,Pe){return delete Re[Pe],delete Re._keys,delete t[0][Pe],!0},get(Re,Pe){return _cached(Re,Pe,()=>_resolveWithPrefixes(Pe,e,t,Re))},getOwnPropertyDescriptor(Re,Pe){return Reflect.getOwnPropertyDescriptor(Re._scopes[0],Pe)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(Re,Pe){return getKeysFromAllScopes(Re).includes(Pe)},ownKeys(Re){return getKeysFromAllScopes(Re)},set(Re,Pe,Te){const Ie=Re._storage||(Re._storage=Ee());return Re[Pe]=Ie[Pe]=Te,delete Re._keys,!0}})}function _attachContext(t,e,xe,_e){const Ee={_cacheable:!1,_proxy:t,_context:e,_subProxy:xe,_stack:new Set,_descriptors:_descriptors(t,_e),setContext:Se=>_attachContext(t,Se,xe,_e),override:Se=>_attachContext(t.override(Se),e,xe,_e)};return new Proxy(Ee,{deleteProperty(Se,Ae){return delete Se[Ae],delete t[Ae],!0},get(Se,Ae,Re){return _cached(Se,Ae,()=>_resolveWithContext(Se,Ae,Re))},getOwnPropertyDescriptor(Se,Ae){return Se._descriptors.allKeys?Reflect.has(t,Ae)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,Ae)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(Se,Ae){return Reflect.has(t,Ae)},ownKeys(){return Reflect.ownKeys(t)},set(Se,Ae,Re){return t[Ae]=Re,delete Se[Ae],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:xe=e.scriptable,_indexable:_e=e.indexable,_allKeys:Ee=e.allKeys}=t;return{allKeys:Ee,scriptable:xe,indexable:_e,isScriptable:isFunction$1(xe)?xe:()=>xe,isIndexable:isFunction$1(_e)?_e:()=>_e}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject$1(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,xe){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const _e=xe();return t[e]=_e,_e}function _resolveWithContext(t,e,xe){const{_proxy:_e,_context:Ee,_subProxy:Se,_descriptors:Ae}=t;let Re=_e[e];return isFunction$1(Re)&&Ae.isScriptable(e)&&(Re=_resolveScriptable(e,Re,t,xe)),isArray$1(Re)&&Re.length&&(Re=_resolveArray(e,Re,t,Ae.isIndexable)),needsSubResolver(e,Re)&&(Re=_attachContext(Re,Ee,Se&&Se[e],Ae)),Re}function _resolveScriptable(t,e,xe,_e){const{_proxy:Ee,_context:Se,_subProxy:Ae,_stack:Re}=xe;if(Re.has(t))throw new Error("Recursion detected: "+Array.from(Re).join("->")+"->"+t);Re.add(t);let Pe=e(Se,Ae||_e);return Re.delete(t),needsSubResolver(t,Pe)&&(Pe=createSubResolver(Ee._scopes,Ee,t,Pe)),Pe}function _resolveArray(t,e,xe,_e){const{_proxy:Ee,_context:Se,_subProxy:Ae,_descriptors:Re}=xe;if(typeof Se.index<"u"&&_e(t))return e[Se.index%e.length];if(isObject$1(e[0])){const Pe=e,Te=Ee._scopes.filter(Ie=>Ie!==Pe);e=[];for(const Ie of Pe){const je=createSubResolver(Te,Ee,t,Ie);e.push(_attachContext(je,Se,Ae&&Ae[t],Re))}}return e}function resolveFallback(t,e,xe){return isFunction$1(t)?t(e,xe):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,xe,_e,Ee){for(const Se of e){const Ae=getScope(xe,Se);if(Ae){t.add(Ae);const Re=resolveFallback(Ae._fallback,xe,Ee);if(typeof Re<"u"&&Re!==xe&&Re!==_e)return Re}else if(Ae===!1&&typeof _e<"u"&&xe!==_e)return null}return!1}function createSubResolver(t,e,xe,_e){const Ee=e._rootScopes,Se=resolveFallback(e._fallback,xe,_e),Ae=[...t,...Ee],Re=new Set;Re.add(_e);let Pe=addScopesFromKey(Re,Ae,xe,Se||xe,_e);return Pe===null||typeof Se<"u"&&Se!==xe&&(Pe=addScopesFromKey(Re,Ae,Se,Pe,_e),Pe===null)?!1:_createResolver(Array.from(Re),[""],Ee,Se,()=>subGetTarget(e,xe,_e))}function addScopesFromKey(t,e,xe,_e,Ee){for(;xe;)xe=addScopes(t,e,xe,_e,Ee);return xe}function subGetTarget(t,e,xe){const _e=t._getTarget();e in _e||(_e[e]={});const Ee=_e[e];return isArray$1(Ee)&&isObject$1(xe)?xe:Ee||{}}function _resolveWithPrefixes(t,e,xe,_e){let Ee;for(const Se of e)if(Ee=_resolve(readKey(Se,t),xe),typeof Ee<"u")return needsSubResolver(t,Ee)?createSubResolver(xe,_e,t,Ee):Ee}function _resolve(t,e){for(const xe of e){if(!xe)continue;const _e=xe[t];if(typeof _e<"u")return _e}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const xe of t)for(const _e of Object.keys(xe).filter(Ee=>!Ee.startsWith("_")))e.add(_e);return Array.from(e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,xe){let _e;return typeof t=="string"?(_e=parseInt(t,10),t.indexOf("%")!==-1&&(_e=_e/100*e.parentNode[xe])):_e=t,_e}const getComputedStyle$1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,xe){const _e={};xe=xe?"-"+xe:"";for(let Ee=0;Ee<4;Ee++){const Se=positions[Ee];_e[Se]=parseFloat(t[e+"-"+Se+xe])||0}return _e.width=_e.left+_e.right,_e.height=_e.top+_e.bottom,_e}const useOffsetPos=(t,e,xe)=>(t>0||e>0)&&(!xe||!xe.shadowRoot);function getCanvasPosition(t,e){const xe=t.touches,_e=xe&&xe.length?xe[0]:t,{offsetX:Ee,offsetY:Se}=_e;let Ae=!1,Re,Pe;if(useOffsetPos(Ee,Se,t.target))Re=Ee,Pe=Se;else{const Te=e.getBoundingClientRect();Re=_e.clientX-Te.left,Pe=_e.clientY-Te.top,Ae=!0}return{x:Re,y:Pe,box:Ae}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:xe,currentDevicePixelRatio:_e}=e,Ee=getComputedStyle$1(xe),Se=Ee.boxSizing==="border-box",Ae=getPositionedStyle(Ee,"padding"),Re=getPositionedStyle(Ee,"border","width"),{x:Pe,y:Te,box:Ie}=getCanvasPosition(t,xe),je=Ae.left+(Ie&&Re.left),Oe=Ae.top+(Ie&&Re.top);let{width:ke,height:Fe}=e;return Se&&(ke-=Ae.width+Re.width,Fe-=Ae.height+Re.height),{x:Math.round((Pe-je)/ke*xe.width/_e),y:Math.round((Te-Oe)/Fe*xe.height/_e)}}function getContainerSize(t,e,xe){let _e,Ee;if(e===void 0||xe===void 0){const Se=t&&_getParentNode(t);if(!Se)e=t.clientWidth,xe=t.clientHeight;else{const Ae=Se.getBoundingClientRect(),Re=getComputedStyle$1(Se),Pe=getPositionedStyle(Re,"border","width"),Te=getPositionedStyle(Re,"padding");e=Ae.width-Te.width-Pe.width,xe=Ae.height-Te.height-Pe.height,_e=parseMaxStyle(Re.maxWidth,Se,"clientWidth"),Ee=parseMaxStyle(Re.maxHeight,Se,"clientHeight")}}return{width:e,height:xe,maxWidth:_e||INFINITY,maxHeight:Ee||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,xe,_e){const Ee=getComputedStyle$1(t),Se=getPositionedStyle(Ee,"margin"),Ae=parseMaxStyle(Ee.maxWidth,t,"clientWidth")||INFINITY,Re=parseMaxStyle(Ee.maxHeight,t,"clientHeight")||INFINITY,Pe=getContainerSize(t,e,xe);let{width:Te,height:Ie}=Pe;if(Ee.boxSizing==="content-box"){const Oe=getPositionedStyle(Ee,"border","width"),ke=getPositionedStyle(Ee,"padding");Te-=ke.width+Oe.width,Ie-=ke.height+Oe.height}return Te=Math.max(0,Te-Se.width),Ie=Math.max(0,_e?Te/_e:Ie-Se.height),Te=round1(Math.min(Te,Ae,Pe.maxWidth)),Ie=round1(Math.min(Ie,Re,Pe.maxHeight)),Te&&!Ie&&(Ie=round1(Te/2)),(e!==void 0||xe!==void 0)&&_e&&Pe.height&&Ie>Pe.height&&(Ie=Pe.height,Te=round1(Math.floor(Ie*_e))),{width:Te,height:Ie}}function retinaScale(t,e,xe){const _e=e||1,Ee=Math.floor(t.height*_e),Se=Math.floor(t.width*_e);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const Ae=t.canvas;return Ae.style&&(xe||!Ae.style.height&&!Ae.style.width)&&(Ae.style.height=`${t.height}px`,Ae.style.width=`${t.width}px`),t.currentDevicePixelRatio!==_e||Ae.height!==Ee||Ae.width!==Se?(t.currentDevicePixelRatio=_e,Ae.height=Ee,Ae.width=Se,t.ctx.setTransform(_e,0,0,_e,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function readUsedSize(t,e){const xe=getStyle(t,e),_e=xe&&xe.match(/^(\d+)(\.\d+)?px$/);return _e?+_e[1]:void 0}const getRightToLeftAdapter=function(t,e){return{x(xe){return t+t+e-xe},setWidth(xe){e=xe},textAlign(xe){return xe==="center"?xe:xe==="right"?"left":"right"},xPlus(xe,_e){return xe-_e},leftForLtr(xe,_e){return xe-_e}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,xe){return t?getRightToLeftAdapter(e,xe):getLeftToRightAdapter()}function overrideTextDirection(t,e){let xe,_e;(e==="ltr"||e==="rtl")&&(xe=t.canvas.style,_e=[xe.getPropertyValue("direction"),xe.getPropertyPriority("direction")],xe.setProperty("direction",e,"important"),t.prevTextDirection=_e)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function getSizeForArea(t,e,xe){return t.options.clip?t[xe]:e[xe]}function getDatasetArea(t,e){const{xScale:xe,yScale:_e}=t;return xe&&_e?{left:getSizeForArea(xe,e,"left"),right:getSizeForArea(xe,e,"right"),top:getSizeForArea(_e,e,"top"),bottom:getSizeForArea(_e,e,"bottom")}:e}function getDatasetClipArea(t,e){const xe=e._clip;if(xe.disabled)return!1;const _e=getDatasetArea(e,t.chartArea);return{left:xe.left===!1?0:_e.left-(xe.left===!0?0:xe.left),right:xe.right===!1?t.width:_e.right+(xe.right===!0?0:xe.right),top:xe.top===!1?0:_e.top-(xe.top===!0?0:xe.top),bottom:xe.bottom===!1?t.height:_e.bottom+(xe.bottom===!0?0:xe.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,xe,_e,Ee){const Se=xe.listeners[Ee],Ae=xe.duration;Se.forEach(Re=>Re({chart:e,initial:xe.initial,numSteps:Ae,currentStep:Math.min(_e-xe.start,Ae)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let xe=0;this._charts.forEach((_e,Ee)=>{if(!_e.running||!_e.items.length)return;const Se=_e.items;let Ae=Se.length-1,Re=!1,Pe;for(;Ae>=0;--Ae)Pe=Se[Ae],Pe._active?(Pe._total>_e.duration&&(_e.duration=Pe._total),Pe.tick(e),Re=!0):(Se[Ae]=Se[Se.length-1],Se.pop());Re&&(Ee.draw(),this._notify(Ee,_e,e,"progress")),Se.length||(_e.running=!1,this._notify(Ee,_e,e,"complete"),_e.initial=!1),xe+=Se.length}),this._lastDate=e,xe===0&&(this._running=!1)}_getAnims(e){const xe=this._charts;let _e=xe.get(e);return _e||(_e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},xe.set(e,_e)),_e}listen(e,xe,_e){this._getAnims(e).listeners[xe].push(_e)}add(e,xe){!xe||!xe.length||this._getAnims(e).items.push(...xe)}has(e){return this._getAnims(e).items.length>0}start(e){const xe=this._charts.get(e);xe&&(xe.running=!0,xe.start=Date.now(),xe.duration=xe.items.reduce((_e,Ee)=>Math.max(_e,Ee._duration),0),this._refresh())}running(e){if(!this._running)return!1;const xe=this._charts.get(e);return!(!xe||!xe.running||!xe.items.length)}stop(e){const xe=this._charts.get(e);if(!xe||!xe.items.length)return;const _e=xe.items;let Ee=_e.length-1;for(;Ee>=0;--Ee)_e[Ee].cancel();xe.items=[],this._notify(e,xe,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,xe){return xe>.5?e:t},color(t,e,xe){const _e=color$1(t||transparent),Ee=_e.valid&&color$1(e||transparent);return Ee&&Ee.valid?Ee.mix(_e,xe).hexString():e},number(t,e,xe){return t+(e-t)*xe}};class Animation{constructor(e,xe,_e,Ee){const Se=xe[_e];Ee=resolve([e.to,Ee,Se,e.from]);const Ae=resolve([e.from,Se,Ee]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof Ae],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=xe,this._prop=_e,this._from=Ae,this._to=Ee,this._promises=void 0}active(){return this._active}update(e,xe,_e){if(this._active){this._notify(!1);const Ee=this._target[this._prop],Se=_e-this._start,Ae=this._duration-Se;this._start=_e,this._duration=Math.floor(Math.max(Ae,e.duration)),this._total+=Se,this._loop=!!e.loop,this._to=resolve([e.to,xe,Ee,e.from]),this._from=resolve([e.from,Ee,xe])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const xe=e-this._start,_e=this._duration,Ee=this._prop,Se=this._from,Ae=this._loop,Re=this._to;let Pe;if(this._active=Se!==Re&&(Ae||xe<_e),!this._active){this._target[Ee]=Re,this._notify(!0);return}if(xe<0){this._target[Ee]=Se;return}Pe=xe/_e%2,Pe=Ae&&Pe>1?2-Pe:Pe,Pe=this._easing(Math.min(1,Math.max(0,Pe))),this._target[Ee]=this._fn(Se,Re,Pe)}wait(){const e=this._promises||(this._promises=[]);return new Promise((xe,_e)=>{e.push({res:xe,rej:_e})})}_notify(e){const xe=e?"res":"rej",_e=this._promises||[];for(let Ee=0;Ee<_e.length;Ee++)_e[Ee][xe]()}}class Animations{constructor(e,xe){this._chart=e,this._properties=new Map,this.configure(xe)}configure(e){if(!isObject$1(e))return;const xe=Object.keys(defaults$1.animation),_e=this._properties;Object.getOwnPropertyNames(e).forEach(Ee=>{const Se=e[Ee];if(!isObject$1(Se))return;const Ae={};for(const Re of xe)Ae[Re]=Se[Re];(isArray$1(Se.properties)&&Se.properties||[Ee]).forEach(Re=>{(Re===Ee||!_e.has(Re))&&_e.set(Re,Ae)})})}_animateOptions(e,xe){const _e=xe.options,Ee=resolveTargetOptions(e,_e);if(!Ee)return[];const Se=this._createAnimations(Ee,_e);return _e.$shared&&awaitAll(e.options.$animations,_e).then(()=>{e.options=_e},()=>{}),Se}_createAnimations(e,xe){const _e=this._properties,Ee=[],Se=e.$animations||(e.$animations={}),Ae=Object.keys(xe),Re=Date.now();let Pe;for(Pe=Ae.length-1;Pe>=0;--Pe){const Te=Ae[Pe];if(Te.charAt(0)==="$")continue;if(Te==="options"){Ee.push(...this._animateOptions(e,xe));continue}const Ie=xe[Te];let je=Se[Te];const Oe=_e.get(Te);if(je)if(Oe&&je.active()){je.update(Oe,Ie,Re);continue}else je.cancel();if(!Oe||!Oe.duration){e[Te]=Ie;continue}Se[Te]=je=new Animation(Oe,e,Te,Ie),Ee.push(je)}return Ee}update(e,xe){if(this._properties.size===0){Object.assign(e,xe);return}const _e=this._createAnimations(e,xe);if(_e.length)return animator.add(this._chart,_e),!0}}function awaitAll(t,e){const xe=[],_e=Object.keys(e);for(let Ee=0;Ee<_e.length;Ee++){const Se=t[_e[Ee]];Se&&Se.active()&&xe.push(Se.wait())}return Promise.all(xe)}function resolveTargetOptions(t,e){if(!e)return;let xe=t.options;if(!xe){t.options=e;return}return xe.$shared&&(t.options=xe=Object.assign({},xe,{$shared:!1,$animations:{}})),xe}function scaleClip(t,e){const xe=t&&t.options||{},_e=xe.reverse,Ee=xe.min===void 0?e:0,Se=xe.max===void 0?e:0;return{start:_e?Se:Ee,end:_e?Ee:Se}}function defaultClip(t,e,xe){if(xe===!1)return!1;const _e=scaleClip(t,xe),Ee=scaleClip(e,xe);return{top:Ee.end,right:_e.end,bottom:Ee.start,left:_e.start}}function toClip(t){let e,xe,_e,Ee;return isObject$1(t)?(e=t.top,xe=t.right,_e=t.bottom,Ee=t.left):e=xe=_e=Ee=t,{top:e,right:xe,bottom:_e,left:Ee,disabled:t===!1}}function getSortedDatasetIndices(t,e){const xe=[],_e=t._getSortedDatasetMetas(e);let Ee,Se;for(Ee=0,Se=_e.length;Ee<Se;++Ee)xe.push(_e[Ee].index);return xe}function applyStack(t,e,xe,_e={}){const Ee=t.keys,Se=_e.mode==="single";let Ae,Re,Pe,Te;if(e===null)return;let Ie=!1;for(Ae=0,Re=Ee.length;Ae<Re;++Ae){if(Pe=+Ee[Ae],Pe===xe){if(Ie=!0,_e.all)continue;break}Te=t.values[Pe],isNumberFinite(Te)&&(Se||e===0||sign$1(e)===sign$1(Te))&&(e+=Te)}return!Ie&&!_e.all?0:e}function convertObjectDataToArray(t,e){const{iScale:xe,vScale:_e}=e,Ee=xe.axis==="x"?"x":"y",Se=_e.axis==="x"?"x":"y",Ae=Object.keys(t),Re=new Array(Ae.length);let Pe,Te,Ie;for(Pe=0,Te=Ae.length;Pe<Te;++Pe)Ie=Ae[Pe],Re[Pe]={[Ee]:Ie,[Se]:t[Ie]};return Re}function isStacked(t,e){const xe=t&&t.options.stacked;return xe||xe===void 0&&e.stack!==void 0}function getStackKey(t,e,xe){return`${t.id}.${e.id}.${xe.stack||xe.type}`}function getUserBounds(t){const{min:e,max:xe,minDefined:_e,maxDefined:Ee}=t.getUserBounds();return{min:_e?e:Number.NEGATIVE_INFINITY,max:Ee?xe:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,xe){const _e=t[e]||(t[e]={});return _e[xe]||(_e[xe]={})}function getLastIndexInStack(t,e,xe,_e){for(const Ee of e.getMatchingVisibleMetas(_e).reverse()){const Se=t[Ee.index];if(xe&&Se>0||!xe&&Se<0)return Ee.index}return null}function updateStacks(t,e){const{chart:xe,_cachedMeta:_e}=t,Ee=xe._stacks||(xe._stacks={}),{iScale:Se,vScale:Ae,index:Re}=_e,Pe=Se.axis,Te=Ae.axis,Ie=getStackKey(Se,Ae,_e),je=e.length;let Oe;for(let ke=0;ke<je;++ke){const Fe=e[ke],{[Pe]:Me,[Te]:De}=Fe,Ue=Fe._stacks||(Fe._stacks={});Oe=Ue[Te]=getOrCreateStack(Ee,Ie,Me),Oe[Re]=De,Oe._top=getLastIndexInStack(Oe,Ae,!0,_e.type),Oe._bottom=getLastIndexInStack(Oe,Ae,!1,_e.type);const ze=Oe._visualValues||(Oe._visualValues={});ze[Re]=De}}function getFirstScaleId(t,e){const xe=t.scales;return Object.keys(xe).filter(_e=>xe[_e].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,xe){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:xe,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const xe=t.controller.index,_e=t.vScale&&t.vScale.axis;if(_e){e=e||t._parsed;for(const Ee of e){const Se=Ee._stacks;if(!Se||Se[_e]===void 0||Se[_e][xe]===void 0)return;delete Se[_e][xe],Se[_e]._visualValues!==void 0&&Se[_e]._visualValues[xe]!==void 0&&delete Se[_e]._visualValues[xe]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,xe)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(xe,!0),values:null};class DatasetController{constructor(e,xe){this.chart=e,this._ctx=e.ctx,this.index=xe,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,xe=this._cachedMeta,_e=this.getDataset(),Ee=(je,Oe,ke,Fe)=>je==="x"?Oe:je==="r"?Fe:ke,Se=xe.xAxisID=valueOrDefault(_e.xAxisID,getFirstScaleId(e,"x")),Ae=xe.yAxisID=valueOrDefault(_e.yAxisID,getFirstScaleId(e,"y")),Re=xe.rAxisID=valueOrDefault(_e.rAxisID,getFirstScaleId(e,"r")),Pe=xe.indexAxis,Te=xe.iAxisID=Ee(Pe,Se,Ae,Re),Ie=xe.vAxisID=Ee(Pe,Ae,Se,Re);xe.xScale=this.getScaleForId(Se),xe.yScale=this.getScaleForId(Ae),xe.rScale=this.getScaleForId(Re),xe.iScale=this.getScaleForId(Te),xe.vScale=this.getScaleForId(Ie)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const xe=this._cachedMeta;return e===xe.iScale?xe.vScale:xe.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),xe=e.data||(e.data=[]),_e=this._data;if(isObject$1(xe)){const Ee=this._cachedMeta;this._data=convertObjectDataToArray(xe,Ee)}else if(_e!==xe){if(_e){unlistenArrayEvents(_e,this);const Ee=this._cachedMeta;clearStacks(Ee),Ee._parsed=[]}xe&&Object.isExtensible(xe)&&listenArrayEvents(xe,this),this._syncList=[],this._data=xe}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const xe=this._cachedMeta,_e=this.getDataset();let Ee=!1;this._dataCheck();const Se=xe._stacked;xe._stacked=isStacked(xe.vScale,xe),xe.stack!==_e.stack&&(Ee=!0,clearStacks(xe),xe.stack=_e.stack),this._resyncElements(e),(Ee||Se!==xe._stacked)&&(updateStacks(this,xe._parsed),xe._stacked=isStacked(xe.vScale,xe))}configure(){const e=this.chart.config,xe=e.datasetScopeKeys(this._type),_e=e.getOptionScopes(this.getDataset(),xe,!0);this.options=e.createResolver(_e,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,xe){const{_cachedMeta:_e,_data:Ee}=this,{iScale:Se,_stacked:Ae}=_e,Re=Se.axis;let Pe=e===0&&xe===Ee.length?!0:_e._sorted,Te=e>0&&_e._parsed[e-1],Ie,je,Oe;if(this._parsing===!1)_e._parsed=Ee,_e._sorted=!0,Oe=Ee;else{isArray$1(Ee[e])?Oe=this.parseArrayData(_e,Ee,e,xe):isObject$1(Ee[e])?Oe=this.parseObjectData(_e,Ee,e,xe):Oe=this.parsePrimitiveData(_e,Ee,e,xe);const ke=()=>je[Re]===null||Te&&je[Re]<Te[Re];for(Ie=0;Ie<xe;++Ie)_e._parsed[Ie+e]=je=Oe[Ie],Pe&&(ke()&&(Pe=!1),Te=je);_e._sorted=Pe}Ae&&updateStacks(this,Oe)}parsePrimitiveData(e,xe,_e,Ee){const{iScale:Se,vScale:Ae}=e,Re=Se.axis,Pe=Ae.axis,Te=Se.getLabels(),Ie=Se===Ae,je=new Array(Ee);let Oe,ke,Fe;for(Oe=0,ke=Ee;Oe<ke;++Oe)Fe=Oe+_e,je[Oe]={[Re]:Ie||Se.parse(Te[Fe],Fe),[Pe]:Ae.parse(xe[Fe],Fe)};return je}parseArrayData(e,xe,_e,Ee){const{xScale:Se,yScale:Ae}=e,Re=new Array(Ee);let Pe,Te,Ie,je;for(Pe=0,Te=Ee;Pe<Te;++Pe)Ie=Pe+_e,je=xe[Ie],Re[Pe]={x:Se.parse(je[0],Ie),y:Ae.parse(je[1],Ie)};return Re}parseObjectData(e,xe,_e,Ee){const{xScale:Se,yScale:Ae}=e,{xAxisKey:Re="x",yAxisKey:Pe="y"}=this._parsing,Te=new Array(Ee);let Ie,je,Oe,ke;for(Ie=0,je=Ee;Ie<je;++Ie)Oe=Ie+_e,ke=xe[Oe],Te[Ie]={x:Se.parse(resolveObjectKey(ke,Re),Oe),y:Ae.parse(resolveObjectKey(ke,Pe),Oe)};return Te}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,xe,_e){const Ee=this.chart,Se=this._cachedMeta,Ae=xe[e.axis],Re={keys:getSortedDatasetIndices(Ee,!0),values:xe._stacks[e.axis]._visualValues};return applyStack(Re,Ae,Se.index,{mode:_e})}updateRangeFromParsed(e,xe,_e,Ee){const Se=_e[xe.axis];let Ae=Se===null?NaN:Se;const Re=Ee&&_e._stacks[xe.axis];Ee&&Re&&(Ee.values=Re,Ae=applyStack(Ee,Se,this._cachedMeta.index)),e.min=Math.min(e.min,Ae),e.max=Math.max(e.max,Ae)}getMinMax(e,xe){const _e=this._cachedMeta,Ee=_e._parsed,Se=_e._sorted&&e===_e.iScale,Ae=Ee.length,Re=this._getOtherScale(e),Pe=createStack(xe,_e,this.chart),Te={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:Ie,max:je}=getUserBounds(Re);let Oe,ke;function Fe(){ke=Ee[Oe];const Me=ke[Re.axis];return!isNumberFinite(ke[e.axis])||Ie>Me||je<Me}for(Oe=0;Oe<Ae&&!(!Fe()&&(this.updateRangeFromParsed(Te,e,ke,Pe),Se));++Oe);if(Se){for(Oe=Ae-1;Oe>=0;--Oe)if(!Fe()){this.updateRangeFromParsed(Te,e,ke,Pe);break}}return Te}getAllParsedValues(e){const xe=this._cachedMeta._parsed,_e=[];let Ee,Se,Ae;for(Ee=0,Se=xe.length;Ee<Se;++Ee)Ae=xe[Ee][e.axis],isNumberFinite(Ae)&&_e.push(Ae);return _e}getMaxOverflow(){return!1}getLabelAndValue(e){const xe=this._cachedMeta,_e=xe.iScale,Ee=xe.vScale,Se=this.getParsed(e);return{label:_e?""+_e.getLabelForValue(Se[_e.axis]):"",value:Ee?""+Ee.getLabelForValue(Se[Ee.axis]):""}}_update(e){const xe=this._cachedMeta;this.update(e||"default"),xe._clip=toClip(valueOrDefault(this.options.clip,defaultClip(xe.xScale,xe.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,xe=this.chart,_e=this._cachedMeta,Ee=_e.data||[],Se=xe.chartArea,Ae=[],Re=this._drawStart||0,Pe=this._drawCount||Ee.length-Re,Te=this.options.drawActiveElementsOnTop;let Ie;for(_e.dataset&&_e.dataset.draw(e,Se,Re,Pe),Ie=Re;Ie<Re+Pe;++Ie){const je=Ee[Ie];je.hidden||(je.active&&Te?Ae.push(je):je.draw(e,Se))}for(Ie=0;Ie<Ae.length;++Ie)Ae[Ie].draw(e,Se)}getStyle(e,xe){const _e=xe?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_e):this.resolveDataElementOptions(e||0,_e)}getContext(e,xe,_e){const Ee=this.getDataset();let Se;if(e>=0&&e<this._cachedMeta.data.length){const Ae=this._cachedMeta.data[e];Se=Ae.$context||(Ae.$context=createDataContext(this.getContext(),e,Ae)),Se.parsed=this.getParsed(e),Se.raw=Ee.data[e],Se.index=Se.dataIndex=e}else Se=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),Se.dataset=Ee,Se.index=Se.datasetIndex=this.index;return Se.active=!!xe,Se.mode=_e,Se}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,xe){return this._resolveElementOptions(this.dataElementType.id,xe,e)}_resolveElementOptions(e,xe="default",_e){const Ee=xe==="active",Se=this._cachedDataOpts,Ae=e+"-"+xe,Re=Se[Ae],Pe=this.enableOptionSharing&&defined$1(_e);if(Re)return cloneIfNotShared(Re,Pe);const Te=this.chart.config,Ie=Te.datasetElementScopeKeys(this._type,e),je=Ee?[`${e}Hover`,"hover",e,""]:[e,""],Oe=Te.getOptionScopes(this.getDataset(),Ie),ke=Object.keys(defaults$1.elements[e]),Fe=()=>this.getContext(_e,Ee,xe),Me=Te.resolveNamedOptions(Oe,ke,Fe,je);return Me.$shared&&(Me.$shared=Pe,Se[Ae]=Object.freeze(cloneIfNotShared(Me,Pe))),Me}_resolveAnimations(e,xe,_e){const Ee=this.chart,Se=this._cachedDataOpts,Ae=`animation-${xe}`,Re=Se[Ae];if(Re)return Re;let Pe;if(Ee.options.animation!==!1){const Ie=this.chart.config,je=Ie.datasetAnimationScopeKeys(this._type,xe),Oe=Ie.getOptionScopes(this.getDataset(),je);Pe=Ie.createResolver(Oe,this.getContext(e,_e,xe))}const Te=new Animations(Ee,Pe&&Pe.animations);return Pe&&Pe._cacheable&&(Se[Ae]=Object.freeze(Te)),Te}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,xe){return!xe||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,xe){const _e=this.resolveDataElementOptions(e,xe),Ee=this._sharedOptions,Se=this.getSharedOptions(_e),Ae=this.includeOptions(xe,Se)||Se!==Ee;return this.updateSharedOptions(Se,xe,_e),{sharedOptions:Se,includeOptions:Ae}}updateElement(e,xe,_e,Ee){isDirectUpdateMode(Ee)?Object.assign(e,_e):this._resolveAnimations(xe,Ee).update(e,_e)}updateSharedOptions(e,xe,_e){e&&!isDirectUpdateMode(xe)&&this._resolveAnimations(void 0,xe).update(e,_e)}_setStyle(e,xe,_e,Ee){e.active=Ee;const Se=this.getStyle(xe,Ee);this._resolveAnimations(xe,_e,Ee).update(e,{options:!Ee&&this.getSharedOptions(Se)||Se})}removeHoverStyle(e,xe,_e){this._setStyle(e,_e,"active",!1)}setHoverStyle(e,xe,_e){this._setStyle(e,_e,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const xe=this._data,_e=this._cachedMeta.data;for(const[Re,Pe,Te]of this._syncList)this[Re](Pe,Te);this._syncList=[];const Ee=_e.length,Se=xe.length,Ae=Math.min(Se,Ee);Ae&&this.parse(0,Ae),Se>Ee?this._insertElements(Ee,Se-Ee,e):Se<Ee&&this._removeElements(Se,Ee-Se)}_insertElements(e,xe,_e=!0){const Ee=this._cachedMeta,Se=Ee.data,Ae=e+xe;let Re;const Pe=Te=>{for(Te.length+=xe,Re=Te.length-1;Re>=Ae;Re--)Te[Re]=Te[Re-xe]};for(Pe(Se),Re=e;Re<Ae;++Re)Se[Re]=new this.dataElementType;this._parsing&&Pe(Ee._parsed),this.parse(e,xe),_e&&this.updateElements(Se,e,xe,"reset")}updateElements(e,xe,_e,Ee){}_removeElements(e,xe){const _e=this._cachedMeta;if(this._parsing){const Ee=_e._parsed.splice(e,xe);_e._stacked&&clearStacks(_e,Ee)}_e.data.splice(e,xe)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[xe,_e,Ee]=e;this[xe](_e,Ee)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,xe){xe&&this._sync(["_removeElements",e,xe]);const _e=arguments.length-2;_e&&this._sync(["_insertElements",e,_e])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_i(DatasetController,"defaults",{}),_i(DatasetController,"datasetElementType",null),_i(DatasetController,"dataElementType",null);function getRatioAndOffset(t,e,xe){let _e=1,Ee=1,Se=0,Ae=0;if(e<TAU){const Re=t,Pe=Re+e,Te=Math.cos(Re),Ie=Math.sin(Re),je=Math.cos(Pe),Oe=Math.sin(Pe),ke=(We,Ye,Xe)=>_angleBetween(We,Re,Pe,!0)?1:Math.max(Ye,Ye*xe,Xe,Xe*xe),Fe=(We,Ye,Xe)=>_angleBetween(We,Re,Pe,!0)?-1:Math.min(Ye,Ye*xe,Xe,Xe*xe),Me=ke(0,Te,je),De=ke(HALF_PI,Ie,Oe),Ue=Fe(PI,Te,je),ze=Fe(PI+HALF_PI,Ie,Oe);_e=(Me-Ue)/2,Ee=(De-ze)/2,Se=-(Me+Ue)/2,Ae=-(De+ze)/2}return{ratioX:_e,ratioY:Ee,offsetX:Se,offsetY:Ae}}class DoughnutController extends DatasetController{constructor(e,xe){super(e,xe),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,xe){const _e=this.getDataset().data,Ee=this._cachedMeta;if(this._parsing===!1)Ee._parsed=_e;else{let Se=Pe=>+_e[Pe];if(isObject$1(_e[e])){const{key:Pe="value"}=this._parsing;Se=Te=>+resolveObjectKey(_e[Te],Pe)}let Ae,Re;for(Ae=e,Re=e+xe;Ae<Re;++Ae)Ee._parsed[Ae]=Se(Ae)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,xe=-TAU;for(let _e=0;_e<this.chart.data.datasets.length;++_e)if(this.chart.isDatasetVisible(_e)&&this.chart.getDatasetMeta(_e).type===this._type){const Ee=this.chart.getDatasetMeta(_e).controller,Se=Ee._getRotation(),Ae=Ee._getCircumference();e=Math.min(e,Se),xe=Math.max(xe,Se+Ae)}return{rotation:e,circumference:xe-e}}update(e){const xe=this.chart,{chartArea:_e}=xe,Ee=this._cachedMeta,Se=Ee.data,Ae=this.getMaxBorderWidth()+this.getMaxOffset(Se)+this.options.spacing,Re=Math.max((Math.min(_e.width,_e.height)-Ae)/2,0),Pe=Math.min(toPercentage(this.options.cutout,Re),1),Te=this._getRingWeight(this.index),{circumference:Ie,rotation:je}=this._getRotationExtents(),{ratioX:Oe,ratioY:ke,offsetX:Fe,offsetY:Me}=getRatioAndOffset(je,Ie,Pe),De=(_e.width-Ae)/Oe,Ue=(_e.height-Ae)/ke,ze=Math.max(Math.min(De,Ue)/2,0),We=toDimension(this.options.radius,ze),Ye=Math.max(We*Pe,0),Xe=(We-Ye)/this._getVisibleDatasetWeightTotal();this.offsetX=Fe*We,this.offsetY=Me*We,Ee.total=this.calculateTotal(),this.outerRadius=We-Xe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Xe*Te,0),this.updateElements(Se,0,Se.length,e)}_circumference(e,xe){const _e=this.options,Ee=this._cachedMeta,Se=this._getCircumference();return xe&&_e.animation.animateRotate||!this.chart.getDataVisibility(e)||Ee._parsed[e]===null||Ee.data[e].hidden?0:this.calculateCircumference(Ee._parsed[e]*Se/TAU)}updateElements(e,xe,_e,Ee){const Se=Ee==="reset",Ae=this.chart,Re=Ae.chartArea,Te=Ae.options.animation,Ie=(Re.left+Re.right)/2,je=(Re.top+Re.bottom)/2,Oe=Se&&Te.animateScale,ke=Oe?0:this.innerRadius,Fe=Oe?0:this.outerRadius,{sharedOptions:Me,includeOptions:De}=this._getSharedOptions(xe,Ee);let Ue=this._getRotation(),ze;for(ze=0;ze<xe;++ze)Ue+=this._circumference(ze,Se);for(ze=xe;ze<xe+_e;++ze){const We=this._circumference(ze,Se),Ye=e[ze],Xe={x:Ie+this.offsetX,y:je+this.offsetY,startAngle:Ue,endAngle:Ue+We,circumference:We,outerRadius:Fe,innerRadius:ke};De&&(Xe.options=Me||this.resolveDataElementOptions(ze,Ye.active?"active":Ee)),Ue+=We,this.updateElement(Ye,ze,Xe,Ee)}}calculateTotal(){const e=this._cachedMeta,xe=e.data;let _e=0,Ee;for(Ee=0;Ee<xe.length;Ee++){const Se=e._parsed[Ee];Se!==null&&!isNaN(Se)&&this.chart.getDataVisibility(Ee)&&!xe[Ee].hidden&&(_e+=Math.abs(Se))}return _e}calculateCircumference(e){const xe=this._cachedMeta.total;return xe>0&&!isNaN(e)?TAU*(Math.abs(e)/xe):0}getLabelAndValue(e){const xe=this._cachedMeta,_e=this.chart,Ee=_e.data.labels||[],Se=formatNumber(xe._parsed[e],_e.options.locale);return{label:Ee[e]||"",value:Se}}getMaxBorderWidth(e){let xe=0;const _e=this.chart;let Ee,Se,Ae,Re,Pe;if(!e){for(Ee=0,Se=_e.data.datasets.length;Ee<Se;++Ee)if(_e.isDatasetVisible(Ee)){Ae=_e.getDatasetMeta(Ee),e=Ae.data,Re=Ae.controller;break}}if(!e)return 0;for(Ee=0,Se=e.length;Ee<Se;++Ee)Pe=Re.resolveDataElementOptions(Ee),Pe.borderAlign!=="inner"&&(xe=Math.max(xe,Pe.borderWidth||0,Pe.hoverBorderWidth||0));return xe}getMaxOffset(e){let xe=0;for(let _e=0,Ee=e.length;_e<Ee;++_e){const Se=this.resolveDataElementOptions(_e);xe=Math.max(xe,Se.offset||0,Se.hoverOffset||0)}return xe}_getRingWeightOffset(e){let xe=0;for(let _e=0;_e<e;++_e)this.chart.isDatasetVisible(_e)&&(xe+=this._getRingWeight(_e));return xe}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_i(DoughnutController,"id","doughnut"),_i(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_i(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),_i(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const xe=e.data;if(xe.labels.length&&xe.datasets.length){const{labels:{pointStyle:_e,color:Ee}}=e.legend.options;return xe.labels.map((Se,Ae)=>{const Pe=e.getDatasetMeta(0).controller.getStyle(Ae);return{text:Se,fillStyle:Pe.backgroundColor,strokeStyle:Pe.borderColor,fontColor:Ee,lineWidth:Pe.borderWidth,pointStyle:_e,hidden:!e.getDataVisibility(Ae),index:Ae}})}return[]}},onClick(e,xe,_e){_e.chart.toggleDataVisibility(xe.index),_e.chart.update()}}}});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){_i(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,xe,_e){const{controller:Ee,data:Se,_sorted:Ae}=t,Re=Ee._cachedMeta.iScale,Pe=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(Re&&e===Re.axis&&e!=="r"&&Ae&&Se.length){const Te=Re._reversePixels?_rlookupByKey:_lookupByKey;if(_e){if(Ee._sharedOptions){const Ie=Se[0],je=typeof Ie.getRange=="function"&&Ie.getRange(e);if(je){const Oe=Te(Se,e,xe-je),ke=Te(Se,e,xe+je);return{lo:Oe.lo,hi:ke.hi}}}}else{const Ie=Te(Se,e,xe);if(Pe){const{vScale:je}=Ee._cachedMeta,{_parsed:Oe}=t,ke=Oe.slice(0,Ie.lo+1).reverse().findIndex(Me=>!isNullOrUndef(Me[je.axis]));Ie.lo-=Math.max(0,ke);const Fe=Oe.slice(Ie.hi).findIndex(Me=>!isNullOrUndef(Me[je.axis]));Ie.hi+=Math.max(0,Fe)}return Ie}}return{lo:0,hi:Se.length-1}}function evaluateInteractionItems(t,e,xe,_e,Ee){const Se=t.getSortedVisibleDatasetMetas(),Ae=xe[e];for(let Re=0,Pe=Se.length;Re<Pe;++Re){const{index:Te,data:Ie}=Se[Re],{lo:je,hi:Oe}=binarySearch(Se[Re],e,Ae,Ee);for(let ke=je;ke<=Oe;++ke){const Fe=Ie[ke];Fe.skip||_e(Fe,Te,ke)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,xe=t.indexOf("y")!==-1;return function(_e,Ee){const Se=e?Math.abs(_e.x-Ee.x):0,Ae=xe?Math.abs(_e.y-Ee.y):0;return Math.sqrt(Math.pow(Se,2)+Math.pow(Ae,2))}}function getIntersectItems(t,e,xe,_e,Ee){const Se=[];return!Ee&&!t.isPointInArea(e)||evaluateInteractionItems(t,xe,e,function(Re,Pe,Te){!Ee&&!_isPointInArea(Re,t.chartArea,0)||Re.inRange(e.x,e.y,_e)&&Se.push({element:Re,datasetIndex:Pe,index:Te})},!0),Se}function getNearestRadialItems(t,e,xe,_e){let Ee=[];function Se(Ae,Re,Pe){const{startAngle:Te,endAngle:Ie}=Ae.getProps(["startAngle","endAngle"],_e),{angle:je}=getAngleFromPoint(Ae,{x:e.x,y:e.y});_angleBetween(je,Te,Ie)&&Ee.push({element:Ae,datasetIndex:Re,index:Pe})}return evaluateInteractionItems(t,xe,e,Se),Ee}function getNearestCartesianItems(t,e,xe,_e,Ee,Se){let Ae=[];const Re=getDistanceMetricForAxis(xe);let Pe=Number.POSITIVE_INFINITY;function Te(Ie,je,Oe){const ke=Ie.inRange(e.x,e.y,Ee);if(_e&&!ke)return;const Fe=Ie.getCenterPoint(Ee);if(!(!!Se||t.isPointInArea(Fe))&&!ke)return;const De=Re(e,Fe);De<Pe?(Ae=[{element:Ie,datasetIndex:je,index:Oe}],Pe=De):De===Pe&&Ae.push({element:Ie,datasetIndex:je,index:Oe})}return evaluateInteractionItems(t,xe,e,Te),Ae}function getNearestItems(t,e,xe,_e,Ee,Se){return!Se&&!t.isPointInArea(e)?[]:xe==="r"&&!_e?getNearestRadialItems(t,e,xe,Ee):getNearestCartesianItems(t,e,xe,_e,Ee,Se)}function getAxisItems(t,e,xe,_e,Ee){const Se=[],Ae=xe==="x"?"inXRange":"inYRange";let Re=!1;return evaluateInteractionItems(t,xe,e,(Pe,Te,Ie)=>{Pe[Ae]&&Pe[Ae](e[xe],Ee)&&(Se.push({element:Pe,datasetIndex:Te,index:Ie}),Re=Re||Pe.inRange(e.x,e.y,Ee))}),_e&&!Re?[]:Se}var Interaction={modes:{index(t,e,xe,_e){const Ee=getRelativePosition(e,t),Se=xe.axis||"x",Ae=xe.includeInvisible||!1,Re=xe.intersect?getIntersectItems(t,Ee,Se,_e,Ae):getNearestItems(t,Ee,Se,!1,_e,Ae),Pe=[];return Re.length?(t.getSortedVisibleDatasetMetas().forEach(Te=>{const Ie=Re[0].index,je=Te.data[Ie];je&&!je.skip&&Pe.push({element:je,datasetIndex:Te.index,index:Ie})}),Pe):[]},dataset(t,e,xe,_e){const Ee=getRelativePosition(e,t),Se=xe.axis||"xy",Ae=xe.includeInvisible||!1;let Re=xe.intersect?getIntersectItems(t,Ee,Se,_e,Ae):getNearestItems(t,Ee,Se,!1,_e,Ae);if(Re.length>0){const Pe=Re[0].datasetIndex,Te=t.getDatasetMeta(Pe).data;Re=[];for(let Ie=0;Ie<Te.length;++Ie)Re.push({element:Te[Ie],datasetIndex:Pe,index:Ie})}return Re},point(t,e,xe,_e){const Ee=getRelativePosition(e,t),Se=xe.axis||"xy",Ae=xe.includeInvisible||!1;return getIntersectItems(t,Ee,Se,_e,Ae)},nearest(t,e,xe,_e){const Ee=getRelativePosition(e,t),Se=xe.axis||"xy",Ae=xe.includeInvisible||!1;return getNearestItems(t,Ee,Se,xe.intersect,_e,Ae)},x(t,e,xe,_e){const Ee=getRelativePosition(e,t);return getAxisItems(t,Ee,"x",xe.intersect,_e)},y(t,e,xe,_e){const Ee=getRelativePosition(e,t);return getAxisItems(t,Ee,"y",xe.intersect,_e)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(xe=>xe.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(xe=>STATIC_POSITIONS.indexOf(xe.pos)===-1&&xe.box.axis===e)}function sortByWeight(t,e){return t.sort((xe,_e)=>{const Ee=e?_e:xe,Se=e?xe:_e;return Ee.weight===Se.weight?Ee.index-Se.index:Ee.weight-Se.weight})}function wrapBoxes(t){const e=[];let xe,_e,Ee,Se,Ae,Re;for(xe=0,_e=(t||[]).length;xe<_e;++xe)Ee=t[xe],{position:Se,options:{stack:Ae,stackWeight:Re=1}}=Ee,e.push({index:xe,box:Ee,pos:Se,horizontal:Ee.isHorizontal(),weight:Ee.weight,stack:Ae&&Se+Ae,stackWeight:Re});return e}function buildStacks(t){const e={};for(const xe of t){const{stack:_e,pos:Ee,stackWeight:Se}=xe;if(!_e||!STATIC_POSITIONS.includes(Ee))continue;const Ae=e[_e]||(e[_e]={count:0,placed:0,weight:0,size:0});Ae.count++,Ae.weight+=Se}return e}function setLayoutDims(t,e){const xe=buildStacks(t),{vBoxMaxWidth:_e,hBoxMaxHeight:Ee}=e;let Se,Ae,Re;for(Se=0,Ae=t.length;Se<Ae;++Se){Re=t[Se];const{fullSize:Pe}=Re.box,Te=xe[Re.stack],Ie=Te&&Re.stackWeight/Te.weight;Re.horizontal?(Re.width=Ie?Ie*_e:Pe&&e.availableWidth,Re.height=Ee):(Re.width=_e,Re.height=Ie?Ie*Ee:Pe&&e.availableHeight)}return xe}function buildLayoutBoxes(t){const e=wrapBoxes(t),xe=sortByWeight(e.filter(Te=>Te.box.fullSize),!0),_e=sortByWeight(filterByPosition(e,"left"),!0),Ee=sortByWeight(filterByPosition(e,"right")),Se=sortByWeight(filterByPosition(e,"top"),!0),Ae=sortByWeight(filterByPosition(e,"bottom")),Re=filterDynamicPositionByAxis(e,"x"),Pe=filterDynamicPositionByAxis(e,"y");return{fullSize:xe,leftAndTop:_e.concat(Se),rightAndBottom:Ee.concat(Pe).concat(Ae).concat(Re),chartArea:filterByPosition(e,"chartArea"),vertical:_e.concat(Ee).concat(Pe),horizontal:Se.concat(Ae).concat(Re)}}function getCombinedMax(t,e,xe,_e){return Math.max(t[xe],e[xe])+Math.max(t[_e],e[_e])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,xe,_e){const{pos:Ee,box:Se}=xe,Ae=t.maxPadding;if(!isObject$1(Ee)){xe.size&&(t[Ee]-=xe.size);const je=_e[xe.stack]||{size:0,count:1};je.size=Math.max(je.size,xe.horizontal?Se.height:Se.width),xe.size=je.size/je.count,t[Ee]+=xe.size}Se.getPadding&&updateMaxPadding(Ae,Se.getPadding());const Re=Math.max(0,e.outerWidth-getCombinedMax(Ae,t,"left","right")),Pe=Math.max(0,e.outerHeight-getCombinedMax(Ae,t,"top","bottom")),Te=Re!==t.w,Ie=Pe!==t.h;return t.w=Re,t.h=Pe,xe.horizontal?{same:Te,other:Ie}:{same:Ie,other:Te}}function handleMaxPadding(t){const e=t.maxPadding;function xe(_e){const Ee=Math.max(e[_e]-t[_e],0);return t[_e]+=Ee,Ee}t.y+=xe("top"),t.x+=xe("left"),xe("right"),xe("bottom")}function getMargins(t,e){const xe=e.maxPadding;function _e(Ee){const Se={left:0,top:0,right:0,bottom:0};return Ee.forEach(Ae=>{Se[Ae]=Math.max(e[Ae],xe[Ae])}),Se}return _e(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,xe,_e){const Ee=[];let Se,Ae,Re,Pe,Te,Ie;for(Se=0,Ae=t.length,Te=0;Se<Ae;++Se){Re=t[Se],Pe=Re.box,Pe.update(Re.width||e.w,Re.height||e.h,getMargins(Re.horizontal,e));const{same:je,other:Oe}=updateDims(e,xe,Re,_e);Te|=je&&Ee.length,Ie=Ie||Oe,Pe.fullSize||Ee.push(Re)}return Te&&fitBoxes(Ee,e,xe,_e)||Ie}function setBoxDims(t,e,xe,_e,Ee){t.top=xe,t.left=e,t.right=e+_e,t.bottom=xe+Ee,t.width=_e,t.height=Ee}function placeBoxes(t,e,xe,_e){const Ee=xe.padding;let{x:Se,y:Ae}=e;for(const Re of t){const Pe=Re.box,Te=_e[Re.stack]||{placed:0,weight:1},Ie=Re.stackWeight/Te.weight||1;if(Re.horizontal){const je=e.w*Ie,Oe=Te.size||Pe.height;defined$1(Te.start)&&(Ae=Te.start),Pe.fullSize?setBoxDims(Pe,Ee.left,Ae,xe.outerWidth-Ee.right-Ee.left,Oe):setBoxDims(Pe,e.left+Te.placed,Ae,je,Oe),Te.start=Ae,Te.placed+=je,Ae=Pe.bottom}else{const je=e.h*Ie,Oe=Te.size||Pe.width;defined$1(Te.start)&&(Se=Te.start),Pe.fullSize?setBoxDims(Pe,Se,Ee.top,Oe,xe.outerHeight-Ee.bottom-Ee.top):setBoxDims(Pe,Se,e.top+Te.placed,Oe,je),Te.start=Se,Te.placed+=je,Se=Pe.right}}e.x=Se,e.y=Ae}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(xe){e.draw(xe)}}]},t.boxes.push(e)},removeBox(t,e){const xe=t.boxes?t.boxes.indexOf(e):-1;xe!==-1&&t.boxes.splice(xe,1)},configure(t,e,xe){e.fullSize=xe.fullSize,e.position=xe.position,e.weight=xe.weight},update(t,e,xe,_e){if(!t)return;const Ee=toPadding(t.options.layout.padding),Se=Math.max(e-Ee.width,0),Ae=Math.max(xe-Ee.height,0),Re=buildLayoutBoxes(t.boxes),Pe=Re.vertical,Te=Re.horizontal;each(t.boxes,Me=>{typeof Me.beforeLayout=="function"&&Me.beforeLayout()});const Ie=Pe.reduce((Me,De)=>De.box.options&&De.box.options.display===!1?Me:Me+1,0)||1,je=Object.freeze({outerWidth:e,outerHeight:xe,padding:Ee,availableWidth:Se,availableHeight:Ae,vBoxMaxWidth:Se/2/Ie,hBoxMaxHeight:Ae/2}),Oe=Object.assign({},Ee);updateMaxPadding(Oe,toPadding(_e));const ke=Object.assign({maxPadding:Oe,w:Se,h:Ae,x:Ee.left,y:Ee.top},Ee),Fe=setLayoutDims(Pe.concat(Te),je);fitBoxes(Re.fullSize,ke,je,Fe),fitBoxes(Pe,ke,je,Fe),fitBoxes(Te,ke,je,Fe)&&fitBoxes(Pe,ke,je,Fe),handleMaxPadding(ke),placeBoxes(Re.leftAndTop,ke,je,Fe),ke.x+=ke.w,ke.y+=ke.h,placeBoxes(Re.rightAndBottom,ke,je,Fe),t.chartArea={left:ke.left,top:ke.top,right:ke.left+ke.w,bottom:ke.top+ke.h,height:ke.h,width:ke.w},each(Re.chartArea,Me=>{const De=Me.box;Object.assign(De,t.chartArea),De.update(ke.w,ke.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,xe){}releaseContext(e){return!1}addEventListener(e,xe,_e){}removeEventListener(e,xe,_e){}getDevicePixelRatio(){return 1}getMaximumSize(e,xe,_e,Ee){return xe=Math.max(0,xe||e.width),_e=_e||e.height,{width:xe,height:Math.max(0,Ee?Math.floor(xe/Ee):_e)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const xe=t.style,_e=t.getAttribute("height"),Ee=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:_e,width:Ee,style:{display:xe.display,height:xe.height,width:xe.width}}},xe.display=xe.display||"block",xe.boxSizing=xe.boxSizing||"border-box",isNullOrEmpty(Ee)){const Se=readUsedSize(t,"width");Se!==void 0&&(t.width=Se)}if(isNullOrEmpty(_e))if(t.style.height==="")t.height=t.width/(e||2);else{const Se=readUsedSize(t,"height");Se!==void 0&&(t.height=Se)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,xe){t&&t.addEventListener(e,xe,eventListenerOptions)}function removeListener(t,e,xe){t&&t.canvas&&t.canvas.removeEventListener(e,xe,eventListenerOptions)}function fromNativeEvent(t,e){const xe=EVENT_TYPES[t.type]||t.type,{x:_e,y:Ee}=getRelativePosition(t,e);return{type:xe,chart:e,native:t,x:_e!==void 0?_e:null,y:Ee!==void 0?Ee:null}}function nodeListContains(t,e){for(const xe of t)if(xe===e||xe.contains(e))return!0}function createAttachObserver(t,e,xe){const _e=t.canvas,Ee=new MutationObserver(Se=>{let Ae=!1;for(const Re of Se)Ae=Ae||nodeListContains(Re.addedNodes,_e),Ae=Ae&&!nodeListContains(Re.removedNodes,_e);Ae&&xe()});return Ee.observe(document,{childList:!0,subtree:!0}),Ee}function createDetachObserver(t,e,xe){const _e=t.canvas,Ee=new MutationObserver(Se=>{let Ae=!1;for(const Re of Se)Ae=Ae||nodeListContains(Re.removedNodes,_e),Ae=Ae&&!nodeListContains(Re.addedNodes,_e);Ae&&xe()});return Ee.observe(document,{childList:!0,subtree:!0}),Ee}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,xe)=>{xe.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,xe){const _e=t.canvas,Ee=_e&&_getParentNode(_e);if(!Ee)return;const Se=throttled((Re,Pe)=>{const Te=Ee.clientWidth;xe(Re,Pe),Te<Ee.clientWidth&&xe()},window),Ae=new ResizeObserver(Re=>{const Pe=Re[0],Te=Pe.contentRect.width,Ie=Pe.contentRect.height;Te===0&&Ie===0||Se(Te,Ie)});return Ae.observe(Ee),listenDevicePixelRatioChanges(t,Se),Ae}function releaseObserver(t,e,xe){xe&&xe.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,xe){const _e=t.canvas,Ee=throttled(Se=>{t.ctx!==null&&xe(fromNativeEvent(Se,t))},t);return addListener(_e,e,Ee),Ee}class DomPlatform extends BasePlatform{acquireContext(e,xe){const _e=e&&e.getContext&&e.getContext("2d");return _e&&_e.canvas===e?(initCanvas(e,xe),_e):null}releaseContext(e){const xe=e.canvas;if(!xe[EXPANDO_KEY])return!1;const _e=xe[EXPANDO_KEY].initial;["height","width"].forEach(Se=>{const Ae=_e[Se];isNullOrUndef(Ae)?xe.removeAttribute(Se):xe.setAttribute(Se,Ae)});const Ee=_e.style||{};return Object.keys(Ee).forEach(Se=>{xe.style[Se]=Ee[Se]}),xe.width=xe.width,delete xe[EXPANDO_KEY],!0}addEventListener(e,xe,_e){this.removeEventListener(e,xe);const Ee=e.$proxies||(e.$proxies={}),Ae={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[xe]||createProxyAndListen;Ee[xe]=Ae(e,xe,_e)}removeEventListener(e,xe){const _e=e.$proxies||(e.$proxies={}),Ee=_e[xe];if(!Ee)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[xe]||removeListener)(e,xe,Ee),_e[xe]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,xe,_e,Ee){return getMaximumSize(e,xe,_e,Ee)}isAttached(e){const xe=e&&_getParentNode(e);return!!(xe&&xe.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var $d;let Element$1=($d=class{constructor(){_i(this,"x");_i(this,"y");_i(this,"active",!1);_i(this,"options");_i(this,"$animations")}tooltipPosition(e){const{x:xe,y:_e}=this.getProps(["x","y"],e);return{x:xe,y:_e}}hasValue(){return isNumber$2(this.x)&&isNumber$2(this.y)}getProps(e,xe){const _e=this.$animations;if(!xe||!_e)return this;const Ee={};return e.forEach(Se=>{Ee[Se]=_e[Se]&&_e[Se].active()?_e[Se]._to:this[Se]}),Ee}},_i($d,"defaults",{}),_i($d,"defaultRoutes"),$d);function autoSkip(t,e){const xe=t.options.ticks,_e=determineMaxTicks(t),Ee=Math.min(xe.maxTicksLimit||_e,_e),Se=xe.major.enabled?getMajorIndices(e):[],Ae=Se.length,Re=Se[0],Pe=Se[Ae-1],Te=[];if(Ae>Ee)return skipMajors(e,Te,Se,Ae/Ee),Te;const Ie=calculateSpacing(Se,e,Ee);if(Ae>0){let je,Oe;const ke=Ae>1?Math.round((Pe-Re)/(Ae-1)):null;for(skip(e,Te,Ie,isNullOrUndef(ke)?0:Re-ke,Re),je=0,Oe=Ae-1;je<Oe;je++)skip(e,Te,Ie,Se[je],Se[je+1]);return skip(e,Te,Ie,Pe,isNullOrUndef(ke)?e.length:Pe+ke),Te}return skip(e,Te,Ie),Te}function determineMaxTicks(t){const e=t.options.offset,xe=t._tickSize(),_e=t._length/xe+(e?0:1),Ee=t._maxLength/xe;return Math.floor(Math.min(_e,Ee))}function calculateSpacing(t,e,xe){const _e=getEvenSpacing(t),Ee=e.length/xe;if(!_e)return Math.max(Ee,1);const Se=_factorize(_e);for(let Ae=0,Re=Se.length-1;Ae<Re;Ae++){const Pe=Se[Ae];if(Pe>Ee)return Pe}return Math.max(Ee,1)}function getMajorIndices(t){const e=[];let xe,_e;for(xe=0,_e=t.length;xe<_e;xe++)t[xe].major&&e.push(xe);return e}function skipMajors(t,e,xe,_e){let Ee=0,Se=xe[0],Ae;for(_e=Math.ceil(_e),Ae=0;Ae<t.length;Ae++)Ae===Se&&(e.push(t[Ae]),Ee++,Se=xe[Ee*_e])}function skip(t,e,xe,_e,Ee){const Se=valueOrDefault(_e,0),Ae=Math.min(valueOrDefault(Ee,t.length),t.length);let Re=0,Pe,Te,Ie;for(xe=Math.ceil(xe),Ee&&(Pe=Ee-_e,xe=Pe/Math.floor(Pe/xe)),Ie=Se;Ie<0;)Re++,Ie=Math.round(Se+Re*xe);for(Te=Math.max(Se,0);Te<Ae;Te++)Te===Ie&&(e.push(t[Te]),Re++,Ie=Math.round(Se+Re*xe))}function getEvenSpacing(t){const e=t.length;let xe,_e;if(e<2)return!1;for(_e=t[0],xe=1;xe<e;++xe)if(t[xe]-t[xe-1]!==_e)return!1;return _e}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,xe)=>e==="top"||e==="left"?t[e]+xe:t[e]-xe,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const xe=[],_e=t.length/e,Ee=t.length;let Se=0;for(;Se<Ee;Se+=_e)xe.push(t[Math.floor(Se)]);return xe}function getPixelForGridLine(t,e,xe){const _e=t.ticks.length,Ee=Math.min(e,_e-1),Se=t._startPixel,Ae=t._endPixel,Re=1e-6;let Pe=t.getPixelForTick(Ee),Te;if(!(xe&&(_e===1?Te=Math.max(Pe-Se,Ae-Pe):e===0?Te=(t.getPixelForTick(1)-Pe)/2:Te=(Pe-t.getPixelForTick(Ee-1))/2,Pe+=Ee<e?Te:-Te,Pe<Se-Re||Pe>Ae+Re)))return Pe}function garbageCollect(t,e){each(t,xe=>{const _e=xe.gc,Ee=_e.length/2;let Se;if(Ee>e){for(Se=0;Se<Ee;++Se)delete xe.data[_e[Se]];_e.splice(0,Ee)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const xe=toFont(t.font,e),_e=toPadding(t.padding);return(isArray$1(t.text)?t.text.length:1)*xe.lineHeight+_e.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,xe){return createContext(t,{tick:xe,index:e,type:"tick"})}function titleAlign(t,e,xe){let _e=_toLeftRightCenter(t);return(xe&&e!=="right"||!xe&&e==="right")&&(_e=reverseAlign(_e)),_e}function titleArgs(t,e,xe,_e){const{top:Ee,left:Se,bottom:Ae,right:Re,chart:Pe}=t,{chartArea:Te,scales:Ie}=Pe;let je=0,Oe,ke,Fe;const Me=Ae-Ee,De=Re-Se;if(t.isHorizontal()){if(ke=_alignStartEnd(_e,Se,Re),isObject$1(xe)){const Ue=Object.keys(xe)[0],ze=xe[Ue];Fe=Ie[Ue].getPixelForValue(ze)+Me-e}else xe==="center"?Fe=(Te.bottom+Te.top)/2+Me-e:Fe=offsetFromEdge(t,xe,e);Oe=Re-Se}else{if(isObject$1(xe)){const Ue=Object.keys(xe)[0],ze=xe[Ue];ke=Ie[Ue].getPixelForValue(ze)-De+e}else xe==="center"?ke=(Te.left+Te.right)/2-De+e:ke=offsetFromEdge(t,xe,e);Fe=_alignStartEnd(_e,Ae,Ee),je=xe==="left"?-HALF_PI:HALF_PI}return{titleX:ke,titleY:Fe,maxWidth:Oe,rotation:je}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,xe){return e}getUserBounds(){let{_userMin:e,_userMax:xe,_suggestedMin:_e,_suggestedMax:Ee}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),xe=finiteOrDefault(xe,Number.NEGATIVE_INFINITY),_e=finiteOrDefault(_e,Number.POSITIVE_INFINITY),Ee=finiteOrDefault(Ee,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,_e),max:finiteOrDefault(xe,Ee),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(xe)}}getMinMax(e){let{min:xe,max:_e,minDefined:Ee,maxDefined:Se}=this.getUserBounds(),Ae;if(Ee&&Se)return{min:xe,max:_e};const Re=this.getMatchingVisibleMetas();for(let Pe=0,Te=Re.length;Pe<Te;++Pe)Ae=Re[Pe].controller.getMinMax(this,e),Ee||(xe=Math.min(xe,Ae.min)),Se||(_e=Math.max(_e,Ae.max));return xe=Se&&xe>_e?_e:xe,_e=Ee&&xe>_e?xe:_e,{min:finiteOrDefault(xe,finiteOrDefault(_e,xe)),max:finiteOrDefault(_e,finiteOrDefault(xe,_e))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,xe,_e){const{beginAtZero:Ee,grace:Se,ticks:Ae}=this.options,Re=Ae.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=xe,this._margins=_e=Object.assign({left:0,right:0,top:0,bottom:0},_e),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_e.left+_e.right:this.height+_e.top+_e.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,Se,Ee),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Pe=Re<this.ticks.length;this._convertTicksToLabels(Pe?sample(this.ticks,Re):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Ae.display&&(Ae.autoSkip||Ae.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),Pe&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,xe,_e;this.isHorizontal()?(xe=this.left,_e=this.right):(xe=this.top,_e=this.bottom,e=!e),this._startPixel=xe,this._endPixel=_e,this._reversePixels=e,this._length=_e-xe,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const xe=this.options.ticks;let _e,Ee,Se;for(_e=0,Ee=e.length;_e<Ee;_e++)Se=e[_e],Se.label=callback(xe.callback,[Se.value,_e,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,xe=e.ticks,_e=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),Ee=xe.minRotation||0,Se=xe.maxRotation;let Ae=Ee,Re,Pe,Te;if(!this._isVisible()||!xe.display||Ee>=Se||_e<=1||!this.isHorizontal()){this.labelRotation=Ee;return}const Ie=this._getLabelSizes(),je=Ie.widest.width,Oe=Ie.highest.height,ke=_limitValue(this.chart.width-je,0,this.maxWidth);Re=e.offset?this.maxWidth/_e:ke/(_e-1),je+6>Re&&(Re=ke/(_e-(e.offset?.5:1)),Pe=this.maxHeight-getTickMarkLength(e.grid)-xe.padding-getTitleHeight(e.title,this.chart.options.font),Te=Math.sqrt(je*je+Oe*Oe),Ae=toDegrees(Math.min(Math.asin(_limitValue((Ie.highest.height+6)/Re,-1,1)),Math.asin(_limitValue(Pe/Te,-1,1))-Math.asin(_limitValue(Oe/Te,-1,1)))),Ae=Math.max(Ee,Math.min(Se,Ae))),this.labelRotation=Ae}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:xe,options:{ticks:_e,title:Ee,grid:Se}}=this,Ae=this._isVisible(),Re=this.isHorizontal();if(Ae){const Pe=getTitleHeight(Ee,xe.options.font);if(Re?(e.width=this.maxWidth,e.height=getTickMarkLength(Se)+Pe):(e.height=this.maxHeight,e.width=getTickMarkLength(Se)+Pe),_e.display&&this.ticks.length){const{first:Te,last:Ie,widest:je,highest:Oe}=this._getLabelSizes(),ke=_e.padding*2,Fe=toRadians(this.labelRotation),Me=Math.cos(Fe),De=Math.sin(Fe);if(Re){const Ue=_e.mirror?0:De*je.width+Me*Oe.height;e.height=Math.min(this.maxHeight,e.height+Ue+ke)}else{const Ue=_e.mirror?0:Me*je.width+De*Oe.height;e.width=Math.min(this.maxWidth,e.width+Ue+ke)}this._calculatePadding(Te,Ie,De,Me)}}this._handleMargins(),Re?(this.width=this._length=xe.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=xe.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,xe,_e,Ee){const{ticks:{align:Se,padding:Ae},position:Re}=this.options,Pe=this.labelRotation!==0,Te=Re!=="top"&&this.axis==="x";if(this.isHorizontal()){const Ie=this.getPixelForTick(0)-this.left,je=this.right-this.getPixelForTick(this.ticks.length-1);let Oe=0,ke=0;Pe?Te?(Oe=Ee*e.width,ke=_e*xe.height):(Oe=_e*e.height,ke=Ee*xe.width):Se==="start"?ke=xe.width:Se==="end"?Oe=e.width:Se!=="inner"&&(Oe=e.width/2,ke=xe.width/2),this.paddingLeft=Math.max((Oe-Ie+Ae)*this.width/(this.width-Ie),0),this.paddingRight=Math.max((ke-je+Ae)*this.width/(this.width-je),0)}else{let Ie=xe.height/2,je=e.height/2;Se==="start"?(Ie=0,je=e.height):Se==="end"&&(Ie=xe.height,je=0),this.paddingTop=Ie+Ae,this.paddingBottom=je+Ae}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:xe}=this.options;return xe==="top"||xe==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let xe,_e;for(xe=0,_e=e.length;xe<_e;xe++)isNullOrUndef(e[xe].label)&&(e.splice(xe,1),_e--,xe--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const xe=this.options.ticks.sampleSize;let _e=this.ticks;xe<_e.length&&(_e=sample(_e,xe)),this._labelSizes=e=this._computeLabelSizes(_e,_e.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,xe,_e){const{ctx:Ee,_longestTextCache:Se}=this,Ae=[],Re=[],Pe=Math.floor(xe/getTicksLimit(xe,_e));let Te=0,Ie=0,je,Oe,ke,Fe,Me,De,Ue,ze,We,Ye,Xe;for(je=0;je<xe;je+=Pe){if(Fe=e[je].label,Me=this._resolveTickFontOptions(je),Ee.font=De=Me.string,Ue=Se[De]=Se[De]||{data:{},gc:[]},ze=Me.lineHeight,We=Ye=0,!isNullOrUndef(Fe)&&!isArray$1(Fe))We=_measureText(Ee,Ue.data,Ue.gc,We,Fe),Ye=ze;else if(isArray$1(Fe))for(Oe=0,ke=Fe.length;Oe<ke;++Oe)Xe=Fe[Oe],!isNullOrUndef(Xe)&&!isArray$1(Xe)&&(We=_measureText(Ee,Ue.data,Ue.gc,We,Xe),Ye+=ze);Ae.push(We),Re.push(Ye),Te=Math.max(We,Te),Ie=Math.max(Ye,Ie)}garbageCollect(Se,xe);const ir=Ae.indexOf(Te),Qe=Re.indexOf(Ie),Ke=rr=>({width:Ae[rr]||0,height:Re[rr]||0});return{first:Ke(0),last:Ke(xe-1),widest:Ke(ir),highest:Ke(Qe),widths:Ae,heights:Re}}getLabelForValue(e){return e}getPixelForValue(e,xe){return NaN}getValueForPixel(e){}getPixelForTick(e){const xe=this.ticks;return e<0||e>xe.length-1?null:this.getPixelForValue(xe[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const xe=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,xe,0):xe)}getDecimalForPixel(e){const xe=(e-this._startPixel)/this._length;return this._reversePixels?1-xe:xe}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:xe}=this;return e<0&&xe<0?xe:e>0&&xe>0?e:0}getContext(e){const xe=this.ticks||[];if(e>=0&&e<xe.length){const _e=xe[e];return _e.$context||(_e.$context=createTickContext(this.getContext(),e,_e))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,xe=toRadians(this.labelRotation),_e=Math.abs(Math.cos(xe)),Ee=Math.abs(Math.sin(xe)),Se=this._getLabelSizes(),Ae=e.autoSkipPadding||0,Re=Se?Se.widest.width+Ae:0,Pe=Se?Se.highest.height+Ae:0;return this.isHorizontal()?Pe*_e>Re*Ee?Re/_e:Pe/Ee:Pe*Ee<Re*_e?Pe/_e:Re/Ee}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const xe=this.axis,_e=this.chart,Ee=this.options,{grid:Se,position:Ae,border:Re}=Ee,Pe=Se.offset,Te=this.isHorizontal(),je=this.ticks.length+(Pe?1:0),Oe=getTickMarkLength(Se),ke=[],Fe=Re.setContext(this.getContext()),Me=Fe.display?Fe.width:0,De=Me/2,Ue=function(Er){return _alignPixel(_e,Er,Me)};let ze,We,Ye,Xe,ir,Qe,Ke,rr,cr,Ze,er,sr;if(Ae==="top")ze=Ue(this.bottom),Qe=this.bottom-Oe,rr=ze-De,Ze=Ue(e.top)+De,sr=e.bottom;else if(Ae==="bottom")ze=Ue(this.top),Ze=e.top,sr=Ue(e.bottom)-De,Qe=ze+De,rr=this.top+Oe;else if(Ae==="left")ze=Ue(this.right),ir=this.right-Oe,Ke=ze-De,cr=Ue(e.left)+De,er=e.right;else if(Ae==="right")ze=Ue(this.left),cr=e.left,er=Ue(e.right)-De,ir=ze+De,Ke=this.left+Oe;else if(xe==="x"){if(Ae==="center")ze=Ue((e.top+e.bottom)/2+.5);else if(isObject$1(Ae)){const Er=Object.keys(Ae)[0],yr=Ae[Er];ze=Ue(this.chart.scales[Er].getPixelForValue(yr))}Ze=e.top,sr=e.bottom,Qe=ze+De,rr=Qe+Oe}else if(xe==="y"){if(Ae==="center")ze=Ue((e.left+e.right)/2);else if(isObject$1(Ae)){const Er=Object.keys(Ae)[0],yr=Ae[Er];ze=Ue(this.chart.scales[Er].getPixelForValue(yr))}ir=ze-De,Ke=ir-Oe,cr=e.left,er=e.right}const fr=valueOrDefault(Ee.ticks.maxTicksLimit,je),_r=Math.max(1,Math.ceil(je/fr));for(We=0;We<je;We+=_r){const Er=this.getContext(We),yr=Se.setContext(Er),mr=Re.setContext(Er),Pr=yr.lineWidth,Cr=yr.color,wr=mr.dash||[],or=mr.dashOffset,hr=yr.tickWidth,br=yr.tickColor,Ir=yr.tickBorderDash||[],jr=yr.tickBorderDashOffset;Ye=getPixelForGridLine(this,We,Pe),Ye!==void 0&&(Xe=_alignPixel(_e,Ye,Pr),Te?ir=Ke=cr=er=Xe:Qe=rr=Ze=sr=Xe,ke.push({tx1:ir,ty1:Qe,tx2:Ke,ty2:rr,x1:cr,y1:Ze,x2:er,y2:sr,width:Pr,color:Cr,borderDash:wr,borderDashOffset:or,tickWidth:hr,tickColor:br,tickBorderDash:Ir,tickBorderDashOffset:jr}))}return this._ticksLength=je,this._borderValue=ze,ke}_computeLabelItems(e){const xe=this.axis,_e=this.options,{position:Ee,ticks:Se}=_e,Ae=this.isHorizontal(),Re=this.ticks,{align:Pe,crossAlign:Te,padding:Ie,mirror:je}=Se,Oe=getTickMarkLength(_e.grid),ke=Oe+Ie,Fe=je?-Ie:ke,Me=-toRadians(this.labelRotation),De=[];let Ue,ze,We,Ye,Xe,ir,Qe,Ke,rr,cr,Ze,er,sr="middle";if(Ee==="top")ir=this.bottom-Fe,Qe=this._getXAxisLabelAlignment();else if(Ee==="bottom")ir=this.top+Fe,Qe=this._getXAxisLabelAlignment();else if(Ee==="left"){const _r=this._getYAxisLabelAlignment(Oe);Qe=_r.textAlign,Xe=_r.x}else if(Ee==="right"){const _r=this._getYAxisLabelAlignment(Oe);Qe=_r.textAlign,Xe=_r.x}else if(xe==="x"){if(Ee==="center")ir=(e.top+e.bottom)/2+ke;else if(isObject$1(Ee)){const _r=Object.keys(Ee)[0],Er=Ee[_r];ir=this.chart.scales[_r].getPixelForValue(Er)+ke}Qe=this._getXAxisLabelAlignment()}else if(xe==="y"){if(Ee==="center")Xe=(e.left+e.right)/2-ke;else if(isObject$1(Ee)){const _r=Object.keys(Ee)[0],Er=Ee[_r];Xe=this.chart.scales[_r].getPixelForValue(Er)}Qe=this._getYAxisLabelAlignment(Oe).textAlign}xe==="y"&&(Pe==="start"?sr="top":Pe==="end"&&(sr="bottom"));const fr=this._getLabelSizes();for(Ue=0,ze=Re.length;Ue<ze;++Ue){We=Re[Ue],Ye=We.label;const _r=Se.setContext(this.getContext(Ue));Ke=this.getPixelForTick(Ue)+Se.labelOffset,rr=this._resolveTickFontOptions(Ue),cr=rr.lineHeight,Ze=isArray$1(Ye)?Ye.length:1;const Er=Ze/2,yr=_r.color,mr=_r.textStrokeColor,Pr=_r.textStrokeWidth;let Cr=Qe;Ae?(Xe=Ke,Qe==="inner"&&(Ue===ze-1?Cr=this.options.reverse?"left":"right":Ue===0?Cr=this.options.reverse?"right":"left":Cr="center"),Ee==="top"?Te==="near"||Me!==0?er=-Ze*cr+cr/2:Te==="center"?er=-fr.highest.height/2-Er*cr+cr:er=-fr.highest.height+cr/2:Te==="near"||Me!==0?er=cr/2:Te==="center"?er=fr.highest.height/2-Er*cr:er=fr.highest.height-Ze*cr,je&&(er*=-1),Me!==0&&!_r.showLabelBackdrop&&(Xe+=cr/2*Math.sin(Me))):(ir=Ke,er=(1-Ze)*cr/2);let wr;if(_r.showLabelBackdrop){const or=toPadding(_r.backdropPadding),hr=fr.heights[Ue],br=fr.widths[Ue];let Ir=er-or.top,jr=0-or.left;switch(sr){case"middle":Ir-=hr/2;break;case"bottom":Ir-=hr;break}switch(Qe){case"center":jr-=br/2;break;case"right":jr-=br;break;case"inner":Ue===ze-1?jr-=br:Ue>0&&(jr-=br/2);break}wr={left:jr,top:Ir,width:br+or.width,height:hr+or.height,color:_r.backdropColor}}De.push({label:Ye,font:rr,textOffset:er,options:{rotation:Me,color:yr,strokeColor:mr,strokeWidth:Pr,textAlign:Cr,textBaseline:sr,translation:[Xe,ir],backdrop:wr}})}return De}_getXAxisLabelAlignment(){const{position:e,ticks:xe}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let Ee="center";return xe.align==="start"?Ee="left":xe.align==="end"?Ee="right":xe.align==="inner"&&(Ee="inner"),Ee}_getYAxisLabelAlignment(e){const{position:xe,ticks:{crossAlign:_e,mirror:Ee,padding:Se}}=this.options,Ae=this._getLabelSizes(),Re=e+Se,Pe=Ae.widest.width;let Te,Ie;return xe==="left"?Ee?(Ie=this.right+Se,_e==="near"?Te="left":_e==="center"?(Te="center",Ie+=Pe/2):(Te="right",Ie+=Pe)):(Ie=this.right-Re,_e==="near"?Te="right":_e==="center"?(Te="center",Ie-=Pe/2):(Te="left",Ie=this.left)):xe==="right"?Ee?(Ie=this.left+Se,_e==="near"?Te="right":_e==="center"?(Te="center",Ie-=Pe/2):(Te="left",Ie-=Pe)):(Ie=this.left+Re,_e==="near"?Te="left":_e==="center"?(Te="center",Ie+=Pe/2):(Te="right",Ie=this.right)):Te="right",{textAlign:Te,x:Ie}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,xe=this.options.position;if(xe==="left"||xe==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(xe==="top"||xe==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:xe},left:_e,top:Ee,width:Se,height:Ae}=this;xe&&(e.save(),e.fillStyle=xe,e.fillRect(_e,Ee,Se,Ae),e.restore())}getLineWidthForValue(e){const xe=this.options.grid;if(!this._isVisible()||!xe.display)return 0;const Ee=this.ticks.findIndex(Se=>Se.value===e);return Ee>=0?xe.setContext(this.getContext(Ee)).lineWidth:0}drawGrid(e){const xe=this.options.grid,_e=this.ctx,Ee=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let Se,Ae;const Re=(Pe,Te,Ie)=>{!Ie.width||!Ie.color||(_e.save(),_e.lineWidth=Ie.width,_e.strokeStyle=Ie.color,_e.setLineDash(Ie.borderDash||[]),_e.lineDashOffset=Ie.borderDashOffset,_e.beginPath(),_e.moveTo(Pe.x,Pe.y),_e.lineTo(Te.x,Te.y),_e.stroke(),_e.restore())};if(xe.display)for(Se=0,Ae=Ee.length;Se<Ae;++Se){const Pe=Ee[Se];xe.drawOnChartArea&&Re({x:Pe.x1,y:Pe.y1},{x:Pe.x2,y:Pe.y2},Pe),xe.drawTicks&&Re({x:Pe.tx1,y:Pe.ty1},{x:Pe.tx2,y:Pe.ty2},{color:Pe.tickColor,width:Pe.tickWidth,borderDash:Pe.tickBorderDash,borderDashOffset:Pe.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:xe,options:{border:_e,grid:Ee}}=this,Se=_e.setContext(this.getContext()),Ae=_e.display?Se.width:0;if(!Ae)return;const Re=Ee.setContext(this.getContext(0)).lineWidth,Pe=this._borderValue;let Te,Ie,je,Oe;this.isHorizontal()?(Te=_alignPixel(e,this.left,Ae)-Ae/2,Ie=_alignPixel(e,this.right,Re)+Re/2,je=Oe=Pe):(je=_alignPixel(e,this.top,Ae)-Ae/2,Oe=_alignPixel(e,this.bottom,Re)+Re/2,Te=Ie=Pe),xe.save(),xe.lineWidth=Se.width,xe.strokeStyle=Se.color,xe.beginPath(),xe.moveTo(Te,je),xe.lineTo(Ie,Oe),xe.stroke(),xe.restore()}drawLabels(e){if(!this.options.ticks.display)return;const _e=this.ctx,Ee=this._computeLabelArea();Ee&&clipArea(_e,Ee);const Se=this.getLabelItems(e);for(const Ae of Se){const Re=Ae.options,Pe=Ae.font,Te=Ae.label,Ie=Ae.textOffset;renderText(_e,Te,0,Ie,Pe,Re)}Ee&&unclipArea(_e)}drawTitle(){const{ctx:e,options:{position:xe,title:_e,reverse:Ee}}=this;if(!_e.display)return;const Se=toFont(_e.font),Ae=toPadding(_e.padding),Re=_e.align;let Pe=Se.lineHeight/2;xe==="bottom"||xe==="center"||isObject$1(xe)?(Pe+=Ae.bottom,isArray$1(_e.text)&&(Pe+=Se.lineHeight*(_e.text.length-1))):Pe+=Ae.top;const{titleX:Te,titleY:Ie,maxWidth:je,rotation:Oe}=titleArgs(this,Pe,xe,Re);renderText(e,_e.text,0,0,Se,{color:_e.color,maxWidth:je,rotation:Oe,textAlign:titleAlign(Re,xe,Ee),textBaseline:"middle",translation:[Te,Ie]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,xe=e.ticks&&e.ticks.z||0,_e=valueOrDefault(e.grid&&e.grid.z,-1),Ee=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:xe,draw:Se=>{this.draw(Se)}}]:[{z:_e,draw:Se=>{this.drawBackground(),this.drawGrid(Se),this.drawTitle()}},{z:Ee,draw:()=>{this.drawBorder()}},{z:xe,draw:Se=>{this.drawLabels(Se)}}]}getMatchingVisibleMetas(e){const xe=this.chart.getSortedVisibleDatasetMetas(),_e=this.axis+"AxisID",Ee=[];let Se,Ae;for(Se=0,Ae=xe.length;Se<Ae;++Se){const Re=xe[Se];Re[_e]===this.id&&(!e||Re.type===e)&&Ee.push(Re)}return Ee}_resolveTickFontOptions(e){const xe=this.options.ticks.setContext(this.getContext(e));return toFont(xe.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,xe,_e){this.type=e,this.scope=xe,this.override=_e,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const xe=Object.getPrototypeOf(e);let _e;isIChartComponent(xe)&&(_e=this.register(xe));const Ee=this.items,Se=e.id,Ae=this.scope+"."+Se;if(!Se)throw new Error("class does not have id: "+e);return Se in Ee||(Ee[Se]=e,registerDefaults(e,Ae,_e),this.override&&defaults$1.override(e.id,e.overrides)),Ae}get(e){return this.items[e]}unregister(e){const xe=this.items,_e=e.id,Ee=this.scope;_e in xe&&delete xe[_e],Ee&&_e in defaults$1[Ee]&&(delete defaults$1[Ee][_e],this.override&&delete overrides[_e])}}function registerDefaults(t,e,xe){const _e=merge(Object.create(null),[xe?defaults$1.get(xe):{},defaults$1.get(e),t.defaults]);defaults$1.set(e,_e),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults$1.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(xe=>{const _e=xe.split("."),Ee=_e.pop(),Se=[t].concat(_e).join("."),Ae=e[xe].split("."),Re=Ae.pop(),Pe=Ae.join(".");defaults$1.route(Se,Ee,Pe,Re)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,xe,_e){[...xe].forEach(Ee=>{const Se=_e||this._getRegistryForType(Ee);_e||Se.isForType(Ee)||Se===this.plugins&&Ee.id?this._exec(e,Se,Ee):each(Ee,Ae=>{const Re=_e||this._getRegistryForType(Ae);this._exec(e,Re,Ae)})})}_exec(e,xe,_e){const Ee=_capitalize(e);callback(_e["before"+Ee],[],_e),xe[e](_e),callback(_e["after"+Ee],[],_e)}_getRegistryForType(e){for(let xe=0;xe<this._typedRegistries.length;xe++){const _e=this._typedRegistries[xe];if(_e.isForType(e))return _e}return this.plugins}_get(e,xe,_e){const Ee=xe.get(e);if(Ee===void 0)throw new Error('"'+e+'" is not a registered '+_e+".");return Ee}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,xe,_e,Ee){xe==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const Se=Ee?this._descriptors(e).filter(Ee):this._descriptors(e),Ae=this._notify(Se,e,xe,_e);return xe==="afterDestroy"&&(this._notify(Se,e,"stop"),this._notify(this._init,e,"uninstall")),Ae}_notify(e,xe,_e,Ee){Ee=Ee||{};for(const Se of e){const Ae=Se.plugin,Re=Ae[_e],Pe=[xe,Ee,Se.options];if(callback(Re,Pe,Ae)===!1&&Ee.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const xe=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),xe}_createDescriptors(e,xe){const _e=e&&e.config,Ee=valueOrDefault(_e.options&&_e.options.plugins,{}),Se=allPlugins(_e);return Ee===!1&&!xe?[]:createDescriptors(e,Se,Ee,xe)}_notifyStateChanges(e){const xe=this._oldCache||[],_e=this._cache,Ee=(Se,Ae)=>Se.filter(Re=>!Ae.some(Pe=>Re.plugin.id===Pe.plugin.id));this._notify(Ee(xe,_e),e,"stop"),this._notify(Ee(_e,xe),e,"start")}}function allPlugins(t){const e={},xe=[],_e=Object.keys(registry.plugins.items);for(let Se=0;Se<_e.length;Se++)xe.push(registry.getPlugin(_e[Se]));const Ee=t.plugins||[];for(let Se=0;Se<Ee.length;Se++){const Ae=Ee[Se];xe.indexOf(Ae)===-1&&(xe.push(Ae),e[Ae.id]=!0)}return{plugins:xe,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:xe},_e,Ee){const Se=[],Ae=t.getContext();for(const Re of e){const Pe=Re.id,Te=getOpts(_e[Pe],Ee);Te!==null&&Se.push({plugin:Re,options:pluginOpts(t.config,{plugin:Re,local:xe[Pe]},Te,Ae)})}return Se}function pluginOpts(t,{plugin:e,local:xe},_e,Ee){const Se=t.pluginScopeKeys(e),Ae=t.getOptionScopes(_e,Se);return xe&&e.defaults&&Ae.push(e.defaults),t.createResolver(Ae,Ee,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const xe=defaults$1.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||xe.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let xe=t;return t==="_index_"?xe=e:t==="_value_"&&(xe=e==="x"?"y":"x"),xe}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const xe of e){const _e=xe.axis||axisFromPosition(xe.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(_e)return _e}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,xe){if(xe[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const xe=e.data.datasets.filter(_e=>_e.xAxisID===t||_e.yAxisID===t);if(xe.length)return getAxisFromDataset(t,"x",xe[0])||getAxisFromDataset(t,"y",xe[0])}return{}}function mergeScaleConfig(t,e){const xe=overrides[t.type]||{scales:{}},_e=e.scales||{},Ee=getIndexAxis(t.type,e),Se=Object.create(null);return Object.keys(_e).forEach(Ae=>{const Re=_e[Ae];if(!isObject$1(Re))return console.error(`Invalid scale configuration for scale: ${Ae}`);if(Re._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Ae}`);const Pe=determineAxis(Ae,Re,retrieveAxisFromDatasets(Ae,t),defaults$1.scales[Re.type]),Te=getDefaultScaleIDFromAxis(Pe,Ee),Ie=xe.scales||{};Se[Ae]=mergeIf(Object.create(null),[{axis:Pe},Re,Ie[Pe],Ie[Te]])}),t.data.datasets.forEach(Ae=>{const Re=Ae.type||t.type,Pe=Ae.indexAxis||getIndexAxis(Re,e),Ie=(overrides[Re]||{}).scales||{};Object.keys(Ie).forEach(je=>{const Oe=getAxisFromDefaultScaleID(je,Pe),ke=Ae[Oe+"AxisID"]||Oe;Se[ke]=Se[ke]||Object.create(null),mergeIf(Se[ke],[{axis:Oe},_e[ke],Ie[je]])})}),Object.keys(Se).forEach(Ae=>{const Re=Se[Ae];mergeIf(Re,[defaults$1.scales[Re.type],defaults$1.scale])}),Se}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let xe=keyCache.get(t);return xe||(xe=e(),keyCache.set(t,xe),keysCached.add(xe)),xe}const addIfFound=(t,e,xe)=>{const _e=resolveObjectKey(e,xe);_e!==void 0&&t.add(_e)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,xe){return cachedKeys(`${e}.transition.${xe}`,()=>[[`datasets.${e}.transitions.${xe}`,`transitions.${xe}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,xe){return cachedKeys(`${e}-${xe}`,()=>[[`datasets.${e}.elements.${xe}`,`datasets.${e}`,`elements.${xe}`,""]])}pluginScopeKeys(e){const xe=e.id,_e=this.type;return cachedKeys(`${_e}-plugin-${xe}`,()=>[[`plugins.${xe}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,xe){const _e=this._scopeCache;let Ee=_e.get(e);return(!Ee||xe)&&(Ee=new Map,_e.set(e,Ee)),Ee}getOptionScopes(e,xe,_e){const{options:Ee,type:Se}=this,Ae=this._cachedScopes(e,_e),Re=Ae.get(xe);if(Re)return Re;const Pe=new Set;xe.forEach(Ie=>{e&&(Pe.add(e),Ie.forEach(je=>addIfFound(Pe,e,je))),Ie.forEach(je=>addIfFound(Pe,Ee,je)),Ie.forEach(je=>addIfFound(Pe,overrides[Se]||{},je)),Ie.forEach(je=>addIfFound(Pe,defaults$1,je)),Ie.forEach(je=>addIfFound(Pe,descriptors,je))});const Te=Array.from(Pe);return Te.length===0&&Te.push(Object.create(null)),keysCached.has(xe)&&Ae.set(xe,Te),Te}chartOptionScopes(){const{options:e,type:xe}=this;return[e,overrides[xe]||{},defaults$1.datasets[xe]||{},{type:xe},defaults$1,descriptors]}resolveNamedOptions(e,xe,_e,Ee=[""]){const Se={$shared:!0},{resolver:Ae,subPrefixes:Re}=getResolver(this._resolverCache,e,Ee);let Pe=Ae;if(needContext(Ae,xe)){Se.$shared=!1,_e=isFunction$1(_e)?_e():_e;const Te=this.createResolver(e,_e,Re);Pe=_attachContext(Ae,_e,Te)}for(const Te of xe)Se[Te]=Pe[Te];return Se}createResolver(e,xe,_e=[""],Ee){const{resolver:Se}=getResolver(this._resolverCache,e,_e);return isObject$1(xe)?_attachContext(Se,xe,void 0,Ee):Se}}function getResolver(t,e,xe){let _e=t.get(e);_e||(_e=new Map,t.set(e,_e));const Ee=xe.join();let Se=_e.get(Ee);return Se||(Se={resolver:_createResolver(e,xe),subPrefixes:xe.filter(Re=>!Re.toLowerCase().includes("hover"))},_e.set(Ee,Se)),Se}const hasFunction=t=>isObject$1(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction$1(t[e]));function needContext(t,e){const{isScriptable:xe,isIndexable:_e}=_descriptors(t);for(const Ee of e){const Se=xe(Ee),Ae=_e(Ee),Re=(Ae||Se)&&t[Ee];if(Se&&(isFunction$1(Re)||hasFunction(Re))||Ae&&isArray$1(Re))return!0}return!1}var version="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(xe,_e){return xe[t]===_e[t]?xe[e]-_e[e]:xe[t]-_e[t]}}function onAnimationsComplete(t){const e=t.chart,xe=e.options.animation;e.notifyPlugins("afterRender"),callback(xe&&xe.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,xe=e.options.animation;callback(xe&&xe.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(xe=>xe.canvas===e).pop()};function moveNumericKeys(t,e,xe){const _e=Object.keys(t);for(const Ee of _e){const Se=+Ee;if(Se>=e){const Ae=t[Ee];delete t[Ee],(xe>0||Se>e)&&(t[Se+xe]=Ae)}}}function determineLastEvent(t,e,xe,_e){return!xe||t.type==="mouseout"?null:_e?e:t}var Hc;let Chart$1=(Hc=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,xe){const _e=this.config=new Config(xe),Ee=getCanvas(e),Se=getChart(Ee);if(Se)throw new Error("Canvas is already in use. Chart with ID '"+Se.id+"' must be destroyed before the canvas with ID '"+Se.canvas.id+"' can be reused.");const Ae=_e.createResolver(_e.chartOptionScopes(),this.getContext());this.platform=new(_e.platform||_detectPlatform(Ee)),this.platform.updateConfig(_e);const Re=this.platform.acquireContext(Ee,Ae.aspectRatio),Pe=Re&&Re.canvas,Te=Pe&&Pe.height,Ie=Pe&&Pe.width;if(this.id=uid(),this.ctx=Re,this.canvas=Pe,this.width=Ie,this.height=Te,this._options=Ae,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(je=>this.update(je),Ae.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!Re||!Pe){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:xe},width:_e,height:Ee,_aspectRatio:Se}=this;return isNullOrUndef(e)?xe&&Se?Se:Ee?_e/Ee:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,xe){animator.running(this)?this._resizeBeforeDraw={width:e,height:xe}:this._resize(e,xe)}_resize(e,xe){const _e=this.options,Ee=this.canvas,Se=_e.maintainAspectRatio&&this.aspectRatio,Ae=this.platform.getMaximumSize(Ee,e,xe,Se),Re=_e.devicePixelRatio||this.platform.getDevicePixelRatio(),Pe=this.width?"resize":"attach";this.width=Ae.width,this.height=Ae.height,this._aspectRatio=this.aspectRatio,retinaScale(this,Re,!0)&&(this.notifyPlugins("resize",{size:Ae}),callback(_e.onResize,[this,Ae],this),this.attached&&this._doResize(Pe)&&this.render())}ensureScalesHaveIDs(){const xe=this.options.scales||{};each(xe,(_e,Ee)=>{_e.id=Ee})}buildOrUpdateScales(){const e=this.options,xe=e.scales,_e=this.scales,Ee=Object.keys(_e).reduce((Ae,Re)=>(Ae[Re]=!1,Ae),{});let Se=[];xe&&(Se=Se.concat(Object.keys(xe).map(Ae=>{const Re=xe[Ae],Pe=determineAxis(Ae,Re),Te=Pe==="r",Ie=Pe==="x";return{options:Re,dposition:Te?"chartArea":Ie?"bottom":"left",dtype:Te?"radialLinear":Ie?"category":"linear"}}))),each(Se,Ae=>{const Re=Ae.options,Pe=Re.id,Te=determineAxis(Pe,Re),Ie=valueOrDefault(Re.type,Ae.dtype);(Re.position===void 0||positionIsHorizontal(Re.position,Te)!==positionIsHorizontal(Ae.dposition))&&(Re.position=Ae.dposition),Ee[Pe]=!0;let je=null;if(Pe in _e&&_e[Pe].type===Ie)je=_e[Pe];else{const Oe=registry.getScale(Ie);je=new Oe({id:Pe,type:Ie,ctx:this.ctx,chart:this}),_e[je.id]=je}je.init(Re,e)}),each(Ee,(Ae,Re)=>{Ae||delete _e[Re]}),each(_e,Ae=>{layouts.configure(this,Ae,Ae.options),layouts.addBox(this,Ae)})}_updateMetasets(){const e=this._metasets,xe=this.data.datasets.length,_e=e.length;if(e.sort((Ee,Se)=>Ee.index-Se.index),_e>xe){for(let Ee=xe;Ee<_e;++Ee)this._destroyDatasetMeta(Ee);e.splice(xe,_e-xe)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:xe}}=this;e.length>xe.length&&delete this._stacks,e.forEach((_e,Ee)=>{xe.filter(Se=>Se===_e._dataset).length===0&&this._destroyDatasetMeta(Ee)})}buildOrUpdateControllers(){const e=[],xe=this.data.datasets;let _e,Ee;for(this._removeUnreferencedMetasets(),_e=0,Ee=xe.length;_e<Ee;_e++){const Se=xe[_e];let Ae=this.getDatasetMeta(_e);const Re=Se.type||this.config.type;if(Ae.type&&Ae.type!==Re&&(this._destroyDatasetMeta(_e),Ae=this.getDatasetMeta(_e)),Ae.type=Re,Ae.indexAxis=Se.indexAxis||getIndexAxis(Re,this.options),Ae.order=Se.order||0,Ae.index=_e,Ae.label=""+Se.label,Ae.visible=this.isDatasetVisible(_e),Ae.controller)Ae.controller.updateIndex(_e),Ae.controller.linkScales();else{const Pe=registry.getController(Re),{datasetElementType:Te,dataElementType:Ie}=defaults$1.datasets[Re];Object.assign(Pe,{dataElementType:registry.getElement(Ie),datasetElementType:Te&&registry.getElement(Te)}),Ae.controller=new Pe(this,_e),e.push(Ae.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,xe)=>{this.getDatasetMeta(xe).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const xe=this.config;xe.update();const _e=this._options=xe.createResolver(xe.chartOptionScopes(),this.getContext()),Ee=this._animationsDisabled=!_e.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const Se=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Ae=0;for(let Te=0,Ie=this.data.datasets.length;Te<Ie;Te++){const{controller:je}=this.getDatasetMeta(Te),Oe=!Ee&&Se.indexOf(je)===-1;je.buildOrUpdateElements(Oe),Ae=Math.max(+je.getMaxOverflow(),Ae)}Ae=this._minPadding=_e.layout.autoPadding?Ae:0,this._updateLayout(Ae),Ee||each(Se,Te=>{Te.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:Re,_lastEvent:Pe}=this;Pe?this._eventHandler(Pe,!0):Re.length&&this._updateHoverStyles(Re,Re,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,xe=new Set(Object.keys(this._listeners)),_e=new Set(e.events);(!setsEqual(xe,_e)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,xe=this._getUniformDataChanges()||[];for(const{method:_e,start:Ee,count:Se}of xe){const Ae=_e==="_removeElements"?-Se:Se;moveNumericKeys(e,Ee,Ae)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const xe=this.data.datasets.length,_e=Se=>new Set(e.filter(Ae=>Ae[0]===Se).map((Ae,Re)=>Re+","+Ae.splice(1).join(","))),Ee=_e(0);for(let Se=1;Se<xe;Se++)if(!setsEqual(Ee,_e(Se)))return;return Array.from(Ee).map(Se=>Se.split(",")).map(Se=>({method:Se[1],start:+Se[2],count:+Se[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const xe=this.chartArea,_e=xe.width<=0||xe.height<=0;this._layers=[],each(this.boxes,Ee=>{_e&&Ee.position==="chartArea"||(Ee.configure&&Ee.configure(),this._layers.push(...Ee._layers()))},this),this._layers.forEach((Ee,Se)=>{Ee._idx=Se}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let xe=0,_e=this.data.datasets.length;xe<_e;++xe)this.getDatasetMeta(xe).controller.configure();for(let xe=0,_e=this.data.datasets.length;xe<_e;++xe)this._updateDataset(xe,isFunction$1(e)?e({datasetIndex:xe}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,xe){const _e=this.getDatasetMeta(e),Ee={meta:_e,index:e,mode:xe,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",Ee)!==!1&&(_e.controller._update(xe),Ee.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",Ee))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:_e,height:Ee}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(_e,Ee)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const xe=this._layers;for(e=0;e<xe.length&&xe[e].z<=0;++e)xe[e].draw(this.chartArea);for(this._drawDatasets();e<xe.length;++e)xe[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const xe=this._sortedMetasets,_e=[];let Ee,Se;for(Ee=0,Se=xe.length;Ee<Se;++Ee){const Ae=xe[Ee];(!e||Ae.visible)&&_e.push(Ae)}return _e}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let xe=e.length-1;xe>=0;--xe)this._drawDataset(e[xe]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const xe=this.ctx,_e={meta:e,index:e.index,cancelable:!0},Ee=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",_e)!==!1&&(Ee&&clipArea(xe,Ee),e.controller.draw(),Ee&&unclipArea(xe),_e.cancelable=!1,this.notifyPlugins("afterDatasetDraw",_e))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,xe,_e,Ee){const Se=Interaction.modes[xe];return typeof Se=="function"?Se(this,e,_e,Ee):[]}getDatasetMeta(e){const xe=this.data.datasets[e],_e=this._metasets;let Ee=_e.filter(Se=>Se&&Se._dataset===xe).pop();return Ee||(Ee={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:xe&&xe.order||0,index:e,_dataset:xe,_parsed:[],_sorted:!1},_e.push(Ee)),Ee}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const xe=this.data.datasets[e];if(!xe)return!1;const _e=this.getDatasetMeta(e);return typeof _e.hidden=="boolean"?!_e.hidden:!xe.hidden}setDatasetVisibility(e,xe){const _e=this.getDatasetMeta(e);_e.hidden=!xe}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,xe,_e){const Ee=_e?"show":"hide",Se=this.getDatasetMeta(e),Ae=Se.controller._resolveAnimations(void 0,Ee);defined$1(xe)?(Se.data[xe].hidden=!_e,this.update()):(this.setDatasetVisibility(e,_e),Ae.update(Se,{visible:_e}),this.update(Re=>Re.datasetIndex===e?Ee:void 0))}hide(e,xe){this._updateVisibility(e,xe,!1)}show(e,xe){this._updateVisibility(e,xe,!0)}_destroyDatasetMeta(e){const xe=this._metasets[e];xe&&xe.controller&&xe.controller._destroy(),delete this._metasets[e]}_stop(){let e,xe;for(this.stop(),animator.remove(this),e=0,xe=this.data.datasets.length;e<xe;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:xe}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,xe),this.platform.releaseContext(xe),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,xe=this.platform,_e=(Se,Ae)=>{xe.addEventListener(this,Se,Ae),e[Se]=Ae},Ee=(Se,Ae,Re)=>{Se.offsetX=Ae,Se.offsetY=Re,this._eventHandler(Se)};each(this.options.events,Se=>_e(Se,Ee))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,xe=this.platform,_e=(Pe,Te)=>{xe.addEventListener(this,Pe,Te),e[Pe]=Te},Ee=(Pe,Te)=>{e[Pe]&&(xe.removeEventListener(this,Pe,Te),delete e[Pe])},Se=(Pe,Te)=>{this.canvas&&this.resize(Pe,Te)};let Ae;const Re=()=>{Ee("attach",Re),this.attached=!0,this.resize(),_e("resize",Se),_e("detach",Ae)};Ae=()=>{this.attached=!1,Ee("resize",Se),this._stop(),this._resize(0,0),_e("attach",Re)},xe.isAttached(this.canvas)?Re():Ae()}unbindEvents(){each(this._listeners,(e,xe)=>{this.platform.removeEventListener(this,xe,e)}),this._listeners={},each(this._responsiveListeners,(e,xe)=>{this.platform.removeEventListener(this,xe,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,xe,_e){const Ee=_e?"set":"remove";let Se,Ae,Re,Pe;for(xe==="dataset"&&(Se=this.getDatasetMeta(e[0].datasetIndex),Se.controller["_"+Ee+"DatasetHoverStyle"]()),Re=0,Pe=e.length;Re<Pe;++Re){Ae=e[Re];const Te=Ae&&this.getDatasetMeta(Ae.datasetIndex).controller;Te&&Te[Ee+"HoverStyle"](Ae.element,Ae.datasetIndex,Ae.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const xe=this._active||[],_e=e.map(({datasetIndex:Se,index:Ae})=>{const Re=this.getDatasetMeta(Se);if(!Re)throw new Error("No dataset found at index "+Se);return{datasetIndex:Se,element:Re.data[Ae],index:Ae}});!_elementsEqual(_e,xe)&&(this._active=_e,this._lastEvent=null,this._updateHoverStyles(_e,xe))}notifyPlugins(e,xe,_e){return this._plugins.notify(this,e,xe,_e)}isPluginEnabled(e){return this._plugins._cache.filter(xe=>xe.plugin.id===e).length===1}_updateHoverStyles(e,xe,_e){const Ee=this.options.hover,Se=(Pe,Te)=>Pe.filter(Ie=>!Te.some(je=>Ie.datasetIndex===je.datasetIndex&&Ie.index===je.index)),Ae=Se(xe,e),Re=_e?e:Se(e,xe);Ae.length&&this.updateHoverStyle(Ae,Ee.mode,!1),Re.length&&Ee.mode&&this.updateHoverStyle(Re,Ee.mode,!0)}_eventHandler(e,xe){const _e={event:e,replay:xe,cancelable:!0,inChartArea:this.isPointInArea(e)},Ee=Ae=>(Ae.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",_e,Ee)===!1)return;const Se=this._handleEvent(e,xe,_e.inChartArea);return _e.cancelable=!1,this.notifyPlugins("afterEvent",_e,Ee),(Se||_e.changed)&&this.render(),this}_handleEvent(e,xe,_e){const{_active:Ee=[],options:Se}=this,Ae=xe,Re=this._getActiveElements(e,Ee,_e,Ae),Pe=_isClickEvent(e),Te=determineLastEvent(e,this._lastEvent,_e,Pe);_e&&(this._lastEvent=null,callback(Se.onHover,[e,Re,this],this),Pe&&callback(Se.onClick,[e,Re,this],this));const Ie=!_elementsEqual(Re,Ee);return(Ie||xe)&&(this._active=Re,this._updateHoverStyles(Re,Ee,xe)),this._lastEvent=Te,Ie}_getActiveElements(e,xe,_e,Ee){if(e.type==="mouseout")return[];if(!_e)return xe;const Se=this.options.hover;return this.getElementsAtEventForMode(e,Se.mode,Se,Ee)}},_i(Hc,"defaults",defaults$1),_i(Hc,"instances",instances),_i(Hc,"overrides",overrides),_i(Hc,"registry",registry),_i(Hc,"version",version),_i(Hc,"getChart",getChart),Hc);function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function clipArc(t,e,xe){const{startAngle:_e,pixelMargin:Ee,x:Se,y:Ae,outerRadius:Re,innerRadius:Pe}=e;let Te=Ee/Re;t.beginPath(),t.arc(Se,Ae,Re,_e-Te,xe+Te),Pe>Ee?(Te=Ee/Pe,t.arc(Se,Ae,Pe,xe+Te,_e-Te,!0)):t.arc(Se,Ae,Ee,xe+HALF_PI,_e-HALF_PI),t.closePath(),t.clip()}function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(t,e,xe,_e){const Ee=toRadiusCorners(t.options.borderRadius),Se=(xe-e)/2,Ae=Math.min(Se,_e*e/2),Re=Pe=>{const Te=(xe-Math.min(Se,Pe))*_e/2;return _limitValue(Pe,0,Math.min(Se,Te))};return{outerStart:Re(Ee.outerStart),outerEnd:Re(Ee.outerEnd),innerStart:_limitValue(Ee.innerStart,0,Ae),innerEnd:_limitValue(Ee.innerEnd,0,Ae)}}function rThetaToXY(t,e,xe,_e){return{x:xe+t*Math.cos(e),y:_e+t*Math.sin(e)}}function pathArc(t,e,xe,_e,Ee,Se){const{x:Ae,y:Re,startAngle:Pe,pixelMargin:Te,innerRadius:Ie}=e,je=Math.max(e.outerRadius+_e+xe-Te,0),Oe=Ie>0?Ie+_e+xe+Te:0;let ke=0;const Fe=Ee-Pe;if(_e){const _r=Ie>0?Ie-_e:0,Er=je>0?je-_e:0,yr=(_r+Er)/2,mr=yr!==0?Fe*yr/(yr+_e):Fe;ke=(Fe-mr)/2}const Me=Math.max(.001,Fe*je-xe/PI)/je,De=(Fe-Me)/2,Ue=Pe+De+ke,ze=Ee-De-ke,{outerStart:We,outerEnd:Ye,innerStart:Xe,innerEnd:ir}=parseBorderRadius$1(e,Oe,je,ze-Ue),Qe=je-We,Ke=je-Ye,rr=Ue+We/Qe,cr=ze-Ye/Ke,Ze=Oe+Xe,er=Oe+ir,sr=Ue+Xe/Ze,fr=ze-ir/er;if(t.beginPath(),Se){const _r=(rr+cr)/2;if(t.arc(Ae,Re,je,rr,_r),t.arc(Ae,Re,je,_r,cr),Ye>0){const Pr=rThetaToXY(Ke,cr,Ae,Re);t.arc(Pr.x,Pr.y,Ye,cr,ze+HALF_PI)}const Er=rThetaToXY(er,ze,Ae,Re);if(t.lineTo(Er.x,Er.y),ir>0){const Pr=rThetaToXY(er,fr,Ae,Re);t.arc(Pr.x,Pr.y,ir,ze+HALF_PI,fr+Math.PI)}const yr=(ze-ir/Oe+(Ue+Xe/Oe))/2;if(t.arc(Ae,Re,Oe,ze-ir/Oe,yr,!0),t.arc(Ae,Re,Oe,yr,Ue+Xe/Oe,!0),Xe>0){const Pr=rThetaToXY(Ze,sr,Ae,Re);t.arc(Pr.x,Pr.y,Xe,sr+Math.PI,Ue-HALF_PI)}const mr=rThetaToXY(Qe,Ue,Ae,Re);if(t.lineTo(mr.x,mr.y),We>0){const Pr=rThetaToXY(Qe,rr,Ae,Re);t.arc(Pr.x,Pr.y,We,Ue-HALF_PI,rr)}}else{t.moveTo(Ae,Re);const _r=Math.cos(rr)*je+Ae,Er=Math.sin(rr)*je+Re;t.lineTo(_r,Er);const yr=Math.cos(cr)*je+Ae,mr=Math.sin(cr)*je+Re;t.lineTo(yr,mr)}t.closePath()}function drawArc(t,e,xe,_e,Ee){const{fullCircles:Se,startAngle:Ae,circumference:Re}=e;let Pe=e.endAngle;if(Se){pathArc(t,e,xe,_e,Pe,Ee);for(let Te=0;Te<Se;++Te)t.fill();isNaN(Re)||(Pe=Ae+(Re%TAU||TAU))}return pathArc(t,e,xe,_e,Pe,Ee),t.fill(),Pe}function drawBorder(t,e,xe,_e,Ee){const{fullCircles:Se,startAngle:Ae,circumference:Re,options:Pe}=e,{borderWidth:Te,borderJoinStyle:Ie,borderDash:je,borderDashOffset:Oe}=Pe,ke=Pe.borderAlign==="inner";if(!Te)return;t.setLineDash(je||[]),t.lineDashOffset=Oe,ke?(t.lineWidth=Te*2,t.lineJoin=Ie||"round"):(t.lineWidth=Te,t.lineJoin=Ie||"bevel");let Fe=e.endAngle;if(Se){pathArc(t,e,xe,_e,Fe,Ee);for(let Me=0;Me<Se;++Me)t.stroke();isNaN(Re)||(Fe=Ae+(Re%TAU||TAU))}ke&&clipArc(t,e,Fe),Se||(pathArc(t,e,xe,_e,Fe,Ee),t.stroke())}class ArcElement extends Element$1{constructor(xe){super();_i(this,"circumference");_i(this,"endAngle");_i(this,"fullCircles");_i(this,"innerRadius");_i(this,"outerRadius");_i(this,"pixelMargin");_i(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,xe&&Object.assign(this,xe)}inRange(xe,_e,Ee){const Se=this.getProps(["x","y"],Ee),{angle:Ae,distance:Re}=getAngleFromPoint(Se,{x:xe,y:_e}),{startAngle:Pe,endAngle:Te,innerRadius:Ie,outerRadius:je,circumference:Oe}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Ee),ke=(this.options.spacing+this.options.borderWidth)/2,Fe=valueOrDefault(Oe,Te-Pe),Me=_angleBetween(Ae,Pe,Te)&&Pe!==Te,De=Fe>=TAU||Me,Ue=_isBetween(Re,Ie+ke,je+ke);return De&&Ue}getCenterPoint(xe){const{x:_e,y:Ee,startAngle:Se,endAngle:Ae,innerRadius:Re,outerRadius:Pe}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],xe),{offset:Te,spacing:Ie}=this.options,je=(Se+Ae)/2,Oe=(Re+Pe+Ie+Te)/2;return{x:_e+Math.cos(je)*Oe,y:Ee+Math.sin(je)*Oe}}tooltipPosition(xe){return this.getCenterPoint(xe)}draw(xe){const{options:_e,circumference:Ee}=this,Se=(_e.offset||0)/4,Ae=(_e.spacing||0)/2,Re=_e.circular;if(this.pixelMargin=_e.borderAlign==="inner"?.33:0,this.fullCircles=Ee>TAU?Math.floor(Ee/TAU):0,Ee===0||this.innerRadius<0||this.outerRadius<0)return;xe.save();const Pe=(this.startAngle+this.endAngle)/2;xe.translate(Math.cos(Pe)*Se,Math.sin(Pe)*Se);const Te=1-Math.sin(Math.min(PI,Ee||0)),Ie=Se*Te;xe.fillStyle=_e.backgroundColor,xe.strokeStyle=_e.borderColor,drawArc(xe,this,Ie,Ae,Re),drawBorder(xe,this,Ie,Ae,Re),xe.restore()}}_i(ArcElement,"id","arc"),_i(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_i(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),_i(ArcElement,"descriptors",{_scriptable:!0,_indexable:xe=>xe!=="borderDash"});const getBoxSize=(t,e)=>{let{boxHeight:xe=e,boxWidth:_e=e}=t;return t.usePointStyle&&(xe=Math.min(xe,e),_e=t.pointStyleWidth||Math.min(_e,e)),{boxWidth:_e,boxHeight:xe,itemHeight:Math.max(e,xe)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let Legend$1=class extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,xe,_e){this.maxWidth=e,this.maxHeight=xe,this._margins=_e,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let xe=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(xe=xe.filter(_e=>e.filter(_e,this.chart.data))),e.sort&&(xe=xe.sort((_e,Ee)=>e.sort(_e,Ee,this.chart.data))),this.options.reverse&&xe.reverse(),this.legendItems=xe}fit(){const{options:e,ctx:xe}=this;if(!e.display){this.width=this.height=0;return}const _e=e.labels,Ee=toFont(_e.font),Se=Ee.size,Ae=this._computeTitleHeight(),{boxWidth:Re,itemHeight:Pe}=getBoxSize(_e,Se);let Te,Ie;xe.font=Ee.string,this.isHorizontal()?(Te=this.maxWidth,Ie=this._fitRows(Ae,Se,Re,Pe)+10):(Ie=this.maxHeight,Te=this._fitCols(Ae,Ee,Re,Pe)+10),this.width=Math.min(Te,e.maxWidth||this.maxWidth),this.height=Math.min(Ie,e.maxHeight||this.maxHeight)}_fitRows(e,xe,_e,Ee){const{ctx:Se,maxWidth:Ae,options:{labels:{padding:Re}}}=this,Pe=this.legendHitBoxes=[],Te=this.lineWidths=[0],Ie=Ee+Re;let je=e;Se.textAlign="left",Se.textBaseline="middle";let Oe=-1,ke=-Ie;return this.legendItems.forEach((Fe,Me)=>{const De=_e+xe/2+Se.measureText(Fe.text).width;(Me===0||Te[Te.length-1]+De+2*Re>Ae)&&(je+=Ie,Te[Te.length-(Me>0?0:1)]=0,ke+=Ie,Oe++),Pe[Me]={left:0,top:ke,row:Oe,width:De,height:Ee},Te[Te.length-1]+=De+Re}),je}_fitCols(e,xe,_e,Ee){const{ctx:Se,maxHeight:Ae,options:{labels:{padding:Re}}}=this,Pe=this.legendHitBoxes=[],Te=this.columnSizes=[],Ie=Ae-e;let je=Re,Oe=0,ke=0,Fe=0,Me=0;return this.legendItems.forEach((De,Ue)=>{const{itemWidth:ze,itemHeight:We}=calculateItemSize(_e,xe,Se,De,Ee);Ue>0&&ke+We+2*Re>Ie&&(je+=Oe+Re,Te.push({width:Oe,height:ke}),Fe+=Oe+Re,Me++,Oe=ke=0),Pe[Ue]={left:Fe,top:ke,col:Me,width:ze,height:We},Oe=Math.max(Oe,ze),ke+=We+Re}),je+=Oe,Te.push({width:Oe,height:ke}),je}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:xe,options:{align:_e,labels:{padding:Ee},rtl:Se}}=this,Ae=getRtlAdapter(Se,this.left,this.width);if(this.isHorizontal()){let Re=0,Pe=_alignStartEnd(_e,this.left+Ee,this.right-this.lineWidths[Re]);for(const Te of xe)Re!==Te.row&&(Re=Te.row,Pe=_alignStartEnd(_e,this.left+Ee,this.right-this.lineWidths[Re])),Te.top+=this.top+e+Ee,Te.left=Ae.leftForLtr(Ae.x(Pe),Te.width),Pe+=Te.width+Ee}else{let Re=0,Pe=_alignStartEnd(_e,this.top+e+Ee,this.bottom-this.columnSizes[Re].height);for(const Te of xe)Te.col!==Re&&(Re=Te.col,Pe=_alignStartEnd(_e,this.top+e+Ee,this.bottom-this.columnSizes[Re].height)),Te.top=Pe,Te.left+=this.left+Ee,Te.left=Ae.leftForLtr(Ae.x(Te.left),Te.width),Pe+=Te.height+Ee}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:xe,lineWidths:_e,ctx:Ee}=this,{align:Se,labels:Ae}=e,Re=defaults$1.color,Pe=getRtlAdapter(e.rtl,this.left,this.width),Te=toFont(Ae.font),{padding:Ie}=Ae,je=Te.size,Oe=je/2;let ke;this.drawTitle(),Ee.textAlign=Pe.textAlign("left"),Ee.textBaseline="middle",Ee.lineWidth=.5,Ee.font=Te.string;const{boxWidth:Fe,boxHeight:Me,itemHeight:De}=getBoxSize(Ae,je),Ue=function(ir,Qe,Ke){if(isNaN(Fe)||Fe<=0||isNaN(Me)||Me<0)return;Ee.save();const rr=valueOrDefault(Ke.lineWidth,1);if(Ee.fillStyle=valueOrDefault(Ke.fillStyle,Re),Ee.lineCap=valueOrDefault(Ke.lineCap,"butt"),Ee.lineDashOffset=valueOrDefault(Ke.lineDashOffset,0),Ee.lineJoin=valueOrDefault(Ke.lineJoin,"miter"),Ee.lineWidth=rr,Ee.strokeStyle=valueOrDefault(Ke.strokeStyle,Re),Ee.setLineDash(valueOrDefault(Ke.lineDash,[])),Ae.usePointStyle){const cr={radius:Me*Math.SQRT2/2,pointStyle:Ke.pointStyle,rotation:Ke.rotation,borderWidth:rr},Ze=Pe.xPlus(ir,Fe/2),er=Qe+Oe;drawPointLegend(Ee,cr,Ze,er,Ae.pointStyleWidth&&Fe)}else{const cr=Qe+Math.max((je-Me)/2,0),Ze=Pe.leftForLtr(ir,Fe),er=toTRBLCorners(Ke.borderRadius);Ee.beginPath(),Object.values(er).some(sr=>sr!==0)?addRoundedRectPath(Ee,{x:Ze,y:cr,w:Fe,h:Me,radius:er}):Ee.rect(Ze,cr,Fe,Me),Ee.fill(),rr!==0&&Ee.stroke()}Ee.restore()},ze=function(ir,Qe,Ke){renderText(Ee,Ke.text,ir,Qe+De/2,Te,{strikethrough:Ke.hidden,textAlign:Pe.textAlign(Ke.textAlign)})},We=this.isHorizontal(),Ye=this._computeTitleHeight();We?ke={x:_alignStartEnd(Se,this.left+Ie,this.right-_e[0]),y:this.top+Ie+Ye,line:0}:ke={x:this.left+Ie,y:_alignStartEnd(Se,this.top+Ye+Ie,this.bottom-xe[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Xe=De+Ie;this.legendItems.forEach((ir,Qe)=>{Ee.strokeStyle=ir.fontColor,Ee.fillStyle=ir.fontColor;const Ke=Ee.measureText(ir.text).width,rr=Pe.textAlign(ir.textAlign||(ir.textAlign=Ae.textAlign)),cr=Fe+Oe+Ke;let Ze=ke.x,er=ke.y;Pe.setWidth(this.width),We?Qe>0&&Ze+cr+Ie>this.right&&(er=ke.y+=Xe,ke.line++,Ze=ke.x=_alignStartEnd(Se,this.left+Ie,this.right-_e[ke.line])):Qe>0&&er+Xe>this.bottom&&(Ze=ke.x=Ze+xe[ke.line].width+Ie,ke.line++,er=ke.y=_alignStartEnd(Se,this.top+Ye+Ie,this.bottom-xe[ke.line].height));const sr=Pe.x(Ze);if(Ue(sr,er,ir),Ze=_textX(rr,Ze+Fe+Oe,We?Ze+cr:this.right,e.rtl),ze(Pe.x(Ze),er,ir),We)ke.x+=cr+Ie;else if(typeof ir.text!="string"){const fr=Te.lineHeight;ke.y+=calculateLegendItemHeight(ir,fr)+Ie}else ke.y+=Xe}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,xe=e.title,_e=toFont(xe.font),Ee=toPadding(xe.padding);if(!xe.display)return;const Se=getRtlAdapter(e.rtl,this.left,this.width),Ae=this.ctx,Re=xe.position,Pe=_e.size/2,Te=Ee.top+Pe;let Ie,je=this.left,Oe=this.width;if(this.isHorizontal())Oe=Math.max(...this.lineWidths),Ie=this.top+Te,je=_alignStartEnd(e.align,je,this.right-Oe);else{const Fe=this.columnSizes.reduce((Me,De)=>Math.max(Me,De.height),0);Ie=Te+_alignStartEnd(e.align,this.top,this.bottom-Fe-e.labels.padding-this._computeTitleHeight())}const ke=_alignStartEnd(Re,je,je+Oe);Ae.textAlign=Se.textAlign(_toLeftRightCenter(Re)),Ae.textBaseline="middle",Ae.strokeStyle=xe.color,Ae.fillStyle=xe.color,Ae.font=_e.string,renderText(Ae,xe.text,ke,Ie,_e)}_computeTitleHeight(){const e=this.options.title,xe=toFont(e.font),_e=toPadding(e.padding);return e.display?xe.lineHeight+_e.height:0}_getLegendItemAt(e,xe){let _e,Ee,Se;if(_isBetween(e,this.left,this.right)&&_isBetween(xe,this.top,this.bottom)){for(Se=this.legendHitBoxes,_e=0;_e<Se.length;++_e)if(Ee=Se[_e],_isBetween(e,Ee.left,Ee.left+Ee.width)&&_isBetween(xe,Ee.top,Ee.top+Ee.height))return this.legendItems[_e]}return null}handleEvent(e){const xe=this.options;if(!isListened(e.type,xe))return;const _e=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const Ee=this._hoveredItem,Se=itemsEqual(Ee,_e);Ee&&!Se&&callback(xe.onLeave,[e,Ee,this],this),this._hoveredItem=_e,_e&&!Se&&callback(xe.onHover,[e,_e,this],this)}else _e&&callback(xe.onClick,[e,_e,this],this)}};function calculateItemSize(t,e,xe,_e,Ee){const Se=calculateItemWidth(_e,t,e,xe),Ae=calculateItemHeight(Ee,_e,e.lineHeight);return{itemWidth:Se,itemHeight:Ae}}function calculateItemWidth(t,e,xe,_e){let Ee=t.text;return Ee&&typeof Ee!="string"&&(Ee=Ee.reduce((Se,Ae)=>Se.length>Ae.length?Se:Ae)),e+xe.size/2+_e.measureText(Ee).width}function calculateItemHeight(t,e,xe){let _e=t;return typeof e.text!="string"&&(_e=calculateLegendItemHeight(e,xe)),_e}function calculateLegendItemHeight(t,e){const xe=t.text?t.text.length:0;return e*xe}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(t,e,xe){const _e=t.legend=new Legend$1({ctx:t.ctx,options:xe,chart:t});layouts.configure(t,_e,xe),layouts.addBox(t,_e)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,xe){const _e=t.legend;layouts.configure(t,_e,xe),_e.options=xe},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,xe){const _e=e.datasetIndex,Ee=xe.chart;Ee.isDatasetVisible(_e)?(Ee.hide(_e),e.hidden=!0):(Ee.show(_e),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:xe,pointStyle:_e,textAlign:Ee,color:Se,useBorderRadius:Ae,borderRadius:Re}}=t.legend.options;return t._getSortedDatasetMetas().map(Pe=>{const Te=Pe.controller.getStyle(xe?0:void 0),Ie=toPadding(Te.borderWidth);return{text:e[Pe.index].label,fillStyle:Te.backgroundColor,fontColor:Se,hidden:!Pe.visible,lineCap:Te.borderCapStyle,lineDash:Te.borderDash,lineDashOffset:Te.borderDashOffset,lineJoin:Te.borderJoinStyle,lineWidth:(Ie.width+Ie.height)/4,strokeStyle:Te.borderColor,pointStyle:_e||Te.pointStyle,rotation:Te.rotation,textAlign:Ee||Te.textAlign,borderRadius:Ae&&(Re||Te.borderRadius),datasetIndex:Pe.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const positioners={average(t){if(!t.length)return!1;let e,xe,_e=new Set,Ee=0,Se=0;for(e=0,xe=t.length;e<xe;++e){const Re=t[e].element;if(Re&&Re.hasValue()){const Pe=Re.tooltipPosition();_e.add(Pe.x),Ee+=Pe.y,++Se}}return Se===0||_e.size===0?!1:{x:[..._e].reduce((Re,Pe)=>Re+Pe)/_e.size,y:Ee/Se}},nearest(t,e){if(!t.length)return!1;let xe=e.x,_e=e.y,Ee=Number.POSITIVE_INFINITY,Se,Ae,Re;for(Se=0,Ae=t.length;Se<Ae;++Se){const Pe=t[Se].element;if(Pe&&Pe.hasValue()){const Te=Pe.getCenterPoint(),Ie=distanceBetweenPoints$1(e,Te);Ie<Ee&&(Ee=Ie,Re=Pe)}}if(Re){const Pe=Re.tooltipPosition();xe=Pe.x,_e=Pe.y}return{x:xe,y:_e}}};function pushOrConcat(t,e){return e&&(isArray$1(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:xe,datasetIndex:_e,index:Ee}=e,Se=t.getDatasetMeta(_e).controller,{label:Ae,value:Re}=Se.getLabelAndValue(Ee);return{chart:t,label:Ae,parsed:Se.getParsed(Ee),raw:t.data.datasets[_e].data[Ee],formattedValue:Re,dataset:Se.getDataset(),dataIndex:Ee,datasetIndex:_e,element:xe}}function getTooltipSize(t,e){const xe=t.chart.ctx,{body:_e,footer:Ee,title:Se}=t,{boxWidth:Ae,boxHeight:Re}=e,Pe=toFont(e.bodyFont),Te=toFont(e.titleFont),Ie=toFont(e.footerFont),je=Se.length,Oe=Ee.length,ke=_e.length,Fe=toPadding(e.padding);let Me=Fe.height,De=0,Ue=_e.reduce((Ye,Xe)=>Ye+Xe.before.length+Xe.lines.length+Xe.after.length,0);if(Ue+=t.beforeBody.length+t.afterBody.length,je&&(Me+=je*Te.lineHeight+(je-1)*e.titleSpacing+e.titleMarginBottom),Ue){const Ye=e.displayColors?Math.max(Re,Pe.lineHeight):Pe.lineHeight;Me+=ke*Ye+(Ue-ke)*Pe.lineHeight+(Ue-1)*e.bodySpacing}Oe&&(Me+=e.footerMarginTop+Oe*Ie.lineHeight+(Oe-1)*e.footerSpacing);let ze=0;const We=function(Ye){De=Math.max(De,xe.measureText(Ye).width+ze)};return xe.save(),xe.font=Te.string,each(t.title,We),xe.font=Pe.string,each(t.beforeBody.concat(t.afterBody),We),ze=e.displayColors?Ae+2+e.boxPadding:0,each(_e,Ye=>{each(Ye.before,We),each(Ye.lines,We),each(Ye.after,We)}),ze=0,xe.font=Ie.string,each(t.footer,We),xe.restore(),De+=Fe.width,{width:De,height:Me}}function determineYAlign(t,e){const{y:xe,height:_e}=e;return xe<_e/2?"top":xe>t.height-_e/2?"bottom":"center"}function doesNotFitWithAlign(t,e,xe,_e){const{x:Ee,width:Se}=_e,Ae=xe.caretSize+xe.caretPadding;if(t==="left"&&Ee+Se+Ae>e.width||t==="right"&&Ee-Se-Ae<0)return!0}function determineXAlign(t,e,xe,_e){const{x:Ee,width:Se}=xe,{width:Ae,chartArea:{left:Re,right:Pe}}=t;let Te="center";return _e==="center"?Te=Ee<=(Re+Pe)/2?"left":"right":Ee<=Se/2?Te="left":Ee>=Ae-Se/2&&(Te="right"),doesNotFitWithAlign(Te,t,e,xe)&&(Te="center"),Te}function determineAlignment(t,e,xe){const _e=xe.yAlign||e.yAlign||determineYAlign(t,xe);return{xAlign:xe.xAlign||e.xAlign||determineXAlign(t,e,xe,_e),yAlign:_e}}function alignX(t,e){let{x:xe,width:_e}=t;return e==="right"?xe-=_e:e==="center"&&(xe-=_e/2),xe}function alignY(t,e,xe){let{y:_e,height:Ee}=t;return e==="top"?_e+=xe:e==="bottom"?_e-=Ee+xe:_e-=Ee/2,_e}function getBackgroundPoint(t,e,xe,_e){const{caretSize:Ee,caretPadding:Se,cornerRadius:Ae}=t,{xAlign:Re,yAlign:Pe}=xe,Te=Ee+Se,{topLeft:Ie,topRight:je,bottomLeft:Oe,bottomRight:ke}=toTRBLCorners(Ae);let Fe=alignX(e,Re);const Me=alignY(e,Pe,Te);return Pe==="center"?Re==="left"?Fe+=Te:Re==="right"&&(Fe-=Te):Re==="left"?Fe-=Math.max(Ie,Oe)+Ee:Re==="right"&&(Fe+=Math.max(je,ke)+Ee),{x:_limitValue(Fe,0,_e.width-e.width),y:_limitValue(Me,0,_e.height-e.height)}}function getAlignedX(t,e,xe){const _e=toPadding(xe.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-_e.right:t.x+_e.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,xe){return createContext(t,{tooltip:e,tooltipItems:xe,type:"tooltip"})}function overrideCallbacks(t,e){const xe=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return xe?t.override(xe):t}const defaultCallbacks={beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],xe=e.chart.data.labels,_e=xe?xe.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(_e>0&&e.dataIndex<_e)return xe[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const xe=t.formattedValue;return isNullOrUndef(xe)||(e+=xe),e},labelColor(t){const xe=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:xe.borderColor,backgroundColor:xe.backgroundColor,borderWidth:xe.borderWidth,borderDash:xe.borderDash,borderDashOffset:xe.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const xe=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:xe.pointStyle,rotation:xe.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(t,e,xe,_e){const Ee=t[e].call(xe,_e);return typeof Ee>"u"?defaultCallbacks[e].call(xe,_e):Ee}var _f;let Tooltip$1=(_f=class extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const xe=this.chart,_e=this.options.setContext(this.getContext()),Ee=_e.enabled&&xe.options.animation&&_e.animations,Se=new Animations(this.chart,Ee);return Ee._cacheable&&(this._cachedAnimations=Object.freeze(Se)),Se}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,xe){const{callbacks:_e}=xe,Ee=invokeCallbackWithFallback(_e,"beforeTitle",this,e),Se=invokeCallbackWithFallback(_e,"title",this,e),Ae=invokeCallbackWithFallback(_e,"afterTitle",this,e);let Re=[];return Re=pushOrConcat(Re,splitNewlines(Ee)),Re=pushOrConcat(Re,splitNewlines(Se)),Re=pushOrConcat(Re,splitNewlines(Ae)),Re}getBeforeBody(e,xe){return getBeforeAfterBodyLines(invokeCallbackWithFallback(xe.callbacks,"beforeBody",this,e))}getBody(e,xe){const{callbacks:_e}=xe,Ee=[];return each(e,Se=>{const Ae={before:[],lines:[],after:[]},Re=overrideCallbacks(_e,Se);pushOrConcat(Ae.before,splitNewlines(invokeCallbackWithFallback(Re,"beforeLabel",this,Se))),pushOrConcat(Ae.lines,invokeCallbackWithFallback(Re,"label",this,Se)),pushOrConcat(Ae.after,splitNewlines(invokeCallbackWithFallback(Re,"afterLabel",this,Se))),Ee.push(Ae)}),Ee}getAfterBody(e,xe){return getBeforeAfterBodyLines(invokeCallbackWithFallback(xe.callbacks,"afterBody",this,e))}getFooter(e,xe){const{callbacks:_e}=xe,Ee=invokeCallbackWithFallback(_e,"beforeFooter",this,e),Se=invokeCallbackWithFallback(_e,"footer",this,e),Ae=invokeCallbackWithFallback(_e,"afterFooter",this,e);let Re=[];return Re=pushOrConcat(Re,splitNewlines(Ee)),Re=pushOrConcat(Re,splitNewlines(Se)),Re=pushOrConcat(Re,splitNewlines(Ae)),Re}_createItems(e){const xe=this._active,_e=this.chart.data,Ee=[],Se=[],Ae=[];let Re=[],Pe,Te;for(Pe=0,Te=xe.length;Pe<Te;++Pe)Re.push(createTooltipItem(this.chart,xe[Pe]));return e.filter&&(Re=Re.filter((Ie,je,Oe)=>e.filter(Ie,je,Oe,_e))),e.itemSort&&(Re=Re.sort((Ie,je)=>e.itemSort(Ie,je,_e))),each(Re,Ie=>{const je=overrideCallbacks(e.callbacks,Ie);Ee.push(invokeCallbackWithFallback(je,"labelColor",this,Ie)),Se.push(invokeCallbackWithFallback(je,"labelPointStyle",this,Ie)),Ae.push(invokeCallbackWithFallback(je,"labelTextColor",this,Ie))}),this.labelColors=Ee,this.labelPointStyles=Se,this.labelTextColors=Ae,this.dataPoints=Re,Re}update(e,xe){const _e=this.options.setContext(this.getContext()),Ee=this._active;let Se,Ae=[];if(!Ee.length)this.opacity!==0&&(Se={opacity:0});else{const Re=positioners[_e.position].call(this,Ee,this._eventPosition);Ae=this._createItems(_e),this.title=this.getTitle(Ae,_e),this.beforeBody=this.getBeforeBody(Ae,_e),this.body=this.getBody(Ae,_e),this.afterBody=this.getAfterBody(Ae,_e),this.footer=this.getFooter(Ae,_e);const Pe=this._size=getTooltipSize(this,_e),Te=Object.assign({},Re,Pe),Ie=determineAlignment(this.chart,_e,Te),je=getBackgroundPoint(_e,Te,Ie,this.chart);this.xAlign=Ie.xAlign,this.yAlign=Ie.yAlign,Se={opacity:1,x:je.x,y:je.y,width:Pe.width,height:Pe.height,caretX:Re.x,caretY:Re.y}}this._tooltipItems=Ae,this.$context=void 0,Se&&this._resolveAnimations().update(this,Se),e&&_e.external&&_e.external.call(this,{chart:this.chart,tooltip:this,replay:xe})}drawCaret(e,xe,_e,Ee){const Se=this.getCaretPosition(e,_e,Ee);xe.lineTo(Se.x1,Se.y1),xe.lineTo(Se.x2,Se.y2),xe.lineTo(Se.x3,Se.y3)}getCaretPosition(e,xe,_e){const{xAlign:Ee,yAlign:Se}=this,{caretSize:Ae,cornerRadius:Re}=_e,{topLeft:Pe,topRight:Te,bottomLeft:Ie,bottomRight:je}=toTRBLCorners(Re),{x:Oe,y:ke}=e,{width:Fe,height:Me}=xe;let De,Ue,ze,We,Ye,Xe;return Se==="center"?(Ye=ke+Me/2,Ee==="left"?(De=Oe,Ue=De-Ae,We=Ye+Ae,Xe=Ye-Ae):(De=Oe+Fe,Ue=De+Ae,We=Ye-Ae,Xe=Ye+Ae),ze=De):(Ee==="left"?Ue=Oe+Math.max(Pe,Ie)+Ae:Ee==="right"?Ue=Oe+Fe-Math.max(Te,je)-Ae:Ue=this.caretX,Se==="top"?(We=ke,Ye=We-Ae,De=Ue-Ae,ze=Ue+Ae):(We=ke+Me,Ye=We+Ae,De=Ue+Ae,ze=Ue-Ae),Xe=We),{x1:De,x2:Ue,x3:ze,y1:We,y2:Ye,y3:Xe}}drawTitle(e,xe,_e){const Ee=this.title,Se=Ee.length;let Ae,Re,Pe;if(Se){const Te=getRtlAdapter(_e.rtl,this.x,this.width);for(e.x=getAlignedX(this,_e.titleAlign,_e),xe.textAlign=Te.textAlign(_e.titleAlign),xe.textBaseline="middle",Ae=toFont(_e.titleFont),Re=_e.titleSpacing,xe.fillStyle=_e.titleColor,xe.font=Ae.string,Pe=0;Pe<Se;++Pe)xe.fillText(Ee[Pe],Te.x(e.x),e.y+Ae.lineHeight/2),e.y+=Ae.lineHeight+Re,Pe+1===Se&&(e.y+=_e.titleMarginBottom-Re)}}_drawColorBox(e,xe,_e,Ee,Se){const Ae=this.labelColors[_e],Re=this.labelPointStyles[_e],{boxHeight:Pe,boxWidth:Te}=Se,Ie=toFont(Se.bodyFont),je=getAlignedX(this,"left",Se),Oe=Ee.x(je),ke=Pe<Ie.lineHeight?(Ie.lineHeight-Pe)/2:0,Fe=xe.y+ke;if(Se.usePointStyle){const Me={radius:Math.min(Te,Pe)/2,pointStyle:Re.pointStyle,rotation:Re.rotation,borderWidth:1},De=Ee.leftForLtr(Oe,Te)+Te/2,Ue=Fe+Pe/2;e.strokeStyle=Se.multiKeyBackground,e.fillStyle=Se.multiKeyBackground,drawPoint(e,Me,De,Ue),e.strokeStyle=Ae.borderColor,e.fillStyle=Ae.backgroundColor,drawPoint(e,Me,De,Ue)}else{e.lineWidth=isObject$1(Ae.borderWidth)?Math.max(...Object.values(Ae.borderWidth)):Ae.borderWidth||1,e.strokeStyle=Ae.borderColor,e.setLineDash(Ae.borderDash||[]),e.lineDashOffset=Ae.borderDashOffset||0;const Me=Ee.leftForLtr(Oe,Te),De=Ee.leftForLtr(Ee.xPlus(Oe,1),Te-2),Ue=toTRBLCorners(Ae.borderRadius);Object.values(Ue).some(ze=>ze!==0)?(e.beginPath(),e.fillStyle=Se.multiKeyBackground,addRoundedRectPath(e,{x:Me,y:Fe,w:Te,h:Pe,radius:Ue}),e.fill(),e.stroke(),e.fillStyle=Ae.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:De,y:Fe+1,w:Te-2,h:Pe-2,radius:Ue}),e.fill()):(e.fillStyle=Se.multiKeyBackground,e.fillRect(Me,Fe,Te,Pe),e.strokeRect(Me,Fe,Te,Pe),e.fillStyle=Ae.backgroundColor,e.fillRect(De,Fe+1,Te-2,Pe-2))}e.fillStyle=this.labelTextColors[_e]}drawBody(e,xe,_e){const{body:Ee}=this,{bodySpacing:Se,bodyAlign:Ae,displayColors:Re,boxHeight:Pe,boxWidth:Te,boxPadding:Ie}=_e,je=toFont(_e.bodyFont);let Oe=je.lineHeight,ke=0;const Fe=getRtlAdapter(_e.rtl,this.x,this.width),Me=function(Ke){xe.fillText(Ke,Fe.x(e.x+ke),e.y+Oe/2),e.y+=Oe+Se},De=Fe.textAlign(Ae);let Ue,ze,We,Ye,Xe,ir,Qe;for(xe.textAlign=Ae,xe.textBaseline="middle",xe.font=je.string,e.x=getAlignedX(this,De,_e),xe.fillStyle=_e.bodyColor,each(this.beforeBody,Me),ke=Re&&De!=="right"?Ae==="center"?Te/2+Ie:Te+2+Ie:0,Ye=0,ir=Ee.length;Ye<ir;++Ye){for(Ue=Ee[Ye],ze=this.labelTextColors[Ye],xe.fillStyle=ze,each(Ue.before,Me),We=Ue.lines,Re&&We.length&&(this._drawColorBox(xe,e,Ye,Fe,_e),Oe=Math.max(je.lineHeight,Pe)),Xe=0,Qe=We.length;Xe<Qe;++Xe)Me(We[Xe]),Oe=je.lineHeight;each(Ue.after,Me)}ke=0,Oe=je.lineHeight,each(this.afterBody,Me),e.y-=Se}drawFooter(e,xe,_e){const Ee=this.footer,Se=Ee.length;let Ae,Re;if(Se){const Pe=getRtlAdapter(_e.rtl,this.x,this.width);for(e.x=getAlignedX(this,_e.footerAlign,_e),e.y+=_e.footerMarginTop,xe.textAlign=Pe.textAlign(_e.footerAlign),xe.textBaseline="middle",Ae=toFont(_e.footerFont),xe.fillStyle=_e.footerColor,xe.font=Ae.string,Re=0;Re<Se;++Re)xe.fillText(Ee[Re],Pe.x(e.x),e.y+Ae.lineHeight/2),e.y+=Ae.lineHeight+_e.footerSpacing}}drawBackground(e,xe,_e,Ee){const{xAlign:Se,yAlign:Ae}=this,{x:Re,y:Pe}=e,{width:Te,height:Ie}=_e,{topLeft:je,topRight:Oe,bottomLeft:ke,bottomRight:Fe}=toTRBLCorners(Ee.cornerRadius);xe.fillStyle=Ee.backgroundColor,xe.strokeStyle=Ee.borderColor,xe.lineWidth=Ee.borderWidth,xe.beginPath(),xe.moveTo(Re+je,Pe),Ae==="top"&&this.drawCaret(e,xe,_e,Ee),xe.lineTo(Re+Te-Oe,Pe),xe.quadraticCurveTo(Re+Te,Pe,Re+Te,Pe+Oe),Ae==="center"&&Se==="right"&&this.drawCaret(e,xe,_e,Ee),xe.lineTo(Re+Te,Pe+Ie-Fe),xe.quadraticCurveTo(Re+Te,Pe+Ie,Re+Te-Fe,Pe+Ie),Ae==="bottom"&&this.drawCaret(e,xe,_e,Ee),xe.lineTo(Re+ke,Pe+Ie),xe.quadraticCurveTo(Re,Pe+Ie,Re,Pe+Ie-ke),Ae==="center"&&Se==="left"&&this.drawCaret(e,xe,_e,Ee),xe.lineTo(Re,Pe+je),xe.quadraticCurveTo(Re,Pe,Re+je,Pe),xe.closePath(),xe.fill(),Ee.borderWidth>0&&xe.stroke()}_updateAnimationTarget(e){const xe=this.chart,_e=this.$animations,Ee=_e&&_e.x,Se=_e&&_e.y;if(Ee||Se){const Ae=positioners[e.position].call(this,this._active,this._eventPosition);if(!Ae)return;const Re=this._size=getTooltipSize(this,e),Pe=Object.assign({},Ae,this._size),Te=determineAlignment(xe,e,Pe),Ie=getBackgroundPoint(e,Pe,Te,xe);(Ee._to!==Ie.x||Se._to!==Ie.y)&&(this.xAlign=Te.xAlign,this.yAlign=Te.yAlign,this.width=Re.width,this.height=Re.height,this.caretX=Ae.x,this.caretY=Ae.y,this._resolveAnimations().update(this,Ie))}}_willRender(){return!!this.opacity}draw(e){const xe=this.options.setContext(this.getContext());let _e=this.opacity;if(!_e)return;this._updateAnimationTarget(xe);const Ee={width:this.width,height:this.height},Se={x:this.x,y:this.y};_e=Math.abs(_e)<.001?0:_e;const Ae=toPadding(xe.padding),Re=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;xe.enabled&&Re&&(e.save(),e.globalAlpha=_e,this.drawBackground(Se,e,Ee,xe),overrideTextDirection(e,xe.textDirection),Se.y+=Ae.top,this.drawTitle(Se,e,xe),this.drawBody(Se,e,xe),this.drawFooter(Se,e,xe),restoreTextDirection(e,xe.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,xe){const _e=this._active,Ee=e.map(({datasetIndex:Re,index:Pe})=>{const Te=this.chart.getDatasetMeta(Re);if(!Te)throw new Error("Cannot find a dataset at index "+Re);return{datasetIndex:Re,element:Te.data[Pe],index:Pe}}),Se=!_elementsEqual(_e,Ee),Ae=this._positionChanged(Ee,xe);(Se||Ae)&&(this._active=Ee,this._eventPosition=xe,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,xe,_e=!0){if(xe&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const Ee=this.options,Se=this._active||[],Ae=this._getActiveElements(e,Se,xe,_e),Re=this._positionChanged(Ae,e),Pe=xe||!_elementsEqual(Ae,Se)||Re;return Pe&&(this._active=Ae,(Ee.enabled||Ee.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,xe))),Pe}_getActiveElements(e,xe,_e,Ee){const Se=this.options;if(e.type==="mouseout")return[];if(!Ee)return xe.filter(Re=>this.chart.data.datasets[Re.datasetIndex]&&this.chart.getDatasetMeta(Re.datasetIndex).controller.getParsed(Re.index)!==void 0);const Ae=this.chart.getElementsAtEventForMode(e,Se.mode,Se,_e);return Se.reverse&&Ae.reverse(),Ae}_positionChanged(e,xe){const{caretX:_e,caretY:Ee,options:Se}=this,Ae=positioners[Se.position].call(this,e,xe);return Ae!==!1&&(_e!==Ae.x||Ee!==Ae.y)}},_i(_f,"positioners",positioners),_f);var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(t,e,xe){xe&&(t.tooltip=new Tooltip$1({chart:t,options:xe}))},beforeUpdate(t,e,xe){t.tooltip&&t.tooltip.initialize(xe)},reset(t,e,xe){t.tooltip&&t.tooltip.initialize(xe)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const xe={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...xe,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",xe)}},afterEvent(t,e){if(t.tooltip){const xe=e.replay;t.tooltip.handleEvent(e.event,xe,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const xe=t._adapter,{parser:_e,round:Ee,isoWeekday:Se}=t._parseOpts;let Ae=e;return typeof _e=="function"&&(Ae=_e(Ae)),isNumberFinite(Ae)||(Ae=typeof _e=="string"?xe.parse(Ae,_e):xe.parse(Ae)),Ae===null?null:(Ee&&(Ae=Ee==="week"&&(isNumber$2(Se)||Se===!0)?xe.startOf(Ae,"isoWeek",Se):xe.startOf(Ae,Ee)),+Ae)}function determineUnitForAutoTicks(t,e,xe,_e){const Ee=UNITS.length;for(let Se=UNITS.indexOf(t);Se<Ee-1;++Se){const Ae=INTERVALS[UNITS[Se]],Re=Ae.steps?Ae.steps:Number.MAX_SAFE_INTEGER;if(Ae.common&&Math.ceil((xe-e)/(Re*Ae.size))<=_e)return UNITS[Se]}return UNITS[Ee-1]}function determineUnitForFormatting(t,e,xe,_e,Ee){for(let Se=UNITS.length-1;Se>=UNITS.indexOf(xe);Se--){const Ae=UNITS[Se];if(INTERVALS[Ae].common&&t._adapter.diff(Ee,_e,Ae)>=e-1)return Ae}return UNITS[xe?UNITS.indexOf(xe):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,xe=UNITS.length;e<xe;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,xe){if(!xe)t[e]=!0;else if(xe.length){const{lo:_e,hi:Ee}=_lookup(xe,e),Se=xe[_e]>=e?xe[_e]:xe[Ee];t[Se]=!0}}function setMajorTicks(t,e,xe,_e){const Ee=t._adapter,Se=+Ee.startOf(e[0].value,_e),Ae=e[e.length-1].value;let Re,Pe;for(Re=Se;Re<=Ae;Re=+Ee.add(Re,1,_e))Pe=xe[Re],Pe>=0&&(e[Pe].major=!0);return e}function ticksFromTimestamps(t,e,xe){const _e=[],Ee={},Se=e.length;let Ae,Re;for(Ae=0;Ae<Se;++Ae)Re=e[Ae],Ee[Re]=Ae,_e.push({value:Re,major:!1});return Se===0||!xe?_e:setMajorTicks(t,_e,Ee,xe)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,xe={}){const _e=e.time||(e.time={}),Ee=this._adapter=new adapters._date(e.adapters.date);Ee.init(xe),mergeIf(_e.displayFormats,Ee.formats()),this._parseOpts={parser:_e.parser,round:_e.round,isoWeekday:_e.isoWeekday},super.init(e),this._normalized=xe.normalized}parse(e,xe){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,xe=this._adapter,_e=e.time.unit||"day";let{min:Ee,max:Se,minDefined:Ae,maxDefined:Re}=this.getUserBounds();function Pe(Te){!Ae&&!isNaN(Te.min)&&(Ee=Math.min(Ee,Te.min)),!Re&&!isNaN(Te.max)&&(Se=Math.max(Se,Te.max))}(!Ae||!Re)&&(Pe(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&Pe(this.getMinMax(!1))),Ee=isNumberFinite(Ee)&&!isNaN(Ee)?Ee:+xe.startOf(Date.now(),_e),Se=isNumberFinite(Se)&&!isNaN(Se)?Se:+xe.endOf(Date.now(),_e)+1,this.min=Math.min(Ee,Se-1),this.max=Math.max(Ee+1,Se)}_getLabelBounds(){const e=this.getLabelTimestamps();let xe=Number.POSITIVE_INFINITY,_e=Number.NEGATIVE_INFINITY;return e.length&&(xe=e[0],_e=e[e.length-1]),{min:xe,max:_e}}buildTicks(){const e=this.options,xe=e.time,_e=e.ticks,Ee=_e.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&Ee.length&&(this.min=this._userMin||Ee[0],this.max=this._userMax||Ee[Ee.length-1]);const Se=this.min,Ae=this.max,Re=_filterBetween(Ee,Se,Ae);return this._unit=xe.unit||(_e.autoSkip?determineUnitForAutoTicks(xe.minUnit,this.min,this.max,this._getLabelCapacity(Se)):determineUnitForFormatting(this,Re.length,xe.minUnit,this.min,this.max)),this._majorUnit=!_e.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(Ee),e.reverse&&Re.reverse(),ticksFromTimestamps(this,Re,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let xe=0,_e=0,Ee,Se;this.options.offset&&e.length&&(Ee=this.getDecimalForValue(e[0]),e.length===1?xe=1-Ee:xe=(this.getDecimalForValue(e[1])-Ee)/2,Se=this.getDecimalForValue(e[e.length-1]),e.length===1?_e=Se:_e=(Se-this.getDecimalForValue(e[e.length-2]))/2);const Ae=e.length<3?.5:.25;xe=_limitValue(xe,0,Ae),_e=_limitValue(_e,0,Ae),this._offsets={start:xe,end:_e,factor:1/(xe+1+_e)}}_generate(){const e=this._adapter,xe=this.min,_e=this.max,Ee=this.options,Se=Ee.time,Ae=Se.unit||determineUnitForAutoTicks(Se.minUnit,xe,_e,this._getLabelCapacity(xe)),Re=valueOrDefault(Ee.ticks.stepSize,1),Pe=Ae==="week"?Se.isoWeekday:!1,Te=isNumber$2(Pe)||Pe===!0,Ie={};let je=xe,Oe,ke;if(Te&&(je=+e.startOf(je,"isoWeek",Pe)),je=+e.startOf(je,Te?"day":Ae),e.diff(_e,xe,Ae)>1e5*Re)throw new Error(xe+" and "+_e+" are too far apart with stepSize of "+Re+" "+Ae);const Fe=Ee.ticks.source==="data"&&this.getDataTimestamps();for(Oe=je,ke=0;Oe<_e;Oe=+e.add(Oe,Re,Ae),ke++)addTick(Ie,Oe,Fe);return(Oe===_e||Ee.bounds==="ticks"||ke===1)&&addTick(Ie,Oe,Fe),Object.keys(Ie).sort(sorter).map(Me=>+Me)}getLabelForValue(e){const xe=this._adapter,_e=this.options.time;return _e.tooltipFormat?xe.format(e,_e.tooltipFormat):xe.format(e,_e.displayFormats.datetime)}format(e,xe){const Ee=this.options.time.displayFormats,Se=this._unit,Ae=xe||Ee[Se];return this._adapter.format(e,Ae)}_tickFormatFunction(e,xe,_e,Ee){const Se=this.options,Ae=Se.ticks.callback;if(Ae)return callback(Ae,[e,xe,_e],this);const Re=Se.time.displayFormats,Pe=this._unit,Te=this._majorUnit,Ie=Pe&&Re[Pe],je=Te&&Re[Te],Oe=_e[xe],ke=Te&&je&&Oe&&Oe.major;return this._adapter.format(e,Ee||(ke?je:Ie))}generateTickLabels(e){let xe,_e,Ee;for(xe=0,_e=e.length;xe<_e;++xe)Ee=e[xe],Ee.label=this._tickFormatFunction(Ee.value,xe,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const xe=this._offsets,_e=this.getDecimalForValue(e);return this.getPixelForDecimal((xe.start+_e)*xe.factor)}getValueForPixel(e){const xe=this._offsets,_e=this.getDecimalForPixel(e)/xe.factor-xe.end;return this.min+_e*(this.max-this.min)}_getLabelSize(e){const xe=this.options.ticks,_e=this.ctx.measureText(e).width,Ee=toRadians(this.isHorizontal()?xe.maxRotation:xe.minRotation),Se=Math.cos(Ee),Ae=Math.sin(Ee),Re=this._resolveTickFontOptions(0).size;return{w:_e*Se+Re*Ae,h:_e*Ae+Re*Se}}_getLabelCapacity(e){const xe=this.options.time,_e=xe.displayFormats,Ee=_e[xe.unit]||_e.millisecond,Se=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),Ee),Ae=this._getLabelSize(Se),Re=Math.floor(this.isHorizontal()?this.width/Ae.w:this.height/Ae.h)-1;return Re>0?Re:1}getDataTimestamps(){let e=this._cache.data||[],xe,_e;if(e.length)return e;const Ee=this.getMatchingVisibleMetas();if(this._normalized&&Ee.length)return this._cache.data=Ee[0].controller.getAllParsedValues(this);for(xe=0,_e=Ee.length;xe<_e;++xe)e=e.concat(Ee[xe].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let xe,_e;if(e.length)return e;const Ee=this.getLabels();for(xe=0,_e=Ee.length;xe<_e;++xe)e.push(parse(this,Ee[xe]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}_i(TimeScale,"id","time"),_i(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate$1(t,e,xe){let _e=0,Ee=t.length-1,Se,Ae,Re,Pe;xe?(e>=t[_e].pos&&e<=t[Ee].pos&&({lo:_e,hi:Ee}=_lookupByKey(t,"pos",e)),{pos:Se,time:Re}=t[_e],{pos:Ae,time:Pe}=t[Ee]):(e>=t[_e].time&&e<=t[Ee].time&&({lo:_e,hi:Ee}=_lookupByKey(t,"time",e)),{time:Se,pos:Re}=t[_e],{time:Ae,pos:Pe}=t[Ee]);const Te=Ae-Se;return Te?Re+(Pe-Re)*(e-Se)/Te:Re}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),xe=this._table=this.buildLookupTable(e);this._minPos=interpolate$1(xe,this.min),this._tableRange=interpolate$1(xe,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:xe,max:_e}=this,Ee=[],Se=[];let Ae,Re,Pe,Te,Ie;for(Ae=0,Re=e.length;Ae<Re;++Ae)Te=e[Ae],Te>=xe&&Te<=_e&&Ee.push(Te);if(Ee.length<2)return[{time:xe,pos:0},{time:_e,pos:1}];for(Ae=0,Re=Ee.length;Ae<Re;++Ae)Ie=Ee[Ae+1],Pe=Ee[Ae-1],Te=Ee[Ae],Math.round((Ie+Pe)/2)!==Te&&Se.push({time:Te,pos:Ae/(Re-1)});return Se}_generate(){const e=this.min,xe=this.max;let _e=super.getDataTimestamps();return(!_e.includes(e)||!_e.length)&&_e.splice(0,0,e),(!_e.includes(xe)||_e.length===1)&&_e.push(xe),_e.sort((Ee,Se)=>Ee-Se)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const xe=this.getDataTimestamps(),_e=this.getLabelTimestamps();return xe.length&&_e.length?e=this.normalize(xe.concat(_e)):e=xe.length?xe:_e,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate$1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const xe=this._offsets,_e=this.getDecimalForPixel(e)/xe.factor-xe.end;return interpolate$1(this._table,_e*this._tableRange+this._minPos,!0)}}_i(TimeSeriesScale,"id","timeseries"),_i(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function setOptions(t,e){const xe=t.options;xe&&e&&Object.assign(xe,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e){let xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const _e=[];t.datasets=e.map(Ee=>{const Se=t.datasets.find(Ae=>Ae[xe]===Ee[xe]);return!Se||!Ee.data||_e.includes(Se)?{...Ee}:(_e.push(Se),Object.assign(Se,Ee),Se)})}function cloneData(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const xe={labels:[],datasets:[]};return setLabels(xe,t.labels),setDatasets(xe,t.datasets,e),xe}function ChartComponent(t,e){const{height:xe=150,width:_e=300,redraw:Ee=!1,datasetIdKey:Se,type:Ae,data:Re,options:Pe,plugins:Te=[],fallbackContent:Ie,updateMode:je,...Oe}=t,ke=reactExports.useRef(null),Fe=reactExports.useRef(null),Me=()=>{ke.current&&(Fe.current=new Chart$1(ke.current,{type:Ae,data:cloneData(Re,Se),options:Pe&&{...Pe},plugins:Te}),reforwardRef(e,Fe.current))},De=()=>{reforwardRef(e,null),Fe.current&&(Fe.current.destroy(),Fe.current=null)};return reactExports.useEffect(()=>{!Ee&&Fe.current&&Pe&&setOptions(Fe.current,Pe)},[Ee,Pe]),reactExports.useEffect(()=>{!Ee&&Fe.current&&setLabels(Fe.current.config.data,Re.labels)},[Ee,Re.labels]),reactExports.useEffect(()=>{!Ee&&Fe.current&&Re.datasets&&setDatasets(Fe.current.config.data,Re.datasets,Se)},[Ee,Re.datasets]),reactExports.useEffect(()=>{Fe.current&&(Ee?(De(),setTimeout(Me)):Fe.current.update(je))},[Ee,Pe,Re.labels,Re.datasets,je]),reactExports.useEffect(()=>{Fe.current&&(De(),setTimeout(Me))},[Ae]),reactExports.useEffect(()=>(Me(),()=>De()),[]),React.createElement("canvas",{ref:ke,role:"img",height:xe,width:_e,...Oe},Ie)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(t,e){return Chart$1.register(e),reactExports.forwardRef((xe,_e)=>React.createElement(Chart,{...xe,ref:_e,type:t}))}const Doughnut=createTypedChart("doughnut",DoughnutController);Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);const UserHomePage=()=>{const{user:t,students:e,addStudent:xe,updateStudent:_e,deleteStudent:Ee}=useAuth(),[Se,Ae]=React.useState({name:"",grade:""}),[Re,Pe]=React.useState(null),[Te,Ie]=React.useState(""),[je,Oe]=React.useState(null),[ke,Fe]=React.useState(!1),Me=(Ye,Xe,ir=!1)=>{const Qe=Ye.target.files[0];if(Qe){const Ke=URL.createObjectURL(Qe);ir&&Re?Pe(rr=>({...rr,avatarUrl:Ke})):_e({...e.find(rr=>rr.id===Xe),avatarUrl:Ke})}},De=Ye=>{Pe({...Ye,editMode:!0})},Ue=async Ye=>{const Xe=e.find(ir=>ir.id===Ye.id);if(!Xe||Xe.name===Ye.name&&Xe.grade===Ye.grade&&Xe.avatarUrl===Ye.avatarUrl){Pe(null);return}try{await _e(Ye)}catch{alert("Failed to update student.")}Pe(null)},ze=async Ye=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ee(Ye),Re&&Re.id===Ye&&Pe(null)}catch{alert("Failed to delete student.")}},We=Ye=>{Pe({...Ye,editMode:!1})};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-4",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl font-bold text-center mb-4",children:["Welcome Back, ",t==null?void 0:t.name,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-center text-lg",children:"This is your personalized dashboard where you can access all your resources and tools."}),t&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6 justify-center my-8",children:[jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white font-bold px-8 py-4 rounded-lg text-lg shadow hover:bg-blue-600 transition",children:"Tools"}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-400 text-black font-bold px-8 py-4 rounded-lg text-lg shadow hover:bg-yellow-500 transition",children:"Curriculum"}),jsxRuntimeExports.jsx("button",{className:"bg-red-500 text-white font-bold px-8 py-4 rounded-lg text-lg shadow hover:bg-red-600 transition",children:"Progress"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your Students"}),e.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[jsxRuntimeExports.jsx("span",{className:"text-6xl mb-2",role:"img","aria-label":"No students",children:""}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 italic",children:"No students added yet. Use the form to add your first student!"})]}):jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:e.map(Ye=>jsxRuntimeExports.jsxs("li",{className:"mb-2 p-2 bg-gray-50 rounded flex flex-col gap-1 min-h-[220px] transition-all duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center text-lg font-bold text-blue-700 relative overflow-hidden",children:[Ye.avatarUrl?jsxRuntimeExports.jsx("img",{src:Ye.avatarUrl,alt:Ye.name,className:"w-10 h-10 rounded-full object-cover"}):Ye.name.split(" ").map(Xe=>Xe[0]).join("").toUpperCase(),jsxRuntimeExports.jsxs("label",{className:"absolute bottom-0 right-0 bg-white bg-opacity-80 rounded-full p-0.5 cursor-pointer text-xs",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Xe=>Me(Xe,Ye.id),"aria-label":"Upload Avatar"}),jsxRuntimeExports.jsx("span",{role:"img","aria-label":"upload",children:""})]})]}),jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-smartSchool-blue cursor-pointer",onClick:()=>Pe(Ye),children:Ye.name})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["Grade: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Ye.grade})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[jsxRuntimeExports.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs",children:["Progress: ",Ye.progress?`${Ye.progress}%`:"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs",children:["Last Activity: ",Ye.lastActivity?Ye.lastActivity:"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded text-xs",children:["Current Subject: ",Ye.currentSubject?Ye.currentSubject:"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded text-xs",children:["Mastery Level: ",Ye.masteryLevel??"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"bg-pink-100 text-pink-700 px-2 py-0.5 rounded text-xs",children:["Badges: ",Ye.badges?Ye.badges.join(", "):"None"]}),jsxRuntimeExports.jsxs("span",{className:"bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs",children:["Streak: ",Ye.streak??0," days"]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-24 h-24 mx-auto mt-2",children:[jsxRuntimeExports.jsx(Doughnut,{data:{labels:["Progress","Remaining"],datasets:[{data:[Ye.progress||0,100-(Ye.progress||0)],backgroundColor:["#34d399","#e5e7eb"],borderWidth:1}]},options:{cutout:"70%",plugins:{legend:{display:!1},tooltip:{enabled:!0}},maintainAspectRatio:!1,responsive:!0}}),jsxRuntimeExports.jsx("div",{className:"absolute w-full h-full top-0 left-0 flex items-center justify-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-green-700",children:Ye.progress?`${Ye.progress}%`:"0%"})})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full mt-2",children:jsxRuntimeExports.jsx("div",{className:"h-2 bg-green-400 rounded-full",style:{width:Ye.progress?`${Ye.progress}%`:"0%"}})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-2",children:[jsxRuntimeExports.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600 active:bg-green-700 transition",onClick:()=>De(Ye),children:"Update"}),jsxRuntimeExports.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600 transition",onClick:()=>ze(Ye.id),children:"Delete"}),jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition",onClick:()=>We(Ye),children:"View"})]})]},Ye.id))})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Add a Student"}),jsxRuntimeExports.jsxs("form",{className:"flex flex-col gap-2",onSubmit:Ye=>{if(Ye.preventDefault(),!Se.name||!Se.grade){Ie("Please enter both name and grade.");return}xe({...Se}),Ae({name:"",grade:""}),Ie("")},children:[jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Student Name",value:Se.name,onChange:Ye=>Ae(Xe=>({...Xe,name:Ye.target.value})),required:!0,"aria-label":"Student Name"}),jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Grade (e.g. Grade 1)",value:Se.grade,onChange:Ye=>Ae(Xe=>({...Xe,grade:Ye.target.value})),required:!0,"aria-label":"Student Grade"}),Te&&jsxRuntimeExports.jsx("span",{className:"text-red-500 text-xs",children:Te}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 active:bg-blue-700 transition",children:"Add Student"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Manage Students"}),jsxRuntimeExports.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded mr-2",onClick:()=>e[0]&&_e({id:e[0].id,name:"Updated Name",grade:"Grade 2"}),children:"Update First Student"}),jsxRuntimeExports.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>e[0]&&Ee(e[0].id),children:"Delete First Student"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Progress Tracker"}),jsxRuntimeExports.jsx(ProgressTracker,{})]}),Re&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 animate-fadeIn overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",onClick:()=>Pe(null),"aria-label":"Close Modal",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"w-20 h-20 rounded-full bg-blue-200 flex items-center justify-center text-3xl font-bold text-blue-700 overflow-hidden relative group",children:[Re.avatarUrl?jsxRuntimeExports.jsx("img",{src:Re.avatarUrl,alt:Re.name,className:"w-20 h-20 rounded-full object-cover"}):Re.name.split(" ").map(Ye=>Ye[0]).join("").toUpperCase(),Re.editMode&&jsxRuntimeExports.jsxs("label",{className:"absolute bottom-0 right-0 bg-white bg-opacity-80 rounded-full p-1 cursor-pointer text-xs shadow group-hover:bg-opacity-100 transition",title:"Change photo",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ye=>Me(Ye,Re.id,!0),"aria-label":"Upload Avatar"}),jsxRuntimeExports.jsx("span",{role:"img","aria-label":"upload",children:""})]})]}),Re.editMode?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 w-full mt-2",value:Re.name,onChange:Ye=>Pe(Xe=>({...Xe,name:Ye.target.value})),"aria-label":"Edit Student Name"}),jsxRuntimeExports.jsx("input",{className:"border rounded px-2 py-1 w-full",value:Re.grade,onChange:Ye=>Pe(Xe=>({...Xe,grade:Ye.target.value})),"aria-label":"Edit Student Grade"}),jsxRuntimeExports.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded mt-2 hover:bg-green-600 active:bg-green-700 transition",onClick:()=>Ue(Re),children:"Save"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold",children:Re.name}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Grade: ",Re.grade]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Progress: ",Re.progress?`${Re.progress}%`:"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Last Activity: ",Re.lastActivity||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Current Subject: ",Re.currentSubject||"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Mastery Level: ",Re.masteryLevel??"N/A"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Badges: ",Re.badges?Re.badges.join(", "):"None"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Streak: ",Re.streak??0," days"]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 w-full",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Learning Style Quiz"}),je===Re.id?jsxRuntimeExports.jsx(OnboardingLearningStyle,{grade:Re.grade,onComplete:async Ye=>{Fe(!0);try{await updateStudentProfile({student_id:Re.id,subject:"general",feedback:{style_pref:Ye}}),Pe(Xe=>Xe&&{...Xe,learningStyle:Ye})}catch{alert("Failed to update learning style.")}Oe(null),Fe(!1)}}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Current: ",jsxRuntimeExports.jsx("span",{className:"capitalize font-semibold",children:Re.learningStyle||"Not set"})]}),jsxRuntimeExports.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",onClick:()=>Oe(Re.id),disabled:ke,children:ke?"Saving...":"Take/Retake Quiz"})]})]})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8 dashboard-bottom-section",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow flex flex-col justify-between min-h-[180px] bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Recommended for You"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-5 text-gray-700 text-sm flex-1",children:[jsxRuntimeExports.jsxs("li",{children:["Try a new subject: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Science Experiments"})]}),jsxRuntimeExports.jsxs("li",{children:["Review your ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Math"})," progress for this week"]}),jsxRuntimeExports.jsxs("li",{children:["Check out the ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Art Challenge"})," of the month"]}),jsxRuntimeExports.jsxs("li",{children:["Practice with a ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Quiz"})," to boost your streak"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow flex flex-col justify-between min-h-[180px] bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Recent Achievements"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-700 flex-1",children:[jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Math Whiz"})," badge earned"]}),jsxRuntimeExports.jsxs("li",{children:[" ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"7-day streak"})," reached"]}),jsxRuntimeExports.jsxs("li",{children:[" Completed ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Reading Level 2"})]}),jsxRuntimeExports.jsxs("li",{children:[" Submitted an ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Art Project"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded shadow flex flex-col justify-between min-h-[180px] bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Quick Links"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Go to Assignments"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"View All Badges"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Start a New Lesson"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Contact Your Tutor"})]})]})]}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.96); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.25s ease;
        }
        .min-h-[220px] { min-height: 220px; }
        .transition-all { transition: all 0.2s; }
        .duration-200 { transition-duration: 200ms; }
        img.object-cover { transition: opacity 0.2s; }
        @media (min-width: 768px) {
          .dashboard-bottom-section > div {
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: #fff;
          }
        }
      `})]})};function Calculator(){const[input,setInput]=reactExports.useState(""),[result,setResult]=reactExports.useState("");function handleClick(t){setInput(input+t)}function handleClear(){setInput(""),setResult("")}function handleEquals(){try{setResult(eval(input))}catch{setResult("Error")}}return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-xs mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-lg font-mono bg-gray-100 p-2 rounded",children:input||"0"}),jsxRuntimeExports.jsx("div",{className:"mb-2 text-xl font-bold text-blue-700",children:result}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,"/"].map(t=>jsxRuntimeExports.jsx("button",{onClick:()=>handleClick(t.toString()),className:"btn",children:t},t)),[4,5,6,"*"].map(t=>jsxRuntimeExports.jsx("button",{onClick:()=>handleClick(t.toString()),className:"btn",children:t},t)),[1,2,3,"-"].map(t=>jsxRuntimeExports.jsx("button",{onClick:()=>handleClick(t.toString()),className:"btn",children:t},t)),[0,".","=","+"].map(t=>t==="="?jsxRuntimeExports.jsx("button",{onClick:handleEquals,className:"btn bg-blue-500 text-white",children:"="},t):jsxRuntimeExports.jsx("button",{onClick:()=>handleClick(t.toString()),className:"btn",children:t},t))]}),jsxRuntimeExports.jsx("button",{onClick:handleClear,className:"mt-2 w-full bg-red-500 text-white py-1 rounded",children:"Clear"})]})}function DrawingCanvas(){const t=reactExports.useRef(null),[e,xe]=reactExports.useState(!1);function _e(Re){xe(!0),Se(Re)}function Ee(){xe(!1),t.current.getContext("2d").beginPath()}function Se(Re){if(!e)return;const Pe=t.current,Te=Pe.getContext("2d"),Ie=Pe.getBoundingClientRect();Te.lineWidth=3,Te.lineCap="round",Te.strokeStyle="#2563eb",Te.lineTo(Re.nativeEvent.clientX-Ie.left,Re.nativeEvent.clientY-Ie.top),Te.stroke(),Te.beginPath(),Te.moveTo(Re.nativeEvent.clientX-Ie.left,Re.nativeEvent.clientY-Ie.top)}function Ae(){t.current.getContext("2d").clearRect(0,0,400,300)}return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-lg mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-bold text-blue-700",children:"Drawing Canvas"}),jsxRuntimeExports.jsx("canvas",{ref:t,width:400,height:300,className:"border border-gray-300 rounded cursor-crosshair bg-gray-50",onMouseDown:_e,onMouseUp:Ee,onMouseMove:Se,onMouseLeave:Ee}),jsxRuntimeExports.jsx("button",{onClick:Ae,className:"mt-2 w-full bg-yellow-500 text-white py-1 rounded",children:"Clear Canvas"})]})}const DICTIONARY={apple:"A round fruit with red or green skin.",democracy:"A system of government by the whole population.",molecule:"A group of atoms bonded together."};function Dictionary(){const[t,e]=reactExports.useState(""),[xe,_e]=reactExports.useState("");function Ee(){_e(DICTIONARY[t.toLowerCase()]||"Word not found.")}return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-xs mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-bold text-blue-700",children:"Dictionary"}),jsxRuntimeExports.jsx("input",{className:"border p-2 rounded w-full mb-2",placeholder:"Type a word...",value:t,onChange:Se=>e(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&Ee()}),jsxRuntimeExports.jsx("button",{onClick:Ee,className:"w-full bg-blue-500 text-white py-1 rounded mb-2",children:"Search"}),jsxRuntimeExports.jsx("div",{className:"text-gray-700 min-h-[2rem]",children:xe})]})}function Microscope(){const[t,e]=reactExports.useState(1);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-xs mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-bold text-blue-700",children:"Microscope Simulation"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-40 h-40 bg-gray-200 rounded-full flex items-center justify-center mb-2 border-4 border-blue-300 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:`https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=${200*t}&h=${200*t}`,alt:"Microscope sample",style:{width:200,height:200,objectFit:"cover",transform:`scale(${t})`}})}),jsxRuntimeExports.jsx("input",{type:"range",min:"1",max:"5",value:t,onChange:xe=>e(Number(xe.target.value)),className:"w-full mb-2"}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:["Zoom: ",t,"x"]})]})]})}function Scheduler(){const[t,e]=reactExports.useState([]),[xe,_e]=reactExports.useState("");function Ee(){xe.trim()&&(e([...t,{text:xe,done:!1}]),_e(""))}function Se(Ae){e(t.map((Re,Pe)=>Pe===Ae?{...Re,done:!Re.done}:Re))}return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-xs mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-bold text-blue-700",children:"Lesson Scheduler & Daily Planner"}),jsxRuntimeExports.jsxs("div",{className:"flex mb-2",children:[jsxRuntimeExports.jsx("input",{className:"border p-2 rounded flex-1 mr-2",placeholder:"Add a lesson or task...",value:xe,onChange:Ae=>_e(Ae.target.value),onKeyDown:Ae=>Ae.key==="Enter"&&Ee(),autoComplete:"off"}),jsxRuntimeExports.jsx("button",{onClick:Ee,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Add"})]}),jsxRuntimeExports.jsx("ul",{className:"list-disc pl-5",children:t.map((Ae,Re)=>jsxRuntimeExports.jsx("li",{className:Ae.done?"line-through text-gray-400":"",children:jsxRuntimeExports.jsx("span",{onClick:()=>Se(Re),className:"cursor-pointer select-none",children:Ae.text})},Re))})]})}function AITeacherBot({studentName:t="Student"}){const[e,xe]=reactExports.useState([{from:"bot",text:`Hi ${t}! I'm your AI Teacher. Ask me anything about your lesson!`}]),[_e,Ee]=reactExports.useState(""),Se=reactExports.useRef(null);reactExports.useEffect(()=>{var Pe;(Pe=Se.current)==null||Pe.scrollIntoView({behavior:"smooth"})},[e]);function Ae(){_e.trim()&&(xe([...e,{from:"user",text:_e}]),setTimeout(()=>{xe(Pe=>[...Pe,{from:"bot",text:Re(_e)}])},800),Ee(""))}function Re(Pe){return/hello|hi|hey/i.test(Pe)?"Hello! How can I help you today?":/help|explain/i.test(Pe)?"Sure! Let's break it down together. What part is tricky?":/quiz|answer/i.test(Pe)?"Try your best! If you get stuck, I can give you a hint.":"That's a great question! Let's think about it together."}return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 max-w-sm mx-auto flex flex-col h-96",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-bold text-blue-700",children:"AI Teacher Bot"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto mb-2 bg-gray-50 p-2 rounded",children:[e.map((Pe,Te)=>jsxRuntimeExports.jsx("div",{className:Pe.from==="bot"?"text-blue-700 mb-1":"text-gray-800 mb-1 text-right",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded bg-blue-100 mr-2",children:Pe.text})},Te)),jsxRuntimeExports.jsx("div",{ref:Se})]}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{className:"border p-2 rounded flex-1 mr-2",placeholder:"Type your question...",value:_e,onChange:Pe=>Ee(Pe.target.value),onKeyDown:Pe=>Pe.key==="Enter"&&Ae(),autoComplete:"off"}),jsxRuntimeExports.jsx("button",{onClick:Ae,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Send"})]})]})}const widgetList=[{key:"calculator",label:"Calculator",description:"Smart calculator for math, science, and more.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-bounce-slow",children:[jsxRuntimeExports.jsx("rect",{x:"8",y:"8",width:"32",height:"32",rx:"8",fill:"#e0e7ff",stroke:"#ef4444",strokeWidth:"4"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"14",width:"20",height:"8",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"24",width:"6",height:"6",rx:"2",fill:"#fff",stroke:"#ef4444",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"22",y:"24",width:"6",height:"6",rx:"2",fill:"#fff",stroke:"#2563eb",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"30",y:"24",width:"6",height:"6",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"32",width:"14",height:"4",rx:"2",fill:"#facc15",opacity:"0.3"})]}),component:jsxRuntimeExports.jsx(Calculator,{advanced:!0,graphing:!0,unitConversion:!0,history:!0,memory:!0,scientificMode:!0,currencyConversion:!0,equationSolver:!0,theme:"dark",voiceInput:!0,collaborative:!0})},{key:"drawing",label:"Drawing Canvas",description:"Sketch, diagram, and collaborate.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-wiggle",children:[jsxRuntimeExports.jsx("rect",{x:"8",y:"8",width:"32",height:"32",rx:"8",fill:"#fef9c3",stroke:"#ef4444",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{d:"M16 32c8-8 8-8 16 0",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("circle",{cx:"18",cy:"18",r:"2.5",fill:"#2563eb"}),jsxRuntimeExports.jsx("circle",{cx:"30",cy:"18",r:"2.5",fill:"#ef4444"}),jsxRuntimeExports.jsx("rect",{x:"20",y:"28",width:"8",height:"2",rx:"1",fill:"#2563eb",opacity:"0.3"})]}),component:jsxRuntimeExports.jsx(DrawingCanvas,{collaborative:!0,exportable:!0,layers:!0,aiAssist:!0,infiniteCanvas:!0,shapeDetection:!0,colorPicker:!0,undoRedo:!0,voiceInput:!0})},{key:"dictionary",label:"Dictionary",description:"Definitions, synonyms, games.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-fade-in",children:[jsxRuntimeExports.jsx("rect",{x:"10",y:"10",width:"28",height:"28",rx:"6",fill:"#e0e7ff",stroke:"#ef4444",strokeWidth:"4"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"14",width:"20",height:"20",rx:"4",fill:"#fff",stroke:"#ef4444",strokeWidth:"2"}),jsxRuntimeExports.jsx("text",{x:"24",y:"30",textAnchor:"middle",fontSize:"14",fill:"#2563eb",fontWeight:"bold",children:"Aa"})]}),component:jsxRuntimeExports.jsx(Dictionary,{wordOfTheDay:!0,games:!0,pronunciation:!0,voiceInput:!0,imageSearch:!0,translation:!0,thesaurus:!0,quizMode:!0})},{key:"microscope",label:"Microscope",description:"Virtual science exploration.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-spin-slow",children:[jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"36",rx:"12",ry:"3",fill:"#fde68a",opacity:"0.4"}),jsxRuntimeExports.jsx("rect",{x:"20",y:"12",width:"8",height:"18",rx:"4",fill:"#fff",stroke:"#ef4444",strokeWidth:"2.5"}),jsxRuntimeExports.jsx("rect",{x:"22",y:"10",width:"4",height:"8",rx:"2",fill:"#facc15",stroke:"#ef4444",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"32",r:"4",fill:"#ef4444",stroke:"#2563eb",strokeWidth:"1.5"}),jsxRuntimeExports.jsx("path",{d:"M28 28l6 6",stroke:"#2563eb",strokeWidth:"2.5"})]}),component:jsxRuntimeExports.jsx(Microscope,{zoom:!0,annotate:!0,cellStructures:!0,aiAnalysis:!0,virtualLabs:!0,threeDView:!0,quizMode:!0,collaborative:!0})},{key:"scheduler",label:"Scheduler",description:"Plan, track, and get reminders.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-pulse",children:[jsxRuntimeExports.jsx("rect",{x:"10",y:"12",width:"28",height:"24",rx:"6",fill:"#e0e7ff",stroke:"#ef4444",strokeWidth:"4"}),jsxRuntimeExports.jsx("rect",{x:"14",y:"18",width:"20",height:"12",rx:"2",fill:"#fff",stroke:"#facc15",strokeWidth:"2"}),jsxRuntimeExports.jsx("rect",{x:"18",y:"22",width:"4",height:"4",rx:"1.5",fill:"#ef4444"}),jsxRuntimeExports.jsx("rect",{x:"26",y:"22",width:"4",height:"4",rx:"1.5",fill:"#2563eb"}),jsxRuntimeExports.jsx("rect",{x:"22",y:"26",width:"4",height:"4",rx:"1.5",fill:"#facc15"})]}),component:jsxRuntimeExports.jsx(Scheduler,{reminders:!0,aiSuggest:!0,calendar:!0,recurringEvents:!0,pomodoroMode:!0,notifications:!0,collaborative:!0,theme:"dark"})},{key:"aiteacher",label:"AI Teacher Bot",description:"Instant help and explanations.",icon:jsxRuntimeExports.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",className:"animate-bounce",children:[jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"36",rx:"12",ry:"3",fill:"#fde68a",opacity:"0.4"}),jsxRuntimeExports.jsx("circle",{cx:"24",cy:"20",r:"10",fill:"#e0e7ff",stroke:"#ef4444",strokeWidth:"4"}),jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"20",rx:"7",ry:"6",fill:"#fff",stroke:"#facc15",strokeWidth:"2"}),jsxRuntimeExports.jsx("ellipse",{cx:"20",cy:"18",rx:"1.5",ry:"2",fill:"#2563eb"}),jsxRuntimeExports.jsx("ellipse",{cx:"28",cy:"18",rx:"1.5",ry:"2",fill:"#ef4444"}),jsxRuntimeExports.jsx("rect",{x:"21",y:"24",width:"6",height:"2",rx:"1",fill:"#facc15"}),jsxRuntimeExports.jsx("rect",{x:"22",y:"26",width:"4",height:"1.5",rx:"0.75",fill:"#ef4444"})]}),component:jsxRuntimeExports.jsx(AITeacherBot,{personalized:!0,voiceInput:!0,quizGenerator:!0,explainConcept:!0,chatHistory:!0,multiLanguage:!0,collaborative:!0,theme:"dark"})}];function ToolsPage(){const[t,e]=reactExports.useState(null);return jsxRuntimeExports.jsxs("div",{className:"min-h-[80vh] bg-white py-12 flex flex-col items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-smartSchool-blue mb-8 font-poppins drop-shadow",children:"Tools & Widgets"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-8 justify-center mb-10 w-full max-w-5xl",children:widgetList.map(xe=>jsxRuntimeExports.jsxs("button",{onClick:()=>e(xe),className:"flex flex-col items-center justify-between bg-white hover:bg-smartSchool-yellow/30 border-2 border-smartSchool-blue/10 rounded-2xl p-6 w-56 h-56 shadow-md hover:shadow-lg transition group focus:outline-none focus:ring-2 focus:ring-smartSchool-blue min-w-[12rem]","aria-label":xe.label,children:[jsxRuntimeExports.jsx("span",{className:"mb-2 text-5xl group-hover:scale-110 transition-transform drop-shadow-sm",children:xe.icon}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-lg text-gray-800 group-hover:text-smartSchool-blue text-center font-poppins tracking-tight mb-1",children:xe.label}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 text-center leading-tight",children:xe.description})]},xe.key))}),t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-white z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 min-w-[340px] max-w-2xl w-full relative border-2 border-smartSchool-blue/20 max-h-[90vh] overflow-y-auto flex flex-col items-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition-colors","aria-label":"Close tool",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-5xl mb-2",children:t.icon}),jsxRuntimeExports.jsx("h2",{className:"text-center font-bold text-2xl font-poppins text-smartSchool-blue tracking-tight drop-shadow mb-1",children:t.label}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 text-center mb-2 max-w-md",children:t.description})]}),jsxRuntimeExports.jsx("div",{className:"w-full flex flex-col items-center",children:t.component})]})})]})}const AdminDashboardPage=()=>{const[t,e]=reactExports.useState([]),[xe,_e]=reactExports.useState([]),[Ee,Se]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Pe=await getDocs(collection(db,"users"));e(Pe.docs.map(je=>({id:je.id,...je.data()})));const Te=await getDocs(collection(db,"progress"));_e(Te.docs.map(je=>({id:je.id,...je.data()})));const Ie=await getDocs(collection(db,"lessons"));Se(Ie.docs.map(je=>({id:je.id,...je.data()})))})()},[]);const Ae=async Re=>{await updateDoc(doc(db,"lessons",Re),{disabled:!0}),Se(Ee.map(Pe=>Pe.id===Re?{...Pe,disabled:!0}:Pe))};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"Admin Dashboard"}),jsxRuntimeExports.jsx("h2",{children:"Users"}),jsxRuntimeExports.jsx("ul",{children:t.map(Re=>jsxRuntimeExports.jsxs("li",{children:[Re.name," (",Re.role,")"]},Re.id))}),jsxRuntimeExports.jsx("h2",{children:"Lessons"}),jsxRuntimeExports.jsx("ul",{children:Ee.map(Re=>jsxRuntimeExports.jsxs("li",{children:[Re.title," ",Re.disabled?"(Disabled)":"",!Re.disabled&&jsxRuntimeExports.jsx("button",{onClick:()=>Ae(Re.id),children:"Disable"})]},Re.id))}),jsxRuntimeExports.jsx("h2",{children:"Progress"}),jsxRuntimeExports.jsx("ul",{children:xe.map(Re=>jsxRuntimeExports.jsxs("li",{children:[Re.userId,": ",Re.lessonId," - ",Re.status]},Re.id))})]})};var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal$2=="object"&&commonjsGlobal$2&&commonjsGlobal$2.Object===Object&&commonjsGlobal$2;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,xe=t||e||Function("return this")();return _root=xe,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,xe=e.hasOwnProperty,_e=e.toString,Ee=t?t.toStringTag:void 0;function Se(Ae){var Re=xe.call(Ae,Ee),Pe=Ae[Ee];try{Ae[Ee]=void 0;var Te=!0}catch{}var Ie=_e.call(Ae);return Te&&(Re?Ae[Ee]=Pe:delete Ae[Ee]),Ie}return _getRawTag=Se,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function xe(_e){return e.call(_e)}return _objectToString=xe,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),xe=require_objectToString(),_e="[object Null]",Ee="[object Undefined]",Se=t?t.toStringTag:void 0;function Ae(Re){return Re==null?Re===void 0?Ee:_e:Se&&Se in Object(Re)?e(Re):xe(Re)}return _baseGetTag=Ae,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),xe="[object Symbol]";function _e(Ee){return typeof Ee=="symbol"||e(Ee)&&t(Ee)==xe}return isSymbol_1=_e,isSymbol_1}var _isKey,hasRequired_isKey;function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var t=requireIsArray(),e=requireIsSymbol(),xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_e=/^\w*$/;function Ee(Se,Ae){if(t(Se))return!1;var Re=typeof Se;return Re=="number"||Re=="symbol"||Re=="boolean"||Se==null||e(Se)?!0:_e.test(Se)||!xe.test(Se)||Ae!=null&&Se in Object(Ae)}return _isKey=Ee,_isKey}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var xe=typeof e;return e!=null&&(xe=="object"||xe=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),xe="[object AsyncFunction]",_e="[object Function]",Ee="[object GeneratorFunction]",Se="[object Proxy]";function Ae(Re){if(!e(Re))return!1;var Pe=t(Re);return Pe==_e||Pe==Ee||Pe==xe||Pe==Se}return isFunction_1=Ae,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=function(){var _e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return _e?"Symbol(src)_1."+_e:""}();function xe(_e){return!!e&&e in _e}return _isMasked=xe,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function xe(_e){if(_e!=null){try{return e.call(_e)}catch{}try{return _e+""}catch{}}return""}return _toSource=xe,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),xe=requireIsObject(),_e=require_toSource(),Ee=/[\\^$.*+?()[\]{}|]/g,Se=/^\[object .+?Constructor\]$/,Ae=Function.prototype,Re=Object.prototype,Pe=Ae.toString,Te=Re.hasOwnProperty,Ie=RegExp("^"+Pe.call(Te).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function je(Oe){if(!xe(Oe)||e(Oe))return!1;var ke=t(Oe)?Ie:Se;return ke.test(_e(Oe))}return _baseIsNative=je,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,xe){return e==null?void 0:e[xe]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function xe(_e,Ee){var Se=e(_e,Ee);return t(Se)?Se:void 0}return _getNative=xe,_getNative}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var xe=this.has(e)&&delete this.__data__[e];return this.size-=xe?1:0,xe}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",xe=Object.prototype,_e=xe.hasOwnProperty;function Ee(Se){var Ae=this.__data__;if(t){var Re=Ae[Se];return Re===e?void 0:Re}return _e.call(Ae,Se)?Ae[Se]:void 0}return _hashGet=Ee,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,xe=e.hasOwnProperty;function _e(Ee){var Se=this.__data__;return t?Se[Ee]!==void 0:xe.call(Se,Ee)}return _hashHas=_e,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function xe(_e,Ee){var Se=this.__data__;return this.size+=this.has(_e)?0:1,Se[_e]=t&&Ee===void 0?e:Ee,this}return _hashSet=xe,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),xe=require_hashGet(),_e=require_hashHas(),Ee=require_hashSet();function Se(Ae){var Re=-1,Pe=Ae==null?0:Ae.length;for(this.clear();++Re<Pe;){var Te=Ae[Re];this.set(Te[0],Te[1])}}return Se.prototype.clear=t,Se.prototype.delete=e,Se.prototype.get=xe,Se.prototype.has=_e,Se.prototype.set=Ee,_Hash=Se,_Hash}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function t(e,xe){return e===xe||e!==e&&xe!==xe}return eq_1=t,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq();function e(xe,_e){for(var Ee=xe.length;Ee--;)if(t(xe[Ee][0],_e))return Ee;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,xe=e.splice;function _e(Ee){var Se=this.__data__,Ae=t(Se,Ee);if(Ae<0)return!1;var Re=Se.length-1;return Ae==Re?Se.pop():xe.call(Se,Ae,1),--this.size,!0}return _listCacheDelete=_e,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(xe){var _e=this.__data__,Ee=t(_e,xe);return Ee<0?void 0:_e[Ee][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(xe){return t(this.__data__,xe)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(xe,_e){var Ee=this.__data__,Se=t(Ee,xe);return Se<0?(++this.size,Ee.push([xe,_e])):Ee[Se][1]=_e,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),xe=require_listCacheGet(),_e=require_listCacheHas(),Ee=require_listCacheSet();function Se(Ae){var Re=-1,Pe=Ae==null?0:Ae.length;for(this.clear();++Re<Pe;){var Te=Ae[Re];this.set(Te[0],Te[1])}}return Se.prototype.clear=t,Se.prototype.delete=e,Se.prototype.get=xe,Se.prototype.has=_e,Se.prototype.set=Ee,_ListCache=Se,_ListCache}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),xe=t(e,"Map");return _Map=xe,_Map}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),xe=require_Map();function _e(){this.size=0,this.__data__={hash:new t,map:new(xe||e),string:new t}}return _mapCacheClear=_e,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var xe=typeof e;return xe=="string"||xe=="number"||xe=="symbol"||xe=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(xe,_e){var Ee=xe.__data__;return t(_e)?Ee[typeof _e=="string"?"string":"hash"]:Ee.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(xe){var _e=t(this,xe).delete(xe);return this.size-=_e?1:0,_e}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(xe){return t(this,xe).get(xe)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(xe){return t(this,xe).has(xe)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(xe,_e){var Ee=t(this,xe),Se=Ee.size;return Ee.set(xe,_e),this.size+=Ee.size==Se?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),xe=require_mapCacheGet(),_e=require_mapCacheHas(),Ee=require_mapCacheSet();function Se(Ae){var Re=-1,Pe=Ae==null?0:Ae.length;for(this.clear();++Re<Pe;){var Te=Ae[Re];this.set(Te[0],Te[1])}}return Se.prototype.clear=t,Se.prototype.delete=e,Se.prototype.get=xe,Se.prototype.has=_e,Se.prototype.set=Ee,_MapCache=Se,_MapCache}var memoize_1,hasRequiredMemoize;function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var t=require_MapCache(),e="Expected a function";function xe(_e,Ee){if(typeof _e!="function"||Ee!=null&&typeof Ee!="function")throw new TypeError(e);var Se=function(){var Ae=arguments,Re=Ee?Ee.apply(this,Ae):Ae[0],Pe=Se.cache;if(Pe.has(Re))return Pe.get(Re);var Te=_e.apply(this,Ae);return Se.cache=Pe.set(Re,Te)||Pe,Te};return Se.cache=new(xe.Cache||t),Se}return xe.Cache=t,memoize_1=xe,memoize_1}var _memoizeCapped,hasRequired_memoizeCapped;function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var t=requireMemoize(),e=500;function xe(_e){var Ee=t(_e,function(Ae){return Se.size===e&&Se.clear(),Ae}),Se=Ee.cache;return Ee}return _memoizeCapped=xe,_memoizeCapped}var _stringToPath,hasRequired_stringToPath;function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var t=require_memoizeCapped(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/\\(\\)?/g,_e=t(function(Ee){var Se=[];return Ee.charCodeAt(0)===46&&Se.push(""),Ee.replace(e,function(Ae,Re,Pe,Te){Se.push(Pe?Te.replace(xe,"$1"):Re||Ae)}),Se});return _stringToPath=_e,_stringToPath}var _arrayMap,hasRequired_arrayMap;function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;hasRequired_arrayMap=1;function t(e,xe){for(var _e=-1,Ee=e==null?0:e.length,Se=Array(Ee);++_e<Ee;)Se[_e]=xe(e[_e],_e,e);return Se}return _arrayMap=t,_arrayMap}var _baseToString,hasRequired_baseToString;function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var t=require_Symbol(),e=require_arrayMap(),xe=requireIsArray(),_e=requireIsSymbol(),Ee=t?t.prototype:void 0,Se=Ee?Ee.toString:void 0;function Ae(Re){if(typeof Re=="string")return Re;if(xe(Re))return e(Re,Ae)+"";if(_e(Re))return Se?Se.call(Re):"";var Pe=Re+"";return Pe=="0"&&1/Re==-1/0?"-0":Pe}return _baseToString=Ae,_baseToString}var toString_1,hasRequiredToString;function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var t=require_baseToString();function e(xe){return xe==null?"":t(xe)}return toString_1=e,toString_1}var _castPath,hasRequired_castPath;function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var t=requireIsArray(),e=require_isKey(),xe=require_stringToPath(),_e=requireToString();function Ee(Se,Ae){return t(Se)?Se:e(Se,Ae)?[Se]:xe(_e(Se))}return _castPath=Ee,_castPath}var _toKey,hasRequired_toKey;function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var t=requireIsSymbol();function e(xe){if(typeof xe=="string"||t(xe))return xe;var _e=xe+"";return _e=="0"&&1/xe==-1/0?"-0":_e}return _toKey=e,_toKey}var _baseGet,hasRequired_baseGet;function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var t=require_castPath(),e=require_toKey();function xe(_e,Ee){Ee=t(Ee,_e);for(var Se=0,Ae=Ee.length;_e!=null&&Se<Ae;)_e=_e[e(Ee[Se++])];return Se&&Se==Ae?_e:void 0}return _baseGet=xe,_baseGet}var get_1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var t=require_baseGet();function e(xe,_e,Ee){var Se=xe==null?void 0:t(xe,_e);return Se===void 0?Ee:Se}return get_1=e,get_1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var isNil_1,hasRequiredIsNil;function requireIsNil(){if(hasRequiredIsNil)return isNil_1;hasRequiredIsNil=1;function t(e){return e==null}return isNil_1=t,isNil_1}var isNilExports=requireIsNil();const isNil=getDefaultExportFromCjs(isNilExports);var isString_1,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var t=require_baseGetTag(),e=requireIsArray(),xe=requireIsObjectLike(),_e="[object String]";function Ee(Se){return typeof Se=="string"||!e(Se)&&xe(Se)&&t(Se)==_e}return isString_1=Ee,isString_1}var isStringExports=requireIsString();const isString=getDefaultExportFromCjs(isStringExports);var isFunctionExports=requireIsFunction();const isFunction=getDefaultExportFromCjs(isFunctionExports);var isObjectExports=requireIsObject();const isObject=getDefaultExportFromCjs(isObjectExports);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Se=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),Re=Symbol.for("react.server_context"),Pe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),Fe;Fe=Symbol.for("react.module.reference");function Me(De){if(typeof De=="object"&&De!==null){var Ue=De.$$typeof;switch(Ue){case t:switch(De=De.type,De){case xe:case Ee:case _e:case Te:case Ie:return De;default:switch(De=De&&De.$$typeof,De){case Re:case Ae:case Pe:case Oe:case je:case Se:return De;default:return Ue}}case e:return Ue}}}return reactIs_production_min.ContextConsumer=Ae,reactIs_production_min.ContextProvider=Se,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=Pe,reactIs_production_min.Fragment=xe,reactIs_production_min.Lazy=Oe,reactIs_production_min.Memo=je,reactIs_production_min.Portal=e,reactIs_production_min.Profiler=Ee,reactIs_production_min.StrictMode=_e,reactIs_production_min.Suspense=Te,reactIs_production_min.SuspenseList=Ie,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(De){return Me(De)===Ae},reactIs_production_min.isContextProvider=function(De){return Me(De)===Se},reactIs_production_min.isElement=function(De){return typeof De=="object"&&De!==null&&De.$$typeof===t},reactIs_production_min.isForwardRef=function(De){return Me(De)===Pe},reactIs_production_min.isFragment=function(De){return Me(De)===xe},reactIs_production_min.isLazy=function(De){return Me(De)===Oe},reactIs_production_min.isMemo=function(De){return Me(De)===je},reactIs_production_min.isPortal=function(De){return Me(De)===e},reactIs_production_min.isProfiler=function(De){return Me(De)===Ee},reactIs_production_min.isStrictMode=function(De){return Me(De)===_e},reactIs_production_min.isSuspense=function(De){return Me(De)===Te},reactIs_production_min.isSuspenseList=function(De){return Me(De)===Ie},reactIs_production_min.isValidElementType=function(De){return typeof De=="string"||typeof De=="function"||De===xe||De===Ee||De===_e||De===Te||De===Ie||De===ke||typeof De=="object"&&De!==null&&(De.$$typeof===Oe||De.$$typeof===je||De.$$typeof===Se||De.$$typeof===Ae||De.$$typeof===Pe||De.$$typeof===Fe||De.getModuleId!==void 0)},reactIs_production_min.typeOf=Me,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),isNumber_1,hasRequiredIsNumber;function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var t=require_baseGetTag(),e=requireIsObjectLike(),xe="[object Number]";function _e(Ee){return typeof Ee=="number"||e(Ee)&&t(Ee)==xe}return isNumber_1=_e,isNumber_1}var _isNaN,hasRequired_isNaN;function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var t=requireIsNumber();function e(xe){return t(xe)&&xe!=+xe}return _isNaN=e,_isNaN}var _isNaNExports=require_isNaN();const isNan=getDefaultExportFromCjs(_isNaNExports);var isNumberExports=requireIsNumber();const isNumber$1=getDefaultExportFromCjs(isNumberExports);var mathSign=function t(e){return e===0?0:e>0?1:-1},isPercent=function t(e){return isString(e)&&e.indexOf("%")===e.length-1},isNumber=function t(e){return isNumber$1(e)&&!isNan(e)},isNumOrStr=function t(e){return isNumber(e)||isString(e)},idCounter=0,uniqueId=function t(e){var xe=++idCounter;return"".concat(e||"").concat(xe)},getPercentValue=function t(e,xe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(e)&&!isString(e))return _e;var Se;if(isPercent(e)){var Ae=e.indexOf("%");Se=xe*parseFloat(e.slice(0,Ae))/100}else Se=+e;return isNan(Se)&&(Se=_e),Ee&&Se>xe&&(Se=xe),Se},getAnyElementOfObject=function t(e){if(!e)return null;var xe=Object.keys(e);return xe&&xe.length?e[xe[0]]:null},hasDuplicate=function t(e){if(!Array.isArray(e))return!1;for(var xe=e.length,_e={},Ee=0;Ee<xe;Ee++)if(!_e[e[Ee]])_e[e[Ee]]=!0;else return!0;return!1},interpolateNumber$2=function t(e,xe){return isNumber(e)&&isNumber(xe)?function(_e){return e+_e*(xe-e)}:function(){return xe}};function findEntryInArray(t,e,xe){return!t||!t.length?null:t.find(function(_e){return _e&&(typeof e=="function"?e(_e):get(_e,e))===xe})}var compareValues=function t(e,xe){return isNumber(e)&&isNumber(xe)?e-xe:isString(e)&&isString(xe)?e.localeCompare(xe):e instanceof Date&&xe instanceof Date?e.getTime()-xe.getTime():String(e).localeCompare(String(xe))};function shallowEqual(t,e){for(var xe in t)if({}.hasOwnProperty.call(t,xe)&&(!{}.hasOwnProperty.call(e,xe)||t[xe]!==e[xe]))return!1;for(var _e in e)if({}.hasOwnProperty.call(e,_e)&&!{}.hasOwnProperty.call(t,_e))return!1;return!0}function _typeof$J(t){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$J(t)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function t(e,xe){if(!e||typeof e=="function"||typeof e=="boolean")return null;var _e=e;if(reactExports.isValidElement(e)&&(_e=e.props),!isObject(_e))return null;var Ee={};return Object.keys(_e).forEach(function(Se){EventKeys.includes(Se)&&(Ee[Se]=xe||function(Ae){return _e[Se](_e,Ae)})}),Ee},getEventHandlerOfChild=function t(e,xe,_e){return function(Ee){return e(xe,_e,Ee),null}},adaptEventsOfChild=function t(e,xe,_e){if(!isObject(e)||_typeof$J(e)!=="object")return null;var Ee=null;return Object.keys(e).forEach(function(Se){var Ae=e[Se];EventKeys.includes(Se)&&typeof Ae=="function"&&(Ee||(Ee={}),Ee[Se]=getEventHandlerOfChild(Ae,xe,_e))}),Ee},_excluded$h=["children"],_excluded2$5=["children"];function _objectWithoutProperties$h(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$h(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$h(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function t(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lastChildren=null,lastResult=null,toArray=function t(e){if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var xe=[];return reactExports.Children.forEach(e,function(_e){isNil(_e)||(reactIsExports.isFragment(_e)?xe=xe.concat(t(_e.props.children)):xe.push(_e))}),lastResult=xe,lastChildren=e,xe};function findAllByType(t,e){var xe=[],_e=[];return Array.isArray(e)?_e=e.map(function(Ee){return getDisplayName(Ee)}):_e=[getDisplayName(e)],toArray(t).forEach(function(Ee){var Se=get(Ee,"type.displayName")||get(Ee,"type.name");_e.indexOf(Se)!==-1&&xe.push(Ee)}),xe}function findChildByType(t,e){var xe=findAllByType(t,e);return xe&&xe[0]}var validateWidthHeight=function t(e){if(!e||!e.props)return!1;var xe=e.props,_e=xe.width,Ee=xe.height;return!(!isNumber(_e)||_e<=0||!isNumber(Ee)||Ee<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function t(e){return e&&e.type&&isString(e.type)&&SVG_TAGS.indexOf(e.type)>=0},isValidSpreadableProp=function t(e,xe,_e,Ee){var Se,Ae=(Se=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[Ee])!==null&&Se!==void 0?Se:[];return xe.startsWith("data-")||!isFunction(e)&&(Ee&&Ae.includes(xe)||SVGElementPropKeys.includes(xe))||_e&&EventKeys.includes(xe)},filterProps=function t(e,xe,_e){if(!e||typeof e=="function"||typeof e=="boolean")return null;var Ee=e;if(reactExports.isValidElement(e)&&(Ee=e.props),!isObject(Ee))return null;var Se={};return Object.keys(Ee).forEach(function(Ae){var Re;isValidSpreadableProp((Re=Ee)===null||Re===void 0?void 0:Re[Ae],Ae,xe,_e)&&(Se[Ae]=Ee[Ae])}),Se},isChildrenEqual=function t(e,xe){if(e===xe)return!0;var _e=reactExports.Children.count(e);if(_e!==reactExports.Children.count(xe))return!1;if(_e===0)return!0;if(_e===1)return isSingleChildEqual(Array.isArray(e)?e[0]:e,Array.isArray(xe)?xe[0]:xe);for(var Ee=0;Ee<_e;Ee++){var Se=e[Ee],Ae=xe[Ee];if(Array.isArray(Se)||Array.isArray(Ae)){if(!t(Se,Ae))return!1}else if(!isSingleChildEqual(Se,Ae))return!1}return!0},isSingleChildEqual=function t(e,xe){if(isNil(e)&&isNil(xe))return!0;if(!isNil(e)&&!isNil(xe)){var _e=e.props||{},Ee=_e.children,Se=_objectWithoutProperties$h(_e,_excluded$h),Ae=xe.props||{},Re=Ae.children,Pe=_objectWithoutProperties$h(Ae,_excluded2$5);return Ee&&Re?shallowEqual(Se,Pe)&&isChildrenEqual(Ee,Re):!Ee&&!Re?shallowEqual(Se,Pe):!1}return!1},renderByOrder=function t(e,xe){var _e=[],Ee={};return toArray(e).forEach(function(Se,Ae){if(isSvgElement(Se))_e.push(Se);else if(Se){var Re=getDisplayName(Se.type),Pe=xe[Re]||{},Te=Pe.handler,Ie=Pe.once;if(Te&&(!Ie||!Ee[Re])){var je=Te(Se,Re,Ae);_e.push(je),Ee[Re]=!0}}}),_e},getReactEventByType=function t(e){var xe=e&&e.type;return xe&&REACT_BROWSER_EVENT_MAP[xe]?REACT_BROWSER_EVENT_MAP[xe]:null},parseChildIndex=function t(e,xe){return toArray(xe).indexOf(e)},_excluded$g=["children","width","height","viewBox","className","style","title","desc"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$s.apply(this,arguments)}function _objectWithoutProperties$g(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$g(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$g(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function Surface(t){var e=t.children,xe=t.width,_e=t.height,Ee=t.viewBox,Se=t.className,Ae=t.style,Re=t.title,Pe=t.desc,Te=_objectWithoutProperties$g(t,_excluded$g),Ie=Ee||{width:xe,height:_e,x:0,y:0},je=clsx("recharts-surface",Se);return React.createElement("svg",_extends$s({},filterProps(Te,!0,"svg"),{className:je,width:xe,height:_e,style:Ae,viewBox:"".concat(Ie.x," ").concat(Ie.y," ").concat(Ie.width," ").concat(Ie.height)}),React.createElement("title",null,Re),React.createElement("desc",null,Pe),e)}var _excluded$f=["children","className"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$r.apply(this,arguments)}function _objectWithoutProperties$f(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$f(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$f(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}var Layer=React.forwardRef(function(t,e){var xe=t.children,_e=t.className,Ee=_objectWithoutProperties$f(t,_excluded$f),Se=clsx("recharts-layer",_e);return React.createElement("g",_extends$r({className:Se},filterProps(Ee,!0),{ref:e}),xe)}),warn=function t(e,xe){for(var _e=arguments.length,Ee=new Array(_e>2?_e-2:0),Se=2;Se<_e;Se++)Ee[Se-2]=arguments[Se]},_baseSlice,hasRequired_baseSlice;function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;hasRequired_baseSlice=1;function t(e,xe,_e){var Ee=-1,Se=e.length;xe<0&&(xe=-xe>Se?0:Se+xe),_e=_e>Se?Se:_e,_e<0&&(_e+=Se),Se=xe>_e?0:_e-xe>>>0,xe>>>=0;for(var Ae=Array(Se);++Ee<Se;)Ae[Ee]=e[Ee+xe];return Ae}return _baseSlice=t,_baseSlice}var _castSlice,hasRequired_castSlice;function require_castSlice(){if(hasRequired_castSlice)return _castSlice;hasRequired_castSlice=1;var t=require_baseSlice();function e(xe,_e,Ee){var Se=xe.length;return Ee=Ee===void 0?Se:Ee,!_e&&Ee>=Se?xe:t(xe,_e,Ee)}return _castSlice=e,_castSlice}var _hasUnicode,hasRequired_hasUnicode;function require_hasUnicode(){if(hasRequired_hasUnicode)return _hasUnicode;hasRequired_hasUnicode=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",xe="\\ufe20-\\ufe2f",_e="\\u20d0-\\u20ff",Ee=e+xe+_e,Se="\\ufe0e\\ufe0f",Ae="\\u200d",Re=RegExp("["+Ae+t+Ee+Se+"]");function Pe(Te){return Re.test(Te)}return _hasUnicode=Pe,_hasUnicode}var _asciiToArray,hasRequired_asciiToArray;function require_asciiToArray(){if(hasRequired_asciiToArray)return _asciiToArray;hasRequired_asciiToArray=1;function t(e){return e.split("")}return _asciiToArray=t,_asciiToArray}var _unicodeToArray,hasRequired_unicodeToArray;function require_unicodeToArray(){if(hasRequired_unicodeToArray)return _unicodeToArray;hasRequired_unicodeToArray=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",xe="\\ufe20-\\ufe2f",_e="\\u20d0-\\u20ff",Ee=e+xe+_e,Se="\\ufe0e\\ufe0f",Ae="["+t+"]",Re="["+Ee+"]",Pe="\\ud83c[\\udffb-\\udfff]",Te="(?:"+Re+"|"+Pe+")",Ie="[^"+t+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="\\u200d",Fe=Te+"?",Me="["+Se+"]?",De="(?:"+ke+"(?:"+[Ie,je,Oe].join("|")+")"+Me+Fe+")*",Ue=Me+Fe+De,ze="(?:"+[Ie+Re+"?",Re,je,Oe,Ae].join("|")+")",We=RegExp(Pe+"(?="+Pe+")|"+ze+Ue,"g");function Ye(Xe){return Xe.match(We)||[]}return _unicodeToArray=Ye,_unicodeToArray}var _stringToArray,hasRequired_stringToArray;function require_stringToArray(){if(hasRequired_stringToArray)return _stringToArray;hasRequired_stringToArray=1;var t=require_asciiToArray(),e=require_hasUnicode(),xe=require_unicodeToArray();function _e(Ee){return e(Ee)?xe(Ee):t(Ee)}return _stringToArray=_e,_stringToArray}var _createCaseFirst,hasRequired_createCaseFirst;function require_createCaseFirst(){if(hasRequired_createCaseFirst)return _createCaseFirst;hasRequired_createCaseFirst=1;var t=require_castSlice(),e=require_hasUnicode(),xe=require_stringToArray(),_e=requireToString();function Ee(Se){return function(Ae){Ae=_e(Ae);var Re=e(Ae)?xe(Ae):void 0,Pe=Re?Re[0]:Ae.charAt(0),Te=Re?t(Re,1).join(""):Ae.slice(1);return Pe[Se]()+Te}}return _createCaseFirst=Ee,_createCaseFirst}var upperFirst_1,hasRequiredUpperFirst;function requireUpperFirst(){if(hasRequiredUpperFirst)return upperFirst_1;hasRequiredUpperFirst=1;var t=require_createCaseFirst(),e=t("toUpperCase");return upperFirst_1=e,upperFirst_1}var upperFirstExports=requireUpperFirst();const upperFirst=getDefaultExportFromCjs(upperFirstExports);function constant$1(t){return function(){return t}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(t){this._+=t[0];for(let e=1,xe=t.length;e<xe;++e)this._+=arguments[e]+t[e]}function appendRound(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return append;const xe=10**e;return function(_e){this._+=_e[0];for(let Ee=1,Se=_e.length;Ee<Se;++Ee)this._+=Math.round(arguments[Ee]*xe)/xe+_e[Ee]}}class Path{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?append:appendRound(e)}moveTo(e,xe){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+xe}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,xe){this._append`L${this._x1=+e},${this._y1=+xe}`}quadraticCurveTo(e,xe,_e,Ee){this._append`Q${+e},${+xe},${this._x1=+_e},${this._y1=+Ee}`}bezierCurveTo(e,xe,_e,Ee,Se,Ae){this._append`C${+e},${+xe},${+_e},${+Ee},${this._x1=+Se},${this._y1=+Ae}`}arcTo(e,xe,_e,Ee,Se){if(e=+e,xe=+xe,_e=+_e,Ee=+Ee,Se=+Se,Se<0)throw new Error(`negative radius: ${Se}`);let Ae=this._x1,Re=this._y1,Pe=_e-e,Te=Ee-xe,Ie=Ae-e,je=Re-xe,Oe=Ie*Ie+je*je;if(this._x1===null)this._append`M${this._x1=e},${this._y1=xe}`;else if(Oe>epsilon)if(!(Math.abs(je*Pe-Te*Ie)>epsilon)||!Se)this._append`L${this._x1=e},${this._y1=xe}`;else{let ke=_e-Ae,Fe=Ee-Re,Me=Pe*Pe+Te*Te,De=ke*ke+Fe*Fe,Ue=Math.sqrt(Me),ze=Math.sqrt(Oe),We=Se*Math.tan((pi-Math.acos((Me+Oe-De)/(2*Ue*ze)))/2),Ye=We/ze,Xe=We/Ue;Math.abs(Ye-1)>epsilon&&this._append`L${e+Ye*Ie},${xe+Ye*je}`,this._append`A${Se},${Se},0,0,${+(je*ke>Ie*Fe)},${this._x1=e+Xe*Pe},${this._y1=xe+Xe*Te}`}}arc(e,xe,_e,Ee,Se,Ae){if(e=+e,xe=+xe,_e=+_e,Ae=!!Ae,_e<0)throw new Error(`negative radius: ${_e}`);let Re=_e*Math.cos(Ee),Pe=_e*Math.sin(Ee),Te=e+Re,Ie=xe+Pe,je=1^Ae,Oe=Ae?Ee-Se:Se-Ee;this._x1===null?this._append`M${Te},${Ie}`:(Math.abs(this._x1-Te)>epsilon||Math.abs(this._y1-Ie)>epsilon)&&this._append`L${Te},${Ie}`,_e&&(Oe<0&&(Oe=Oe%tau+tau),Oe>tauEpsilon?this._append`A${_e},${_e},0,1,${je},${e-Re},${xe-Pe}A${_e},${_e},0,1,${je},${this._x1=Te},${this._y1=Ie}`:Oe>epsilon&&this._append`A${_e},${_e},0,${+(Oe>=pi)},${je},${this._x1=e+_e*Math.cos(Se)},${this._y1=xe+_e*Math.sin(Se)}`)}rect(e,xe,_e,Ee){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+xe}h${_e=+_e}v${+Ee}h${-_e}Z`}toString(){return this._}}function withPath(t){let e=3;return t.digits=function(xe){if(!arguments.length)return e;if(xe==null)e=null;else{const _e=Math.floor(xe);if(!(_e>=0))throw new RangeError(`invalid digits: ${xe}`);e=_e}return t},()=>new Path(e)}function array(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function curveLinear(t){return new Linear(t)}function x$2(t){return t[0]}function y$1(t){return t[1]}function shapeLine(t,e){var xe=constant$1(!0),_e=null,Ee=curveLinear,Se=null,Ae=withPath(Re);t=typeof t=="function"?t:t===void 0?x$2:constant$1(t),e=typeof e=="function"?e:e===void 0?y$1:constant$1(e);function Re(Pe){var Te,Ie=(Pe=array(Pe)).length,je,Oe=!1,ke;for(_e==null&&(Se=Ee(ke=Ae())),Te=0;Te<=Ie;++Te)!(Te<Ie&&xe(je=Pe[Te],Te,Pe))===Oe&&((Oe=!Oe)?Se.lineStart():Se.lineEnd()),Oe&&Se.point(+t(je,Te,Pe),+e(je,Te,Pe));if(ke)return Se=null,ke+""||null}return Re.x=function(Pe){return arguments.length?(t=typeof Pe=="function"?Pe:constant$1(+Pe),Re):t},Re.y=function(Pe){return arguments.length?(e=typeof Pe=="function"?Pe:constant$1(+Pe),Re):e},Re.defined=function(Pe){return arguments.length?(xe=typeof Pe=="function"?Pe:constant$1(!!Pe),Re):xe},Re.curve=function(Pe){return arguments.length?(Ee=Pe,_e!=null&&(Se=Ee(_e)),Re):Ee},Re.context=function(Pe){return arguments.length?(Pe==null?_e=Se=null:Se=Ee(_e=Pe),Re):_e},Re}function shapeArea(t,e,xe){var _e=null,Ee=constant$1(!0),Se=null,Ae=curveLinear,Re=null,Pe=withPath(Te);t=typeof t=="function"?t:t===void 0?x$2:constant$1(+t),e=typeof e=="function"?e:constant$1(e===void 0?0:+e),xe=typeof xe=="function"?xe:xe===void 0?y$1:constant$1(+xe);function Te(je){var Oe,ke,Fe,Me=(je=array(je)).length,De,Ue=!1,ze,We=new Array(Me),Ye=new Array(Me);for(Se==null&&(Re=Ae(ze=Pe())),Oe=0;Oe<=Me;++Oe){if(!(Oe<Me&&Ee(De=je[Oe],Oe,je))===Ue)if(Ue=!Ue)ke=Oe,Re.areaStart(),Re.lineStart();else{for(Re.lineEnd(),Re.lineStart(),Fe=Oe-1;Fe>=ke;--Fe)Re.point(We[Fe],Ye[Fe]);Re.lineEnd(),Re.areaEnd()}Ue&&(We[Oe]=+t(De,Oe,je),Ye[Oe]=+e(De,Oe,je),Re.point(_e?+_e(De,Oe,je):We[Oe],xe?+xe(De,Oe,je):Ye[Oe]))}if(ze)return Re=null,ze+""||null}function Ie(){return shapeLine().defined(Ee).curve(Ae).context(Se)}return Te.x=function(je){return arguments.length?(t=typeof je=="function"?je:constant$1(+je),_e=null,Te):t},Te.x0=function(je){return arguments.length?(t=typeof je=="function"?je:constant$1(+je),Te):t},Te.x1=function(je){return arguments.length?(_e=je==null?null:typeof je=="function"?je:constant$1(+je),Te):_e},Te.y=function(je){return arguments.length?(e=typeof je=="function"?je:constant$1(+je),xe=null,Te):e},Te.y0=function(je){return arguments.length?(e=typeof je=="function"?je:constant$1(+je),Te):e},Te.y1=function(je){return arguments.length?(xe=je==null?null:typeof je=="function"?je:constant$1(+je),Te):xe},Te.lineX0=Te.lineY0=function(){return Ie().x(t).y(e)},Te.lineY1=function(){return Ie().x(t).y(xe)},Te.lineX1=function(){return Ie().x(_e).y(e)},Te.defined=function(je){return arguments.length?(Ee=typeof je=="function"?je:constant$1(!!je),Te):Ee},Te.curve=function(je){return arguments.length?(Ae=je,Se!=null&&(Re=Ae(Se)),Te):Ae},Te.context=function(je){return arguments.length?(je==null?Se=Re=null:Re=Ae(Se=je),Te):Se},Te}class Bump{constructor(e,xe){this._context=e,this._x=xe}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,xe){switch(e=+e,xe=+xe,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,xe):this._context.moveTo(e,xe);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,xe,e,xe):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+xe)/2,e,this._y0,e,xe);break}}this._x0=e,this._y0=xe}}function bumpX(t){return new Bump(t,!0)}function bumpY(t){return new Bump(t,!1)}const symbolCircle={draw(t,e){const xe=sqrt$1(e/pi$1);t.moveTo(xe,0),t.arc(0,0,xe,0,tau$1)}},symbolCross={draw(t,e){const xe=sqrt$1(e/5)/2;t.moveTo(-3*xe,-xe),t.lineTo(-xe,-xe),t.lineTo(-xe,-3*xe),t.lineTo(xe,-3*xe),t.lineTo(xe,-xe),t.lineTo(3*xe,-xe),t.lineTo(3*xe,xe),t.lineTo(xe,xe),t.lineTo(xe,3*xe),t.lineTo(-xe,3*xe),t.lineTo(-xe,xe),t.lineTo(-3*xe,xe),t.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(t,e){const xe=sqrt$1(e/tan30_2),_e=xe*tan30;t.moveTo(0,-xe),t.lineTo(_e,0),t.lineTo(0,xe),t.lineTo(-_e,0),t.closePath()}},symbolSquare={draw(t,e){const xe=sqrt$1(e),_e=-xe/2;t.rect(_e,_e,xe,xe)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(t,e){const xe=sqrt$1(e*ka),_e=kx*xe,Ee=ky*xe;t.moveTo(0,-xe),t.lineTo(_e,Ee);for(let Se=1;Se<5;++Se){const Ae=tau$1*Se/5,Re=cos(Ae),Pe=sin(Ae);t.lineTo(Pe*xe,-Re*xe),t.lineTo(Re*_e-Pe*Ee,Pe*_e+Re*Ee)}t.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(t,e){const xe=-sqrt$1(e/(sqrt3*3));t.moveTo(0,xe*2),t.lineTo(-sqrt3*xe,-xe),t.lineTo(sqrt3*xe,-xe),t.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(t,e){const xe=sqrt$1(e/a$1),_e=xe/2,Ee=xe*k$1,Se=_e,Ae=xe*k$1+xe,Re=-Se,Pe=Ae;t.moveTo(_e,Ee),t.lineTo(Se,Ae),t.lineTo(Re,Pe),t.lineTo(c$1*_e-s$1*Ee,s$1*_e+c$1*Ee),t.lineTo(c$1*Se-s$1*Ae,s$1*Se+c$1*Ae),t.lineTo(c$1*Re-s$1*Pe,s$1*Re+c$1*Pe),t.lineTo(c$1*_e+s$1*Ee,c$1*Ee-s$1*_e),t.lineTo(c$1*Se+s$1*Ae,c$1*Ae-s$1*Se),t.lineTo(c$1*Re+s$1*Pe,c$1*Pe-s$1*Re),t.closePath()}};function Symbol$1(t,e){let xe=null,_e=withPath(Ee);t=typeof t=="function"?t:constant$1(t||symbolCircle),e=typeof e=="function"?e:constant$1(e===void 0?64:+e);function Ee(){let Se;if(xe||(xe=Se=_e()),t.apply(this,arguments).draw(xe,+e.apply(this,arguments)),Se)return xe=null,Se+""||null}return Ee.type=function(Se){return arguments.length?(t=typeof Se=="function"?Se:constant$1(Se),Ee):t},Ee.size=function(Se){return arguments.length?(e=typeof Se=="function"?Se:constant$1(+Se),Ee):e},Ee.context=function(Se){return arguments.length?(xe=Se??null,Ee):xe},Ee}function noop(){}function point$2(t,e,xe){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+xe)/6)}function Basis(t){this._context=t}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasis(t){return new Basis(t)}function BasisClosed(t){this._context=t}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var xe=(this._x0+4*this._x1+t)/6,_e=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(xe,_e):this._context.moveTo(xe,_e);break;case 3:this._point=4;default:point$2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function curveBasisOpen(t){return new BasisOpen(t)}function LinearClosed(t){this._context=t}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function curveLinearClosed(t){return new LinearClosed(t)}function sign(t){return t<0?-1:1}function slope3(t,e,xe){var _e=t._x1-t._x0,Ee=e-t._x1,Se=(t._y1-t._y0)/(_e||Ee<0&&-0),Ae=(xe-t._y1)/(Ee||_e<0&&-0),Re=(Se*Ee+Ae*_e)/(_e+Ee);return(sign(Se)+sign(Ae))*Math.min(Math.abs(Se),Math.abs(Ae),.5*Math.abs(Re))||0}function slope2(t,e){var xe=t._x1-t._x0;return xe?(3*(t._y1-t._y0)/xe-e)/2:e}function point$1(t,e,xe){var _e=t._x0,Ee=t._y0,Se=t._x1,Ae=t._y1,Re=(Se-_e)/3;t._context.bezierCurveTo(_e+Re,Ee+Re*e,Se-Re,Ae-Re*xe,Se,Ae)}function MonotoneX(t){this._context=t}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var xe=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,xe=slope3(this,t,e)),xe);break;default:point$1(this,this._t0,xe=slope3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=xe}}};function MonotoneY(t){this._context=new ReflectContext(t)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)};function ReflectContext(t){this._context=t}ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,xe,_e,Ee,Se){this._context.bezierCurveTo(e,t,_e,xe,Se,Ee)}};function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,xe=t.length;if(xe)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),xe===2)this._context.lineTo(t[1],e[1]);else for(var _e=controlPoints(t),Ee=controlPoints(e),Se=0,Ae=1;Ae<xe;++Se,++Ae)this._context.bezierCurveTo(_e[0][Se],Ee[0][Se],_e[1][Se],Ee[1][Se],t[Ae],e[Ae]);(this._line||this._line!==0&&xe===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function controlPoints(t){var e,xe=t.length-1,_e,Ee=new Array(xe),Se=new Array(xe),Ae=new Array(xe);for(Ee[0]=0,Se[0]=2,Ae[0]=t[0]+2*t[1],e=1;e<xe-1;++e)Ee[e]=1,Se[e]=4,Ae[e]=4*t[e]+2*t[e+1];for(Ee[xe-1]=2,Se[xe-1]=7,Ae[xe-1]=8*t[xe-1]+t[xe],e=1;e<xe;++e)_e=Ee[e]/Se[e-1],Se[e]-=_e,Ae[e]-=_e*Ae[e-1];for(Ee[xe-1]=Ae[xe-1]/Se[xe-1],e=xe-2;e>=0;--e)Ee[e]=(Ae[e]-Ee[e+1])/Se[e];for(Se[xe-1]=(t[xe]+Ee[xe-1])/2,e=0;e<xe-1;++e)Se[e]=2*t[e+1]-Ee[e+1];return[Ee,Se]}function curveNatural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var xe=this._x*(1-this._t)+t*this._t;this._context.lineTo(xe,this._y),this._context.lineTo(xe,e)}break}}this._x=t,this._y=e}};function curveStep(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function stackOffsetNone(t,e){if((Ae=t.length)>1)for(var xe=1,_e,Ee,Se=t[e[0]],Ae,Re=Se.length;xe<Ae;++xe)for(Ee=Se,Se=t[e[xe]],_e=0;_e<Re;++_e)Se[_e][1]+=Se[_e][0]=isNaN(Ee[_e][1])?Ee[_e][0]:Ee[_e][1]}function stackOrderNone(t){for(var e=t.length,xe=new Array(e);--e>=0;)xe[e]=e;return xe}function stackValue(t,e){return t[e]}function stackSeries(t){const e=[];return e.key=t,e}function shapeStack(){var t=constant$1([]),e=stackOrderNone,xe=stackOffsetNone,_e=stackValue;function Ee(Se){var Ae=Array.from(t.apply(this,arguments),stackSeries),Re,Pe=Ae.length,Te=-1,Ie;for(const je of Se)for(Re=0,++Te;Re<Pe;++Re)(Ae[Re][Te]=[0,+_e(je,Ae[Re].key,Te,Se)]).data=je;for(Re=0,Ie=array(e(Ae));Re<Pe;++Re)Ae[Ie[Re]].index=Re;return xe(Ae,Ie),Ae}return Ee.keys=function(Se){return arguments.length?(t=typeof Se=="function"?Se:constant$1(Array.from(Se)),Ee):t},Ee.value=function(Se){return arguments.length?(_e=typeof Se=="function"?Se:constant$1(+Se),Ee):_e},Ee.order=function(Se){return arguments.length?(e=Se==null?stackOrderNone:typeof Se=="function"?Se:constant$1(Array.from(Se)),Ee):e},Ee.offset=function(Se){return arguments.length?(xe=Se??stackOffsetNone,Ee):xe},Ee}function stackOffsetExpand(t,e){if((_e=t.length)>0){for(var xe,_e,Ee=0,Se=t[0].length,Ae;Ee<Se;++Ee){for(Ae=xe=0;xe<_e;++xe)Ae+=t[xe][Ee][1]||0;if(Ae)for(xe=0;xe<_e;++xe)t[xe][Ee][1]/=Ae}stackOffsetNone(t,e)}}function stackOffsetSilhouette(t,e){if((Ee=t.length)>0){for(var xe=0,_e=t[e[0]],Ee,Se=_e.length;xe<Se;++xe){for(var Ae=0,Re=0;Ae<Ee;++Ae)Re+=t[Ae][xe][1]||0;_e[xe][1]+=_e[xe][0]=-Re/2}stackOffsetNone(t,e)}}function stackOffsetWiggle(t,e){if(!(!((Ae=t.length)>0)||!((Se=(Ee=t[e[0]]).length)>0))){for(var xe=0,_e=1,Ee,Se,Ae;_e<Se;++_e){for(var Re=0,Pe=0,Te=0;Re<Ae;++Re){for(var Ie=t[e[Re]],je=Ie[_e][1]||0,Oe=Ie[_e-1][1]||0,ke=(je-Oe)/2,Fe=0;Fe<Re;++Fe){var Me=t[e[Fe]],De=Me[_e][1]||0,Ue=Me[_e-1][1]||0;ke+=De-Ue}Pe+=je,Te+=ke*je}Ee[_e-1][1]+=Ee[_e-1][0]=xe,Pe&&(xe-=Te/Pe)}Ee[_e-1][1]+=Ee[_e-1][0]=xe,stackOffsetNone(t,e)}}function _typeof$I(t){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$I(t)}var _excluded$e=["type","size","sizeType"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$q.apply(this,arguments)}function ownKeys$A(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$A(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$A(Object(xe),!0).forEach(function(_e){_defineProperty$G(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$A(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$G(t,e,xe){return e=_toPropertyKey$G(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$G(t){var e=_toPrimitive$G(t,"string");return _typeof$I(e)=="symbol"?e:e+""}function _toPrimitive$G(t,e){if(_typeof$I(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$I(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$e(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$e(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$e(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function t(e){var xe="symbol".concat(upperFirst(e));return symbolFactories[xe]||symbolCircle},calculateAreaSize=function t(e,xe,_e){if(xe==="area")return e;switch(_e){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var Ee=18*RADIAN$2;return 1.25*e*e*(Math.tan(Ee)-Math.tan(Ee*2)*Math.pow(Math.tan(Ee),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=function t(e,xe){symbolFactories["symbol".concat(upperFirst(e))]=xe},Symbols=function t(e){var xe=e.type,_e=xe===void 0?"circle":xe,Ee=e.size,Se=Ee===void 0?64:Ee,Ae=e.sizeType,Re=Ae===void 0?"area":Ae,Pe=_objectWithoutProperties$e(e,_excluded$e),Te=_objectSpread$A(_objectSpread$A({},Pe),{},{type:_e,size:Se,sizeType:Re}),Ie=function(){var De=getSymbolFactory(_e),Ue=Symbol$1().type(De).size(calculateAreaSize(Se,Re,_e));return Ue()},je=Te.className,Oe=Te.cx,ke=Te.cy,Fe=filterProps(Te,!0);return Oe===+Oe&&ke===+ke&&Se===+Se?React.createElement("path",_extends$q({},Fe,{className:clsx("recharts-symbols",je),transform:"translate(".concat(Oe,", ").concat(ke,")"),d:Ie()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$H(t){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$H(t)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$p.apply(this,arguments)}function ownKeys$z(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$z(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$z(Object(xe),!0).forEach(function(_e){_defineProperty$F(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$z(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$F(_e.key),_e)}}function _createClass$k(t,e,xe){return e&&_defineProperties$k(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$g(t,e,xe){return e=_getPrototypeOf$h(e),_possibleConstructorReturn$h(t,_isNativeReflectConstruct$h()?Reflect.construct(e,xe||[],_getPrototypeOf$h(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$h(t,e){if(e&&(_typeof$H(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(t)}function _assertThisInitialized$h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!t})()}function _getPrototypeOf$h(t){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$h(t)}function _inherits$h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$h(t,e)}function _setPrototypeOf$h(t,e){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$h(t,e)}function _defineProperty$F(t,e,xe){return e=_toPropertyKey$F(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$F(t){var e=_toPrimitive$F(t,"string");return _typeof$H(e)=="symbol"?e:e+""}function _toPrimitive$F(t,e){if(_typeof$H(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$H(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SIZE=32,DefaultLegendContent=function(t){function e(){return _classCallCheck$k(this,e),_callSuper$g(this,e,arguments)}return _inherits$h(e,t),_createClass$k(e,[{key:"renderIcon",value:function(_e){var Ee=this.props.inactiveColor,Se=SIZE/2,Ae=SIZE/6,Re=SIZE/3,Pe=_e.inactive?Ee:_e.color;if(_e.type==="plainline")return React.createElement("line",{strokeWidth:4,fill:"none",stroke:Pe,strokeDasharray:_e.payload.strokeDasharray,x1:0,y1:Se,x2:SIZE,y2:Se,className:"recharts-legend-icon"});if(_e.type==="line")return React.createElement("path",{strokeWidth:4,fill:"none",stroke:Pe,d:"M0,".concat(Se,"h").concat(Re,`
            A`).concat(Ae,",").concat(Ae,",0,1,1,").concat(2*Re,",").concat(Se,`
            H`).concat(SIZE,"M").concat(2*Re,",").concat(Se,`
            A`).concat(Ae,",").concat(Ae,",0,1,1,").concat(Re,",").concat(Se),className:"recharts-legend-icon"});if(_e.type==="rect")return React.createElement("path",{stroke:"none",fill:Pe,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React.isValidElement(_e.legendIcon)){var Te=_objectSpread$z({},_e);return delete Te.legendIcon,React.cloneElement(_e.legendIcon,Te)}return React.createElement(Symbols,{fill:Pe,cx:Se,cy:Se,size:SIZE,sizeType:"diameter",type:_e.type})}},{key:"renderItems",value:function(){var _e=this,Ee=this.props,Se=Ee.payload,Ae=Ee.iconSize,Re=Ee.layout,Pe=Ee.formatter,Te=Ee.inactiveColor,Ie={x:0,y:0,width:SIZE,height:SIZE},je={display:Re==="horizontal"?"inline-block":"block",marginRight:10},Oe={display:"inline-block",verticalAlign:"middle",marginRight:4};return Se.map(function(ke,Fe){var Me=ke.formatter||Pe,De=clsx(_defineProperty$F(_defineProperty$F({"recharts-legend-item":!0},"legend-item-".concat(Fe),!0),"inactive",ke.inactive));if(ke.type==="none")return null;var Ue=isFunction(ke.value)?null:ke.value;warn(!isFunction(ke.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var ze=ke.inactive?Te:ke.color;return React.createElement("li",_extends$p({className:De,style:je,key:"legend-item-".concat(Fe)},adaptEventsOfChild(_e.props,ke,Fe)),React.createElement(Surface,{width:Ae,height:Ae,viewBox:Ie,style:Oe},_e.renderIcon(ke)),React.createElement("span",{className:"recharts-legend-item-text",style:{color:ze}},Me?Me(Ue,ke,Fe):Ue))})}},{key:"render",value:function(){var _e=this.props,Ee=_e.payload,Se=_e.layout,Ae=_e.align;if(!Ee||!Ee.length)return null;var Re={padding:0,margin:0,textAlign:Se==="horizontal"?Ae:"left"};return React.createElement("ul",{className:"recharts-default-legend",style:Re},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$F(DefaultLegendContent,"displayName","Legend");_defineProperty$F(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var xe=this.__data__,_e=xe.delete(e);return this.size=xe.size,_e}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),xe=require_MapCache(),_e=200;function Ee(Se,Ae){var Re=this.__data__;if(Re instanceof t){var Pe=Re.__data__;if(!e||Pe.length<_e-1)return Pe.push([Se,Ae]),this.size=++Re.size,this;Re=this.__data__=new xe(Pe)}return Re.set(Se,Ae),this.size=Re.size,this}return _stackSet=Ee,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),xe=require_stackDelete(),_e=require_stackGet(),Ee=require_stackHas(),Se=require_stackSet();function Ae(Re){var Pe=this.__data__=new t(Re);this.size=Pe.size}return Ae.prototype.clear=e,Ae.prototype.delete=xe,Ae.prototype.get=_e,Ae.prototype.has=Ee,Ae.prototype.set=Se,_Stack=Ae,_Stack}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(xe){return this.__data__.set(xe,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),xe=require_setCacheHas();function _e(Ee){var Se=-1,Ae=Ee==null?0:Ee.length;for(this.__data__=new t;++Se<Ae;)this.add(Ee[Se])}return _e.prototype.add=_e.prototype.push=e,_e.prototype.has=xe,_SetCache=_e,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,xe){for(var _e=-1,Ee=e==null?0:e.length;++_e<Ee;)if(xe(e[_e],_e,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,xe){return e.has(xe)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),xe=require_cacheHas(),_e=1,Ee=2;function Se(Ae,Re,Pe,Te,Ie,je){var Oe=Pe&_e,ke=Ae.length,Fe=Re.length;if(ke!=Fe&&!(Oe&&Fe>ke))return!1;var Me=je.get(Ae),De=je.get(Re);if(Me&&De)return Me==Re&&De==Ae;var Ue=-1,ze=!0,We=Pe&Ee?new t:void 0;for(je.set(Ae,Re),je.set(Re,Ae);++Ue<ke;){var Ye=Ae[Ue],Xe=Re[Ue];if(Te)var ir=Oe?Te(Xe,Ye,Ue,Re,Ae,je):Te(Ye,Xe,Ue,Ae,Re,je);if(ir!==void 0){if(ir)continue;ze=!1;break}if(We){if(!e(Re,function(Qe,Ke){if(!xe(We,Ke)&&(Ye===Qe||Ie(Ye,Qe,Pe,Te,je)))return We.push(Ke)})){ze=!1;break}}else if(!(Ye===Xe||Ie(Ye,Xe,Pe,Te,je))){ze=!1;break}}return je.delete(Ae),je.delete(Re),ze}return _equalArrays=Se,_equalArrays}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var xe=-1,_e=Array(e.size);return e.forEach(function(Ee,Se){_e[++xe]=[Se,Ee]}),_e}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var xe=-1,_e=Array(e.size);return e.forEach(function(Ee){_e[++xe]=Ee}),_e}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),xe=requireEq(),_e=require_equalArrays(),Ee=require_mapToArray(),Se=require_setToArray(),Ae=1,Re=2,Pe="[object Boolean]",Te="[object Date]",Ie="[object Error]",je="[object Map]",Oe="[object Number]",ke="[object RegExp]",Fe="[object Set]",Me="[object String]",De="[object Symbol]",Ue="[object ArrayBuffer]",ze="[object DataView]",We=t?t.prototype:void 0,Ye=We?We.valueOf:void 0;function Xe(ir,Qe,Ke,rr,cr,Ze,er){switch(Ke){case ze:if(ir.byteLength!=Qe.byteLength||ir.byteOffset!=Qe.byteOffset)return!1;ir=ir.buffer,Qe=Qe.buffer;case Ue:return!(ir.byteLength!=Qe.byteLength||!Ze(new e(ir),new e(Qe)));case Pe:case Te:case Oe:return xe(+ir,+Qe);case Ie:return ir.name==Qe.name&&ir.message==Qe.message;case ke:case Me:return ir==Qe+"";case je:var sr=Ee;case Fe:var fr=rr&Ae;if(sr||(sr=Se),ir.size!=Qe.size&&!fr)return!1;var _r=er.get(ir);if(_r)return _r==Qe;rr|=Re,er.set(ir,Qe);var Er=_e(sr(ir),sr(Qe),rr,cr,Ze,er);return er.delete(ir),Er;case De:if(Ye)return Ye.call(ir)==Ye.call(Qe)}return!1}return _equalByTag=Xe,_equalByTag}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,xe){for(var _e=-1,Ee=xe.length,Se=e.length;++_e<Ee;)e[Se+_e]=xe[_e];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function xe(_e,Ee,Se){var Ae=Ee(_e);return e(_e)?Ae:t(Ae,Se(_e))}return _baseGetAllKeys=xe,_baseGetAllKeys}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,xe){for(var _e=-1,Ee=e==null?0:e.length,Se=0,Ae=[];++_e<Ee;){var Re=e[_e];xe(Re,_e,e)&&(Ae[Se++]=Re)}return Ae}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),xe=Object.prototype,_e=xe.propertyIsEnumerable,Ee=Object.getOwnPropertySymbols,Se=Ee?function(Ae){return Ae==null?[]:(Ae=Object(Ae),t(Ee(Ae),function(Re){return _e.call(Ae,Re)}))}:e;return _getSymbols=Se,_getSymbols}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,xe){for(var _e=-1,Ee=Array(e);++_e<e;)Ee[_e]=xe(_e);return Ee}return _baseTimes=t,_baseTimes}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),xe="[object Arguments]";function _e(Ee){return e(Ee)&&t(Ee)==xe}return _baseIsArguments=_e,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),xe=Object.prototype,_e=xe.hasOwnProperty,Ee=xe.propertyIsEnumerable,Se=t(function(){return arguments}())?t:function(Ae){return e(Ae)&&_e.call(Ae,"callee")&&!Ee.call(Ae,"callee")};return isArguments_1=Se,isArguments_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(t,e){var xe=require_root(),_e=requireStubFalse(),Ee=e&&!e.nodeType&&e,Se=Ee&&!0&&t&&!t.nodeType&&t,Ae=Se&&Se.exports===Ee,Re=Ae?xe.Buffer:void 0,Pe=Re?Re.isBuffer:void 0,Te=Pe||_e;t.exports=Te}(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function xe(_e,Ee){var Se=typeof _e;return Ee=Ee??t,!!Ee&&(Se=="number"||Se!="symbol"&&e.test(_e))&&_e>-1&&_e%1==0&&_e<Ee}return _isIndex=xe,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),xe=requireIsObjectLike(),_e="[object Arguments]",Ee="[object Array]",Se="[object Boolean]",Ae="[object Date]",Re="[object Error]",Pe="[object Function]",Te="[object Map]",Ie="[object Number]",je="[object Object]",Oe="[object RegExp]",ke="[object Set]",Fe="[object String]",Me="[object WeakMap]",De="[object ArrayBuffer]",Ue="[object DataView]",ze="[object Float32Array]",We="[object Float64Array]",Ye="[object Int8Array]",Xe="[object Int16Array]",ir="[object Int32Array]",Qe="[object Uint8Array]",Ke="[object Uint8ClampedArray]",rr="[object Uint16Array]",cr="[object Uint32Array]",Ze={};Ze[ze]=Ze[We]=Ze[Ye]=Ze[Xe]=Ze[ir]=Ze[Qe]=Ze[Ke]=Ze[rr]=Ze[cr]=!0,Ze[_e]=Ze[Ee]=Ze[De]=Ze[Se]=Ze[Ue]=Ze[Ae]=Ze[Re]=Ze[Pe]=Ze[Te]=Ze[Ie]=Ze[je]=Ze[Oe]=Ze[ke]=Ze[Fe]=Ze[Me]=!1;function er(sr){return xe(sr)&&e(sr.length)&&!!Ze[t(sr)]}return _baseIsTypedArray=er,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(xe){return e(xe)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(t,e){var xe=require_freeGlobal(),_e=e&&!e.nodeType&&e,Ee=_e&&!0&&t&&!t.nodeType&&t,Se=Ee&&Ee.exports===_e,Ae=Se&&xe.process,Re=function(){try{var Pe=Ee&&Ee.require&&Ee.require("util").types;return Pe||Ae&&Ae.binding&&Ae.binding("util")}catch{}}();t.exports=Re}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),xe=require_nodeUtil(),_e=xe&&xe.isTypedArray,Ee=_e?e(_e):t;return isTypedArray_1=Ee,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),xe=requireIsArray(),_e=requireIsBuffer(),Ee=require_isIndex(),Se=requireIsTypedArray(),Ae=Object.prototype,Re=Ae.hasOwnProperty;function Pe(Te,Ie){var je=xe(Te),Oe=!je&&e(Te),ke=!je&&!Oe&&_e(Te),Fe=!je&&!Oe&&!ke&&Se(Te),Me=je||Oe||ke||Fe,De=Me?t(Te.length,String):[],Ue=De.length;for(var ze in Te)(Ie||Re.call(Te,ze))&&!(Me&&(ze=="length"||ke&&(ze=="offset"||ze=="parent")||Fe&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||Ee(ze,Ue)))&&De.push(ze);return De}return _arrayLikeKeys=Pe,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(xe){var _e=xe&&xe.constructor,Ee=typeof _e=="function"&&_e.prototype||t;return xe===Ee}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,xe){return function(_e){return e(xe(_e))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),xe=Object.prototype,_e=xe.hasOwnProperty;function Ee(Se){if(!t(Se))return e(Se);var Ae=[];for(var Re in Object(Se))_e.call(Se,Re)&&Re!="constructor"&&Ae.push(Re);return Ae}return _baseKeys=Ee,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function xe(_e){return _e!=null&&e(_e.length)&&!t(_e)}return isArrayLike_1=xe,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),xe=requireIsArrayLike();function _e(Ee){return xe(Ee)?t(Ee):e(Ee)}return keys_1=_e,keys_1}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),xe=requireKeys();function _e(Ee){return t(Ee,xe,e)}return _getAllKeys=_e,_getAllKeys}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,xe=Object.prototype,_e=xe.hasOwnProperty;function Ee(Se,Ae,Re,Pe,Te,Ie){var je=Re&e,Oe=t(Se),ke=Oe.length,Fe=t(Ae),Me=Fe.length;if(ke!=Me&&!je)return!1;for(var De=ke;De--;){var Ue=Oe[De];if(!(je?Ue in Ae:_e.call(Ae,Ue)))return!1}var ze=Ie.get(Se),We=Ie.get(Ae);if(ze&&We)return ze==Ae&&We==Se;var Ye=!0;Ie.set(Se,Ae),Ie.set(Ae,Se);for(var Xe=je;++De<ke;){Ue=Oe[De];var ir=Se[Ue],Qe=Ae[Ue];if(Pe)var Ke=je?Pe(Qe,ir,Ue,Ae,Se,Ie):Pe(ir,Qe,Ue,Se,Ae,Ie);if(!(Ke===void 0?ir===Qe||Te(ir,Qe,Re,Pe,Ie):Ke)){Ye=!1;break}Xe||(Xe=Ue=="constructor")}if(Ye&&!Xe){var rr=Se.constructor,cr=Ae.constructor;rr!=cr&&"constructor"in Se&&"constructor"in Ae&&!(typeof rr=="function"&&rr instanceof rr&&typeof cr=="function"&&cr instanceof cr)&&(Ye=!1)}return Ie.delete(Se),Ie.delete(Ae),Ye}return _equalObjects=Ee,_equalObjects}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),xe=t(e,"DataView");return _DataView=xe,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),xe=t(e,"Promise");return _Promise=xe,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),xe=t(e,"Set");return _Set=xe,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),xe=t(e,"WeakMap");return _WeakMap=xe,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),xe=require_Promise(),_e=require_Set(),Ee=require_WeakMap(),Se=require_baseGetTag(),Ae=require_toSource(),Re="[object Map]",Pe="[object Object]",Te="[object Promise]",Ie="[object Set]",je="[object WeakMap]",Oe="[object DataView]",ke=Ae(t),Fe=Ae(e),Me=Ae(xe),De=Ae(_e),Ue=Ae(Ee),ze=Se;return(t&&ze(new t(new ArrayBuffer(1)))!=Oe||e&&ze(new e)!=Re||xe&&ze(xe.resolve())!=Te||_e&&ze(new _e)!=Ie||Ee&&ze(new Ee)!=je)&&(ze=function(We){var Ye=Se(We),Xe=Ye==Pe?We.constructor:void 0,ir=Xe?Ae(Xe):"";if(ir)switch(ir){case ke:return Oe;case Fe:return Re;case Me:return Te;case De:return Ie;case Ue:return je}return Ye}),_getTag=ze,_getTag}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),xe=require_equalByTag(),_e=require_equalObjects(),Ee=require_getTag(),Se=requireIsArray(),Ae=requireIsBuffer(),Re=requireIsTypedArray(),Pe=1,Te="[object Arguments]",Ie="[object Array]",je="[object Object]",Oe=Object.prototype,ke=Oe.hasOwnProperty;function Fe(Me,De,Ue,ze,We,Ye){var Xe=Se(Me),ir=Se(De),Qe=Xe?Ie:Ee(Me),Ke=ir?Ie:Ee(De);Qe=Qe==Te?je:Qe,Ke=Ke==Te?je:Ke;var rr=Qe==je,cr=Ke==je,Ze=Qe==Ke;if(Ze&&Ae(Me)){if(!Ae(De))return!1;Xe=!0,rr=!1}if(Ze&&!rr)return Ye||(Ye=new t),Xe||Re(Me)?e(Me,De,Ue,ze,We,Ye):xe(Me,De,Qe,Ue,ze,We,Ye);if(!(Ue&Pe)){var er=rr&&ke.call(Me,"__wrapped__"),sr=cr&&ke.call(De,"__wrapped__");if(er||sr){var fr=er?Me.value():Me,_r=sr?De.value():De;return Ye||(Ye=new t),We(fr,_r,Ue,ze,Ye)}}return Ze?(Ye||(Ye=new t),_e(Me,De,Ue,ze,We,Ye)):!1}return _baseIsEqualDeep=Fe,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function xe(_e,Ee,Se,Ae,Re){return _e===Ee?!0:_e==null||Ee==null||!e(_e)&&!e(Ee)?_e!==_e&&Ee!==Ee:t(_e,Ee,Se,Ae,xe,Re)}return _baseIsEqual=xe,_baseIsEqual}var _baseIsMatch,hasRequired_baseIsMatch;function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var t=require_Stack(),e=require_baseIsEqual(),xe=1,_e=2;function Ee(Se,Ae,Re,Pe){var Te=Re.length,Ie=Te,je=!Pe;if(Se==null)return!Ie;for(Se=Object(Se);Te--;){var Oe=Re[Te];if(je&&Oe[2]?Oe[1]!==Se[Oe[0]]:!(Oe[0]in Se))return!1}for(;++Te<Ie;){Oe=Re[Te];var ke=Oe[0],Fe=Se[ke],Me=Oe[1];if(je&&Oe[2]){if(Fe===void 0&&!(ke in Se))return!1}else{var De=new t;if(Pe)var Ue=Pe(Fe,Me,ke,Se,Ae,De);if(!(Ue===void 0?e(Me,Fe,xe|_e,Pe,De):Ue))return!1}}return!0}return _baseIsMatch=Ee,_baseIsMatch}var _isStrictComparable,hasRequired_isStrictComparable;function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var t=requireIsObject();function e(xe){return xe===xe&&!t(xe)}return _isStrictComparable=e,_isStrictComparable}var _getMatchData,hasRequired_getMatchData;function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var t=require_isStrictComparable(),e=requireKeys();function xe(_e){for(var Ee=e(_e),Se=Ee.length;Se--;){var Ae=Ee[Se],Re=_e[Ae];Ee[Se]=[Ae,Re,t(Re)]}return Ee}return _getMatchData=xe,_getMatchData}var _matchesStrictComparable,hasRequired_matchesStrictComparable;function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;hasRequired_matchesStrictComparable=1;function t(e,xe){return function(_e){return _e==null?!1:_e[e]===xe&&(xe!==void 0||e in Object(_e))}}return _matchesStrictComparable=t,_matchesStrictComparable}var _baseMatches,hasRequired_baseMatches;function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var t=require_baseIsMatch(),e=require_getMatchData(),xe=require_matchesStrictComparable();function _e(Ee){var Se=e(Ee);return Se.length==1&&Se[0][2]?xe(Se[0][0],Se[0][1]):function(Ae){return Ae===Ee||t(Ae,Ee,Se)}}return _baseMatches=_e,_baseMatches}var _baseHasIn,hasRequired_baseHasIn;function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;hasRequired_baseHasIn=1;function t(e,xe){return e!=null&&xe in Object(e)}return _baseHasIn=t,_baseHasIn}var _hasPath,hasRequired_hasPath;function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var t=require_castPath(),e=requireIsArguments(),xe=requireIsArray(),_e=require_isIndex(),Ee=requireIsLength(),Se=require_toKey();function Ae(Re,Pe,Te){Pe=t(Pe,Re);for(var Ie=-1,je=Pe.length,Oe=!1;++Ie<je;){var ke=Se(Pe[Ie]);if(!(Oe=Re!=null&&Te(Re,ke)))break;Re=Re[ke]}return Oe||++Ie!=je?Oe:(je=Re==null?0:Re.length,!!je&&Ee(je)&&_e(ke,je)&&(xe(Re)||e(Re)))}return _hasPath=Ae,_hasPath}var hasIn_1,hasRequiredHasIn;function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var t=require_baseHasIn(),e=require_hasPath();function xe(_e,Ee){return _e!=null&&e(_e,Ee,t)}return hasIn_1=xe,hasIn_1}var _baseMatchesProperty,hasRequired_baseMatchesProperty;function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var t=require_baseIsEqual(),e=requireGet(),xe=requireHasIn(),_e=require_isKey(),Ee=require_isStrictComparable(),Se=require_matchesStrictComparable(),Ae=require_toKey(),Re=1,Pe=2;function Te(Ie,je){return _e(Ie)&&Ee(je)?Se(Ae(Ie),je):function(Oe){var ke=e(Oe,Ie);return ke===void 0&&ke===je?xe(Oe,Ie):t(je,ke,Re|Pe)}}return _baseMatchesProperty=Te,_baseMatchesProperty}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function t(e){return e}return identity_1=t,identity_1}var _baseProperty,hasRequired_baseProperty;function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;hasRequired_baseProperty=1;function t(e){return function(xe){return xe==null?void 0:xe[e]}}return _baseProperty=t,_baseProperty}var _basePropertyDeep,hasRequired_basePropertyDeep;function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var t=require_baseGet();function e(xe){return function(_e){return t(_e,xe)}}return _basePropertyDeep=e,_basePropertyDeep}var property_1,hasRequiredProperty;function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var t=require_baseProperty(),e=require_basePropertyDeep(),xe=require_isKey(),_e=require_toKey();function Ee(Se){return xe(Se)?t(_e(Se)):e(Se)}return property_1=Ee,property_1}var _baseIteratee,hasRequired_baseIteratee;function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var t=require_baseMatches(),e=require_baseMatchesProperty(),xe=requireIdentity(),_e=requireIsArray(),Ee=requireProperty();function Se(Ae){return typeof Ae=="function"?Ae:Ae==null?xe:typeof Ae=="object"?_e(Ae)?e(Ae[0],Ae[1]):t(Ae):Ee(Ae)}return _baseIteratee=Se,_baseIteratee}var _baseFindIndex,hasRequired_baseFindIndex;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;hasRequired_baseFindIndex=1;function t(e,xe,_e,Ee){for(var Se=e.length,Ae=_e+(Ee?1:-1);Ee?Ae--:++Ae<Se;)if(xe(e[Ae],Ae,e))return Ae;return-1}return _baseFindIndex=t,_baseFindIndex}var _baseIsNaN,hasRequired_baseIsNaN;function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;hasRequired_baseIsNaN=1;function t(e){return e!==e}return _baseIsNaN=t,_baseIsNaN}var _strictIndexOf,hasRequired_strictIndexOf;function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;hasRequired_strictIndexOf=1;function t(e,xe,_e){for(var Ee=_e-1,Se=e.length;++Ee<Se;)if(e[Ee]===xe)return Ee;return-1}return _strictIndexOf=t,_strictIndexOf}var _baseIndexOf,hasRequired_baseIndexOf;function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var t=require_baseFindIndex(),e=require_baseIsNaN(),xe=require_strictIndexOf();function _e(Ee,Se,Ae){return Se===Se?xe(Ee,Se,Ae):t(Ee,e,Ae)}return _baseIndexOf=_e,_baseIndexOf}var _arrayIncludes,hasRequired_arrayIncludes;function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var t=require_baseIndexOf();function e(xe,_e){var Ee=xe==null?0:xe.length;return!!Ee&&t(xe,_e,0)>-1}return _arrayIncludes=e,_arrayIncludes}var _arrayIncludesWith,hasRequired_arrayIncludesWith;function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;hasRequired_arrayIncludesWith=1;function t(e,xe,_e){for(var Ee=-1,Se=e==null?0:e.length;++Ee<Se;)if(_e(xe,e[Ee]))return!0;return!1}return _arrayIncludesWith=t,_arrayIncludesWith}var noop_1,hasRequiredNoop;function requireNoop(){if(hasRequiredNoop)return noop_1;hasRequiredNoop=1;function t(){}return noop_1=t,noop_1}var _createSet,hasRequired_createSet;function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var t=require_Set(),e=requireNoop(),xe=require_setToArray(),_e=1/0,Ee=t&&1/xe(new t([,-0]))[1]==_e?function(Se){return new t(Se)}:e;return _createSet=Ee,_createSet}var _baseUniq,hasRequired_baseUniq;function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var t=require_SetCache(),e=require_arrayIncludes(),xe=require_arrayIncludesWith(),_e=require_cacheHas(),Ee=require_createSet(),Se=require_setToArray(),Ae=200;function Re(Pe,Te,Ie){var je=-1,Oe=e,ke=Pe.length,Fe=!0,Me=[],De=Me;if(Ie)Fe=!1,Oe=xe;else if(ke>=Ae){var Ue=Te?null:Ee(Pe);if(Ue)return Se(Ue);Fe=!1,Oe=_e,De=new t}else De=Te?[]:Me;e:for(;++je<ke;){var ze=Pe[je],We=Te?Te(ze):ze;if(ze=Ie||ze!==0?ze:0,Fe&&We===We){for(var Ye=De.length;Ye--;)if(De[Ye]===We)continue e;Te&&De.push(We),Me.push(ze)}else Oe(De,We,Ie)||(De!==Me&&De.push(We),Me.push(ze))}return Me}return _baseUniq=Re,_baseUniq}var uniqBy_1,hasRequiredUniqBy;function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var t=require_baseIteratee(),e=require_baseUniq();function xe(_e,Ee){return _e&&_e.length?e(_e,t(Ee,2)):[]}return uniqBy_1=xe,uniqBy_1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(t,e,xe){return e===!0?uniqBy(t,xe):isFunction(e)?uniqBy(t,e):t}function _typeof$G(t){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$G(t)}var _excluded$d=["ref"];function ownKeys$y(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$y(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$y(Object(xe),!0).forEach(function(_e){_defineProperty$E(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$y(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$E(_e.key),_e)}}function _createClass$j(t,e,xe){return e&&_defineProperties$j(t.prototype,e),xe&&_defineProperties$j(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$f(t,e,xe){return e=_getPrototypeOf$g(e),_possibleConstructorReturn$g(t,_isNativeReflectConstruct$g()?Reflect.construct(e,xe||[],_getPrototypeOf$g(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$g(t,e){if(e&&(_typeof$G(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(t)}function _assertThisInitialized$g(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!t})()}function _getPrototypeOf$g(t){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$g(t)}function _inherits$g(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$g(t,e)}function _setPrototypeOf$g(t,e){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$g(t,e)}function _defineProperty$E(t,e,xe){return e=_toPropertyKey$E(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$E(t){var e=_toPrimitive$E(t,"string");return _typeof$G(e)=="symbol"?e:e+""}function _toPrimitive$E(t,e){if(_typeof$G(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$G(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _objectWithoutProperties$d(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$d(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$d(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function defaultUniqBy$1(t){return t.value}function renderContent$1(t,e){if(React.isValidElement(t))return React.cloneElement(t,e);if(typeof t=="function")return React.createElement(t,e);e.ref;var xe=_objectWithoutProperties$d(e,_excluded$d);return React.createElement(DefaultLegendContent,xe)}var EPS$1=1,Legend=function(t){function e(){var xe;_classCallCheck$j(this,e);for(var _e=arguments.length,Ee=new Array(_e),Se=0;Se<_e;Se++)Ee[Se]=arguments[Se];return xe=_callSuper$f(this,e,[].concat(Ee)),_defineProperty$E(xe,"lastBoundingBox",{width:-1,height:-1}),xe}return _inherits$g(e,t),_createClass$j(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _e=this.wrapperNode.getBoundingClientRect();return _e.height=this.wrapperNode.offsetHeight,_e.width=this.wrapperNode.offsetWidth,_e}return null}},{key:"updateBBox",value:function(){var _e=this.props.onBBoxUpdate,Ee=this.getBBox();Ee?(Math.abs(Ee.width-this.lastBoundingBox.width)>EPS$1||Math.abs(Ee.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=Ee.width,this.lastBoundingBox.height=Ee.height,_e&&_e(Ee)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,_e&&_e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$y({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(_e){var Ee=this.props,Se=Ee.layout,Ae=Ee.align,Re=Ee.verticalAlign,Pe=Ee.margin,Te=Ee.chartWidth,Ie=Ee.chartHeight,je,Oe;if(!_e||(_e.left===void 0||_e.left===null)&&(_e.right===void 0||_e.right===null))if(Ae==="center"&&Se==="vertical"){var ke=this.getBBoxSnapshot();je={left:((Te||0)-ke.width)/2}}else je=Ae==="right"?{right:Pe&&Pe.right||0}:{left:Pe&&Pe.left||0};if(!_e||(_e.top===void 0||_e.top===null)&&(_e.bottom===void 0||_e.bottom===null))if(Re==="middle"){var Fe=this.getBBoxSnapshot();Oe={top:((Ie||0)-Fe.height)/2}}else Oe=Re==="bottom"?{bottom:Pe&&Pe.bottom||0}:{top:Pe&&Pe.top||0};return _objectSpread$y(_objectSpread$y({},je),Oe)}},{key:"render",value:function(){var _e=this,Ee=this.props,Se=Ee.content,Ae=Ee.width,Re=Ee.height,Pe=Ee.wrapperStyle,Te=Ee.payloadUniqBy,Ie=Ee.payload,je=_objectSpread$y(_objectSpread$y({position:"absolute",width:Ae||"auto",height:Re||"auto"},this.getDefaultPosition(Pe)),Pe);return React.createElement("div",{className:"recharts-legend-wrapper",style:je,ref:function(ke){_e.wrapperNode=ke}},renderContent$1(Se,_objectSpread$y(_objectSpread$y({},this.props),{},{payload:getUniqPayload(Ie,Te,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(_e,Ee){var Se=_objectSpread$y(_objectSpread$y({},this.defaultProps),_e.props),Ae=Se.layout;return Ae==="vertical"&&isNumber(_e.props.height)?{height:_e.props.height}:Ae==="horizontal"?{width:_e.props.width||Ee}:null}}])}(reactExports.PureComponent);_defineProperty$E(Legend,"displayName","Legend");_defineProperty$E(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _isFlattenable,hasRequired_isFlattenable;function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var t=require_Symbol(),e=requireIsArguments(),xe=requireIsArray(),_e=t?t.isConcatSpreadable:void 0;function Ee(Se){return xe(Se)||e(Se)||!!(_e&&Se&&Se[_e])}return _isFlattenable=Ee,_isFlattenable}var _baseFlatten,hasRequired_baseFlatten;function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var t=require_arrayPush(),e=require_isFlattenable();function xe(_e,Ee,Se,Ae,Re){var Pe=-1,Te=_e.length;for(Se||(Se=e),Re||(Re=[]);++Pe<Te;){var Ie=_e[Pe];Ee>0&&Se(Ie)?Ee>1?xe(Ie,Ee-1,Se,Ae,Re):t(Re,Ie):Ae||(Re[Re.length]=Ie)}return Re}return _baseFlatten=xe,_baseFlatten}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function t(e){return function(xe,_e,Ee){for(var Se=-1,Ae=Object(xe),Re=Ee(xe),Pe=Re.length;Pe--;){var Te=Re[e?Pe:++Se];if(_e(Ae[Te],Te,Ae)===!1)break}return xe}}return _createBaseFor=t,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var t=require_createBaseFor(),e=t();return _baseFor=e,_baseFor}var _baseForOwn,hasRequired_baseForOwn;function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var t=require_baseFor(),e=requireKeys();function xe(_e,Ee){return _e&&t(_e,Ee,e)}return _baseForOwn=xe,_baseForOwn}var _createBaseEach,hasRequired_createBaseEach;function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var t=requireIsArrayLike();function e(xe,_e){return function(Ee,Se){if(Ee==null)return Ee;if(!t(Ee))return xe(Ee,Se);for(var Ae=Ee.length,Re=_e?Ae:-1,Pe=Object(Ee);(_e?Re--:++Re<Ae)&&Se(Pe[Re],Re,Pe)!==!1;);return Ee}}return _createBaseEach=e,_createBaseEach}var _baseEach,hasRequired_baseEach;function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var t=require_baseForOwn(),e=require_createBaseEach(),xe=e(t);return _baseEach=xe,_baseEach}var _baseMap,hasRequired_baseMap;function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var t=require_baseEach(),e=requireIsArrayLike();function xe(_e,Ee){var Se=-1,Ae=e(_e)?Array(_e.length):[];return t(_e,function(Re,Pe,Te){Ae[++Se]=Ee(Re,Pe,Te)}),Ae}return _baseMap=xe,_baseMap}var _baseSortBy,hasRequired_baseSortBy;function require_baseSortBy(){if(hasRequired_baseSortBy)return _baseSortBy;hasRequired_baseSortBy=1;function t(e,xe){var _e=e.length;for(e.sort(xe);_e--;)e[_e]=e[_e].value;return e}return _baseSortBy=t,_baseSortBy}var _compareAscending,hasRequired_compareAscending;function require_compareAscending(){if(hasRequired_compareAscending)return _compareAscending;hasRequired_compareAscending=1;var t=requireIsSymbol();function e(xe,_e){if(xe!==_e){var Ee=xe!==void 0,Se=xe===null,Ae=xe===xe,Re=t(xe),Pe=_e!==void 0,Te=_e===null,Ie=_e===_e,je=t(_e);if(!Te&&!je&&!Re&&xe>_e||Re&&Pe&&Ie&&!Te&&!je||Se&&Pe&&Ie||!Ee&&Ie||!Ae)return 1;if(!Se&&!Re&&!je&&xe<_e||je&&Ee&&Ae&&!Se&&!Re||Te&&Ee&&Ae||!Pe&&Ae||!Ie)return-1}return 0}return _compareAscending=e,_compareAscending}var _compareMultiple,hasRequired_compareMultiple;function require_compareMultiple(){if(hasRequired_compareMultiple)return _compareMultiple;hasRequired_compareMultiple=1;var t=require_compareAscending();function e(xe,_e,Ee){for(var Se=-1,Ae=xe.criteria,Re=_e.criteria,Pe=Ae.length,Te=Ee.length;++Se<Pe;){var Ie=t(Ae[Se],Re[Se]);if(Ie){if(Se>=Te)return Ie;var je=Ee[Se];return Ie*(je=="desc"?-1:1)}}return xe.index-_e.index}return _compareMultiple=e,_compareMultiple}var _baseOrderBy,hasRequired_baseOrderBy;function require_baseOrderBy(){if(hasRequired_baseOrderBy)return _baseOrderBy;hasRequired_baseOrderBy=1;var t=require_arrayMap(),e=require_baseGet(),xe=require_baseIteratee(),_e=require_baseMap(),Ee=require_baseSortBy(),Se=require_baseUnary(),Ae=require_compareMultiple(),Re=requireIdentity(),Pe=requireIsArray();function Te(Ie,je,Oe){je.length?je=t(je,function(Me){return Pe(Me)?function(De){return e(De,Me.length===1?Me[0]:Me)}:Me}):je=[Re];var ke=-1;je=t(je,Se(xe));var Fe=_e(Ie,function(Me,De,Ue){var ze=t(je,function(We){return We(Me)});return{criteria:ze,index:++ke,value:Me}});return Ee(Fe,function(Me,De){return Ae(Me,De,Oe)})}return _baseOrderBy=Te,_baseOrderBy}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function t(e,xe,_e){switch(_e.length){case 0:return e.call(xe);case 1:return e.call(xe,_e[0]);case 2:return e.call(xe,_e[0],_e[1]);case 3:return e.call(xe,_e[0],_e[1],_e[2])}return e.apply(xe,_e)}return _apply=t,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var t=require_apply(),e=Math.max;function xe(_e,Ee,Se){return Ee=e(Ee===void 0?_e.length-1:Ee,0),function(){for(var Ae=arguments,Re=-1,Pe=e(Ae.length-Ee,0),Te=Array(Pe);++Re<Pe;)Te[Re]=Ae[Ee+Re];Re=-1;for(var Ie=Array(Ee+1);++Re<Ee;)Ie[Re]=Ae[Re];return Ie[Ee]=Se(Te),t(_e,this,Ie)}}return _overRest=xe,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function t(e){return function(){return e}}return constant_1=t,constant_1}var _defineProperty$D,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty$D;hasRequired_defineProperty=1;var t=require_getNative(),e=function(){try{var xe=t(Object,"defineProperty");return xe({},"",{}),xe}catch{}}();return _defineProperty$D=e,_defineProperty$D}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var t=requireConstant(),e=require_defineProperty(),xe=requireIdentity(),_e=e?function(Ee,Se){return e(Ee,"toString",{configurable:!0,enumerable:!1,value:t(Se),writable:!0})}:xe;return _baseSetToString=_e,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var t=800,e=16,xe=Date.now;function _e(Ee){var Se=0,Ae=0;return function(){var Re=xe(),Pe=e-(Re-Ae);if(Ae=Re,Pe>0){if(++Se>=t)return arguments[0]}else Se=0;return Ee.apply(void 0,arguments)}}return _shortOut=_e,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var t=require_baseSetToString(),e=require_shortOut(),xe=e(t);return _setToString=xe,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var t=requireIdentity(),e=require_overRest(),xe=require_setToString();function _e(Ee,Se){return xe(e(Ee,Se,t),Ee+"")}return _baseRest=_e,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var t=requireEq(),e=requireIsArrayLike(),xe=require_isIndex(),_e=requireIsObject();function Ee(Se,Ae,Re){if(!_e(Re))return!1;var Pe=typeof Ae;return(Pe=="number"?e(Re)&&xe(Ae,Re.length):Pe=="string"&&Ae in Re)?t(Re[Ae],Se):!1}return _isIterateeCall=Ee,_isIterateeCall}var sortBy_1,hasRequiredSortBy;function requireSortBy(){if(hasRequiredSortBy)return sortBy_1;hasRequiredSortBy=1;var t=require_baseFlatten(),e=require_baseOrderBy(),xe=require_baseRest(),_e=require_isIterateeCall(),Ee=xe(function(Se,Ae){if(Se==null)return[];var Re=Ae.length;return Re>1&&_e(Se,Ae[0],Ae[1])?Ae=[]:Re>2&&_e(Ae[0],Ae[1],Ae[2])&&(Ae=[Ae[0]]),e(Se,t(Ae,1),[])});return sortBy_1=Ee,sortBy_1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);function _typeof$F(t){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$F(t)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$o.apply(this,arguments)}function _slicedToArray$c(t,e){return _arrayWithHoles$d(t)||_iterableToArrayLimit$c(t,e)||_unsupportedIterableToArray$k(t,e)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$k(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$k(t,e)}}function _arrayLikeToArray$k(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$c(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$d(t){if(Array.isArray(t))return t}function ownKeys$x(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$x(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$x(Object(xe),!0).forEach(function(_e){_defineProperty$C(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$x(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$C(t,e,xe){return e=_toPropertyKey$D(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$D(t){var e=_toPrimitive$D(t,"string");return _typeof$F(e)=="symbol"?e:e+""}function _toPrimitive$D(t,e){if(_typeof$F(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$F(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultFormatter(t){return Array.isArray(t)&&isNumOrStr(t[0])&&isNumOrStr(t[1])?t.join(" ~ "):t}var DefaultTooltipContent=function t(e){var xe=e.separator,_e=xe===void 0?" : ":xe,Ee=e.contentStyle,Se=Ee===void 0?{}:Ee,Ae=e.itemStyle,Re=Ae===void 0?{}:Ae,Pe=e.labelStyle,Te=Pe===void 0?{}:Pe,Ie=e.payload,je=e.formatter,Oe=e.itemSorter,ke=e.wrapperClassName,Fe=e.labelClassName,Me=e.label,De=e.labelFormatter,Ue=e.accessibilityLayer,ze=Ue===void 0?!1:Ue,We=function(){if(Ie&&Ie.length){var er={padding:0,margin:0},sr=(Oe?sortBy(Ie,Oe):Ie).map(function(fr,_r){if(fr.type==="none")return null;var Er=_objectSpread$x({display:"block",paddingTop:4,paddingBottom:4,color:fr.color||"#000"},Re),yr=fr.formatter||je||defaultFormatter,mr=fr.value,Pr=fr.name,Cr=mr,wr=Pr;if(yr&&Cr!=null&&wr!=null){var or=yr(mr,Pr,fr,_r,Ie);if(Array.isArray(or)){var hr=_slicedToArray$c(or,2);Cr=hr[0],wr=hr[1]}else Cr=or}return React.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_r),style:Er},isNumOrStr(wr)?React.createElement("span",{className:"recharts-tooltip-item-name"},wr):null,isNumOrStr(wr)?React.createElement("span",{className:"recharts-tooltip-item-separator"},_e):null,React.createElement("span",{className:"recharts-tooltip-item-value"},Cr),React.createElement("span",{className:"recharts-tooltip-item-unit"},fr.unit||""))});return React.createElement("ul",{className:"recharts-tooltip-item-list",style:er},sr)}return null},Ye=_objectSpread$x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},Se),Xe=_objectSpread$x({margin:0},Te),ir=!isNil(Me),Qe=ir?Me:"",Ke=clsx("recharts-default-tooltip",ke),rr=clsx("recharts-tooltip-label",Fe);ir&&De&&Ie!==void 0&&Ie!==null&&(Qe=De(Me,Ie));var cr=ze?{role:"status","aria-live":"assertive"}:{};return React.createElement("div",_extends$o({className:Ke,style:Ye},cr),React.createElement("p",{className:rr,style:Xe},React.isValidElement(Qe)?Qe:"".concat(Qe)),We())};function _typeof$E(t){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$E(t)}function _defineProperty$B(t,e,xe){return e=_toPropertyKey$C(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$C(t){var e=_toPrimitive$C(t,"string");return _typeof$E(e)=="symbol"?e:e+""}function _toPrimitive$C(t,e){if(_typeof$E(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$E(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(t){var e=t.coordinate,xe=t.translateX,_e=t.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$B(_defineProperty$B(_defineProperty$B(_defineProperty$B({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(xe)&&e&&isNumber(e.x)&&xe>=e.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(xe)&&e&&isNumber(e.x)&&xe<e.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(_e)&&e&&isNumber(e.y)&&_e>=e.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(_e)&&e&&isNumber(e.y)&&_e<e.y))}function getTooltipTranslateXY(t){var e=t.allowEscapeViewBox,xe=t.coordinate,_e=t.key,Ee=t.offsetTopLeft,Se=t.position,Ae=t.reverseDirection,Re=t.tooltipDimension,Pe=t.viewBox,Te=t.viewBoxDimension;if(Se&&isNumber(Se[_e]))return Se[_e];var Ie=xe[_e]-Re-Ee,je=xe[_e]+Ee;if(e[_e])return Ae[_e]?Ie:je;if(Ae[_e]){var Oe=Ie,ke=Pe[_e];return Oe<ke?Math.max(je,Pe[_e]):Math.max(Ie,Pe[_e])}var Fe=je+Re,Me=Pe[_e]+Te;return Fe>Me?Math.max(Ie,Pe[_e]):Math.max(je,Pe[_e])}function getTransformStyle(t){var e=t.translateX,xe=t.translateY,_e=t.useTranslate3d;return{transform:_e?"translate3d(".concat(e,"px, ").concat(xe,"px, 0)"):"translate(".concat(e,"px, ").concat(xe,"px)")}}function getTooltipTranslate(t){var e=t.allowEscapeViewBox,xe=t.coordinate,_e=t.offsetTopLeft,Ee=t.position,Se=t.reverseDirection,Ae=t.tooltipBox,Re=t.useTranslate3d,Pe=t.viewBox,Te,Ie,je;return Ae.height>0&&Ae.width>0&&xe?(Ie=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:xe,key:"x",offsetTopLeft:_e,position:Ee,reverseDirection:Se,tooltipDimension:Ae.width,viewBox:Pe,viewBoxDimension:Pe.width}),je=getTooltipTranslateXY({allowEscapeViewBox:e,coordinate:xe,key:"y",offsetTopLeft:_e,position:Ee,reverseDirection:Se,tooltipDimension:Ae.height,viewBox:Pe,viewBoxDimension:Pe.height}),Te=getTransformStyle({translateX:Ie,translateY:je,useTranslate3d:Re})):Te=TOOLTIP_HIDDEN,{cssProperties:Te,cssClasses:getTooltipCSSClassName({translateX:Ie,translateY:je,coordinate:xe})}}function _typeof$D(t){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$D(t)}function ownKeys$w(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$w(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$w(Object(xe),!0).forEach(function(_e){_defineProperty$A(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$w(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$B(_e.key),_e)}}function _createClass$i(t,e,xe){return e&&_defineProperties$i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$e(t,e,xe){return e=_getPrototypeOf$f(e),_possibleConstructorReturn$f(t,_isNativeReflectConstruct$f()?Reflect.construct(e,xe||[],_getPrototypeOf$f(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$f(t,e){if(e&&(_typeof$D(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(t)}function _assertThisInitialized$f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!t})()}function _getPrototypeOf$f(t){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$f(t)}function _inherits$f(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$f(t,e)}function _setPrototypeOf$f(t,e){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$f(t,e)}function _defineProperty$A(t,e,xe){return e=_toPropertyKey$B(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$B(t){var e=_toPrimitive$B(t,"string");return _typeof$D(e)=="symbol"?e:e+""}function _toPrimitive$B(t,e){if(_typeof$D(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$D(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPSILON=1,TooltipBoundingBox=function(t){function e(){var xe;_classCallCheck$i(this,e);for(var _e=arguments.length,Ee=new Array(_e),Se=0;Se<_e;Se++)Ee[Se]=arguments[Se];return xe=_callSuper$e(this,e,[].concat(Ee)),_defineProperty$A(xe,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$A(xe,"handleKeyDown",function(Ae){if(Ae.key==="Escape"){var Re,Pe,Te,Ie;xe.setState({dismissed:!0,dismissedAtCoordinate:{x:(Re=(Pe=xe.props.coordinate)===null||Pe===void 0?void 0:Pe.x)!==null&&Re!==void 0?Re:0,y:(Te=(Ie=xe.props.coordinate)===null||Ie===void 0?void 0:Ie.y)!==null&&Te!==void 0?Te:0}})}}),xe}return _inherits$f(e,t),_createClass$i(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var _e=this.wrapperNode.getBoundingClientRect();(Math.abs(_e.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(_e.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:_e.width,height:_e.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var _e,Ee;this.props.active&&this.updateBBox(),this.state.dismissed&&(((_e=this.props.coordinate)===null||_e===void 0?void 0:_e.x)!==this.state.dismissedAtCoordinate.x||((Ee=this.props.coordinate)===null||Ee===void 0?void 0:Ee.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var _e=this,Ee=this.props,Se=Ee.active,Ae=Ee.allowEscapeViewBox,Re=Ee.animationDuration,Pe=Ee.animationEasing,Te=Ee.children,Ie=Ee.coordinate,je=Ee.hasPayload,Oe=Ee.isAnimationActive,ke=Ee.offset,Fe=Ee.position,Me=Ee.reverseDirection,De=Ee.useTranslate3d,Ue=Ee.viewBox,ze=Ee.wrapperStyle,We=getTooltipTranslate({allowEscapeViewBox:Ae,coordinate:Ie,offsetTopLeft:ke,position:Fe,reverseDirection:Me,tooltipBox:this.state.lastBoundingBox,useTranslate3d:De,viewBox:Ue}),Ye=We.cssClasses,Xe=We.cssProperties,ir=_objectSpread$w(_objectSpread$w({transition:Oe&&Se?"transform ".concat(Re,"ms ").concat(Pe):void 0},Xe),{},{pointerEvents:"none",visibility:!this.state.dismissed&&Se&&je?"visible":"hidden",position:"absolute",top:0,left:0},ze);return React.createElement("div",{tabIndex:-1,className:Ye,style:ir,ref:function(Ke){_e.wrapperNode=Ke}},Te)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function t(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$C(t){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$C(t)}function ownKeys$v(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$v(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$v(Object(xe),!0).forEach(function(_e){_defineProperty$z(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$v(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$A(_e.key),_e)}}function _createClass$h(t,e,xe){return e&&_defineProperties$h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$d(t,e,xe){return e=_getPrototypeOf$e(e),_possibleConstructorReturn$e(t,_isNativeReflectConstruct$e()?Reflect.construct(e,xe||[],_getPrototypeOf$e(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$e(t,e){if(e&&(_typeof$C(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(t)}function _assertThisInitialized$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!t})()}function _getPrototypeOf$e(t){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$e(t)}function _inherits$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$e(t,e)}function _setPrototypeOf$e(t,e){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$e(t,e)}function _defineProperty$z(t,e,xe){return e=_toPropertyKey$A(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$A(t){var e=_toPrimitive$A(t,"string");return _typeof$C(e)=="symbol"?e:e+""}function _toPrimitive$A(t,e){if(_typeof$C(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$C(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function defaultUniqBy(t){return t.dataKey}function renderContent(t,e){return React.isValidElement(t)?React.cloneElement(t,e):typeof t=="function"?React.createElement(t,e):React.createElement(DefaultTooltipContent,e)}var Tooltip=function(t){function e(){return _classCallCheck$h(this,e),_callSuper$d(this,e,arguments)}return _inherits$e(e,t),_createClass$h(e,[{key:"render",value:function(){var _e=this,Ee=this.props,Se=Ee.active,Ae=Ee.allowEscapeViewBox,Re=Ee.animationDuration,Pe=Ee.animationEasing,Te=Ee.content,Ie=Ee.coordinate,je=Ee.filterNull,Oe=Ee.isAnimationActive,ke=Ee.offset,Fe=Ee.payload,Me=Ee.payloadUniqBy,De=Ee.position,Ue=Ee.reverseDirection,ze=Ee.useTranslate3d,We=Ee.viewBox,Ye=Ee.wrapperStyle,Xe=Fe??[];je&&Xe.length&&(Xe=getUniqPayload(Fe.filter(function(Qe){return Qe.value!=null&&(Qe.hide!==!0||_e.props.includeHidden)}),Me,defaultUniqBy));var ir=Xe.length>0;return React.createElement(TooltipBoundingBox,{allowEscapeViewBox:Ae,animationDuration:Re,animationEasing:Pe,isAnimationActive:Oe,active:Se,coordinate:Ie,hasPayload:ir,offset:ke,position:De,reverseDirection:Ue,useTranslate3d:ze,viewBox:We,wrapperStyle:Ye},renderContent(Te,_objectSpread$v(_objectSpread$v({},this.props),{},{payload:Xe})))}}])}(reactExports.PureComponent);_defineProperty$z(Tooltip,"displayName","Tooltip");_defineProperty$z(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(xe){for(var _e=xe.length;_e--&&t.test(xe.charAt(_e)););return _e}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function xe(_e){return _e&&_e.slice(0,t(_e)+1).replace(e,"")}return _baseTrim=xe,_baseTrim}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),xe=requireIsSymbol(),_e=NaN,Ee=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Ae=/^0o[0-7]+$/i,Re=parseInt;function Pe(Te){if(typeof Te=="number")return Te;if(xe(Te))return _e;if(e(Te)){var Ie=typeof Te.valueOf=="function"?Te.valueOf():Te;Te=e(Ie)?Ie+"":Ie}if(typeof Te!="string")return Te===0?Te:+Te;Te=t(Te);var je=Se.test(Te);return je||Ae.test(Te)?Re(Te.slice(2),je?2:8):Ee.test(Te)?_e:+Te}return toNumber_1=Pe,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),xe=requireToNumber(),_e="Expected a function",Ee=Math.max,Se=Math.min;function Ae(Re,Pe,Te){var Ie,je,Oe,ke,Fe,Me,De=0,Ue=!1,ze=!1,We=!0;if(typeof Re!="function")throw new TypeError(_e);Pe=xe(Pe)||0,t(Te)&&(Ue=!!Te.leading,ze="maxWait"in Te,Oe=ze?Ee(xe(Te.maxWait)||0,Pe):Oe,We="trailing"in Te?!!Te.trailing:We);function Ye(sr){var fr=Ie,_r=je;return Ie=je=void 0,De=sr,ke=Re.apply(_r,fr),ke}function Xe(sr){return De=sr,Fe=setTimeout(Ke,Pe),Ue?Ye(sr):ke}function ir(sr){var fr=sr-Me,_r=sr-De,Er=Pe-fr;return ze?Se(Er,Oe-_r):Er}function Qe(sr){var fr=sr-Me,_r=sr-De;return Me===void 0||fr>=Pe||fr<0||ze&&_r>=Oe}function Ke(){var sr=e();if(Qe(sr))return rr(sr);Fe=setTimeout(Ke,ir(sr))}function rr(sr){return Fe=void 0,We&&Ie?Ye(sr):(Ie=je=void 0,ke)}function cr(){Fe!==void 0&&clearTimeout(Fe),De=0,Ie=Me=je=Fe=void 0}function Ze(){return Fe===void 0?ke:rr(e())}function er(){var sr=e(),fr=Qe(sr);if(Ie=arguments,je=this,Me=sr,fr){if(Fe===void 0)return Xe(Me);if(ze)return clearTimeout(Fe),Fe=setTimeout(Ke,Pe),Ye(Me)}return Fe===void 0&&(Fe=setTimeout(Ke,Pe)),ke}return er.cancel=cr,er.flush=Ze,er}return debounce_1=Ae,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),xe="Expected a function";function _e(Ee,Se,Ae){var Re=!0,Pe=!0;if(typeof Ee!="function")throw new TypeError(xe);return e(Ae)&&(Re="leading"in Ae?!!Ae.leading:Re,Pe="trailing"in Ae?!!Ae.trailing:Pe),t(Ee,Se,{leading:Re,maxWait:Se,trailing:Pe})}return throttle_1=_e,throttle_1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);function _typeof$B(t){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$B(t)}function ownKeys$u(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$u(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$u(Object(xe),!0).forEach(function(_e){_defineProperty$y(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$u(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$y(t,e,xe){return e=_toPropertyKey$z(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$z(t){var e=_toPrimitive$z(t,"string");return _typeof$B(e)=="symbol"?e:e+""}function _toPrimitive$z(t,e){if(_typeof$B(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$B(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$b(t,e){return _arrayWithHoles$c(t)||_iterableToArrayLimit$b(t,e)||_unsupportedIterableToArray$j(t,e)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$j(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$j(t,e)}}function _arrayLikeToArray$j(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$b(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$c(t){if(Array.isArray(t))return t}var ResponsiveContainer=reactExports.forwardRef(function(t,e){var xe=t.aspect,_e=t.initialDimension,Ee=_e===void 0?{width:-1,height:-1}:_e,Se=t.width,Ae=Se===void 0?"100%":Se,Re=t.height,Pe=Re===void 0?"100%":Re,Te=t.minWidth,Ie=Te===void 0?0:Te,je=t.minHeight,Oe=t.maxHeight,ke=t.children,Fe=t.debounce,Me=Fe===void 0?0:Fe,De=t.id,Ue=t.className,ze=t.onResize,We=t.style,Ye=We===void 0?{}:We,Xe=reactExports.useRef(null),ir=reactExports.useRef();ir.current=ze,reactExports.useImperativeHandle(e,function(){return Object.defineProperty(Xe.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Xe.current},configurable:!0})});var Qe=reactExports.useState({containerWidth:Ee.width,containerHeight:Ee.height}),Ke=_slicedToArray$b(Qe,2),rr=Ke[0],cr=Ke[1],Ze=reactExports.useCallback(function(sr,fr){cr(function(_r){var Er=Math.round(sr),yr=Math.round(fr);return _r.containerWidth===Er&&_r.containerHeight===yr?_r:{containerWidth:Er,containerHeight:yr}})},[]);reactExports.useEffect(function(){var sr=function(Pr){var Cr,wr=Pr[0].contentRect,or=wr.width,hr=wr.height;Ze(or,hr),(Cr=ir.current)===null||Cr===void 0||Cr.call(ir,or,hr)};Me>0&&(sr=throttle(sr,Me,{trailing:!0,leading:!1}));var fr=new ResizeObserver(sr),_r=Xe.current.getBoundingClientRect(),Er=_r.width,yr=_r.height;return Ze(Er,yr),fr.observe(Xe.current),function(){fr.disconnect()}},[Ze,Me]);var er=reactExports.useMemo(function(){var sr=rr.containerWidth,fr=rr.containerHeight;if(sr<0||fr<0)return null;warn(isPercent(Ae)||isPercent(Pe),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,Ae,Pe),warn(!xe||xe>0,"The aspect(%s) must be greater than zero.",xe);var _r=isPercent(Ae)?sr:Ae,Er=isPercent(Pe)?fr:Pe;xe&&xe>0&&(_r?Er=_r/xe:Er&&(_r=Er*xe),Oe&&Er>Oe&&(Er=Oe)),warn(_r>0||Er>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_r,Er,Ae,Pe,Ie,je,xe);var yr=!Array.isArray(ke)&&getDisplayName(ke.type).endsWith("Chart");return React.Children.map(ke,function(mr){return React.isValidElement(mr)?reactExports.cloneElement(mr,_objectSpread$u({width:_r,height:Er},yr?{style:_objectSpread$u({height:"100%",width:"100%",maxHeight:Er,maxWidth:_r},mr.props.style)}:{})):mr})},[xe,ke,Pe,Oe,je,Ie,rr,Ae]);return React.createElement("div",{id:De?"".concat(De):void 0,className:clsx("recharts-responsive-container",Ue),style:_objectSpread$u(_objectSpread$u({},Ye),{},{width:Ae,height:Pe,minWidth:Ie,minHeight:je,maxHeight:Oe}),ref:Xe},er)}),Cell=function t(e){return null};Cell.displayName="Cell";function _typeof$A(t){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$A(t)}function ownKeys$t(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$t(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$t(Object(xe),!0).forEach(function(_e){_defineProperty$x(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$t(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$x(t,e,xe){return e=_toPropertyKey$y(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$y(t){var e=_toPrimitive$y(t,"string");return _typeof$A(e)=="symbol"?e:e+""}function _toPrimitive$y(t,e){if(_typeof$A(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$A(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(t){var e=_objectSpread$t({},t);return Object.keys(e).forEach(function(xe){e[xe]||delete e[xe]}),e}var getStringSize=function t(e){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Global.isSsr)return{width:0,height:0};var _e=removeInvalidKeys(xe),Ee=JSON.stringify({text:e,copyStyle:_e});if(stringCache.widthCache[Ee])return stringCache.widthCache[Ee];try{var Se=document.getElementById(MEASUREMENT_SPAN_ID);Se||(Se=document.createElement("span"),Se.setAttribute("id",MEASUREMENT_SPAN_ID),Se.setAttribute("aria-hidden","true"),document.body.appendChild(Se));var Ae=_objectSpread$t(_objectSpread$t({},SPAN_STYLE),_e);Object.assign(Se.style,Ae),Se.textContent="".concat(e);var Re=Se.getBoundingClientRect(),Pe={width:Re.width,height:Re.height};return stringCache.widthCache[Ee]=Pe,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),Pe}catch{return{width:0,height:0}}},getOffset=function t(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$z(t){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$z(t)}function _slicedToArray$a(t,e){return _arrayWithHoles$b(t)||_iterableToArrayLimit$a(t,e)||_unsupportedIterableToArray$i(t,e)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$i(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$i(t,e)}}function _arrayLikeToArray$i(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$a(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e===0){if(Object(xe)!==xe)return;Pe=!1}else for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$b(t){if(Array.isArray(t))return t}function _classCallCheck$g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$x(_e.key),_e)}}function _createClass$g(t,e,xe){return e&&_defineProperties$g(t.prototype,e),xe&&_defineProperties$g(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$x(t){var e=_toPrimitive$x(t,"string");return _typeof$z(e)=="symbol"?e:e+""}function _toPrimitive$x(t,e){if(_typeof$z(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$z(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(t,e){return t*CONVERSION_RATES[e]}var DecimalCSS=function(){function t(e,xe){_classCallCheck$g(this,t),this.num=e,this.unit=xe,this.num=e,this.unit=xe,Number.isNaN(e)&&(this.unit=""),xe!==""&&!CSS_LENGTH_UNIT_REGEX.test(xe)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(xe)&&(this.num=convertToPx(e,xe),this.unit="px")}return _createClass$g(t,[{key:"add",value:function(xe){return this.unit!==xe.unit?new t(NaN,""):new t(this.num+xe.num,this.unit)}},{key:"subtract",value:function(xe){return this.unit!==xe.unit?new t(NaN,""):new t(this.num-xe.num,this.unit)}},{key:"multiply",value:function(xe){return this.unit!==""&&xe.unit!==""&&this.unit!==xe.unit?new t(NaN,""):new t(this.num*xe.num,this.unit||xe.unit)}},{key:"divide",value:function(xe){return this.unit!==""&&xe.unit!==""&&this.unit!==xe.unit?new t(NaN,""):new t(this.num/xe.num,this.unit||xe.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(xe){var _e,Ee=(_e=NUM_SPLIT_REGEX.exec(xe))!==null&&_e!==void 0?_e:[],Se=_slicedToArray$a(Ee,3),Ae=Se[1],Re=Se[2];return new t(parseFloat(Ae),Re??"")}}])}();function calculateArithmetic(t){if(t.includes(STR_NAN))return STR_NAN;for(var e=t;e.includes("*")||e.includes("/");){var xe,_e=(xe=MULTIPLY_OR_DIVIDE_REGEX.exec(e))!==null&&xe!==void 0?xe:[],Ee=_slicedToArray$a(_e,4),Se=Ee[1],Ae=Ee[2],Re=Ee[3],Pe=DecimalCSS.parse(Se??""),Te=DecimalCSS.parse(Re??""),Ie=Ae==="*"?Pe.multiply(Te):Pe.divide(Te);if(Ie.isNaN())return STR_NAN;e=e.replace(MULTIPLY_OR_DIVIDE_REGEX,Ie.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var je,Oe=(je=ADD_OR_SUBTRACT_REGEX.exec(e))!==null&&je!==void 0?je:[],ke=_slicedToArray$a(Oe,4),Fe=ke[1],Me=ke[2],De=ke[3],Ue=DecimalCSS.parse(Fe??""),ze=DecimalCSS.parse(De??""),We=Me==="+"?Ue.add(ze):Ue.subtract(ze);if(We.isNaN())return STR_NAN;e=e.replace(ADD_OR_SUBTRACT_REGEX,We.toString())}return e}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(t){for(var e=t;e.includes("(");){var xe=PARENTHESES_REGEX.exec(e),_e=_slicedToArray$a(xe,2),Ee=_e[1];e=e.replace(PARENTHESES_REGEX,calculateArithmetic(Ee))}return e}function evaluateExpression(t){var e=t.replace(/\s+/g,"");return e=calculateParentheses(e),e=calculateArithmetic(e),e}function safeEvaluateExpression(t){try{return evaluateExpression(t)}catch{return STR_NAN}}function reduceCSSCalc(t){var e=safeEvaluateExpression(t.slice(5,-1));return e===STR_NAN?"":e}var _excluded$c=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$4=["dx","dy","angle","className","breakAll"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$n.apply(this,arguments)}function _objectWithoutProperties$c(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$c(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$c(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _slicedToArray$9(t,e){return _arrayWithHoles$a(t)||_iterableToArrayLimit$9(t,e)||_unsupportedIterableToArray$h(t,e)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$h(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$h(t,e)}}function _arrayLikeToArray$h(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$9(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e===0){if(Object(xe)!==xe)return;Pe=!1}else for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$a(t){if(Array.isArray(t))return t}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function t(e){var xe=e.children,_e=e.breakAll,Ee=e.style;try{var Se=[];isNil(xe)||(_e?Se=xe.toString().split(""):Se=xe.toString().split(BREAKING_SPACES));var Ae=Se.map(function(Pe){return{word:Pe,width:getStringSize(Pe,Ee).width}}),Re=_e?0:getStringSize("",Ee).width;return{wordsWithComputedWidth:Ae,spaceWidth:Re}}catch{return null}},calculateWordsByLines=function t(e,xe,_e,Ee,Se){var Ae=e.maxLines,Re=e.children,Pe=e.style,Te=e.breakAll,Ie=isNumber(Ae),je=Re,Oe=function(){var _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _r.reduce(function(Er,yr){var mr=yr.word,Pr=yr.width,Cr=Er[Er.length-1];if(Cr&&(Ee==null||Se||Cr.width+Pr+_e<Number(Ee)))Cr.words.push(mr),Cr.width+=Pr+_e;else{var wr={words:[mr],width:Pr};Er.push(wr)}return Er},[])},ke=Oe(xe),Fe=function(_r){return _r.reduce(function(Er,yr){return Er.width>yr.width?Er:yr})};if(!Ie)return ke;for(var Me="",De=function(_r){var Er=je.slice(0,_r),yr=calculateWordWidths({breakAll:Te,style:Pe,children:Er+Me}).wordsWithComputedWidth,mr=Oe(yr),Pr=mr.length>Ae||Fe(mr).width>Number(Ee);return[Pr,mr]},Ue=0,ze=je.length-1,We=0,Ye;Ue<=ze&&We<=je.length-1;){var Xe=Math.floor((Ue+ze)/2),ir=Xe-1,Qe=De(ir),Ke=_slicedToArray$9(Qe,2),rr=Ke[0],cr=Ke[1],Ze=De(Xe),er=_slicedToArray$9(Ze,1),sr=er[0];if(!rr&&!sr&&(Ue=Xe+1),rr&&sr&&(ze=Xe-1),!rr&&sr){Ye=cr;break}We++}return Ye||ke},getWordsWithoutCalculate=function t(e){var xe=isNil(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:xe}]},getWordsByLines=function t(e){var xe=e.width,_e=e.scaleToFit,Ee=e.children,Se=e.style,Ae=e.breakAll,Re=e.maxLines;if((xe||_e)&&!Global.isSsr){var Pe,Te,Ie=calculateWordWidths({breakAll:Ae,children:Ee,style:Se});if(Ie){var je=Ie.wordsWithComputedWidth,Oe=Ie.spaceWidth;Pe=je,Te=Oe}else return getWordsWithoutCalculate(Ee);return calculateWordsByLines({breakAll:Ae,children:Ee,maxLines:Re,style:Se},Pe,Te,xe,_e)}return getWordsWithoutCalculate(Ee)},DEFAULT_FILL="#808080",Text=function t(e){var xe=e.x,_e=xe===void 0?0:xe,Ee=e.y,Se=Ee===void 0?0:Ee,Ae=e.lineHeight,Re=Ae===void 0?"1em":Ae,Pe=e.capHeight,Te=Pe===void 0?"0.71em":Pe,Ie=e.scaleToFit,je=Ie===void 0?!1:Ie,Oe=e.textAnchor,ke=Oe===void 0?"start":Oe,Fe=e.verticalAnchor,Me=Fe===void 0?"end":Fe,De=e.fill,Ue=De===void 0?DEFAULT_FILL:De,ze=_objectWithoutProperties$c(e,_excluded$c),We=reactExports.useMemo(function(){return getWordsByLines({breakAll:ze.breakAll,children:ze.children,maxLines:ze.maxLines,scaleToFit:je,style:ze.style,width:ze.width})},[ze.breakAll,ze.children,ze.maxLines,je,ze.style,ze.width]),Ye=ze.dx,Xe=ze.dy,ir=ze.angle,Qe=ze.className,Ke=ze.breakAll,rr=_objectWithoutProperties$c(ze,_excluded2$4);if(!isNumOrStr(_e)||!isNumOrStr(Se))return null;var cr=_e+(isNumber(Ye)?Ye:0),Ze=Se+(isNumber(Xe)?Xe:0),er;switch(Me){case"start":er=reduceCSSCalc("calc(".concat(Te,")"));break;case"middle":er=reduceCSSCalc("calc(".concat((We.length-1)/2," * -").concat(Re," + (").concat(Te," / 2))"));break;default:er=reduceCSSCalc("calc(".concat(We.length-1," * -").concat(Re,")"));break}var sr=[];if(je){var fr=We[0].width,_r=ze.width;sr.push("scale(".concat((isNumber(_r)?_r/fr:1)/fr,")"))}return ir&&sr.push("rotate(".concat(ir,", ").concat(cr,", ").concat(Ze,")")),sr.length&&(rr.transform=sr.join(" ")),React.createElement("text",_extends$n({},filterProps(rr,!0),{x:cr,y:Ze,className:clsx("recharts-text",Qe),textAnchor:ke,fill:Ue.includes("url")?DEFAULT_FILL:Ue}),We.map(function(Er,yr){var mr=Er.words.join(Ke?"":" ");return React.createElement("tspan",{x:cr,dy:yr===0?er:Re,key:"".concat(mr,"-").concat(yr)},mr)}))};function ascending(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function descending(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bisector(t){let e,xe,_e;t.length!==2?(e=ascending,xe=(Re,Pe)=>ascending(t(Re),Pe),_e=(Re,Pe)=>t(Re)-Pe):(e=t===ascending||t===descending?t:zero$1,xe=t,_e=t);function Ee(Re,Pe,Te=0,Ie=Re.length){if(Te<Ie){if(e(Pe,Pe)!==0)return Ie;do{const je=Te+Ie>>>1;xe(Re[je],Pe)<0?Te=je+1:Ie=je}while(Te<Ie)}return Te}function Se(Re,Pe,Te=0,Ie=Re.length){if(Te<Ie){if(e(Pe,Pe)!==0)return Ie;do{const je=Te+Ie>>>1;xe(Re[je],Pe)<=0?Te=je+1:Ie=je}while(Te<Ie)}return Te}function Ae(Re,Pe,Te=0,Ie=Re.length){const je=Ee(Re,Pe,Te,Ie-1);return je>Te&&_e(Re[je-1],Pe)>-_e(Re[je],Pe)?je-1:je}return{left:Ee,center:Ae,right:Se}}function zero$1(){return 0}function number$2(t){return t===null?NaN:+t}function*numbers(t,e){for(let xe of t)xe!=null&&(xe=+xe)>=xe&&(yield xe)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(e,xe=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:xe}}),e!=null)for(const[_e,Ee]of e)this.set(_e,Ee)}get(e){return super.get(intern_get(this,e))}has(e){return super.has(intern_get(this,e))}set(e,xe){return super.set(intern_set(this,e),xe)}delete(e){return super.delete(intern_delete(this,e))}}function intern_get({_intern:t,_key:e},xe){const _e=e(xe);return t.has(_e)?t.get(_e):xe}function intern_set({_intern:t,_key:e},xe){const _e=e(xe);return t.has(_e)?t.get(_e):(t.set(_e,xe),xe)}function intern_delete({_intern:t,_key:e},xe){const _e=e(xe);return t.has(_e)&&(xe=t.get(_e),t.delete(_e)),xe}function keyof(t){return t!==null&&typeof t=="object"?t.valueOf():t}function compareDefined(t=ascending){if(t===ascending)return ascendingDefined;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,xe)=>{const _e=t(e,xe);return _e||_e===0?_e:(t(xe,xe)===0)-(t(e,e)===0)}}function ascendingDefined(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(t,e,xe){const _e=(e-t)/Math.max(0,xe),Ee=Math.floor(Math.log10(_e)),Se=_e/Math.pow(10,Ee),Ae=Se>=e10?10:Se>=e5?5:Se>=e2?2:1;let Re,Pe,Te;return Ee<0?(Te=Math.pow(10,-Ee)/Ae,Re=Math.round(t*Te),Pe=Math.round(e*Te),Re/Te<t&&++Re,Pe/Te>e&&--Pe,Te=-Te):(Te=Math.pow(10,Ee)*Ae,Re=Math.round(t/Te),Pe=Math.round(e/Te),Re*Te<t&&++Re,Pe*Te>e&&--Pe),Pe<Re&&.5<=xe&&xe<2?tickSpec(t,e,xe*2):[Re,Pe,Te]}function ticks(t,e,xe){if(e=+e,t=+t,xe=+xe,!(xe>0))return[];if(t===e)return[t];const _e=e<t,[Ee,Se,Ae]=_e?tickSpec(e,t,xe):tickSpec(t,e,xe);if(!(Se>=Ee))return[];const Re=Se-Ee+1,Pe=new Array(Re);if(_e)if(Ae<0)for(let Te=0;Te<Re;++Te)Pe[Te]=(Se-Te)/-Ae;else for(let Te=0;Te<Re;++Te)Pe[Te]=(Se-Te)*Ae;else if(Ae<0)for(let Te=0;Te<Re;++Te)Pe[Te]=(Ee+Te)/-Ae;else for(let Te=0;Te<Re;++Te)Pe[Te]=(Ee+Te)*Ae;return Pe}function tickIncrement(t,e,xe){return e=+e,t=+t,xe=+xe,tickSpec(t,e,xe)[2]}function tickStep(t,e,xe){e=+e,t=+t,xe=+xe;const _e=e<t,Ee=_e?tickIncrement(e,t,xe):tickIncrement(t,e,xe);return(_e?-1:1)*(Ee<0?1/-Ee:Ee)}function max$2(t,e){let xe;for(const _e of t)_e!=null&&(xe<_e||xe===void 0&&_e>=_e)&&(xe=_e);return xe}function min$1(t,e){let xe;for(const _e of t)_e!=null&&(xe>_e||xe===void 0&&_e>=_e)&&(xe=_e);return xe}function quickselect(t,e,xe=0,_e=1/0,Ee){if(e=Math.floor(e),xe=Math.floor(Math.max(0,xe)),_e=Math.floor(Math.min(t.length-1,_e)),!(xe<=e&&e<=_e))return t;for(Ee=Ee===void 0?ascendingDefined:compareDefined(Ee);_e>xe;){if(_e-xe>600){const Pe=_e-xe+1,Te=e-xe+1,Ie=Math.log(Pe),je=.5*Math.exp(2*Ie/3),Oe=.5*Math.sqrt(Ie*je*(Pe-je)/Pe)*(Te-Pe/2<0?-1:1),ke=Math.max(xe,Math.floor(e-Te*je/Pe+Oe)),Fe=Math.min(_e,Math.floor(e+(Pe-Te)*je/Pe+Oe));quickselect(t,e,ke,Fe,Ee)}const Se=t[e];let Ae=xe,Re=_e;for(swap(t,xe,e),Ee(t[_e],Se)>0&&swap(t,xe,_e);Ae<Re;){for(swap(t,Ae,Re),++Ae,--Re;Ee(t[Ae],Se)<0;)++Ae;for(;Ee(t[Re],Se)>0;)--Re}Ee(t[xe],Se)===0?swap(t,xe,Re):(++Re,swap(t,Re,_e)),Re<=e&&(xe=Re+1),e<=Re&&(_e=Re-1)}return t}function swap(t,e,xe){const _e=t[e];t[e]=t[xe],t[xe]=_e}function quantile$1(t,e,xe){if(t=Float64Array.from(numbers(t)),!(!(_e=t.length)||isNaN(e=+e))){if(e<=0||_e<2)return min$1(t);if(e>=1)return max$2(t);var _e,Ee=(_e-1)*e,Se=Math.floor(Ee),Ae=max$2(quickselect(t,Se).subarray(0,Se+1)),Re=min$1(t.subarray(Se+1));return Ae+(Re-Ae)*(Ee-Se)}}function quantileSorted(t,e,xe=number$2){if(!(!(_e=t.length)||isNaN(e=+e))){if(e<=0||_e<2)return+xe(t[0],0,t);if(e>=1)return+xe(t[_e-1],_e-1,t);var _e,Ee=(_e-1)*e,Se=Math.floor(Ee),Ae=+xe(t[Se],Se,t),Re=+xe(t[Se+1],Se+1,t);return Ae+(Re-Ae)*(Ee-Se)}}function range$2(t,e,xe){t=+t,e=+e,xe=(Ee=arguments.length)<2?(e=t,t=0,1):Ee<3?1:+xe;for(var _e=-1,Ee=Math.max(0,Math.ceil((e-t)/xe))|0,Se=new Array(Ee);++_e<Ee;)Se[_e]=t+_e*xe;return Se}function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const implicit=Symbol("implicit");function ordinal(){var t=new InternMap,e=[],xe=[],_e=implicit;function Ee(Se){let Ae=t.get(Se);if(Ae===void 0){if(_e!==implicit)return _e;t.set(Se,Ae=e.push(Se)-1)}return xe[Ae%xe.length]}return Ee.domain=function(Se){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const Ae of Se)t.has(Ae)||t.set(Ae,e.push(Ae)-1);return Ee},Ee.range=function(Se){return arguments.length?(xe=Array.from(Se),Ee):xe.slice()},Ee.unknown=function(Se){return arguments.length?(_e=Se,Ee):_e},Ee.copy=function(){return ordinal(e,xe).unknown(_e)},initRange.apply(Ee,arguments),Ee}function band(){var t=ordinal().unknown(void 0),e=t.domain,xe=t.range,_e=0,Ee=1,Se,Ae,Re=!1,Pe=0,Te=0,Ie=.5;delete t.unknown;function je(){var Oe=e().length,ke=Ee<_e,Fe=ke?Ee:_e,Me=ke?_e:Ee;Se=(Me-Fe)/Math.max(1,Oe-Pe+Te*2),Re&&(Se=Math.floor(Se)),Fe+=(Me-Fe-Se*(Oe-Pe))*Ie,Ae=Se*(1-Pe),Re&&(Fe=Math.round(Fe),Ae=Math.round(Ae));var De=range$2(Oe).map(function(Ue){return Fe+Se*Ue});return xe(ke?De.reverse():De)}return t.domain=function(Oe){return arguments.length?(e(Oe),je()):e()},t.range=function(Oe){return arguments.length?([_e,Ee]=Oe,_e=+_e,Ee=+Ee,je()):[_e,Ee]},t.rangeRound=function(Oe){return[_e,Ee]=Oe,_e=+_e,Ee=+Ee,Re=!0,je()},t.bandwidth=function(){return Ae},t.step=function(){return Se},t.round=function(Oe){return arguments.length?(Re=!!Oe,je()):Re},t.padding=function(Oe){return arguments.length?(Pe=Math.min(1,Te=+Oe),je()):Pe},t.paddingInner=function(Oe){return arguments.length?(Pe=Math.min(1,Oe),je()):Pe},t.paddingOuter=function(Oe){return arguments.length?(Te=+Oe,je()):Te},t.align=function(Oe){return arguments.length?(Ie=Math.max(0,Math.min(1,Oe)),je()):Ie},t.copy=function(){return band(e(),[_e,Ee]).round(Re).paddingInner(Pe).paddingOuter(Te).align(Ie)},initRange.apply(je(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(t,e,xe){t.prototype=e.prototype=xe,xe.constructor=t}function extend(t,e){var xe=Object.create(t.prototype);for(var _e in e)xe[_e]=e[_e];return xe}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,xe;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(xe=e[1].length,e=parseInt(e[1],16),xe===6?rgbn(e):xe===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):xe===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):xe===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,xe,_e){return _e<=0&&(t=e=xe=NaN),new Rgb(t,e,xe,_e)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb$1(t,e,xe,_e){return arguments.length===1?rgbConvert(t):new Rgb(t,e,xe,_e??1)}function Rgb(t,e,xe,_e){this.r=+t,this.g=+e,this.b=+xe,this.opacity=+_e}define(Rgb,rgb$1,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,xe,_e){return _e<=0?t=e=xe=NaN:xe<=0||xe>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,xe,_e)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,xe=t.g/255,_e=t.b/255,Ee=Math.min(e,xe,_e),Se=Math.max(e,xe,_e),Ae=NaN,Re=Se-Ee,Pe=(Se+Ee)/2;return Re?(e===Se?Ae=(xe-_e)/Re+(xe<_e)*6:xe===Se?Ae=(_e-e)/Re+2:Ae=(e-xe)/Re+4,Re/=Pe<.5?Se+Ee:2-Se-Ee,Ae*=60):Re=Pe>0&&Pe<1?0:Ae,new Hsl(Ae,Re,Pe,t.opacity)}function hsl(t,e,xe,_e){return arguments.length===1?hslConvert(t):new Hsl(t,e,xe,_e??1)}function Hsl(t,e,xe,_e){this.h=+t,this.s=+e,this.l=+xe,this.opacity=+_e}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,xe=this.l,_e=xe+(xe<.5?xe:1-xe)*e,Ee=2*xe-_e;return new Rgb(hsl2rgb(t>=240?t-240:t+120,Ee,_e),hsl2rgb(t,Ee,_e),hsl2rgb(t<120?t+240:t-120,Ee,_e),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,xe){return(t<60?e+(xe-e)*t/60:t<180?xe:t<240?e+(xe-e)*(240-t)/60:e)*255}const constant=t=>()=>t;function linear$1(t,e){return function(xe){return t+xe*e}}function exponential(t,e,xe){return t=Math.pow(t,xe),e=Math.pow(e,xe)-t,xe=1/xe,function(_e){return Math.pow(t+_e*e,xe)}}function gamma(t){return(t=+t)==1?nogamma:function(e,xe){return xe-e?exponential(e,xe,t):constant(isNaN(e)?xe:e)}}function nogamma(t,e){var xe=e-t;return xe?linear$1(t,xe):constant(isNaN(t)?e:t)}const rgb=function t(e){var xe=gamma(e);function _e(Ee,Se){var Ae=xe((Ee=rgb$1(Ee)).r,(Se=rgb$1(Se)).r),Re=xe(Ee.g,Se.g),Pe=xe(Ee.b,Se.b),Te=nogamma(Ee.opacity,Se.opacity);return function(Ie){return Ee.r=Ae(Ie),Ee.g=Re(Ie),Ee.b=Pe(Ie),Ee.opacity=Te(Ie),Ee+""}}return _e.gamma=t,_e}(1);function numberArray(t,e){e||(e=[]);var xe=t?Math.min(e.length,t.length):0,_e=e.slice(),Ee;return function(Se){for(Ee=0;Ee<xe;++Ee)_e[Ee]=t[Ee]*(1-Se)+e[Ee]*Se;return _e}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function genericArray(t,e){var xe=e?e.length:0,_e=t?Math.min(xe,t.length):0,Ee=new Array(_e),Se=new Array(xe),Ae;for(Ae=0;Ae<_e;++Ae)Ee[Ae]=interpolate(t[Ae],e[Ae]);for(;Ae<xe;++Ae)Se[Ae]=e[Ae];return function(Re){for(Ae=0;Ae<_e;++Ae)Se[Ae]=Ee[Ae](Re);return Se}}function date$1(t,e){var xe=new Date;return t=+t,e=+e,function(_e){return xe.setTime(t*(1-_e)+e*_e),xe}}function interpolateNumber$1(t,e){return t=+t,e=+e,function(xe){return t*(1-xe)+e*xe}}function object(t,e){var xe={},_e={},Ee;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(Ee in e)Ee in t?xe[Ee]=interpolate(t[Ee],e[Ee]):_e[Ee]=e[Ee];return function(Se){for(Ee in xe)_e[Ee]=xe[Ee](Se);return _e}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function string(t,e){var xe=reA.lastIndex=reB.lastIndex=0,_e,Ee,Se,Ae=-1,Re=[],Pe=[];for(t=t+"",e=e+"";(_e=reA.exec(t))&&(Ee=reB.exec(e));)(Se=Ee.index)>xe&&(Se=e.slice(xe,Se),Re[Ae]?Re[Ae]+=Se:Re[++Ae]=Se),(_e=_e[0])===(Ee=Ee[0])?Re[Ae]?Re[Ae]+=Ee:Re[++Ae]=Ee:(Re[++Ae]=null,Pe.push({i:Ae,x:interpolateNumber$1(_e,Ee)})),xe=reB.lastIndex;return xe<e.length&&(Se=e.slice(xe),Re[Ae]?Re[Ae]+=Se:Re[++Ae]=Se),Re.length<2?Pe[0]?one(Pe[0].x):zero(e):(e=Pe.length,function(Te){for(var Ie=0,je;Ie<e;++Ie)Re[(je=Pe[Ie]).i]=je.x(Te);return Re.join("")})}function interpolate(t,e){var xe=typeof e,_e;return e==null||xe==="boolean"?constant(e):(xe==="number"?interpolateNumber$1:xe==="string"?(_e=color(e))?(e=_e,rgb):string:e instanceof color?rgb:e instanceof Date?date$1:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?object:interpolateNumber$1)(t,e)}function interpolateRound(t,e){return t=+t,e=+e,function(xe){return Math.round(t*(1-xe)+e*xe)}}function piecewise(t,e){e===void 0&&(e=t,t=interpolate);for(var xe=0,_e=e.length-1,Ee=e[0],Se=new Array(_e<0?0:_e);xe<_e;)Se[xe]=t(Ee,Ee=e[++xe]);return function(Ae){var Re=Math.max(0,Math.min(_e-1,Math.floor(Ae*=_e)));return Se[Re](Ae-Re)}}function constants(t){return function(){return t}}function number$1(t){return+t}var unit=[0,1];function identity$4(t){return t}function normalize(t,e){return(e-=t=+t)?function(xe){return(xe-t)/e}:constants(isNaN(e)?NaN:.5)}function clamper(t,e){var xe;return t>e&&(xe=t,t=e,e=xe),function(_e){return Math.max(t,Math.min(e,_e))}}function bimap(t,e,xe){var _e=t[0],Ee=t[1],Se=e[0],Ae=e[1];return Ee<_e?(_e=normalize(Ee,_e),Se=xe(Ae,Se)):(_e=normalize(_e,Ee),Se=xe(Se,Ae)),function(Re){return Se(_e(Re))}}function polymap(t,e,xe){var _e=Math.min(t.length,e.length)-1,Ee=new Array(_e),Se=new Array(_e),Ae=-1;for(t[_e]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++Ae<_e;)Ee[Ae]=normalize(t[Ae],t[Ae+1]),Se[Ae]=xe(e[Ae],e[Ae+1]);return function(Re){var Pe=bisectRight(t,Re,1,_e)-1;return Se[Pe](Ee[Pe](Re))}}function copy$1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function transformer$2(){var t=unit,e=unit,xe=interpolate,_e,Ee,Se,Ae=identity$4,Re,Pe,Te;function Ie(){var Oe=Math.min(t.length,e.length);return Ae!==identity$4&&(Ae=clamper(t[0],t[Oe-1])),Re=Oe>2?polymap:bimap,Pe=Te=null,je}function je(Oe){return Oe==null||isNaN(Oe=+Oe)?Se:(Pe||(Pe=Re(t.map(_e),e,xe)))(_e(Ae(Oe)))}return je.invert=function(Oe){return Ae(Ee((Te||(Te=Re(e,t.map(_e),interpolateNumber$1)))(Oe)))},je.domain=function(Oe){return arguments.length?(t=Array.from(Oe,number$1),Ie()):t.slice()},je.range=function(Oe){return arguments.length?(e=Array.from(Oe),Ie()):e.slice()},je.rangeRound=function(Oe){return e=Array.from(Oe),xe=interpolateRound,Ie()},je.clamp=function(Oe){return arguments.length?(Ae=Oe?!0:identity$4,Ie()):Ae!==identity$4},je.interpolate=function(Oe){return arguments.length?(xe=Oe,Ie()):xe},je.unknown=function(Oe){return arguments.length?(Se=Oe,je):Se},function(Oe,ke){return _e=Oe,Ee=ke,Ie()}}function continuous(){return transformer$2()(identity$4,identity$4)}function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((xe=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var xe,_e=t.slice(0,xe);return[_e.length>1?_e[0]+_e.slice(2):_e,+t.slice(xe+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(xe,_e){for(var Ee=xe.length,Se=[],Ae=0,Re=t[0],Pe=0;Ee>0&&Re>0&&(Pe+Re+1>_e&&(Re=Math.max(1,_e-Pe)),Se.push(xe.substring(Ee-=Re,Ee+Re)),!((Pe+=Re+1)>_e));)Re=t[Ae=(Ae+1)%t.length];return Se.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(xe){return t[+xe]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,xe=1,_e=-1,Ee;xe<e;++xe)switch(t[xe]){case".":_e=Ee=xe;break;case"0":_e===0&&(_e=xe),Ee=xe;break;default:if(!+t[xe])break e;_e>0&&(_e=0);break}return _e>0?t.slice(0,_e)+t.slice(Ee+1):t}var prefixExponent;function formatPrefixAuto(t,e){var xe=formatDecimalParts(t,e);if(!xe)return t+"";var _e=xe[0],Ee=xe[1],Se=Ee-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(Ee/3)))*3)+1,Ae=_e.length;return Se===Ae?_e:Se>Ae?_e+new Array(Se-Ae+1).join("0"):Se>0?_e.slice(0,Se)+"."+_e.slice(Se):"0."+new Array(1-Se).join("0")+formatDecimalParts(t,Math.max(0,e+Se-1))[0]}function formatRounded(t,e){var xe=formatDecimalParts(t,e);if(!xe)return t+"";var _e=xe[0],Ee=xe[1];return Ee<0?"0."+new Array(-Ee).join("0")+_e:_e.length>Ee+1?_e.slice(0,Ee+1)+"."+_e.slice(Ee+1):_e+new Array(Ee-_e.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity$3(t){return t}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(t){var e=t.grouping===void 0||t.thousands===void 0?identity$3:formatGroup(map$1.call(t.grouping,Number),t.thousands+""),xe=t.currency===void 0?"":t.currency[0]+"",_e=t.currency===void 0?"":t.currency[1]+"",Ee=t.decimal===void 0?".":t.decimal+"",Se=t.numerals===void 0?identity$3:formatNumerals(map$1.call(t.numerals,String)),Ae=t.percent===void 0?"%":t.percent+"",Re=t.minus===void 0?"":t.minus+"",Pe=t.nan===void 0?"NaN":t.nan+"";function Te(je){je=formatSpecifier(je);var Oe=je.fill,ke=je.align,Fe=je.sign,Me=je.symbol,De=je.zero,Ue=je.width,ze=je.comma,We=je.precision,Ye=je.trim,Xe=je.type;Xe==="n"?(ze=!0,Xe="g"):formatTypes[Xe]||(We===void 0&&(We=12),Ye=!0,Xe="g"),(De||Oe==="0"&&ke==="=")&&(De=!0,Oe="0",ke="=");var ir=Me==="$"?xe:Me==="#"&&/[boxX]/.test(Xe)?"0"+Xe.toLowerCase():"",Qe=Me==="$"?_e:/[%p]/.test(Xe)?Ae:"",Ke=formatTypes[Xe],rr=/[defgprs%]/.test(Xe);We=We===void 0?6:/[gprs]/.test(Xe)?Math.max(1,Math.min(21,We)):Math.max(0,Math.min(20,We));function cr(Ze){var er=ir,sr=Qe,fr,_r,Er;if(Xe==="c")sr=Ke(Ze)+sr,Ze="";else{Ze=+Ze;var yr=Ze<0||1/Ze<0;if(Ze=isNaN(Ze)?Pe:Ke(Math.abs(Ze),We),Ye&&(Ze=formatTrim(Ze)),yr&&+Ze==0&&Fe!=="+"&&(yr=!1),er=(yr?Fe==="("?Fe:Re:Fe==="-"||Fe==="("?"":Fe)+er,sr=(Xe==="s"?prefixes[8+prefixExponent/3]:"")+sr+(yr&&Fe==="("?")":""),rr){for(fr=-1,_r=Ze.length;++fr<_r;)if(Er=Ze.charCodeAt(fr),48>Er||Er>57){sr=(Er===46?Ee+Ze.slice(fr+1):Ze.slice(fr))+sr,Ze=Ze.slice(0,fr);break}}}ze&&!De&&(Ze=e(Ze,1/0));var mr=er.length+Ze.length+sr.length,Pr=mr<Ue?new Array(Ue-mr+1).join(Oe):"";switch(ze&&De&&(Ze=e(Pr+Ze,Pr.length?Ue-sr.length:1/0),Pr=""),ke){case"<":Ze=er+Ze+sr+Pr;break;case"=":Ze=er+Pr+Ze+sr;break;case"^":Ze=Pr.slice(0,mr=Pr.length>>1)+er+Ze+sr+Pr.slice(mr);break;default:Ze=Pr+er+Ze+sr;break}return Se(Ze)}return cr.toString=function(){return je+""},cr}function Ie(je,Oe){var ke=Te((je=formatSpecifier(je),je.type="f",je)),Fe=Math.max(-8,Math.min(8,Math.floor(exponent(Oe)/3)))*3,Me=Math.pow(10,-Fe),De=prefixes[8+Fe/3];return function(Ue){return ke(Me*Ue)+De}}return{format:Te,formatPrefix:Ie}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(t){return locale$1=formatLocale$1(t),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(t){return Math.max(0,-exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)))*3-exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,exponent(e)-exponent(t))+1}function tickFormat(t,e,xe,_e){var Ee=tickStep(t,e,xe),Se;switch(_e=formatSpecifier(_e??",f"),_e.type){case"s":{var Ae=Math.max(Math.abs(t),Math.abs(e));return _e.precision==null&&!isNaN(Se=precisionPrefix(Ee,Ae))&&(_e.precision=Se),formatPrefix(_e,Ae)}case"":case"e":case"g":case"p":case"r":{_e.precision==null&&!isNaN(Se=precisionRound(Ee,Math.max(Math.abs(t),Math.abs(e))))&&(_e.precision=Se-(_e.type==="e"));break}case"f":case"%":{_e.precision==null&&!isNaN(Se=precisionFixed(Ee))&&(_e.precision=Se-(_e.type==="%")*2);break}}return format(_e)}function linearish(t){var e=t.domain;return t.ticks=function(xe){var _e=e();return ticks(_e[0],_e[_e.length-1],xe??10)},t.tickFormat=function(xe,_e){var Ee=e();return tickFormat(Ee[0],Ee[Ee.length-1],xe??10,_e)},t.nice=function(xe){xe==null&&(xe=10);var _e=e(),Ee=0,Se=_e.length-1,Ae=_e[Ee],Re=_e[Se],Pe,Te,Ie=10;for(Re<Ae&&(Te=Ae,Ae=Re,Re=Te,Te=Ee,Ee=Se,Se=Te);Ie-- >0;){if(Te=tickIncrement(Ae,Re,xe),Te===Pe)return _e[Ee]=Ae,_e[Se]=Re,e(_e);if(Te>0)Ae=Math.floor(Ae/Te)*Te,Re=Math.ceil(Re/Te)*Te;else if(Te<0)Ae=Math.ceil(Ae*Te)/Te,Re=Math.floor(Re*Te)/Te;else break;Pe=Te}return t},t}function linear(){var t=continuous();return t.copy=function(){return copy$1(t,linear())},initRange.apply(t,arguments),linearish(t)}function identity$2(t){var e;function xe(_e){return _e==null||isNaN(_e=+_e)?e:_e}return xe.invert=xe,xe.domain=xe.range=function(_e){return arguments.length?(t=Array.from(_e,number$1),xe):t.slice()},xe.unknown=function(_e){return arguments.length?(e=_e,xe):e},xe.copy=function(){return identity$2(t).unknown(e)},t=arguments.length?Array.from(t,number$1):[0,1],linearish(xe)}function nice(t,e){t=t.slice();var xe=0,_e=t.length-1,Ee=t[xe],Se=t[_e],Ae;return Se<Ee&&(Ae=xe,xe=_e,_e=Ae,Ae=Ee,Ee=Se,Se=Ae),t[xe]=e.floor(Ee),t[_e]=e.ceil(Se),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function powp(t){return t===10?pow10:t===Math.E?Math.exp:e=>Math.pow(t,e)}function logp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function reflect(t){return(e,xe)=>-t(-e,xe)}function loggish(t){const e=t(transformLog,transformExp),xe=e.domain;let _e=10,Ee,Se;function Ae(){return Ee=logp(_e),Se=powp(_e),xe()[0]<0?(Ee=reflect(Ee),Se=reflect(Se),t(transformLogn,transformExpn)):t(transformLog,transformExp),e}return e.base=function(Re){return arguments.length?(_e=+Re,Ae()):_e},e.domain=function(Re){return arguments.length?(xe(Re),Ae()):xe()},e.ticks=Re=>{const Pe=xe();let Te=Pe[0],Ie=Pe[Pe.length-1];const je=Ie<Te;je&&([Te,Ie]=[Ie,Te]);let Oe=Ee(Te),ke=Ee(Ie),Fe,Me;const De=Re==null?10:+Re;let Ue=[];if(!(_e%1)&&ke-Oe<De){if(Oe=Math.floor(Oe),ke=Math.ceil(ke),Te>0){for(;Oe<=ke;++Oe)for(Fe=1;Fe<_e;++Fe)if(Me=Oe<0?Fe/Se(-Oe):Fe*Se(Oe),!(Me<Te)){if(Me>Ie)break;Ue.push(Me)}}else for(;Oe<=ke;++Oe)for(Fe=_e-1;Fe>=1;--Fe)if(Me=Oe>0?Fe/Se(-Oe):Fe*Se(Oe),!(Me<Te)){if(Me>Ie)break;Ue.push(Me)}Ue.length*2<De&&(Ue=ticks(Te,Ie,De))}else Ue=ticks(Oe,ke,Math.min(ke-Oe,De)).map(Se);return je?Ue.reverse():Ue},e.tickFormat=(Re,Pe)=>{if(Re==null&&(Re=10),Pe==null&&(Pe=_e===10?"s":","),typeof Pe!="function"&&(!(_e%1)&&(Pe=formatSpecifier(Pe)).precision==null&&(Pe.trim=!0),Pe=format(Pe)),Re===1/0)return Pe;const Te=Math.max(1,_e*Re/e.ticks().length);return Ie=>{let je=Ie/Se(Math.round(Ee(Ie)));return je*_e<_e-.5&&(je*=_e),je<=Te?Pe(Ie):""}},e.nice=()=>xe(nice(xe(),{floor:Re=>Se(Math.floor(Ee(Re))),ceil:Re=>Se(Math.ceil(Ee(Re)))})),e}function log(){const t=loggish(transformer$2()).domain([1,10]);return t.copy=()=>copy$1(t,log()).base(t.base()),initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,xe=t(transformSymlog(e),transformSymexp(e));return xe.constant=function(_e){return arguments.length?t(transformSymlog(e=+_e),transformSymexp(e)):e},linearish(xe)}function symlog(){var t=symlogish(transformer$2());return t.copy=function(){return copy$1(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(identity$4,identity$4),xe=1;function _e(){return xe===1?t(identity$4,identity$4):xe===.5?t(transformSqrt,transformSquare):t(transformPow(xe),transformPow(1/xe))}return e.exponent=function(Ee){return arguments.length?(xe=+Ee,_e()):xe},linearish(e)}function pow(){var t=powish(transformer$2());return t.copy=function(){return copy$1(t,pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(t){return Math.sign(t)*t*t}function unsquare(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function radial(){var t=continuous(),e=[0,1],xe=!1,_e;function Ee(Se){var Ae=unsquare(t(Se));return isNaN(Ae)?_e:xe?Math.round(Ae):Ae}return Ee.invert=function(Se){return t.invert(square(Se))},Ee.domain=function(Se){return arguments.length?(t.domain(Se),Ee):t.domain()},Ee.range=function(Se){return arguments.length?(t.range((e=Array.from(Se,number$1)).map(square)),Ee):e.slice()},Ee.rangeRound=function(Se){return Ee.range(Se).round(!0)},Ee.round=function(Se){return arguments.length?(xe=!!Se,Ee):xe},Ee.clamp=function(Se){return arguments.length?(t.clamp(Se),Ee):t.clamp()},Ee.unknown=function(Se){return arguments.length?(_e=Se,Ee):_e},Ee.copy=function(){return radial(t.domain(),e).round(xe).clamp(t.clamp()).unknown(_e)},initRange.apply(Ee,arguments),linearish(Ee)}function quantile(){var t=[],e=[],xe=[],_e;function Ee(){var Ae=0,Re=Math.max(1,e.length);for(xe=new Array(Re-1);++Ae<Re;)xe[Ae-1]=quantileSorted(t,Ae/Re);return Se}function Se(Ae){return Ae==null||isNaN(Ae=+Ae)?_e:e[bisectRight(xe,Ae)]}return Se.invertExtent=function(Ae){var Re=e.indexOf(Ae);return Re<0?[NaN,NaN]:[Re>0?xe[Re-1]:t[0],Re<xe.length?xe[Re]:t[t.length-1]]},Se.domain=function(Ae){if(!arguments.length)return t.slice();t=[];for(let Re of Ae)Re!=null&&!isNaN(Re=+Re)&&t.push(Re);return t.sort(ascending),Ee()},Se.range=function(Ae){return arguments.length?(e=Array.from(Ae),Ee()):e.slice()},Se.unknown=function(Ae){return arguments.length?(_e=Ae,Se):_e},Se.quantiles=function(){return xe.slice()},Se.copy=function(){return quantile().domain(t).range(e).unknown(_e)},initRange.apply(Se,arguments)}function quantize(){var t=0,e=1,xe=1,_e=[.5],Ee=[0,1],Se;function Ae(Pe){return Pe!=null&&Pe<=Pe?Ee[bisectRight(_e,Pe,0,xe)]:Se}function Re(){var Pe=-1;for(_e=new Array(xe);++Pe<xe;)_e[Pe]=((Pe+1)*e-(Pe-xe)*t)/(xe+1);return Ae}return Ae.domain=function(Pe){return arguments.length?([t,e]=Pe,t=+t,e=+e,Re()):[t,e]},Ae.range=function(Pe){return arguments.length?(xe=(Ee=Array.from(Pe)).length-1,Re()):Ee.slice()},Ae.invertExtent=function(Pe){var Te=Ee.indexOf(Pe);return Te<0?[NaN,NaN]:Te<1?[t,_e[0]]:Te>=xe?[_e[xe-1],e]:[_e[Te-1],_e[Te]]},Ae.unknown=function(Pe){return arguments.length&&(Se=Pe),Ae},Ae.thresholds=function(){return _e.slice()},Ae.copy=function(){return quantize().domain([t,e]).range(Ee).unknown(Se)},initRange.apply(linearish(Ae),arguments)}function threshold(){var t=[.5],e=[0,1],xe,_e=1;function Ee(Se){return Se!=null&&Se<=Se?e[bisectRight(t,Se,0,_e)]:xe}return Ee.domain=function(Se){return arguments.length?(t=Array.from(Se),_e=Math.min(t.length,e.length-1),Ee):t.slice()},Ee.range=function(Se){return arguments.length?(e=Array.from(Se),_e=Math.min(t.length,e.length-1),Ee):e.slice()},Ee.invertExtent=function(Se){var Ae=e.indexOf(Se);return[t[Ae-1],t[Ae]]},Ee.unknown=function(Se){return arguments.length?(xe=Se,Ee):xe},Ee.copy=function(){return threshold().domain(t).range(e).unknown(xe)},initRange.apply(Ee,arguments)}const t0=new Date,t1=new Date;function timeInterval(t,e,xe,_e){function Ee(Se){return t(Se=arguments.length===0?new Date:new Date(+Se)),Se}return Ee.floor=Se=>(t(Se=new Date(+Se)),Se),Ee.ceil=Se=>(t(Se=new Date(Se-1)),e(Se,1),t(Se),Se),Ee.round=Se=>{const Ae=Ee(Se),Re=Ee.ceil(Se);return Se-Ae<Re-Se?Ae:Re},Ee.offset=(Se,Ae)=>(e(Se=new Date(+Se),Ae==null?1:Math.floor(Ae)),Se),Ee.range=(Se,Ae,Re)=>{const Pe=[];if(Se=Ee.ceil(Se),Re=Re==null?1:Math.floor(Re),!(Se<Ae)||!(Re>0))return Pe;let Te;do Pe.push(Te=new Date(+Se)),e(Se,Re),t(Se);while(Te<Se&&Se<Ae);return Pe},Ee.filter=Se=>timeInterval(Ae=>{if(Ae>=Ae)for(;t(Ae),!Se(Ae);)Ae.setTime(Ae-1)},(Ae,Re)=>{if(Ae>=Ae)if(Re<0)for(;++Re<=0;)for(;e(Ae,-1),!Se(Ae););else for(;--Re>=0;)for(;e(Ae,1),!Se(Ae););}),xe&&(Ee.count=(Se,Ae)=>(t0.setTime(+Se),t1.setTime(+Ae),t(t0),t(t1),Math.floor(xe(t0,t1))),Ee.every=Se=>(Se=Math.floor(Se),!isFinite(Se)||!(Se>0)?null:Se>1?Ee.filter(_e?Ae=>_e(Ae)%Se===0:Ae=>Ee.count(0,Ae)%Se===0):Ee)),Ee}const millisecond=timeInterval(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);millisecond.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?timeInterval(e=>{e.setTime(Math.floor(e/t)*t)},(e,xe)=>{e.setTime(+e+xe*t)},(e,xe)=>(xe-e)/t):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*durationSecond)},(t,e)=>(e-t)/durationSecond,t=>t.getUTCSeconds());second.range;const timeMinute=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getMinutes());timeMinute.range;const utcMinute=timeInterval(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*durationMinute)},(t,e)=>(e-t)/durationMinute,t=>t.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*durationSecond-t.getMinutes()*durationMinute)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getHours());timeHour.range;const utcHour=timeInterval(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*durationHour)},(t,e)=>(e-t)/durationHour,t=>t.getUTCHours());utcHour.range;const timeDay=timeInterval(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationDay,t=>t.getDate()-1);timeDay.range;const utcDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>t.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/durationDay,t=>Math.floor(t/durationDay));unixDay.range;function timeWeekday(t){return timeInterval(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,xe)=>{e.setDate(e.getDate()+xe*7)},(e,xe)=>(xe-e-(xe.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(t){return timeInterval(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,xe)=>{e.setUTCDate(e.getUTCDate()+xe*7)},(e,xe)=>(xe-e)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());timeMonth.range;const utcMonth=timeInterval(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());utcMonth.range;const timeYear=timeInterval(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());timeYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,xe)=>{e.setFullYear(e.getFullYear()+xe*t)});timeYear.range;const utcYear=timeInterval(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());utcYear.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:timeInterval(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,xe)=>{e.setUTCFullYear(e.getUTCFullYear()+xe*t)});utcYear.range;function ticker(t,e,xe,_e,Ee,Se){const Ae=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[Se,1,durationMinute],[Se,5,5*durationMinute],[Se,15,15*durationMinute],[Se,30,30*durationMinute],[Ee,1,durationHour],[Ee,3,3*durationHour],[Ee,6,6*durationHour],[Ee,12,12*durationHour],[_e,1,durationDay],[_e,2,2*durationDay],[xe,1,durationWeek],[e,1,durationMonth],[e,3,3*durationMonth],[t,1,durationYear]];function Re(Te,Ie,je){const Oe=Ie<Te;Oe&&([Te,Ie]=[Ie,Te]);const ke=je&&typeof je.range=="function"?je:Pe(Te,Ie,je),Fe=ke?ke.range(Te,+Ie+1):[];return Oe?Fe.reverse():Fe}function Pe(Te,Ie,je){const Oe=Math.abs(Ie-Te)/je,ke=bisector(([,,De])=>De).right(Ae,Oe);if(ke===Ae.length)return t.every(tickStep(Te/durationYear,Ie/durationYear,je));if(ke===0)return millisecond.every(Math.max(tickStep(Te,Ie,je),1));const[Fe,Me]=Ae[Oe/Ae[ke-1][2]<Ae[ke][2]/Oe?ke-1:ke];return Fe.every(Me)}return[Re,Pe]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,xe){return{y:t,m:e,d:xe,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,xe=t.date,_e=t.time,Ee=t.periods,Se=t.days,Ae=t.shortDays,Re=t.months,Pe=t.shortMonths,Te=formatRe(Ee),Ie=formatLookup(Ee),je=formatRe(Se),Oe=formatLookup(Se),ke=formatRe(Ae),Fe=formatLookup(Ae),Me=formatRe(Re),De=formatLookup(Re),Ue=formatRe(Pe),ze=formatLookup(Pe),We={a:yr,A:mr,b:Pr,B:Cr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:wr,q:or,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ye={a:hr,A:br,b:Ir,B:jr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Mr,q:Vr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Xe={a:cr,A:Ze,b:er,B:sr,c:fr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:rr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:_r,X:Er,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};We.x=ir(xe,We),We.X=ir(_e,We),We.c=ir(e,We),Ye.x=ir(xe,Ye),Ye.X=ir(_e,Ye),Ye.c=ir(e,Ye);function ir(Or,Xr){return function(Qr){var Fr=[],xn=-1,An=0,un=Or.length,Nr,Bn,Vn;for(Qr instanceof Date||(Qr=new Date(+Qr));++xn<un;)Or.charCodeAt(xn)===37&&(Fr.push(Or.slice(An,xn)),(Bn=pads[Nr=Or.charAt(++xn)])!=null?Nr=Or.charAt(++xn):Bn=Nr==="e"?" ":"0",(Vn=Xr[Nr])&&(Nr=Vn(Qr,Bn)),Fr.push(Nr),An=xn+1);return Fr.push(Or.slice(An,xn)),Fr.join("")}}function Qe(Or,Xr){return function(Qr){var Fr=newDate(1900,void 0,1),xn=Ke(Fr,Or,Qr+="",0),An,un;if(xn!=Qr.length)return null;if("Q"in Fr)return new Date(Fr.Q);if("s"in Fr)return new Date(Fr.s*1e3+("L"in Fr?Fr.L:0));if(Xr&&!("Z"in Fr)&&(Fr.Z=0),"p"in Fr&&(Fr.H=Fr.H%12+Fr.p*12),Fr.m===void 0&&(Fr.m="q"in Fr?Fr.q:0),"V"in Fr){if(Fr.V<1||Fr.V>53)return null;"w"in Fr||(Fr.w=1),"Z"in Fr?(An=utcDate(newDate(Fr.y,0,1)),un=An.getUTCDay(),An=un>4||un===0?utcMonday.ceil(An):utcMonday(An),An=utcDay.offset(An,(Fr.V-1)*7),Fr.y=An.getUTCFullYear(),Fr.m=An.getUTCMonth(),Fr.d=An.getUTCDate()+(Fr.w+6)%7):(An=localDate(newDate(Fr.y,0,1)),un=An.getDay(),An=un>4||un===0?timeMonday.ceil(An):timeMonday(An),An=timeDay.offset(An,(Fr.V-1)*7),Fr.y=An.getFullYear(),Fr.m=An.getMonth(),Fr.d=An.getDate()+(Fr.w+6)%7)}else("W"in Fr||"U"in Fr)&&("w"in Fr||(Fr.w="u"in Fr?Fr.u%7:"W"in Fr?1:0),un="Z"in Fr?utcDate(newDate(Fr.y,0,1)).getUTCDay():localDate(newDate(Fr.y,0,1)).getDay(),Fr.m=0,Fr.d="W"in Fr?(Fr.w+6)%7+Fr.W*7-(un+5)%7:Fr.w+Fr.U*7-(un+6)%7);return"Z"in Fr?(Fr.H+=Fr.Z/100|0,Fr.M+=Fr.Z%100,utcDate(Fr)):localDate(Fr)}}function Ke(Or,Xr,Qr,Fr){for(var xn=0,An=Xr.length,un=Qr.length,Nr,Bn;xn<An;){if(Fr>=un)return-1;if(Nr=Xr.charCodeAt(xn++),Nr===37){if(Nr=Xr.charAt(xn++),Bn=Xe[Nr in pads?Xr.charAt(xn++):Nr],!Bn||(Fr=Bn(Or,Qr,Fr))<0)return-1}else if(Nr!=Qr.charCodeAt(Fr++))return-1}return Fr}function rr(Or,Xr,Qr){var Fr=Te.exec(Xr.slice(Qr));return Fr?(Or.p=Ie.get(Fr[0].toLowerCase()),Qr+Fr[0].length):-1}function cr(Or,Xr,Qr){var Fr=ke.exec(Xr.slice(Qr));return Fr?(Or.w=Fe.get(Fr[0].toLowerCase()),Qr+Fr[0].length):-1}function Ze(Or,Xr,Qr){var Fr=je.exec(Xr.slice(Qr));return Fr?(Or.w=Oe.get(Fr[0].toLowerCase()),Qr+Fr[0].length):-1}function er(Or,Xr,Qr){var Fr=Ue.exec(Xr.slice(Qr));return Fr?(Or.m=ze.get(Fr[0].toLowerCase()),Qr+Fr[0].length):-1}function sr(Or,Xr,Qr){var Fr=Me.exec(Xr.slice(Qr));return Fr?(Or.m=De.get(Fr[0].toLowerCase()),Qr+Fr[0].length):-1}function fr(Or,Xr,Qr){return Ke(Or,e,Xr,Qr)}function _r(Or,Xr,Qr){return Ke(Or,xe,Xr,Qr)}function Er(Or,Xr,Qr){return Ke(Or,_e,Xr,Qr)}function yr(Or){return Ae[Or.getDay()]}function mr(Or){return Se[Or.getDay()]}function Pr(Or){return Pe[Or.getMonth()]}function Cr(Or){return Re[Or.getMonth()]}function wr(Or){return Ee[+(Or.getHours()>=12)]}function or(Or){return 1+~~(Or.getMonth()/3)}function hr(Or){return Ae[Or.getUTCDay()]}function br(Or){return Se[Or.getUTCDay()]}function Ir(Or){return Pe[Or.getUTCMonth()]}function jr(Or){return Re[Or.getUTCMonth()]}function Mr(Or){return Ee[+(Or.getUTCHours()>=12)]}function Vr(Or){return 1+~~(Or.getUTCMonth()/3)}return{format:function(Or){var Xr=ir(Or+="",We);return Xr.toString=function(){return Or},Xr},parse:function(Or){var Xr=Qe(Or+="",!1);return Xr.toString=function(){return Or},Xr},utcFormat:function(Or){var Xr=ir(Or+="",Ye);return Xr.toString=function(){return Or},Xr},utcParse:function(Or){var Xr=Qe(Or+="",!0);return Xr.toString=function(){return Or},Xr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(t,e,xe){var _e=t<0?"-":"",Ee=(_e?-t:t)+"",Se=Ee.length;return _e+(Se<xe?new Array(xe-Se+1).join(e)+Ee:Ee)}function requote(t){return t.replace(requoteRe,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){return new Map(t.map((e,xe)=>[e.toLowerCase(),xe]))}function parseWeekdayNumberSunday(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+1));return _e?(t.w=+_e[0],xe+_e[0].length):-1}function parseWeekdayNumberMonday(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+1));return _e?(t.u=+_e[0],xe+_e[0].length):-1}function parseWeekNumberSunday(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.U=+_e[0],xe+_e[0].length):-1}function parseWeekNumberISO(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.V=+_e[0],xe+_e[0].length):-1}function parseWeekNumberMonday(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.W=+_e[0],xe+_e[0].length):-1}function parseFullYear(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+4));return _e?(t.y=+_e[0],xe+_e[0].length):-1}function parseYear(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.y=+_e[0]+(+_e[0]>68?1900:2e3),xe+_e[0].length):-1}function parseZone(t,e,xe){var _e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(xe,xe+6));return _e?(t.Z=_e[1]?0:-(_e[2]+(_e[3]||"00")),xe+_e[0].length):-1}function parseQuarter(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+1));return _e?(t.q=_e[0]*3-3,xe+_e[0].length):-1}function parseMonthNumber(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.m=_e[0]-1,xe+_e[0].length):-1}function parseDayOfMonth(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.d=+_e[0],xe+_e[0].length):-1}function parseDayOfYear(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+3));return _e?(t.m=0,t.d=+_e[0],xe+_e[0].length):-1}function parseHour24(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.H=+_e[0],xe+_e[0].length):-1}function parseMinutes(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.M=+_e[0],xe+_e[0].length):-1}function parseSeconds(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+2));return _e?(t.S=+_e[0],xe+_e[0].length):-1}function parseMilliseconds(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+3));return _e?(t.L=+_e[0],xe+_e[0].length):-1}function parseMicroseconds(t,e,xe){var _e=numberRe.exec(e.slice(xe,xe+6));return _e?(t.L=Math.floor(_e[0]/1e3),xe+_e[0].length):-1}function parseLiteralPercent(t,e,xe){var _e=percentRe.exec(e.slice(xe,xe+1));return _e?xe+_e[0].length:-1}function parseUnixTimestamp(t,e,xe){var _e=numberRe.exec(e.slice(xe));return _e?(t.Q=+_e[0],xe+_e[0].length):-1}function parseUnixTimestampSeconds(t,e,xe){var _e=numberRe.exec(e.slice(xe));return _e?(t.s=+_e[0],xe+_e[0].length):-1}function formatDayOfMonth(t,e){return pad(t.getDate(),e,2)}function formatHour24(t,e){return pad(t.getHours(),e,2)}function formatHour12(t,e){return pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return pad(1+timeDay.count(timeYear(t),t),e,3)}function formatMilliseconds(t,e){return pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return e===0?7:e}function formatWeekNumberSunday(t,e){return pad(timeSunday.count(timeYear(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||e===0?timeThursday(t):timeThursday.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),pad(timeThursday.count(timeYear(t),t)+(timeYear(t).getDay()===4),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return pad(timeMonday.count(timeYear(t)-1,t),e,2)}function formatYear(t,e){return pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return t=dISO(t),pad(t.getFullYear()%100,e,2)}function formatFullYear(t,e){return pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var xe=t.getDay();return t=xe>=4||xe===0?timeThursday(t):timeThursday.ceil(t),pad(t.getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pad(e/60|0,"0",2)+pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return pad(1+utcDay.count(utcYear(t),t),e,3)}function formatUTCMilliseconds(t,e){return pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return e===0?7:e}function formatUTCWeekNumberSunday(t,e){return pad(utcSunday.count(utcYear(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||e===0?utcThursday(t):utcThursday.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),pad(utcThursday.count(utcYear(t),t)+(utcYear(t).getUTCDay()===4),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return pad(utcMonday.count(utcYear(t)-1,t),e,2)}function formatUTCYear(t,e){return pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return t=UTCdISO(t),pad(t.getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var xe=t.getUTCDay();return t=xe>=4||xe===0?utcThursday(t):utcThursday.ceil(t),pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(t){return locale=formatLocale(t),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(t){return new Date(t)}function number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,xe,_e,Ee,Se,Ae,Re,Pe,Te){var Ie=continuous(),je=Ie.invert,Oe=Ie.domain,ke=Te(".%L"),Fe=Te(":%S"),Me=Te("%I:%M"),De=Te("%I %p"),Ue=Te("%a %d"),ze=Te("%b %d"),We=Te("%B"),Ye=Te("%Y");function Xe(ir){return(Pe(ir)<ir?ke:Re(ir)<ir?Fe:Ae(ir)<ir?Me:Se(ir)<ir?De:_e(ir)<ir?Ee(ir)<ir?Ue:ze:xe(ir)<ir?We:Ye)(ir)}return Ie.invert=function(ir){return new Date(je(ir))},Ie.domain=function(ir){return arguments.length?Oe(Array.from(ir,number)):Oe().map(date)},Ie.ticks=function(ir){var Qe=Oe();return t(Qe[0],Qe[Qe.length-1],ir??10)},Ie.tickFormat=function(ir,Qe){return Qe==null?Xe:Te(Qe)},Ie.nice=function(ir){var Qe=Oe();return(!ir||typeof ir.range!="function")&&(ir=e(Qe[0],Qe[Qe.length-1],ir??10)),ir?Oe(nice(Qe,ir)):Ie},Ie.copy=function(){return copy$1(Ie,calendar(t,e,xe,_e,Ee,Se,Ae,Re,Pe,Te))},Ie}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var t=0,e=1,xe,_e,Ee,Se,Ae=identity$4,Re=!1,Pe;function Te(je){return je==null||isNaN(je=+je)?Pe:Ae(Ee===0?.5:(je=(Se(je)-xe)*Ee,Re?Math.max(0,Math.min(1,je)):je))}Te.domain=function(je){return arguments.length?([t,e]=je,xe=Se(t=+t),_e=Se(e=+e),Ee=xe===_e?0:1/(_e-xe),Te):[t,e]},Te.clamp=function(je){return arguments.length?(Re=!!je,Te):Re},Te.interpolator=function(je){return arguments.length?(Ae=je,Te):Ae};function Ie(je){return function(Oe){var ke,Fe;return arguments.length?([ke,Fe]=Oe,Ae=je(ke,Fe),Te):[Ae(0),Ae(1)]}}return Te.range=Ie(interpolate),Te.rangeRound=Ie(interpolateRound),Te.unknown=function(je){return arguments.length?(Pe=je,Te):Pe},function(je){return Se=je,xe=je(t),_e=je(e),Ee=xe===_e?0:1/(_e-xe),Te}}function copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(transformer$1()(identity$4));return t.copy=function(){return copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(transformer$1()).domain([1,10]);return t.copy=function(){return copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(transformer$1());return t.copy=function(){return copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(transformer$1());return t.copy=function(){return copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=identity$4;function xe(_e){if(_e!=null&&!isNaN(_e=+_e))return e((bisectRight(t,_e,1)-1)/(t.length-1))}return xe.domain=function(_e){if(!arguments.length)return t.slice();t=[];for(let Ee of _e)Ee!=null&&!isNaN(Ee=+Ee)&&t.push(Ee);return t.sort(ascending),xe},xe.interpolator=function(_e){return arguments.length?(e=_e,xe):e},xe.range=function(){return t.map((_e,Ee)=>e(Ee/(t.length-1)))},xe.quantiles=function(_e){return Array.from({length:_e+1},(Ee,Se)=>quantile$1(t,Se/_e))},xe.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(xe,arguments)}function transformer(){var t=0,e=.5,xe=1,_e=1,Ee,Se,Ae,Re,Pe,Te=identity$4,Ie,je=!1,Oe;function ke(Me){return isNaN(Me=+Me)?Oe:(Me=.5+((Me=+Ie(Me))-Se)*(_e*Me<_e*Se?Re:Pe),Te(je?Math.max(0,Math.min(1,Me)):Me))}ke.domain=function(Me){return arguments.length?([t,e,xe]=Me,Ee=Ie(t=+t),Se=Ie(e=+e),Ae=Ie(xe=+xe),Re=Ee===Se?0:.5/(Se-Ee),Pe=Se===Ae?0:.5/(Ae-Se),_e=Se<Ee?-1:1,ke):[t,e,xe]},ke.clamp=function(Me){return arguments.length?(je=!!Me,ke):je},ke.interpolator=function(Me){return arguments.length?(Te=Me,ke):Te};function Fe(Me){return function(De){var Ue,ze,We;return arguments.length?([Ue,ze,We]=De,Te=piecewise(Me,[Ue,ze,We]),ke):[Te(0),Te(.5),Te(1)]}}return ke.range=Fe(interpolate),ke.rangeRound=Fe(interpolateRound),ke.unknown=function(Me){return arguments.length?(Oe=Me,ke):Oe},function(Me){return Ie=Me,Ee=Me(t),Se=Me(e),Ae=Me(xe),Re=Ee===Se?0:.5/(Se-Ee),Pe=Se===Ae?0:.5/(Ae-Se),_e=Se<Ee?-1:1,ke}}function diverging(){var t=linearish(transformer()(identity$4));return t.copy=function(){return copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(transformer()).domain([.1,1,10]);return t.copy=function(){return copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(transformer());return t.copy=function(){return copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(transformer());return t.copy=function(){return copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$2,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var _baseExtremum,hasRequired_baseExtremum;function require_baseExtremum(){if(hasRequired_baseExtremum)return _baseExtremum;hasRequired_baseExtremum=1;var t=requireIsSymbol();function e(xe,_e,Ee){for(var Se=-1,Ae=xe.length;++Se<Ae;){var Re=xe[Se],Pe=_e(Re);if(Pe!=null&&(Te===void 0?Pe===Pe&&!t(Pe):Ee(Pe,Te)))var Te=Pe,Ie=Re}return Ie}return _baseExtremum=e,_baseExtremum}var _baseGt,hasRequired_baseGt;function require_baseGt(){if(hasRequired_baseGt)return _baseGt;hasRequired_baseGt=1;function t(e,xe){return e>xe}return _baseGt=t,_baseGt}var max_1,hasRequiredMax;function requireMax(){if(hasRequiredMax)return max_1;hasRequiredMax=1;var t=require_baseExtremum(),e=require_baseGt(),xe=requireIdentity();function _e(Ee){return Ee&&Ee.length?t(Ee,xe,e):void 0}return max_1=_e,max_1}var maxExports=requireMax();const max$1=getDefaultExportFromCjs(maxExports);var _baseLt,hasRequired_baseLt;function require_baseLt(){if(hasRequired_baseLt)return _baseLt;hasRequired_baseLt=1;function t(e,xe){return e<xe}return _baseLt=t,_baseLt}var min_1,hasRequiredMin;function requireMin(){if(hasRequiredMin)return min_1;hasRequiredMin=1;var t=require_baseExtremum(),e=require_baseLt(),xe=requireIdentity();function _e(Ee){return Ee&&Ee.length?t(Ee,xe,e):void 0}return min_1=_e,min_1}var minExports=requireMin();const min=getDefaultExportFromCjs(minExports);var map_1,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var t=require_arrayMap(),e=require_baseIteratee(),xe=require_baseMap(),_e=requireIsArray();function Ee(Se,Ae){var Re=_e(Se)?t:xe;return Re(Se,e(Ae,3))}return map_1=Ee,map_1}var flatMap_1,hasRequiredFlatMap;function requireFlatMap(){if(hasRequiredFlatMap)return flatMap_1;hasRequiredFlatMap=1;var t=require_baseFlatten(),e=requireMap();function xe(_e,Ee){return t(e(_e,Ee),1)}return flatMap_1=xe,flatMap_1}var flatMapExports=requireFlatMap();const flatMap=getDefaultExportFromCjs(flatMapExports);var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(xe,_e){return t(xe,_e)}return isEqual_1=e,isEqual_1}var isEqualExports=requireIsEqual();const isEqual=getDefaultExportFromCjs(isEqualExports);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};P$1.comparedTo=P$1.cmp=function(t){var e,xe,_e,Ee,Se=this;if(t=new Se.constructor(t),Se.s!==t.s)return Se.s||-t.s;if(Se.e!==t.e)return Se.e>t.e^Se.s<0?1:-1;for(_e=Se.d.length,Ee=t.d.length,e=0,xe=_e<Ee?_e:Ee;e<xe;++e)if(Se.d[e]!==t.d[e])return Se.d[e]>t.d[e]^Se.s<0?1:-1;return _e===Ee?0:_e>Ee^Se.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var t=this,e=t.d.length-1,xe=(e-t.e)*LOG_BASE;if(e=t.d[e],e)for(;e%10==0;e/=10)xe--;return xe<0?0:xe};P$1.dividedBy=P$1.div=function(t){return divide(this,new this.constructor(t))};P$1.dividedToIntegerBy=P$1.idiv=function(t){var e=this,xe=e.constructor;return round(divide(e,new xe(t),0,1),xe.precision)};P$1.equals=P$1.eq=function(t){return!this.cmp(t)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(t){return this.cmp(t)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(t){return this.cmp(t)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(t){return this.cmp(t)<0};P$1.lessThanOrEqualTo=P$1.lte=function(t){return this.cmp(t)<1};P$1.logarithm=P$1.log=function(t){var e,xe=this,_e=xe.constructor,Ee=_e.precision,Se=Ee+5;if(t===void 0)t=new _e(10);else if(t=new _e(t),t.s<1||t.eq(ONE))throw Error(decimalError+"NaN");if(xe.s<1)throw Error(decimalError+(xe.s?"NaN":"-Infinity"));return xe.eq(ONE)?new _e(0):(external=!1,e=divide(ln$1(xe,Se),ln$1(t,Se),Se),external=!0,round(e,Ee))};P$1.minus=P$1.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?subtract(e,t):add(e,(t.s=-t.s,t))};P$1.modulo=P$1.mod=function(t){var e,xe=this,_e=xe.constructor,Ee=_e.precision;if(t=new _e(t),!t.s)throw Error(decimalError+"NaN");return xe.s?(external=!1,e=divide(xe,t,0,1).times(t),external=!0,xe.minus(e)):round(new _e(xe),Ee)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};P$1.plus=P$1.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?add(e,t):subtract(e,(t.s=-t.s,t))};P$1.precision=P$1.sd=function(t){var e,xe,_e,Ee=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(invalidArgument+t);if(e=getBase10Exponent(Ee)+1,_e=Ee.d.length-1,xe=_e*LOG_BASE+1,_e=Ee.d[_e],_e){for(;_e%10==0;_e/=10)xe--;for(_e=Ee.d[0];_e>=10;_e/=10)xe++}return t&&e>xe?e:xe};P$1.squareRoot=P$1.sqrt=function(){var t,e,xe,_e,Ee,Se,Ae,Re=this,Pe=Re.constructor;if(Re.s<1){if(!Re.s)return new Pe(0);throw Error(decimalError+"NaN")}for(t=getBase10Exponent(Re),external=!1,Ee=Math.sqrt(+Re),Ee==0||Ee==1/0?(e=digitsToString(Re.d),(e.length+t)%2==0&&(e+="0"),Ee=Math.sqrt(e),t=mathfloor((t+1)/2)-(t<0||t%2),Ee==1/0?e="5e"+t:(e=Ee.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),_e=new Pe(e)):_e=new Pe(Ee.toString()),xe=Pe.precision,Ee=Ae=xe+3;;)if(Se=_e,_e=Se.plus(divide(Re,Se,Ae+2)).times(.5),digitsToString(Se.d).slice(0,Ae)===(e=digitsToString(_e.d)).slice(0,Ae)){if(e=e.slice(Ae-3,Ae+1),Ee==Ae&&e=="4999"){if(round(Se,xe+1,0),Se.times(Se).eq(Re)){_e=Se;break}}else if(e!="9999")break;Ae+=4}return external=!0,round(_e,xe)};P$1.times=P$1.mul=function(t){var e,xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie=this,je=Ie.constructor,Oe=Ie.d,ke=(t=new je(t)).d;if(!Ie.s||!t.s)return new je(0);for(t.s*=Ie.s,xe=Ie.e+t.e,Pe=Oe.length,Te=ke.length,Pe<Te&&(Se=Oe,Oe=ke,ke=Se,Ae=Pe,Pe=Te,Te=Ae),Se=[],Ae=Pe+Te,_e=Ae;_e--;)Se.push(0);for(_e=Te;--_e>=0;){for(e=0,Ee=Pe+_e;Ee>_e;)Re=Se[Ee]+ke[_e]*Oe[Ee-_e-1]+e,Se[Ee--]=Re%BASE|0,e=Re/BASE|0;Se[Ee]=(Se[Ee]+e)%BASE|0}for(;!Se[--Ae];)Se.pop();return e?++xe:Se.shift(),t.d=Se,t.e=xe,external?round(t,je.precision):t};P$1.toDecimalPlaces=P$1.todp=function(t,e){var xe=this,_e=xe.constructor;return xe=new _e(xe),t===void 0?xe:(checkInt32(t,0,MAX_DIGITS),e===void 0?e=_e.rounding:checkInt32(e,0,8),round(xe,t+getBase10Exponent(xe)+1,e))};P$1.toExponential=function(t,e){var xe,_e=this,Ee=_e.constructor;return t===void 0?xe=toString(_e,!0):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=Ee.rounding:checkInt32(e,0,8),_e=round(new Ee(_e),t+1,e),xe=toString(_e,!0,t+1)),xe};P$1.toFixed=function(t,e){var xe,_e,Ee=this,Se=Ee.constructor;return t===void 0?toString(Ee):(checkInt32(t,0,MAX_DIGITS),e===void 0?e=Se.rounding:checkInt32(e,0,8),_e=round(new Se(Ee),t+getBase10Exponent(Ee)+1,e),xe=toString(_e.abs(),!1,t+getBase10Exponent(_e)+1),Ee.isneg()&&!Ee.isZero()?"-"+xe:xe)};P$1.toInteger=P$1.toint=function(){var t=this,e=t.constructor;return round(new e(t),getBase10Exponent(t)+1,e.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(t){var e,xe,_e,Ee,Se,Ae,Re=this,Pe=Re.constructor,Te=12,Ie=+(t=new Pe(t));if(!t.s)return new Pe(ONE);if(Re=new Pe(Re),!Re.s){if(t.s<1)throw Error(decimalError+"Infinity");return Re}if(Re.eq(ONE))return Re;if(_e=Pe.precision,t.eq(ONE))return round(Re,_e);if(e=t.e,xe=t.d.length-1,Ae=e>=xe,Se=Re.s,Ae){if((xe=Ie<0?-Ie:Ie)<=MAX_SAFE_INTEGER){for(Ee=new Pe(ONE),e=Math.ceil(_e/LOG_BASE+4),external=!1;xe%2&&(Ee=Ee.times(Re),truncate(Ee.d,e)),xe=mathfloor(xe/2),xe!==0;)Re=Re.times(Re),truncate(Re.d,e);return external=!0,t.s<0?new Pe(ONE).div(Ee):round(Ee,_e)}}else if(Se<0)throw Error(decimalError+"NaN");return Se=Se<0&&t.d[Math.max(e,xe)]&1?-1:1,Re.s=1,external=!1,Ee=t.times(ln$1(Re,_e+Te)),external=!0,Ee=exp(Ee),Ee.s=Se,Ee};P$1.toPrecision=function(t,e){var xe,_e,Ee=this,Se=Ee.constructor;return t===void 0?(xe=getBase10Exponent(Ee),_e=toString(Ee,xe<=Se.toExpNeg||xe>=Se.toExpPos)):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=Se.rounding:checkInt32(e,0,8),Ee=round(new Se(Ee),t,e),xe=getBase10Exponent(Ee),_e=toString(Ee,t<=xe||xe<=Se.toExpNeg,t)),_e};P$1.toSignificantDigits=P$1.tosd=function(t,e){var xe=this,_e=xe.constructor;return t===void 0?(t=_e.precision,e=_e.rounding):(checkInt32(t,1,MAX_DIGITS),e===void 0?e=_e.rounding:checkInt32(e,0,8)),round(new _e(xe),t,e)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=getBase10Exponent(t),xe=t.constructor;return toString(t,e<=xe.toExpNeg||e>=xe.toExpPos)};function add(t,e){var xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie=t.constructor,je=Ie.precision;if(!t.s||!e.s)return e.s||(e=new Ie(t)),external?round(e,je):e;if(Pe=t.d,Te=e.d,Ae=t.e,Ee=e.e,Pe=Pe.slice(),Se=Ae-Ee,Se){for(Se<0?(_e=Pe,Se=-Se,Re=Te.length):(_e=Te,Ee=Ae,Re=Pe.length),Ae=Math.ceil(je/LOG_BASE),Re=Ae>Re?Ae+1:Re+1,Se>Re&&(Se=Re,_e.length=1),_e.reverse();Se--;)_e.push(0);_e.reverse()}for(Re=Pe.length,Se=Te.length,Re-Se<0&&(Se=Re,_e=Te,Te=Pe,Pe=_e),xe=0;Se;)xe=(Pe[--Se]=Pe[Se]+Te[Se]+xe)/BASE|0,Pe[Se]%=BASE;for(xe&&(Pe.unshift(xe),++Ee),Re=Pe.length;Pe[--Re]==0;)Pe.pop();return e.d=Pe,e.e=Ee,external?round(e,je):e}function checkInt32(t,e,xe){if(t!==~~t||t<e||t>xe)throw Error(invalidArgument+t)}function digitsToString(t){var e,xe,_e,Ee=t.length-1,Se="",Ae=t[0];if(Ee>0){for(Se+=Ae,e=1;e<Ee;e++)_e=t[e]+"",xe=LOG_BASE-_e.length,xe&&(Se+=getZeroString(xe)),Se+=_e;Ae=t[e],_e=Ae+"",xe=LOG_BASE-_e.length,xe&&(Se+=getZeroString(xe))}else if(Ae===0)return"0";for(;Ae%10===0;)Ae/=10;return Se+Ae}var divide=function(){function t(_e,Ee){var Se,Ae=0,Re=_e.length;for(_e=_e.slice();Re--;)Se=_e[Re]*Ee+Ae,_e[Re]=Se%BASE|0,Ae=Se/BASE|0;return Ae&&_e.unshift(Ae),_e}function e(_e,Ee,Se,Ae){var Re,Pe;if(Se!=Ae)Pe=Se>Ae?1:-1;else for(Re=Pe=0;Re<Se;Re++)if(_e[Re]!=Ee[Re]){Pe=_e[Re]>Ee[Re]?1:-1;break}return Pe}function xe(_e,Ee,Se){for(var Ae=0;Se--;)_e[Se]-=Ae,Ae=_e[Se]<Ee[Se]?1:0,_e[Se]=Ae*BASE+_e[Se]-Ee[Se];for(;!_e[0]&&_e.length>1;)_e.shift()}return function(_e,Ee,Se,Ae){var Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue,ze,We,Ye,Xe,ir,Qe,Ke,rr=_e.constructor,cr=_e.s==Ee.s?1:-1,Ze=_e.d,er=Ee.d;if(!_e.s)return new rr(_e);if(!Ee.s)throw Error(decimalError+"Division by zero");for(Pe=_e.e-Ee.e,Qe=er.length,Xe=Ze.length,ke=new rr(cr),Fe=ke.d=[],Te=0;er[Te]==(Ze[Te]||0);)++Te;if(er[Te]>(Ze[Te]||0)&&--Pe,Se==null?ze=Se=rr.precision:Ae?ze=Se+(getBase10Exponent(_e)-getBase10Exponent(Ee))+1:ze=Se,ze<0)return new rr(0);if(ze=ze/LOG_BASE+2|0,Te=0,Qe==1)for(Ie=0,er=er[0],ze++;(Te<Xe||Ie)&&ze--;Te++)We=Ie*BASE+(Ze[Te]||0),Fe[Te]=We/er|0,Ie=We%er|0;else{for(Ie=BASE/(er[0]+1)|0,Ie>1&&(er=t(er,Ie),Ze=t(Ze,Ie),Qe=er.length,Xe=Ze.length),Ye=Qe,Me=Ze.slice(0,Qe),De=Me.length;De<Qe;)Me[De++]=0;Ke=er.slice(),Ke.unshift(0),ir=er[0],er[1]>=BASE/2&&++ir;do Ie=0,Re=e(er,Me,Qe,De),Re<0?(Ue=Me[0],Qe!=De&&(Ue=Ue*BASE+(Me[1]||0)),Ie=Ue/ir|0,Ie>1?(Ie>=BASE&&(Ie=BASE-1),je=t(er,Ie),Oe=je.length,De=Me.length,Re=e(je,Me,Oe,De),Re==1&&(Ie--,xe(je,Qe<Oe?Ke:er,Oe))):(Ie==0&&(Re=Ie=1),je=er.slice()),Oe=je.length,Oe<De&&je.unshift(0),xe(Me,je,De),Re==-1&&(De=Me.length,Re=e(er,Me,Qe,De),Re<1&&(Ie++,xe(Me,Qe<De?Ke:er,De))),De=Me.length):Re===0&&(Ie++,Me=[0]),Fe[Te++]=Ie,Re&&Me[0]?Me[De++]=Ze[Ye]||0:(Me=[Ze[Ye]],De=1);while((Ye++<Xe||Me[0]!==void 0)&&ze--)}return Fe[0]||Fe.shift(),ke.e=Pe,round(ke,Ae?Se+getBase10Exponent(ke)+1:Se)}}();function exp(t,e){var xe,_e,Ee,Se,Ae,Re,Pe=0,Te=0,Ie=t.constructor,je=Ie.precision;if(getBase10Exponent(t)>16)throw Error(exponentOutOfRange+getBase10Exponent(t));if(!t.s)return new Ie(ONE);for(external=!1,Re=je,Ae=new Ie(.03125);t.abs().gte(.1);)t=t.times(Ae),Te+=5;for(_e=Math.log(mathpow(2,Te))/Math.LN10*2+5|0,Re+=_e,xe=Ee=Se=new Ie(ONE),Ie.precision=Re;;){if(Ee=round(Ee.times(t),Re),xe=xe.times(++Pe),Ae=Se.plus(divide(Ee,xe,Re)),digitsToString(Ae.d).slice(0,Re)===digitsToString(Se.d).slice(0,Re)){for(;Te--;)Se=round(Se.times(Se),Re);return Ie.precision=je,e==null?(external=!0,round(Se,je)):Se}Se=Ae}}function getBase10Exponent(t){for(var e=t.e*LOG_BASE,xe=t.d[0];xe>=10;xe/=10)e++;return e}function getLn10(t,e,xe){if(e>t.LN10.sd())throw external=!0,xe&&(t.precision=xe),Error(decimalError+"LN10 precision limit exceeded");return round(new t(t.LN10),e)}function getZeroString(t){for(var e="";t--;)e+="0";return e}function ln$1(t,e){var xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie,je=1,Oe=10,ke=t,Fe=ke.d,Me=ke.constructor,De=Me.precision;if(ke.s<1)throw Error(decimalError+(ke.s?"NaN":"-Infinity"));if(ke.eq(ONE))return new Me(0);if(e==null?(external=!1,Te=De):Te=e,ke.eq(10))return e==null&&(external=!0),getLn10(Me,Te);if(Te+=Oe,Me.precision=Te,xe=digitsToString(Fe),_e=xe.charAt(0),Se=getBase10Exponent(ke),Math.abs(Se)<15e14){for(;_e<7&&_e!=1||_e==1&&xe.charAt(1)>3;)ke=ke.times(t),xe=digitsToString(ke.d),_e=xe.charAt(0),je++;Se=getBase10Exponent(ke),_e>1?(ke=new Me("0."+xe),Se++):ke=new Me(_e+"."+xe.slice(1))}else return Pe=getLn10(Me,Te+2,De).times(Se+""),ke=ln$1(new Me(_e+"."+xe.slice(1)),Te-Oe).plus(Pe),Me.precision=De,e==null?(external=!0,round(ke,De)):ke;for(Re=Ae=ke=divide(ke.minus(ONE),ke.plus(ONE),Te),Ie=round(ke.times(ke),Te),Ee=3;;){if(Ae=round(Ae.times(Ie),Te),Pe=Re.plus(divide(Ae,new Me(Ee),Te)),digitsToString(Pe.d).slice(0,Te)===digitsToString(Re.d).slice(0,Te))return Re=Re.times(2),Se!==0&&(Re=Re.plus(getLn10(Me,Te+2,De).times(Se+""))),Re=divide(Re,new Me(je),Te),Me.precision=De,e==null?(external=!0,round(Re,De)):Re;Re=Pe,Ee+=2}}function parseDecimal(t,e){var xe,_e,Ee;for((xe=e.indexOf("."))>-1&&(e=e.replace(".","")),(_e=e.search(/e/i))>0?(xe<0&&(xe=_e),xe+=+e.slice(_e+1),e=e.substring(0,_e)):xe<0&&(xe=e.length),_e=0;e.charCodeAt(_e)===48;)++_e;for(Ee=e.length;e.charCodeAt(Ee-1)===48;)--Ee;if(e=e.slice(_e,Ee),e){if(Ee-=_e,xe=xe-_e-1,t.e=mathfloor(xe/LOG_BASE),t.d=[],_e=(xe+1)%LOG_BASE,xe<0&&(_e+=LOG_BASE),_e<Ee){for(_e&&t.d.push(+e.slice(0,_e)),Ee-=LOG_BASE;_e<Ee;)t.d.push(+e.slice(_e,_e+=LOG_BASE));e=e.slice(_e),_e=LOG_BASE-e.length}else _e-=Ee;for(;_e--;)e+="0";if(t.d.push(+e),external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+xe)}else t.s=0,t.e=0,t.d=[0];return t}function round(t,e,xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je=t.d;for(Ae=1,Se=je[0];Se>=10;Se/=10)Ae++;if(_e=e-Ae,_e<0)_e+=LOG_BASE,Ee=e,Te=je[Ie=0];else{if(Ie=Math.ceil((_e+1)/LOG_BASE),Se=je.length,Ie>=Se)return t;for(Te=Se=je[Ie],Ae=1;Se>=10;Se/=10)Ae++;_e%=LOG_BASE,Ee=_e-LOG_BASE+Ae}if(xe!==void 0&&(Se=mathpow(10,Ae-Ee-1),Re=Te/Se%10|0,Pe=e<0||je[Ie+1]!==void 0||Te%Se,Pe=xe<4?(Re||Pe)&&(xe==0||xe==(t.s<0?3:2)):Re>5||Re==5&&(xe==4||Pe||xe==6&&(_e>0?Ee>0?Te/mathpow(10,Ae-Ee):0:je[Ie-1])%10&1||xe==(t.s<0?8:7))),e<1||!je[0])return Pe?(Se=getBase10Exponent(t),je.length=1,e=e-Se-1,je[0]=mathpow(10,(LOG_BASE-e%LOG_BASE)%LOG_BASE),t.e=mathfloor(-e/LOG_BASE)||0):(je.length=1,je[0]=t.e=t.s=0),t;if(_e==0?(je.length=Ie,Se=1,Ie--):(je.length=Ie+1,Se=mathpow(10,LOG_BASE-_e),je[Ie]=Ee>0?(Te/mathpow(10,Ae-Ee)%mathpow(10,Ee)|0)*Se:0),Pe)for(;;)if(Ie==0){(je[0]+=Se)==BASE&&(je[0]=1,++t.e);break}else{if(je[Ie]+=Se,je[Ie]!=BASE)break;je[Ie--]=0,Se=1}for(_e=je.length;je[--_e]===0;)je.pop();if(external&&(t.e>MAX_E||t.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(t));return t}function subtract(t,e){var xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe=t.constructor,ke=Oe.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new Oe(t),external?round(e,ke):e;if(Pe=t.d,je=e.d,_e=e.e,Te=t.e,Pe=Pe.slice(),Ae=Te-_e,Ae){for(Ie=Ae<0,Ie?(xe=Pe,Ae=-Ae,Re=je.length):(xe=je,_e=Te,Re=Pe.length),Ee=Math.max(Math.ceil(ke/LOG_BASE),Re)+2,Ae>Ee&&(Ae=Ee,xe.length=1),xe.reverse(),Ee=Ae;Ee--;)xe.push(0);xe.reverse()}else{for(Ee=Pe.length,Re=je.length,Ie=Ee<Re,Ie&&(Re=Ee),Ee=0;Ee<Re;Ee++)if(Pe[Ee]!=je[Ee]){Ie=Pe[Ee]<je[Ee];break}Ae=0}for(Ie&&(xe=Pe,Pe=je,je=xe,e.s=-e.s),Re=Pe.length,Ee=je.length-Re;Ee>0;--Ee)Pe[Re++]=0;for(Ee=je.length;Ee>Ae;){if(Pe[--Ee]<je[Ee]){for(Se=Ee;Se&&Pe[--Se]===0;)Pe[Se]=BASE-1;--Pe[Se],Pe[Ee]+=BASE}Pe[Ee]-=je[Ee]}for(;Pe[--Re]===0;)Pe.pop();for(;Pe[0]===0;Pe.shift())--_e;return Pe[0]?(e.d=Pe,e.e=_e,external?round(e,ke):e):new Oe(0)}function toString(t,e,xe){var _e,Ee=getBase10Exponent(t),Se=digitsToString(t.d),Ae=Se.length;return e?(xe&&(_e=xe-Ae)>0?Se=Se.charAt(0)+"."+Se.slice(1)+getZeroString(_e):Ae>1&&(Se=Se.charAt(0)+"."+Se.slice(1)),Se=Se+(Ee<0?"e":"e+")+Ee):Ee<0?(Se="0."+getZeroString(-Ee-1)+Se,xe&&(_e=xe-Ae)>0&&(Se+=getZeroString(_e))):Ee>=Ae?(Se+=getZeroString(Ee+1-Ae),xe&&(_e=xe-Ee-1)>0&&(Se=Se+"."+getZeroString(_e))):((_e=Ee+1)<Ae&&(Se=Se.slice(0,_e)+"."+Se.slice(_e)),xe&&(_e=xe-Ae)>0&&(Ee+1===Ae&&(Se+="."),Se+=getZeroString(_e))),t.s<0?"-"+Se:Se}function truncate(t,e){if(t.length>e)return t.length=e,!0}function clone(t){var e,xe,_e;function Ee(Se){var Ae=this;if(!(Ae instanceof Ee))return new Ee(Se);if(Ae.constructor=Ee,Se instanceof Ee){Ae.s=Se.s,Ae.e=Se.e,Ae.d=(Se=Se.d)?Se.slice():Se;return}if(typeof Se=="number"){if(Se*0!==0)throw Error(invalidArgument+Se);if(Se>0)Ae.s=1;else if(Se<0)Se=-Se,Ae.s=-1;else{Ae.s=0,Ae.e=0,Ae.d=[0];return}if(Se===~~Se&&Se<1e7){Ae.e=0,Ae.d=[Se];return}return parseDecimal(Ae,Se.toString())}else if(typeof Se!="string")throw Error(invalidArgument+Se);if(Se.charCodeAt(0)===45?(Se=Se.slice(1),Ae.s=-1):Ae.s=1,isDecimal.test(Se))parseDecimal(Ae,Se);else throw Error(invalidArgument+Se)}if(Ee.prototype=P$1,Ee.ROUND_UP=0,Ee.ROUND_DOWN=1,Ee.ROUND_CEIL=2,Ee.ROUND_FLOOR=3,Ee.ROUND_HALF_UP=4,Ee.ROUND_HALF_DOWN=5,Ee.ROUND_HALF_EVEN=6,Ee.ROUND_HALF_CEIL=7,Ee.ROUND_HALF_FLOOR=8,Ee.clone=clone,Ee.config=Ee.set=config,t===void 0&&(t={}),t)for(_e=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<_e.length;)t.hasOwnProperty(xe=_e[e++])||(t[xe]=this[xe]);return Ee.config(t),Ee}function config(t){if(!t||typeof t!="object")throw Error(decimalError+"Object expected");var e,xe,_e,Ee=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<Ee.length;e+=3)if((_e=t[xe=Ee[e]])!==void 0)if(mathfloor(_e)===_e&&_e>=Ee[e+1]&&_e<=Ee[e+2])this[xe]=_e;else throw Error(invalidArgument+xe+": "+_e);if((_e=t[xe="LN10"])!==void 0)if(_e==Math.LN10)this[xe]=new this(_e);else throw Error(invalidArgument+xe+": "+_e);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(t){return _arrayWithoutHoles$a(t)||_iterableToArray$b(t)||_unsupportedIterableToArray$g(t)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$g(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$g(t,e)}}function _iterableToArray$b(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$a(t){if(Array.isArray(t))return _arrayLikeToArray$g(t)}function _arrayLikeToArray$g(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}var identity$1=function t(e){return e},PLACE_HOLDER={},isPlaceHolder=function t(e){return e===PLACE_HOLDER},curry0=function t(e){return function xe(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?xe:e.apply(void 0,arguments)}},curryN=function t(e,xe){return e===1?xe:curry0(function(){for(var _e=arguments.length,Ee=new Array(_e),Se=0;Se<_e;Se++)Ee[Se]=arguments[Se];var Ae=Ee.filter(function(Re){return Re!==PLACE_HOLDER}).length;return Ae>=e?xe.apply(void 0,Ee):t(e-Ae,curry0(function(){for(var Re=arguments.length,Pe=new Array(Re),Te=0;Te<Re;Te++)Pe[Te]=arguments[Te];var Ie=Ee.map(function(je){return isPlaceHolder(je)?Pe.shift():je});return xe.apply(void 0,_toConsumableArray$a(Ie).concat(Pe))}))})},curry=function t(e){return curryN(e.length,e)},range$1=function t(e,xe){for(var _e=[],Ee=e;Ee<xe;++Ee)_e[Ee-e]=Ee;return _e},map=curry(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(xe){return e[xe]}).map(t)}),compose=function t(){for(var e=arguments.length,xe=new Array(e),_e=0;_e<e;_e++)xe[_e]=arguments[_e];if(!xe.length)return identity$1;var Ee=xe.reverse(),Se=Ee[0],Ae=Ee.slice(1);return function(){return Ae.reduce(function(Re,Pe){return Pe(Re)},Se.apply(void 0,arguments))}},reverse=function t(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},memoize$1=function t(e){var xe=null,_e=null;return function(){for(var Ee=arguments.length,Se=new Array(Ee),Ae=0;Ae<Ee;Ae++)Se[Ae]=arguments[Ae];return xe&&Se.every(function(Re,Pe){return Re===xe[Pe]})||(xe=Se,_e=e.apply(void 0,Se)),_e}};function getDigitCount(t){var e;return t===0?e=1:e=Math.floor(new Decimal$1(t).abs().log(10).toNumber())+1,e}function rangeStep(t,e,xe){for(var _e=new Decimal$1(t),Ee=0,Se=[];_e.lt(e)&&Ee<1e5;)Se.push(_e.toNumber()),_e=_e.add(xe),Ee++;return Se}var interpolateNumber=curry(function(t,e,xe){var _e=+t,Ee=+e;return _e+xe*(Ee-_e)}),uninterpolateNumber=curry(function(t,e,xe){var _e=e-+t;return _e=_e||1/0,(xe-t)/_e}),uninterpolateTruncation=curry(function(t,e,xe){var _e=e-+t;return _e=_e||1/0,Math.max(0,Math.min(1,(xe-t)/_e))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(t){return _arrayWithoutHoles$9(t)||_iterableToArray$a(t)||_unsupportedIterableToArray$f(t)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles$9(t){if(Array.isArray(t))return _arrayLikeToArray$f(t)}function _slicedToArray$8(t,e){return _arrayWithHoles$9(t)||_iterableToArrayLimit$8(t,e)||_unsupportedIterableToArray$f(t,e)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$f(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$f(t,e)}}function _arrayLikeToArray$f(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var xe=[],_e=!0,Ee=!1,Se=void 0;try{for(var Ae=t[Symbol.iterator](),Re;!(_e=(Re=Ae.next()).done)&&(xe.push(Re.value),!(e&&xe.length===e));_e=!0);}catch(Pe){Ee=!0,Se=Pe}finally{try{!_e&&Ae.return!=null&&Ae.return()}finally{if(Ee)throw Se}}return xe}}function _arrayWithHoles$9(t){if(Array.isArray(t))return t}function getValidInterval(t){var e=_slicedToArray$8(t,2),xe=e[0],_e=e[1],Ee=xe,Se=_e;return xe>_e&&(Ee=_e,Se=xe),[Ee,Se]}function getFormatStep(t,e,xe){if(t.lte(0))return new Decimal$1(0);var _e=Arithmetic.getDigitCount(t.toNumber()),Ee=new Decimal$1(10).pow(_e),Se=t.div(Ee),Ae=_e!==1?.05:.1,Re=new Decimal$1(Math.ceil(Se.div(Ae).toNumber())).add(xe).mul(Ae),Pe=Re.mul(Ee);return e?Pe:new Decimal$1(Math.ceil(Pe))}function getTickOfSingleValue(t,e,xe){var _e=1,Ee=new Decimal$1(t);if(!Ee.isint()&&xe){var Se=Math.abs(t);Se<1?(_e=new Decimal$1(10).pow(Arithmetic.getDigitCount(t)-1),Ee=new Decimal$1(Math.floor(Ee.div(_e).toNumber())).mul(_e)):Se>1&&(Ee=new Decimal$1(Math.floor(t)))}else t===0?Ee=new Decimal$1(Math.floor((e-1)/2)):xe||(Ee=new Decimal$1(Math.floor(t)));var Ae=Math.floor((e-1)/2),Re=compose(map(function(Pe){return Ee.add(new Decimal$1(Pe-Ae).mul(_e)).toNumber()}),range$1);return Re(0,e)}function calculateStep(t,e,xe,_e){var Ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(xe-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var Se=getFormatStep(new Decimal$1(e).sub(t).div(xe-1),_e,Ee),Ae;t<=0&&e>=0?Ae=new Decimal$1(0):(Ae=new Decimal$1(t).add(e).div(2),Ae=Ae.sub(new Decimal$1(Ae).mod(Se)));var Re=Math.ceil(Ae.sub(t).div(Se).toNumber()),Pe=Math.ceil(new Decimal$1(e).sub(Ae).div(Se).toNumber()),Te=Re+Pe+1;return Te>xe?calculateStep(t,e,xe,_e,Ee+1):(Te<xe&&(Pe=e>0?Pe+(xe-Te):Pe,Re=e>0?Re:Re+(xe-Te)),{step:Se,tickMin:Ae.sub(new Decimal$1(Re).mul(Se)),tickMax:Ae.add(new Decimal$1(Pe).mul(Se))})}function getNiceTickValuesFn(t){var e=_slicedToArray$8(t,2),xe=e[0],_e=e[1],Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ae=Math.max(Ee,2),Re=getValidInterval([xe,_e]),Pe=_slicedToArray$8(Re,2),Te=Pe[0],Ie=Pe[1];if(Te===-1/0||Ie===1/0){var je=Ie===1/0?[Te].concat(_toConsumableArray$9(range$1(0,Ee-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$1(0,Ee-1).map(function(){return-1/0})),[Ie]);return xe>_e?reverse(je):je}if(Te===Ie)return getTickOfSingleValue(Te,Ee,Se);var Oe=calculateStep(Te,Ie,Ae,Se),ke=Oe.step,Fe=Oe.tickMin,Me=Oe.tickMax,De=Arithmetic.rangeStep(Fe,Me.add(new Decimal$1(.1).mul(ke)),ke);return xe>_e?reverse(De):De}function getTickValuesFixedDomainFn(t,e){var xe=_slicedToArray$8(t,2),_e=xe[0],Ee=xe[1],Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ae=getValidInterval([_e,Ee]),Re=_slicedToArray$8(Ae,2),Pe=Re[0],Te=Re[1];if(Pe===-1/0||Te===1/0)return[_e,Ee];if(Pe===Te)return[Pe];var Ie=Math.max(e,2),je=getFormatStep(new Decimal$1(Te).sub(Pe).div(Ie-1),Se,0),Oe=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(Pe),new Decimal$1(Te).sub(new Decimal$1(.99).mul(je)),je)),[Te]);return _e>Ee?reverse(Oe):Oe}var getNiceTickValues=memoize$1(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$1(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(t,e){throw new Error(prefix)}var _excluded$b=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$y(t){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$y(t)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$m.apply(this,arguments)}function _slicedToArray$7(t,e){return _arrayWithHoles$8(t)||_iterableToArrayLimit$7(t,e)||_unsupportedIterableToArray$e(t,e)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$e(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$e(t,e)}}function _arrayLikeToArray$e(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$7(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$8(t){if(Array.isArray(t))return t}function _objectWithoutProperties$b(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$b(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$b(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _classCallCheck$f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$w(_e.key),_e)}}function _createClass$f(t,e,xe){return e&&_defineProperties$f(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$c(t,e,xe){return e=_getPrototypeOf$d(e),_possibleConstructorReturn$d(t,_isNativeReflectConstruct$d()?Reflect.construct(e,xe||[],_getPrototypeOf$d(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$d(t,e){if(e&&(_typeof$y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(t)}function _assertThisInitialized$d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!t})()}function _getPrototypeOf$d(t){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$d(t)}function _inherits$d(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$d(t,e)}function _setPrototypeOf$d(t,e){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$d(t,e)}function _defineProperty$w(t,e,xe){return e=_toPropertyKey$w(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$w(t){var e=_toPrimitive$w(t,"string");return _typeof$y(e)=="symbol"?e:e+""}function _toPrimitive$w(t,e){if(_typeof$y(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$y(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ErrorBar=function(t){function e(){return _classCallCheck$f(this,e),_callSuper$c(this,e,arguments)}return _inherits$d(e,t),_createClass$f(e,[{key:"render",value:function(){var _e=this.props,Ee=_e.offset,Se=_e.layout,Ae=_e.width,Re=_e.dataKey,Pe=_e.data,Te=_e.dataPointFormatter,Ie=_e.xAxis,je=_e.yAxis,Oe=_objectWithoutProperties$b(_e,_excluded$b),ke=filterProps(Oe,!1);this.props.direction==="x"&&Ie.type!=="number"&&invariant();var Fe=Pe.map(function(Me){var De=Te(Me,Re),Ue=De.x,ze=De.y,We=De.value,Ye=De.errorVal;if(!Ye)return null;var Xe=[],ir,Qe;if(Array.isArray(Ye)){var Ke=_slicedToArray$7(Ye,2);ir=Ke[0],Qe=Ke[1]}else ir=Qe=Ye;if(Se==="vertical"){var rr=Ie.scale,cr=ze+Ee,Ze=cr+Ae,er=cr-Ae,sr=rr(We-ir),fr=rr(We+Qe);Xe.push({x1:fr,y1:Ze,x2:fr,y2:er}),Xe.push({x1:sr,y1:cr,x2:fr,y2:cr}),Xe.push({x1:sr,y1:Ze,x2:sr,y2:er})}else if(Se==="horizontal"){var _r=je.scale,Er=Ue+Ee,yr=Er-Ae,mr=Er+Ae,Pr=_r(We-ir),Cr=_r(We+Qe);Xe.push({x1:yr,y1:Cr,x2:mr,y2:Cr}),Xe.push({x1:Er,y1:Pr,x2:Er,y2:Cr}),Xe.push({x1:yr,y1:Pr,x2:mr,y2:Pr})}return React.createElement(Layer,_extends$m({className:"recharts-errorBar",key:"bar-".concat(Xe.map(function(wr){return"".concat(wr.x1,"-").concat(wr.x2,"-").concat(wr.y1,"-").concat(wr.y2)}))},ke),Xe.map(function(wr){return React.createElement("line",_extends$m({},wr,{key:"line-".concat(wr.x1,"-").concat(wr.x2,"-").concat(wr.y1,"-").concat(wr.y2)}))}))});return React.createElement(Layer,{className:"recharts-errorBars"},Fe)}}])}(React.Component);_defineProperty$w(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$w(ErrorBar,"displayName","ErrorBar");function _typeof$x(t){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$x(t)}function ownKeys$s(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$s(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$s(Object(xe),!0).forEach(function(_e){_defineProperty$v(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$s(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$v(t,e,xe){return e=_toPropertyKey$v(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$v(t){var e=_toPrimitive$v(t,"string");return _typeof$x(e)=="symbol"?e:e+""}function _toPrimitive$v(t,e){if(_typeof$x(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$x(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getLegendProps=function t(e){var xe=e.children,_e=e.formattedGraphicalItems,Ee=e.legendWidth,Se=e.legendContent,Ae=findChildByType(xe,Legend);if(!Ae)return null;var Re=Legend.defaultProps,Pe=Re!==void 0?_objectSpread$s(_objectSpread$s({},Re),Ae.props):{},Te;return Ae.props&&Ae.props.payload?Te=Ae.props&&Ae.props.payload:Se==="children"?Te=(_e||[]).reduce(function(Ie,je){var Oe=je.item,ke=je.props,Fe=ke.sectors||ke.data||[];return Ie.concat(Fe.map(function(Me){return{type:Ae.props.iconType||Oe.props.legendType,value:Me.name,color:Me.fill,payload:Me}}))},[]):Te=(_e||[]).map(function(Ie){var je=Ie.item,Oe=je.type.defaultProps,ke=Oe!==void 0?_objectSpread$s(_objectSpread$s({},Oe),je.props):{},Fe=ke.dataKey,Me=ke.name,De=ke.legendType,Ue=ke.hide;return{inactive:Ue,dataKey:Fe,type:Pe.iconType||De||"square",color:getMainColorOfGraphicItem(je),value:Me||Fe,payload:ke}}),_objectSpread$s(_objectSpread$s(_objectSpread$s({},Pe),Legend.getWithHeight(Ae,Ee)),{},{payload:Te,item:Ae})};function _typeof$w(t){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$w(t)}function _toConsumableArray$8(t){return _arrayWithoutHoles$8(t)||_iterableToArray$9(t)||_unsupportedIterableToArray$d(t)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$d(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$d(t,e)}}function _iterableToArray$9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$8(t){if(Array.isArray(t))return _arrayLikeToArray$d(t)}function _arrayLikeToArray$d(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function ownKeys$r(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$r(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$r(Object(xe),!0).forEach(function(_e){_defineProperty$u(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$r(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$u(t,e,xe){return e=_toPropertyKey$u(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$u(t){var e=_toPrimitive$u(t,"string");return _typeof$w(e)=="symbol"?e:e+""}function _toPrimitive$u(t,e){if(_typeof$w(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$w(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getValueByDataKey(t,e,xe){return isNil(t)||isNil(e)?xe:isNumOrStr(e)?get(t,e,xe):isFunction(e)?e(t):xe}function getDomainOfDataByKey(t,e,xe,_e){var Ee=flatMap(t,function(Re){return getValueByDataKey(Re,e)});if(xe==="number"){var Se=Ee.filter(function(Re){return isNumber(Re)||parseFloat(Re)});return Se.length?[min(Se),max$1(Se)]:[1/0,-1/0]}var Ae=_e?Ee.filter(function(Re){return!isNil(Re)}):Ee;return Ae.map(function(Re){return isNumOrStr(Re)||Re instanceof Date?Re:""})}var calculateActiveTickIndex=function t(e){var xe,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ee=arguments.length>2?arguments[2]:void 0,Se=arguments.length>3?arguments[3]:void 0,Ae=-1,Re=(xe=_e==null?void 0:_e.length)!==null&&xe!==void 0?xe:0;if(Re<=1)return 0;if(Se&&Se.axisType==="angleAxis"&&Math.abs(Math.abs(Se.range[1]-Se.range[0])-360)<=1e-6)for(var Pe=Se.range,Te=0;Te<Re;Te++){var Ie=Te>0?Ee[Te-1].coordinate:Ee[Re-1].coordinate,je=Ee[Te].coordinate,Oe=Te>=Re-1?Ee[0].coordinate:Ee[Te+1].coordinate,ke=void 0;if(mathSign(je-Ie)!==mathSign(Oe-je)){var Fe=[];if(mathSign(Oe-je)===mathSign(Pe[1]-Pe[0])){ke=Oe;var Me=je+Pe[1]-Pe[0];Fe[0]=Math.min(Me,(Me+Ie)/2),Fe[1]=Math.max(Me,(Me+Ie)/2)}else{ke=Ie;var De=Oe+Pe[1]-Pe[0];Fe[0]=Math.min(je,(De+je)/2),Fe[1]=Math.max(je,(De+je)/2)}var Ue=[Math.min(je,(ke+je)/2),Math.max(je,(ke+je)/2)];if(e>Ue[0]&&e<=Ue[1]||e>=Fe[0]&&e<=Fe[1]){Ae=Ee[Te].index;break}}else{var ze=Math.min(Ie,Oe),We=Math.max(Ie,Oe);if(e>(ze+je)/2&&e<=(We+je)/2){Ae=Ee[Te].index;break}}}else for(var Ye=0;Ye<Re;Ye++)if(Ye===0&&e<=(_e[Ye].coordinate+_e[Ye+1].coordinate)/2||Ye>0&&Ye<Re-1&&e>(_e[Ye].coordinate+_e[Ye-1].coordinate)/2&&e<=(_e[Ye].coordinate+_e[Ye+1].coordinate)/2||Ye===Re-1&&e>(_e[Ye].coordinate+_e[Ye-1].coordinate)/2){Ae=_e[Ye].index;break}return Ae},getMainColorOfGraphicItem=function t(e){var xe,_e=e,Ee=_e.type.displayName,Se=(xe=e.type)!==null&&xe!==void 0&&xe.defaultProps?_objectSpread$r(_objectSpread$r({},e.type.defaultProps),e.props):e.props,Ae=Se.stroke,Re=Se.fill,Pe;switch(Ee){case"Line":Pe=Ae;break;case"Area":case"Radar":Pe=Ae&&Ae!=="none"?Ae:Re;break;default:Pe=Re;break}return Pe},getBarSizeList=function t(e){var xe=e.barSize,_e=e.totalSize,Ee=e.stackGroups,Se=Ee===void 0?{}:Ee;if(!Se)return{};for(var Ae={},Re=Object.keys(Se),Pe=0,Te=Re.length;Pe<Te;Pe++)for(var Ie=Se[Re[Pe]].stackGroups,je=Object.keys(Ie),Oe=0,ke=je.length;Oe<ke;Oe++){var Fe=Ie[je[Oe]],Me=Fe.items,De=Fe.cateAxisId,Ue=Me.filter(function(Qe){return getDisplayName(Qe.type).indexOf("Bar")>=0});if(Ue&&Ue.length){var ze=Ue[0].type.defaultProps,We=ze!==void 0?_objectSpread$r(_objectSpread$r({},ze),Ue[0].props):Ue[0].props,Ye=We.barSize,Xe=We[De];Ae[Xe]||(Ae[Xe]=[]);var ir=isNil(Ye)?xe:Ye;Ae[Xe].push({item:Ue[0],stackList:Ue.slice(1),barSize:isNil(ir)?void 0:getPercentValue(ir,_e,0)})}}return Ae},getBarPosition=function t(e){var xe=e.barGap,_e=e.barCategoryGap,Ee=e.bandSize,Se=e.sizeList,Ae=Se===void 0?[]:Se,Re=e.maxBarSize,Pe=Ae.length;if(Pe<1)return null;var Te=getPercentValue(xe,Ee,0,!0),Ie,je=[];if(Ae[0].barSize===+Ae[0].barSize){var Oe=!1,ke=Ee/Pe,Fe=Ae.reduce(function(Ye,Xe){return Ye+Xe.barSize||0},0);Fe+=(Pe-1)*Te,Fe>=Ee&&(Fe-=(Pe-1)*Te,Te=0),Fe>=Ee&&ke>0&&(Oe=!0,ke*=.9,Fe=Pe*ke);var Me=(Ee-Fe)/2>>0,De={offset:Me-Te,size:0};Ie=Ae.reduce(function(Ye,Xe){var ir={item:Xe.item,position:{offset:De.offset+De.size+Te,size:Oe?ke:Xe.barSize}},Qe=[].concat(_toConsumableArray$8(Ye),[ir]);return De=Qe[Qe.length-1].position,Xe.stackList&&Xe.stackList.length&&Xe.stackList.forEach(function(Ke){Qe.push({item:Ke,position:De})}),Qe},je)}else{var Ue=getPercentValue(_e,Ee,0,!0);Ee-2*Ue-(Pe-1)*Te<=0&&(Te=0);var ze=(Ee-2*Ue-(Pe-1)*Te)/Pe;ze>1&&(ze>>=0);var We=Re===+Re?Math.min(ze,Re):ze;Ie=Ae.reduce(function(Ye,Xe,ir){var Qe=[].concat(_toConsumableArray$8(Ye),[{item:Xe.item,position:{offset:Ue+(ze+Te)*ir+(ze-We)/2,size:We}}]);return Xe.stackList&&Xe.stackList.length&&Xe.stackList.forEach(function(Ke){Qe.push({item:Ke,position:Qe[Qe.length-1].position})}),Qe},je)}return Ie},appendOffsetOfLegend=function t(e,xe,_e,Ee){var Se=_e.children,Ae=_e.width,Re=_e.margin,Pe=Ae-(Re.left||0)-(Re.right||0),Te=getLegendProps({children:Se,legendWidth:Pe});if(Te){var Ie=Ee||{},je=Ie.width,Oe=Ie.height,ke=Te.align,Fe=Te.verticalAlign,Me=Te.layout;if((Me==="vertical"||Me==="horizontal"&&Fe==="middle")&&ke!=="center"&&isNumber(e[ke]))return _objectSpread$r(_objectSpread$r({},e),{},_defineProperty$u({},ke,e[ke]+(je||0)));if((Me==="horizontal"||Me==="vertical"&&ke==="center")&&Fe!=="middle"&&isNumber(e[Fe]))return _objectSpread$r(_objectSpread$r({},e),{},_defineProperty$u({},Fe,e[Fe]+(Oe||0)))}return e},isErrorBarRelevantForAxis=function t(e,xe,_e){return isNil(xe)?!0:e==="horizontal"?xe==="yAxis":e==="vertical"||_e==="x"?xe==="xAxis":_e==="y"?xe==="yAxis":!0},getDomainOfErrorBars=function t(e,xe,_e,Ee,Se){var Ae=xe.props.children,Re=findAllByType(Ae,ErrorBar).filter(function(Te){return isErrorBarRelevantForAxis(Ee,Se,Te.props.direction)});if(Re&&Re.length){var Pe=Re.map(function(Te){return Te.props.dataKey});return e.reduce(function(Te,Ie){var je=getValueByDataKey(Ie,_e);if(isNil(je))return Te;var Oe=Array.isArray(je)?[min(je),max$1(je)]:[je,je],ke=Pe.reduce(function(Fe,Me){var De=getValueByDataKey(Ie,Me,0),Ue=Oe[0]-Math.abs(Array.isArray(De)?De[0]:De),ze=Oe[1]+Math.abs(Array.isArray(De)?De[1]:De);return[Math.min(Ue,Fe[0]),Math.max(ze,Fe[1])]},[1/0,-1/0]);return[Math.min(ke[0],Te[0]),Math.max(ke[1],Te[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function t(e,xe,_e,Ee,Se){var Ae=xe.map(function(Re){return getDomainOfErrorBars(e,Re,_e,Se,Ee)}).filter(function(Re){return!isNil(Re)});return Ae&&Ae.length?Ae.reduce(function(Re,Pe){return[Math.min(Re[0],Pe[0]),Math.max(Re[1],Pe[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function t(e,xe,_e,Ee,Se){var Ae=xe.map(function(Pe){var Te=Pe.props.dataKey;return _e==="number"&&Te&&getDomainOfErrorBars(e,Pe,Te,Ee)||getDomainOfDataByKey(e,Te,_e,Se)});if(_e==="number")return Ae.reduce(function(Pe,Te){return[Math.min(Pe[0],Te[0]),Math.max(Pe[1],Te[1])]},[1/0,-1/0]);var Re={};return Ae.reduce(function(Pe,Te){for(var Ie=0,je=Te.length;Ie<je;Ie++)Re[Te[Ie]]||(Re[Te[Ie]]=!0,Pe.push(Te[Ie]));return Pe},[])},isCategoricalAxis=function t(e,xe){return e==="horizontal"&&xe==="xAxis"||e==="vertical"&&xe==="yAxis"||e==="centric"&&xe==="angleAxis"||e==="radial"&&xe==="radiusAxis"},getTicksOfAxis=function t(e,xe,_e){if(!e)return null;var Ee=e.scale,Se=e.duplicateDomain,Ae=e.type,Re=e.range,Pe=e.realScaleType==="scaleBand"?Ee.bandwidth()/2:2,Te=(xe||_e)&&Ae==="category"&&Ee.bandwidth?Ee.bandwidth()/Pe:0;if(Te=e.axisType==="angleAxis"&&(Re==null?void 0:Re.length)>=2?mathSign(Re[0]-Re[1])*2*Te:Te,xe&&(e.ticks||e.niceTicks)){var Ie=(e.ticks||e.niceTicks).map(function(je){var Oe=Se?Se.indexOf(je):je;return{coordinate:Ee(Oe)+Te,value:je,offset:Te}});return Ie.filter(function(je){return!isNan(je.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(je,Oe){return{coordinate:Ee(je)+Te,value:je,index:Oe,offset:Te}}):Ee.ticks&&!_e?Ee.ticks(e.tickCount).map(function(je){return{coordinate:Ee(je)+Te,value:je,offset:Te}}):Ee.domain().map(function(je,Oe){return{coordinate:Ee(je)+Te,value:Se?Se[je]:je,index:Oe,offset:Te}})},handlerWeakMap=new WeakMap,combineEventHandlers=function t(e,xe){if(typeof xe!="function")return e;handlerWeakMap.has(e)||handlerWeakMap.set(e,new WeakMap);var _e=handlerWeakMap.get(e);if(_e.has(xe))return _e.get(xe);var Ee=function(){e.apply(void 0,arguments),xe.apply(void 0,arguments)};return _e.set(xe,Ee),Ee},parseScale=function t(e,xe,_e){var Ee=e.scale,Se=e.type,Ae=e.layout,Re=e.axisType;if(Ee==="auto")return Ae==="radial"&&Re==="radiusAxis"?{scale:band(),realScaleType:"band"}:Ae==="radial"&&Re==="angleAxis"?{scale:linear(),realScaleType:"linear"}:Se==="category"&&xe&&(xe.indexOf("LineChart")>=0||xe.indexOf("AreaChart")>=0||xe.indexOf("ComposedChart")>=0&&!_e)?{scale:point(),realScaleType:"point"}:Se==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString(Ee)){var Pe="scale".concat(upperFirst(Ee));return{scale:(d3Scales[Pe]||point)(),realScaleType:d3Scales[Pe]?Pe:"point"}}return isFunction(Ee)?{scale:Ee}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function t(e){var xe=e.domain();if(!(!xe||xe.length<=2)){var _e=xe.length,Ee=e.range(),Se=Math.min(Ee[0],Ee[1])-EPS,Ae=Math.max(Ee[0],Ee[1])+EPS,Re=e(xe[0]),Pe=e(xe[_e-1]);(Re<Se||Re>Ae||Pe<Se||Pe>Ae)&&e.domain([xe[0],xe[_e-1]])}},findPositionOfBar=function t(e,xe){if(!e)return null;for(var _e=0,Ee=e.length;_e<Ee;_e++)if(e[_e].item===xe)return e[_e].position;return null},truncateByDomain=function t(e,xe){if(!xe||xe.length!==2||!isNumber(xe[0])||!isNumber(xe[1]))return e;var _e=Math.min(xe[0],xe[1]),Ee=Math.max(xe[0],xe[1]),Se=[e[0],e[1]];return(!isNumber(e[0])||e[0]<_e)&&(Se[0]=_e),(!isNumber(e[1])||e[1]>Ee)&&(Se[1]=Ee),Se[0]>Ee&&(Se[0]=Ee),Se[1]<_e&&(Se[1]=_e),Se},offsetSign=function t(e){var xe=e.length;if(!(xe<=0))for(var _e=0,Ee=e[0].length;_e<Ee;++_e)for(var Se=0,Ae=0,Re=0;Re<xe;++Re){var Pe=isNan(e[Re][_e][1])?e[Re][_e][0]:e[Re][_e][1];Pe>=0?(e[Re][_e][0]=Se,e[Re][_e][1]=Se+Pe,Se=e[Re][_e][1]):(e[Re][_e][0]=Ae,e[Re][_e][1]=Ae+Pe,Ae=e[Re][_e][1])}},offsetPositive=function t(e){var xe=e.length;if(!(xe<=0))for(var _e=0,Ee=e[0].length;_e<Ee;++_e)for(var Se=0,Ae=0;Ae<xe;++Ae){var Re=isNan(e[Ae][_e][1])?e[Ae][_e][0]:e[Ae][_e][1];Re>=0?(e[Ae][_e][0]=Se,e[Ae][_e][1]=Se+Re,Se=e[Ae][_e][1]):(e[Ae][_e][0]=0,e[Ae][_e][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function t(e,xe,_e){var Ee=xe.map(function(Re){return Re.props.dataKey}),Se=STACK_OFFSET_MAP[_e],Ae=shapeStack().keys(Ee).value(function(Re,Pe){return+getValueByDataKey(Re,Pe,0)}).order(stackOrderNone).offset(Se);return Ae(e)},getStackGroupsByAxisId=function t(e,xe,_e,Ee,Se,Ae){if(!e)return null;var Re=Ae?xe.reverse():xe,Pe={},Te=Re.reduce(function(je,Oe){var ke,Fe=(ke=Oe.type)!==null&&ke!==void 0&&ke.defaultProps?_objectSpread$r(_objectSpread$r({},Oe.type.defaultProps),Oe.props):Oe.props,Me=Fe.stackId,De=Fe.hide;if(De)return je;var Ue=Fe[_e],ze=je[Ue]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(Me)){var We=ze.stackGroups[Me]||{numericAxisId:_e,cateAxisId:Ee,items:[]};We.items.push(Oe),ze.hasStack=!0,ze.stackGroups[Me]=We}else ze.stackGroups[uniqueId("_stackId_")]={numericAxisId:_e,cateAxisId:Ee,items:[Oe]};return _objectSpread$r(_objectSpread$r({},je),{},_defineProperty$u({},Ue,ze))},Pe),Ie={};return Object.keys(Te).reduce(function(je,Oe){var ke=Te[Oe];if(ke.hasStack){var Fe={};ke.stackGroups=Object.keys(ke.stackGroups).reduce(function(Me,De){var Ue=ke.stackGroups[De];return _objectSpread$r(_objectSpread$r({},Me),{},_defineProperty$u({},De,{numericAxisId:_e,cateAxisId:Ee,items:Ue.items,stackedData:getStackedData(e,Ue.items,Se)}))},Fe)}return _objectSpread$r(_objectSpread$r({},je),{},_defineProperty$u({},Oe,ke))},Ie)},getTicksOfScale=function t(e,xe){var _e=xe.realScaleType,Ee=xe.type,Se=xe.tickCount,Ae=xe.originalDomain,Re=xe.allowDecimals,Pe=_e||xe.scale;if(Pe!=="auto"&&Pe!=="linear")return null;if(Se&&Ee==="number"&&Ae&&(Ae[0]==="auto"||Ae[1]==="auto")){var Te=e.domain();if(!Te.length)return null;var Ie=getNiceTickValues(Te,Se,Re);return e.domain([min(Ie),max$1(Ie)]),{niceTicks:Ie}}if(Se&&Ee==="number"){var je=e.domain(),Oe=getTickValuesFixedDomain(je,Se,Re);return{niceTicks:Oe}}return null},getCateCoordinateOfBar=function t(e){var xe=e.axis,_e=e.ticks,Ee=e.offset,Se=e.bandSize,Ae=e.entry,Re=e.index;if(xe.type==="category")return _e[Re]?_e[Re].coordinate+Ee:null;var Pe=getValueByDataKey(Ae,xe.dataKey,xe.domain[Re]);return isNil(Pe)?null:xe.scale(Pe)-Se/2+Ee},getBaseValueOfBar=function t(e){var xe=e.numericAxis,_e=xe.scale.domain();if(xe.type==="number"){var Ee=Math.min(_e[0],_e[1]),Se=Math.max(_e[0],_e[1]);return Ee<=0&&Se>=0?0:Se<0?Se:Ee}return _e[0]},getStackedDataOfItem=function t(e,xe){var _e,Ee=(_e=e.type)!==null&&_e!==void 0&&_e.defaultProps?_objectSpread$r(_objectSpread$r({},e.type.defaultProps),e.props):e.props,Se=Ee.stackId;if(isNumOrStr(Se)){var Ae=xe[Se];if(Ae){var Re=Ae.items.indexOf(e);return Re>=0?Ae.stackedData[Re]:null}}return null},getDomainOfSingle=function t(e){return e.reduce(function(xe,_e){return[min(_e.concat([xe[0]]).filter(isNumber)),max$1(_e.concat([xe[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function t(e,xe,_e){return Object.keys(e).reduce(function(Ee,Se){var Ae=e[Se],Re=Ae.stackedData,Pe=Re.reduce(function(Te,Ie){var je=getDomainOfSingle(Ie.slice(xe,_e+1));return[Math.min(Te[0],je[0]),Math.max(Te[1],je[1])]},[1/0,-1/0]);return[Math.min(Pe[0],Ee[0]),Math.max(Pe[1],Ee[1])]},[1/0,-1/0]).map(function(Ee){return Ee===1/0||Ee===-1/0?0:Ee})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function t(e,xe,_e){if(isFunction(e))return e(xe,_e);if(!Array.isArray(e))return xe;var Ee=[];if(isNumber(e[0]))Ee[0]=_e?e[0]:Math.min(e[0],xe[0]);else if(MIN_VALUE_REG.test(e[0])){var Se=+MIN_VALUE_REG.exec(e[0])[1];Ee[0]=xe[0]-Se}else isFunction(e[0])?Ee[0]=e[0](xe[0]):Ee[0]=xe[0];if(isNumber(e[1]))Ee[1]=_e?e[1]:Math.max(e[1],xe[1]);else if(MAX_VALUE_REG.test(e[1])){var Ae=+MAX_VALUE_REG.exec(e[1])[1];Ee[1]=xe[1]+Ae}else isFunction(e[1])?Ee[1]=e[1](xe[1]):Ee[1]=xe[1];return Ee},getBandSizeOfAxis=function t(e,xe,_e){if(e&&e.scale&&e.scale.bandwidth){var Ee=e.scale.bandwidth();if(!_e||Ee>0)return Ee}if(e&&xe&&xe.length>=2){for(var Se=sortBy(xe,function(je){return je.coordinate}),Ae=1/0,Re=1,Pe=Se.length;Re<Pe;Re++){var Te=Se[Re],Ie=Se[Re-1];Ae=Math.min((Te.coordinate||0)-(Ie.coordinate||0),Ae)}return Ae===1/0?0:Ae}return _e?void 0:0},parseDomainOfCategoryAxis=function t(e,xe,_e){return!e||!e.length||isEqual(e,get(_e,"type.defaultProps.domain"))?xe:e},getTooltipItem=function t(e,xe){var _e=e.type.defaultProps?_objectSpread$r(_objectSpread$r({},e.type.defaultProps),e.props):e.props,Ee=_e.dataKey,Se=_e.name,Ae=_e.unit,Re=_e.formatter,Pe=_e.tooltipType,Te=_e.chartType,Ie=_e.hide;return _objectSpread$r(_objectSpread$r({},filterProps(e,!1)),{},{dataKey:Ee,unit:Ae,formatter:Re,name:Se||Ee,color:getMainColorOfGraphicItem(e),value:getValueByDataKey(xe,Ee),type:Pe,payload:xe,chartType:Te,hide:Ie})};function _typeof$v(t){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$v(t)}function ownKeys$q(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$q(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$q(Object(xe),!0).forEach(function(_e){_defineProperty$t(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$q(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$t(t,e,xe){return e=_toPropertyKey$t(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$t(t){var e=_toPrimitive$t(t,"string");return _typeof$v(e)=="symbol"?e:e+""}function _toPrimitive$t(t,e){if(_typeof$v(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$v(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$6(t,e){return _arrayWithHoles$7(t)||_iterableToArrayLimit$6(t,e)||_unsupportedIterableToArray$c(t,e)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$c(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$c(t,e)}}function _arrayLikeToArray$c(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$6(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$7(t){if(Array.isArray(t))return t}var RADIAN$1=Math.PI/180,radianToDegree=function t(e){return e*180/Math.PI},polarToCartesian=function t(e,xe,_e,Ee){return{x:e+Math.cos(-RADIAN$1*Ee)*_e,y:xe+Math.sin(-RADIAN$1*Ee)*_e}},getMaxRadius=function t(e,xe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(_e.left||0)-(_e.right||0)),Math.abs(xe-(_e.top||0)-(_e.bottom||0)))/2},formatAxisMap$1=function t(e,xe,_e,Ee,Se){var Ae=e.width,Re=e.height,Pe=e.startAngle,Te=e.endAngle,Ie=getPercentValue(e.cx,Ae,Ae/2),je=getPercentValue(e.cy,Re,Re/2),Oe=getMaxRadius(Ae,Re,_e),ke=getPercentValue(e.innerRadius,Oe,0),Fe=getPercentValue(e.outerRadius,Oe,Oe*.8),Me=Object.keys(xe);return Me.reduce(function(De,Ue){var ze=xe[Ue],We=ze.domain,Ye=ze.reversed,Xe;if(isNil(ze.range))Ee==="angleAxis"?Xe=[Pe,Te]:Ee==="radiusAxis"&&(Xe=[ke,Fe]),Ye&&(Xe=[Xe[1],Xe[0]]);else{Xe=ze.range;var ir=Xe,Qe=_slicedToArray$6(ir,2);Pe=Qe[0],Te=Qe[1]}var Ke=parseScale(ze,Se),rr=Ke.realScaleType,cr=Ke.scale;cr.domain(We).range(Xe),checkDomainOfScale(cr);var Ze=getTicksOfScale(cr,_objectSpread$q(_objectSpread$q({},ze),{},{realScaleType:rr})),er=_objectSpread$q(_objectSpread$q(_objectSpread$q({},ze),Ze),{},{range:Xe,radius:Fe,realScaleType:rr,scale:cr,cx:Ie,cy:je,innerRadius:ke,outerRadius:Fe,startAngle:Pe,endAngle:Te});return _objectSpread$q(_objectSpread$q({},De),{},_defineProperty$t({},Ue,er))},{})},distanceBetweenPoints=function t(e,xe){var _e=e.x,Ee=e.y,Se=xe.x,Ae=xe.y;return Math.sqrt(Math.pow(_e-Se,2)+Math.pow(Ee-Ae,2))},getAngleOfPoint=function t(e,xe){var _e=e.x,Ee=e.y,Se=xe.cx,Ae=xe.cy,Re=distanceBetweenPoints({x:_e,y:Ee},{x:Se,y:Ae});if(Re<=0)return{radius:Re};var Pe=(_e-Se)/Re,Te=Math.acos(Pe);return Ee>Ae&&(Te=2*Math.PI-Te),{radius:Re,angle:radianToDegree(Te),angleInRadian:Te}},formatAngleOfSector=function t(e){var xe=e.startAngle,_e=e.endAngle,Ee=Math.floor(xe/360),Se=Math.floor(_e/360),Ae=Math.min(Ee,Se);return{startAngle:xe-Ae*360,endAngle:_e-Ae*360}},reverseFormatAngleOfSetor=function t(e,xe){var _e=xe.startAngle,Ee=xe.endAngle,Se=Math.floor(_e/360),Ae=Math.floor(Ee/360),Re=Math.min(Se,Ae);return e+Re*360},inRangeOfSector=function t(e,xe){var _e=e.x,Ee=e.y,Se=getAngleOfPoint({x:_e,y:Ee},xe),Ae=Se.radius,Re=Se.angle,Pe=xe.innerRadius,Te=xe.outerRadius;if(Ae<Pe||Ae>Te)return!1;if(Ae===0)return!0;var Ie=formatAngleOfSector(xe),je=Ie.startAngle,Oe=Ie.endAngle,ke=Re,Fe;if(je<=Oe){for(;ke>Oe;)ke-=360;for(;ke<je;)ke+=360;Fe=ke>=je&&ke<=Oe}else{for(;ke>je;)ke-=360;for(;ke<Oe;)ke+=360;Fe=ke>=Oe&&ke<=je}return Fe?_objectSpread$q(_objectSpread$q({},xe),{},{radius:Ae,angle:reverseFormatAngleOfSetor(ke,xe)}):null},getTickClassName=function t(e){return!reactExports.isValidElement(e)&&!isFunction(e)&&typeof e!="boolean"?e.className:""};function _typeof$u(t){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$u(t)}var _excluded$a=["offset"];function _toConsumableArray$7(t){return _arrayWithoutHoles$7(t)||_iterableToArray$8(t)||_unsupportedIterableToArray$b(t)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$b(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$b(t,e)}}function _iterableToArray$8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$7(t){if(Array.isArray(t))return _arrayLikeToArray$b(t)}function _arrayLikeToArray$b(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _objectWithoutProperties$a(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$a(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$a(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function ownKeys$p(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$p(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$p(Object(xe),!0).forEach(function(_e){_defineProperty$s(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$p(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$s(t,e,xe){return e=_toPropertyKey$s(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$s(t){var e=_toPrimitive$s(t,"string");return _typeof$u(e)=="symbol"?e:e+""}function _toPrimitive$s(t,e){if(_typeof$u(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$u(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$l.apply(this,arguments)}var getLabel=function t(e){var xe=e.value,_e=e.formatter,Ee=isNil(e.children)?xe:e.children;return isFunction(_e)?_e(Ee):Ee},getDeltaAngle$1=function t(e,xe){var _e=mathSign(xe-e),Ee=Math.min(Math.abs(xe-e),360);return _e*Ee},renderRadialLabel=function t(e,xe,_e){var Ee=e.position,Se=e.viewBox,Ae=e.offset,Re=e.className,Pe=Se,Te=Pe.cx,Ie=Pe.cy,je=Pe.innerRadius,Oe=Pe.outerRadius,ke=Pe.startAngle,Fe=Pe.endAngle,Me=Pe.clockWise,De=(je+Oe)/2,Ue=getDeltaAngle$1(ke,Fe),ze=Ue>=0?1:-1,We,Ye;Ee==="insideStart"?(We=ke+ze*Ae,Ye=Me):Ee==="insideEnd"?(We=Fe-ze*Ae,Ye=!Me):Ee==="end"&&(We=Fe+ze*Ae,Ye=Me),Ye=Ue<=0?Ye:!Ye;var Xe=polarToCartesian(Te,Ie,De,We),ir=polarToCartesian(Te,Ie,De,We+(Ye?1:-1)*359),Qe="M".concat(Xe.x,",").concat(Xe.y,`
    A`).concat(De,",").concat(De,",0,1,").concat(Ye?0:1,`,
    `).concat(ir.x,",").concat(ir.y),Ke=isNil(e.id)?uniqueId("recharts-radial-line-"):e.id;return React.createElement("text",_extends$l({},_e,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",Re)}),React.createElement("defs",null,React.createElement("path",{id:Ke,d:Qe})),React.createElement("textPath",{xlinkHref:"#".concat(Ke)},xe))},getAttrsOfPolarLabel=function t(e){var xe=e.viewBox,_e=e.offset,Ee=e.position,Se=xe,Ae=Se.cx,Re=Se.cy,Pe=Se.innerRadius,Te=Se.outerRadius,Ie=Se.startAngle,je=Se.endAngle,Oe=(Ie+je)/2;if(Ee==="outside"){var ke=polarToCartesian(Ae,Re,Te+_e,Oe),Fe=ke.x,Me=ke.y;return{x:Fe,y:Me,textAnchor:Fe>=Ae?"start":"end",verticalAnchor:"middle"}}if(Ee==="center")return{x:Ae,y:Re,textAnchor:"middle",verticalAnchor:"middle"};if(Ee==="centerTop")return{x:Ae,y:Re,textAnchor:"middle",verticalAnchor:"start"};if(Ee==="centerBottom")return{x:Ae,y:Re,textAnchor:"middle",verticalAnchor:"end"};var De=(Pe+Te)/2,Ue=polarToCartesian(Ae,Re,De,Oe),ze=Ue.x,We=Ue.y;return{x:ze,y:We,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function t(e){var xe=e.viewBox,_e=e.parentViewBox,Ee=e.offset,Se=e.position,Ae=xe,Re=Ae.x,Pe=Ae.y,Te=Ae.width,Ie=Ae.height,je=Ie>=0?1:-1,Oe=je*Ee,ke=je>0?"end":"start",Fe=je>0?"start":"end",Me=Te>=0?1:-1,De=Me*Ee,Ue=Me>0?"end":"start",ze=Me>0?"start":"end";if(Se==="top"){var We={x:Re+Te/2,y:Pe-je*Ee,textAnchor:"middle",verticalAnchor:ke};return _objectSpread$p(_objectSpread$p({},We),_e?{height:Math.max(Pe-_e.y,0),width:Te}:{})}if(Se==="bottom"){var Ye={x:Re+Te/2,y:Pe+Ie+Oe,textAnchor:"middle",verticalAnchor:Fe};return _objectSpread$p(_objectSpread$p({},Ye),_e?{height:Math.max(_e.y+_e.height-(Pe+Ie),0),width:Te}:{})}if(Se==="left"){var Xe={x:Re-De,y:Pe+Ie/2,textAnchor:Ue,verticalAnchor:"middle"};return _objectSpread$p(_objectSpread$p({},Xe),_e?{width:Math.max(Xe.x-_e.x,0),height:Ie}:{})}if(Se==="right"){var ir={x:Re+Te+De,y:Pe+Ie/2,textAnchor:ze,verticalAnchor:"middle"};return _objectSpread$p(_objectSpread$p({},ir),_e?{width:Math.max(_e.x+_e.width-ir.x,0),height:Ie}:{})}var Qe=_e?{width:Te,height:Ie}:{};return Se==="insideLeft"?_objectSpread$p({x:Re+De,y:Pe+Ie/2,textAnchor:ze,verticalAnchor:"middle"},Qe):Se==="insideRight"?_objectSpread$p({x:Re+Te-De,y:Pe+Ie/2,textAnchor:Ue,verticalAnchor:"middle"},Qe):Se==="insideTop"?_objectSpread$p({x:Re+Te/2,y:Pe+Oe,textAnchor:"middle",verticalAnchor:Fe},Qe):Se==="insideBottom"?_objectSpread$p({x:Re+Te/2,y:Pe+Ie-Oe,textAnchor:"middle",verticalAnchor:ke},Qe):Se==="insideTopLeft"?_objectSpread$p({x:Re+De,y:Pe+Oe,textAnchor:ze,verticalAnchor:Fe},Qe):Se==="insideTopRight"?_objectSpread$p({x:Re+Te-De,y:Pe+Oe,textAnchor:Ue,verticalAnchor:Fe},Qe):Se==="insideBottomLeft"?_objectSpread$p({x:Re+De,y:Pe+Ie-Oe,textAnchor:ze,verticalAnchor:ke},Qe):Se==="insideBottomRight"?_objectSpread$p({x:Re+Te-De,y:Pe+Ie-Oe,textAnchor:Ue,verticalAnchor:ke},Qe):isObject(Se)&&(isNumber(Se.x)||isPercent(Se.x))&&(isNumber(Se.y)||isPercent(Se.y))?_objectSpread$p({x:Re+getPercentValue(Se.x,Te),y:Pe+getPercentValue(Se.y,Ie),textAnchor:"end",verticalAnchor:"end"},Qe):_objectSpread$p({x:Re+Te/2,y:Pe+Ie/2,textAnchor:"middle",verticalAnchor:"middle"},Qe)},isPolar=function t(e){return"cx"in e&&isNumber(e.cx)};function Label(t){var e=t.offset,xe=e===void 0?5:e,_e=_objectWithoutProperties$a(t,_excluded$a),Ee=_objectSpread$p({offset:xe},_e),Se=Ee.viewBox,Ae=Ee.position,Re=Ee.value,Pe=Ee.children,Te=Ee.content,Ie=Ee.className,je=Ie===void 0?"":Ie,Oe=Ee.textBreakAll;if(!Se||isNil(Re)&&isNil(Pe)&&!reactExports.isValidElement(Te)&&!isFunction(Te))return null;if(reactExports.isValidElement(Te))return reactExports.cloneElement(Te,Ee);var ke;if(isFunction(Te)){if(ke=reactExports.createElement(Te,Ee),reactExports.isValidElement(ke))return ke}else ke=getLabel(Ee);var Fe=isPolar(Se),Me=filterProps(Ee,!0);if(Fe&&(Ae==="insideStart"||Ae==="insideEnd"||Ae==="end"))return renderRadialLabel(Ee,ke,Me);var De=Fe?getAttrsOfPolarLabel(Ee):getAttrsOfCartesianLabel(Ee);return React.createElement(Text,_extends$l({className:clsx("recharts-label",je)},Me,De,{breakAll:Oe}),ke)}Label.displayName="Label";var parseViewBox=function t(e){var xe=e.cx,_e=e.cy,Ee=e.angle,Se=e.startAngle,Ae=e.endAngle,Re=e.r,Pe=e.radius,Te=e.innerRadius,Ie=e.outerRadius,je=e.x,Oe=e.y,ke=e.top,Fe=e.left,Me=e.width,De=e.height,Ue=e.clockWise,ze=e.labelViewBox;if(ze)return ze;if(isNumber(Me)&&isNumber(De)){if(isNumber(je)&&isNumber(Oe))return{x:je,y:Oe,width:Me,height:De};if(isNumber(ke)&&isNumber(Fe))return{x:ke,y:Fe,width:Me,height:De}}return isNumber(je)&&isNumber(Oe)?{x:je,y:Oe,width:0,height:0}:isNumber(xe)&&isNumber(_e)?{cx:xe,cy:_e,startAngle:Se||Ee||0,endAngle:Ae||Ee||0,innerRadius:Te||0,outerRadius:Ie||Pe||Re||0,clockWise:Ue}:e.viewBox?e.viewBox:{}},parseLabel=function t(e,xe){return e?e===!0?React.createElement(Label,{key:"label-implicit",viewBox:xe}):isNumOrStr(e)?React.createElement(Label,{key:"label-implicit",viewBox:xe,value:e}):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,{key:"label-implicit",viewBox:xe}):React.createElement(Label,{key:"label-implicit",content:e,viewBox:xe}):isFunction(e)?React.createElement(Label,{key:"label-implicit",content:e,viewBox:xe}):isObject(e)?React.createElement(Label,_extends$l({viewBox:xe},e,{key:"label-implicit"})):null:null},renderCallByParent$1=function t(e,xe){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&_e&&!e.label)return null;var Ee=e.children,Se=parseViewBox(e),Ae=findAllByType(Ee,Label).map(function(Pe,Te){return reactExports.cloneElement(Pe,{viewBox:xe||Se,key:"label-".concat(Te)})});if(!_e)return Ae;var Re=parseLabel(e.label,xe||Se);return[Re].concat(_toConsumableArray$7(Ae))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last_1,hasRequiredLast;function requireLast(){if(hasRequiredLast)return last_1;hasRequiredLast=1;function t(e){var xe=e==null?0:e.length;return xe?e[xe-1]:void 0}return last_1=t,last_1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);function _typeof$t(t){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$t(t)}var _excluded$9=["valueAccessor"],_excluded2$3=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(t){return _arrayWithoutHoles$6(t)||_iterableToArray$7(t)||_unsupportedIterableToArray$a(t)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$a(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$a(t,e)}}function _iterableToArray$7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$6(t){if(Array.isArray(t))return _arrayLikeToArray$a(t)}function _arrayLikeToArray$a(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$k.apply(this,arguments)}function ownKeys$o(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$o(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$o(Object(xe),!0).forEach(function(_e){_defineProperty$r(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$o(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$r(t,e,xe){return e=_toPropertyKey$r(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$r(t){var e=_toPrimitive$r(t,"string");return _typeof$t(e)=="symbol"?e:e+""}function _toPrimitive$r(t,e){if(_typeof$t(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$t(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$9(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$9(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$9(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}var defaultAccessor=function t(e){return Array.isArray(e.value)?last(e.value):e.value};function LabelList(t){var e=t.valueAccessor,xe=e===void 0?defaultAccessor:e,_e=_objectWithoutProperties$9(t,_excluded$9),Ee=_e.data,Se=_e.dataKey,Ae=_e.clockWise,Re=_e.id,Pe=_e.textBreakAll,Te=_objectWithoutProperties$9(_e,_excluded2$3);return!Ee||!Ee.length?null:React.createElement(Layer,{className:"recharts-label-list"},Ee.map(function(Ie,je){var Oe=isNil(Se)?xe(Ie,je):getValueByDataKey(Ie&&Ie.payload,Se),ke=isNil(Re)?{}:{id:"".concat(Re,"-").concat(je)};return React.createElement(Label,_extends$k({},filterProps(Ie,!0),Te,ke,{parentViewBox:Ie.parentViewBox,value:Oe,textBreakAll:Pe,viewBox:Label.parseViewBox(isNil(Ae)?Ie:_objectSpread$o(_objectSpread$o({},Ie),{},{clockWise:Ae})),key:"label-".concat(je),index:je}))}))}LabelList.displayName="LabelList";function parseLabelList(t,e){return t?t===!0?React.createElement(LabelList,{key:"labelList-implicit",data:e}):React.isValidElement(t)||isFunction(t)?React.createElement(LabelList,{key:"labelList-implicit",data:e,content:t}):isObject(t)?React.createElement(LabelList,_extends$k({data:e},t,{key:"labelList-implicit"})):null:null}function renderCallByParent(t,e){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&xe&&!t.label)return null;var _e=t.children,Ee=findAllByType(_e,LabelList).map(function(Ae,Re){return reactExports.cloneElement(Ae,{data:e,key:"labelList-".concat(Re)})});if(!xe)return Ee;var Se=parseLabelList(t.label,e);return[Se].concat(_toConsumableArray$6(Ee))}LabelList.renderCallByParent=renderCallByParent;function _typeof$s(t){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$s(t)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$j.apply(this,arguments)}function ownKeys$n(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$n(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$n(Object(xe),!0).forEach(function(_e){_defineProperty$q(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$n(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$q(t,e,xe){return e=_toPropertyKey$q(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$q(t){var e=_toPrimitive$q(t,"string");return _typeof$s(e)=="symbol"?e:e+""}function _toPrimitive$q(t,e){if(_typeof$s(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$s(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getDeltaAngle=function t(e,xe){var _e=mathSign(xe-e),Ee=Math.min(Math.abs(xe-e),359.999);return _e*Ee},getTangentCircle=function t(e){var xe=e.cx,_e=e.cy,Ee=e.radius,Se=e.angle,Ae=e.sign,Re=e.isExternal,Pe=e.cornerRadius,Te=e.cornerIsExternal,Ie=Pe*(Re?1:-1)+Ee,je=Math.asin(Pe/Ie)/RADIAN$1,Oe=Te?Se:Se+Ae*je,ke=polarToCartesian(xe,_e,Ie,Oe),Fe=polarToCartesian(xe,_e,Ee,Oe),Me=Te?Se-Ae*je:Se,De=polarToCartesian(xe,_e,Ie*Math.cos(je*RADIAN$1),Me);return{center:ke,circleTangency:Fe,lineTangency:De,theta:je}},getSectorPath=function t(e){var xe=e.cx,_e=e.cy,Ee=e.innerRadius,Se=e.outerRadius,Ae=e.startAngle,Re=e.endAngle,Pe=getDeltaAngle(Ae,Re),Te=Ae+Pe,Ie=polarToCartesian(xe,_e,Se,Ae),je=polarToCartesian(xe,_e,Se,Te),Oe="M ".concat(Ie.x,",").concat(Ie.y,`
    A `).concat(Se,",").concat(Se,`,0,
    `).concat(+(Math.abs(Pe)>180),",").concat(+(Ae>Te),`,
    `).concat(je.x,",").concat(je.y,`
  `);if(Ee>0){var ke=polarToCartesian(xe,_e,Ee,Ae),Fe=polarToCartesian(xe,_e,Ee,Te);Oe+="L ".concat(Fe.x,",").concat(Fe.y,`
            A `).concat(Ee,",").concat(Ee,`,0,
            `).concat(+(Math.abs(Pe)>180),",").concat(+(Ae<=Te),`,
            `).concat(ke.x,",").concat(ke.y," Z")}else Oe+="L ".concat(xe,",").concat(_e," Z");return Oe},getSectorWithCorner=function t(e){var xe=e.cx,_e=e.cy,Ee=e.innerRadius,Se=e.outerRadius,Ae=e.cornerRadius,Re=e.forceCornerRadius,Pe=e.cornerIsExternal,Te=e.startAngle,Ie=e.endAngle,je=mathSign(Ie-Te),Oe=getTangentCircle({cx:xe,cy:_e,radius:Se,angle:Te,sign:je,cornerRadius:Ae,cornerIsExternal:Pe}),ke=Oe.circleTangency,Fe=Oe.lineTangency,Me=Oe.theta,De=getTangentCircle({cx:xe,cy:_e,radius:Se,angle:Ie,sign:-je,cornerRadius:Ae,cornerIsExternal:Pe}),Ue=De.circleTangency,ze=De.lineTangency,We=De.theta,Ye=Pe?Math.abs(Te-Ie):Math.abs(Te-Ie)-Me-We;if(Ye<0)return Re?"M ".concat(Fe.x,",").concat(Fe.y,`
        a`).concat(Ae,",").concat(Ae,",0,0,1,").concat(Ae*2,`,0
        a`).concat(Ae,",").concat(Ae,",0,0,1,").concat(-Ae*2,`,0
      `):getSectorPath({cx:xe,cy:_e,innerRadius:Ee,outerRadius:Se,startAngle:Te,endAngle:Ie});var Xe="M ".concat(Fe.x,",").concat(Fe.y,`
    A`).concat(Ae,",").concat(Ae,",0,0,").concat(+(je<0),",").concat(ke.x,",").concat(ke.y,`
    A`).concat(Se,",").concat(Se,",0,").concat(+(Ye>180),",").concat(+(je<0),",").concat(Ue.x,",").concat(Ue.y,`
    A`).concat(Ae,",").concat(Ae,",0,0,").concat(+(je<0),",").concat(ze.x,",").concat(ze.y,`
  `);if(Ee>0){var ir=getTangentCircle({cx:xe,cy:_e,radius:Ee,angle:Te,sign:je,isExternal:!0,cornerRadius:Ae,cornerIsExternal:Pe}),Qe=ir.circleTangency,Ke=ir.lineTangency,rr=ir.theta,cr=getTangentCircle({cx:xe,cy:_e,radius:Ee,angle:Ie,sign:-je,isExternal:!0,cornerRadius:Ae,cornerIsExternal:Pe}),Ze=cr.circleTangency,er=cr.lineTangency,sr=cr.theta,fr=Pe?Math.abs(Te-Ie):Math.abs(Te-Ie)-rr-sr;if(fr<0&&Ae===0)return"".concat(Xe,"L").concat(xe,",").concat(_e,"Z");Xe+="L".concat(er.x,",").concat(er.y,`
      A`).concat(Ae,",").concat(Ae,",0,0,").concat(+(je<0),",").concat(Ze.x,",").concat(Ze.y,`
      A`).concat(Ee,",").concat(Ee,",0,").concat(+(fr>180),",").concat(+(je>0),",").concat(Qe.x,",").concat(Qe.y,`
      A`).concat(Ae,",").concat(Ae,",0,0,").concat(+(je<0),",").concat(Ke.x,",").concat(Ke.y,"Z")}else Xe+="L".concat(xe,",").concat(_e,"Z");return Xe},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function t(e){var xe=_objectSpread$n(_objectSpread$n({},defaultProps$2),e),_e=xe.cx,Ee=xe.cy,Se=xe.innerRadius,Ae=xe.outerRadius,Re=xe.cornerRadius,Pe=xe.forceCornerRadius,Te=xe.cornerIsExternal,Ie=xe.startAngle,je=xe.endAngle,Oe=xe.className;if(Ae<Se||Ie===je)return null;var ke=clsx("recharts-sector",Oe),Fe=Ae-Se,Me=getPercentValue(Re,Fe,0,!0),De;return Me>0&&Math.abs(Ie-je)<360?De=getSectorWithCorner({cx:_e,cy:Ee,innerRadius:Se,outerRadius:Ae,cornerRadius:Math.min(Me,Fe/2),forceCornerRadius:Pe,cornerIsExternal:Te,startAngle:Ie,endAngle:je}):De=getSectorPath({cx:_e,cy:Ee,innerRadius:Se,outerRadius:Ae,startAngle:Ie,endAngle:je}),React.createElement("path",_extends$j({},filterProps(xe,!0),{className:ke,d:De,role:"img"}))};function _typeof$r(t){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$r(t)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$i.apply(this,arguments)}function ownKeys$m(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$m(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$m(Object(xe),!0).forEach(function(_e){_defineProperty$p(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$m(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$p(t,e,xe){return e=_toPropertyKey$p(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$p(t){var e=_toPrimitive$p(t,"string");return _typeof$r(e)=="symbol"?e:e+""}function _toPrimitive$p(t,e){if(_typeof$r(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$r(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function t(e){return e.x===+e.x&&e.y===+e.y},getX=function t(e){return e.x},getY=function t(e){return e.y},getCurveFactory=function t(e,xe){if(isFunction(e))return e;var _e="curve".concat(upperFirst(e));return(_e==="curveMonotone"||_e==="curveBump")&&xe?CURVE_FACTORIES["".concat(_e).concat(xe==="vertical"?"Y":"X")]:CURVE_FACTORIES[_e]||curveLinear},getPath$1=function t(e){var xe=e.type,_e=xe===void 0?"linear":xe,Ee=e.points,Se=Ee===void 0?[]:Ee,Ae=e.baseLine,Re=e.layout,Pe=e.connectNulls,Te=Pe===void 0?!1:Pe,Ie=getCurveFactory(_e,Re),je=Te?Se.filter(function(Me){return defined(Me)}):Se,Oe;if(Array.isArray(Ae)){var ke=Te?Ae.filter(function(Me){return defined(Me)}):Ae,Fe=je.map(function(Me,De){return _objectSpread$m(_objectSpread$m({},Me),{},{base:ke[De]})});return Re==="vertical"?Oe=shapeArea().y(getY).x1(getX).x0(function(Me){return Me.base.x}):Oe=shapeArea().x(getX).y1(getY).y0(function(Me){return Me.base.y}),Oe.defined(defined).curve(Ie),Oe(Fe)}return Re==="vertical"&&isNumber(Ae)?Oe=shapeArea().y(getY).x1(getX).x0(Ae):isNumber(Ae)?Oe=shapeArea().x(getX).y1(getY).y0(Ae):Oe=shapeLine().x(getX).y(getY),Oe.defined(defined).curve(Ie),Oe(je)},Curve=function t(e){var xe=e.className,_e=e.points,Ee=e.path,Se=e.pathRef;if((!_e||!_e.length)&&!Ee)return null;var Ae=_e&&_e.length?getPath$1(e):Ee;return React.createElement("path",_extends$i({},filterProps(e,!1),adaptEventHandlers(e),{className:clsx("recharts-curve",xe),d:Ae,ref:Se}))},propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function xe(){}return xe.resetWarningCache=e,factoryWithThrowingShims=function(){function _e(Ae,Re,Pe,Te,Ie,je){if(je!==t){var Oe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Oe.name="Invariant Violation",Oe}}_e.isRequired=_e;function Ee(){return _e}var Se={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:Ee,element:_e,elementType:_e,instanceOf:Ee,node:_e,objectOf:Ee,oneOf:Ee,oneOfType:Ee,shape:Ee,exact:Ee,checkPropTypes:xe,resetWarningCache:e};return Se.PropTypes=Se,Se},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty;function combineComparators(t,e){return function(_e,Ee,Se){return t(_e,Ee,Se)&&e(_e,Ee,Se)}}function createIsCircular(t){return function(xe,_e,Ee){if(!xe||!_e||typeof xe!="object"||typeof _e!="object")return t(xe,_e,Ee);var Se=Ee.cache,Ae=Se.get(xe),Re=Se.get(_e);if(Ae&&Re)return Ae===_e&&Re===xe;Se.set(xe,_e),Se.set(_e,xe);var Pe=t(xe,_e,Ee);return Se.delete(xe),Se.delete(_e),Pe}}function getStrictProperties(t){return getOwnPropertyNames(t).concat(getOwnPropertySymbols(t))}var hasOwn=Object.hasOwn||function(t,e){return hasOwnProperty.call(t,e)};function sameValueZeroEqual(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys=Object.keys;function areArraysEqual(t,e,xe){var _e=t.length;if(e.length!==_e)return!1;for(;_e-- >0;)if(!xe.equals(t[_e],e[_e],_e,_e,t,e,xe))return!1;return!0}function areDatesEqual(t,e){return sameValueZeroEqual(t.getTime(),e.getTime())}function areErrorsEqual(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function areFunctionsEqual(t,e){return t===e}function areMapsEqual(t,e,xe){var _e=t.size;if(_e!==e.size)return!1;if(!_e)return!0;for(var Ee=new Array(_e),Se=t.entries(),Ae,Re,Pe=0;(Ae=Se.next())&&!Ae.done;){for(var Te=e.entries(),Ie=!1,je=0;(Re=Te.next())&&!Re.done;){if(Ee[je]){je++;continue}var Oe=Ae.value,ke=Re.value;if(xe.equals(Oe[0],ke[0],Pe,je,t,e,xe)&&xe.equals(Oe[1],ke[1],Oe[0],ke[0],t,e,xe)){Ie=Ee[je]=!0;break}je++}if(!Ie)return!1;Pe++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(t,e,xe){var _e=keys(t),Ee=_e.length;if(keys(e).length!==Ee)return!1;for(;Ee-- >0;)if(!isPropertyEqual(t,e,xe,_e[Ee]))return!1;return!0}function areObjectsEqualStrict(t,e,xe){var _e=getStrictProperties(t),Ee=_e.length;if(getStrictProperties(e).length!==Ee)return!1;for(var Se,Ae,Re;Ee-- >0;)if(Se=_e[Ee],!isPropertyEqual(t,e,xe,Se)||(Ae=getOwnPropertyDescriptor(t,Se),Re=getOwnPropertyDescriptor(e,Se),(Ae||Re)&&(!Ae||!Re||Ae.configurable!==Re.configurable||Ae.enumerable!==Re.enumerable||Ae.writable!==Re.writable)))return!1;return!0}function arePrimitiveWrappersEqual(t,e){return sameValueZeroEqual(t.valueOf(),e.valueOf())}function areRegExpsEqual(t,e){return t.source===e.source&&t.flags===e.flags}function areSetsEqual(t,e,xe){var _e=t.size;if(_e!==e.size)return!1;if(!_e)return!0;for(var Ee=new Array(_e),Se=t.values(),Ae,Re;(Ae=Se.next())&&!Ae.done;){for(var Pe=e.values(),Te=!1,Ie=0;(Re=Pe.next())&&!Re.done;){if(!Ee[Ie]&&xe.equals(Ae.value,Re.value,Ae.value,Re.value,t,e,xe)){Te=Ee[Ie]=!0;break}Ie++}if(!Te)return!1}return!0}function areTypedArraysEqual(t,e){var xe=t.length;if(e.length!==xe)return!1;for(;xe-- >0;)if(t[xe]!==e[xe])return!1;return!0}function areUrlsEqual(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function isPropertyEqual(t,e,xe,_e){return(_e===REACT_OWNER||_e===PREACT_OWNER||_e===PREACT_VNODE)&&(t.$$typeof||e.$$typeof)?!0:hasOwn(e,_e)&&xe.equals(t[_e],e[_e],_e,_e,t,e,xe)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray=Array.isArray,isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(t){var e=t.areArraysEqual,xe=t.areDatesEqual,_e=t.areErrorsEqual,Ee=t.areFunctionsEqual,Se=t.areMapsEqual,Ae=t.areNumbersEqual,Re=t.areObjectsEqual,Pe=t.arePrimitiveWrappersEqual,Te=t.areRegExpsEqual,Ie=t.areSetsEqual,je=t.areTypedArraysEqual,Oe=t.areUrlsEqual;return function(Fe,Me,De){if(Fe===Me)return!0;if(Fe==null||Me==null)return!1;var Ue=typeof Fe;if(Ue!==typeof Me)return!1;if(Ue!=="object")return Ue==="number"?Ae(Fe,Me,De):Ue==="function"?Ee(Fe,Me,De):!1;var ze=Fe.constructor;if(ze!==Me.constructor)return!1;if(ze===Object)return Re(Fe,Me,De);if(isArray(Fe))return e(Fe,Me,De);if(isTypedArray!=null&&isTypedArray(Fe))return je(Fe,Me,De);if(ze===Date)return xe(Fe,Me,De);if(ze===RegExp)return Te(Fe,Me,De);if(ze===Map)return Se(Fe,Me,De);if(ze===Set)return Ie(Fe,Me,De);var We=getTag(Fe);return We===DATE_TAG?xe(Fe,Me,De):We===REG_EXP_TAG?Te(Fe,Me,De):We===MAP_TAG?Se(Fe,Me,De):We===SET_TAG?Ie(Fe,Me,De):We===OBJECT_TAG?typeof Fe.then!="function"&&typeof Me.then!="function"&&Re(Fe,Me,De):We===URL_TAG?Oe(Fe,Me,De):We===ERROR_TAG?_e(Fe,Me,De):We===ARGUMENTS_TAG?Re(Fe,Me,De):We===BOOLEAN_TAG||We===NUMBER_TAG||We===STRING_TAG?Pe(Fe,Me,De):!1}}function createEqualityComparatorConfig(t){var e=t.circular,xe=t.createCustomConfig,_e=t.strict,Ee={areArraysEqual:_e?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:_e?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:_e?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:_e?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:_e?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(xe&&(Ee=assign({},Ee,xe(Ee))),e){var Se=createIsCircular(Ee.areArraysEqual),Ae=createIsCircular(Ee.areMapsEqual),Re=createIsCircular(Ee.areObjectsEqual),Pe=createIsCircular(Ee.areSetsEqual);Ee=assign({},Ee,{areArraysEqual:Se,areMapsEqual:Ae,areObjectsEqual:Re,areSetsEqual:Pe})}return Ee}function createInternalEqualityComparator(t){return function(e,xe,_e,Ee,Se,Ae,Re){return t(e,xe,Re)}}function createIsEqual(t){var e=t.circular,xe=t.comparator,_e=t.createState,Ee=t.equals,Se=t.strict;if(_e)return function(Pe,Te){var Ie=_e(),je=Ie.cache,Oe=je===void 0?e?new WeakMap:void 0:je,ke=Ie.meta;return xe(Pe,Te,{cache:Oe,equals:Ee,meta:ke,strict:Se})};if(e)return function(Pe,Te){return xe(Pe,Te,{cache:new WeakMap,equals:Ee,meta:void 0,strict:Se})};var Ae={cache:void 0,equals:Ee,meta:void 0,strict:Se};return function(Pe,Te){return xe(Pe,Te,Ae)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(t){t===void 0&&(t={});var e=t.circular,xe=e===void 0?!1:e,_e=t.createInternalComparator,Ee=t.createState,Se=t.strict,Ae=Se===void 0?!1:Se,Re=createEqualityComparatorConfig(t),Pe=createEqualityComparator(Re),Te=_e?_e(Pe):createInternalEqualityComparator(Pe);return createIsEqual({circular:xe,comparator:Pe,createState:Ee,equals:Te,strict:Ae})}function safeRequestAnimationFrame(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function setRafTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xe=-1,_e=function Ee(Se){xe<0&&(xe=Se),Se-xe>e?(t(Se),xe=-1):safeRequestAnimationFrame(Ee)};requestAnimationFrame(_e)}function _typeof$q(t){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$q(t)}function _toArray(t){return _arrayWithHoles$6(t)||_iterableToArray$6(t)||_unsupportedIterableToArray$9(t)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$9(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$9(t,e)}}function _arrayLikeToArray$9(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArray$6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithHoles$6(t){if(Array.isArray(t))return t}function createAnimateManager(){var t={},e=function(){return null},xe=!1,_e=function Ee(Se){if(!xe){if(Array.isArray(Se)){if(!Se.length)return;var Ae=Se,Re=_toArray(Ae),Pe=Re[0],Te=Re.slice(1);if(typeof Pe=="number"){setRafTimeout(Ee.bind(null,Te),Pe);return}Ee(Pe),setRafTimeout(Ee.bind(null,Te));return}_typeof$q(Se)==="object"&&(t=Se,e(t)),typeof Se=="function"&&Se()}};return{stop:function(){xe=!0},start:function(Se){xe=!1,_e(Se)},subscribe:function(Se){return e=Se,function(){e=function(){return null}}}}}function _typeof$p(t){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$p(t)}function ownKeys$l(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$l(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$l(Object(xe),!0).forEach(function(_e){_defineProperty$o(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$l(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$o(t,e,xe){return e=_toPropertyKey$o(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$o(t){var e=_toPrimitive$o(t,"string");return _typeof$p(e)==="symbol"?e:String(e)}function _toPrimitive$o(t,e){if(_typeof$p(t)!=="object"||t===null)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$p(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getIntersectionKeys=function t(e,xe){return[Object.keys(e),Object.keys(xe)].reduce(function(_e,Ee){return _e.filter(function(Se){return Ee.includes(Se)})})},identity=function t(e){return e},getDashCase=function t(e){return e.replace(/([A-Z])/g,function(xe){return"-".concat(xe.toLowerCase())})},mapObject=function t(e,xe){return Object.keys(xe).reduce(function(_e,Ee){return _objectSpread$l(_objectSpread$l({},_e),{},_defineProperty$o({},Ee,e(Ee,xe[Ee])))},{})},getTransitionVal=function t(e,xe,_e){return e.map(function(Ee){return"".concat(getDashCase(Ee)," ").concat(xe,"ms ").concat(_e)}).join(",")};function _slicedToArray$5(t,e){return _arrayWithHoles$5(t)||_iterableToArrayLimit$5(t,e)||_unsupportedIterableToArray$8(t,e)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$5(t){if(Array.isArray(t))return t}function _toConsumableArray$5(t){return _arrayWithoutHoles$5(t)||_iterableToArray$5(t)||_unsupportedIterableToArray$8(t)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$8(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$8(t,e)}}function _iterableToArray$5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$5(t){if(Array.isArray(t))return _arrayLikeToArray$8(t)}function _arrayLikeToArray$8(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}var ACCURACY=1e-4,cubicBezierFactor=function t(e,xe){return[0,3*e,3*xe-6*e,3*e-3*xe+1]},multyTime=function t(e,xe){return e.map(function(_e,Ee){return _e*Math.pow(xe,Ee)}).reduce(function(_e,Ee){return _e+Ee})},cubicBezier=function t(e,xe){return function(_e){var Ee=cubicBezierFactor(e,xe);return multyTime(Ee,_e)}},derivativeCubicBezier=function t(e,xe){return function(_e){var Ee=cubicBezierFactor(e,xe),Se=[].concat(_toConsumableArray$5(Ee.map(function(Ae,Re){return Ae*Re}).slice(1)),[0]);return multyTime(Se,_e)}},configBezier=function t(){for(var e=arguments.length,xe=new Array(e),_e=0;_e<e;_e++)xe[_e]=arguments[_e];var Ee=xe[0],Se=xe[1],Ae=xe[2],Re=xe[3];if(xe.length===1)switch(xe[0]){case"linear":Ee=0,Se=0,Ae=1,Re=1;break;case"ease":Ee=.25,Se=.1,Ae=.25,Re=1;break;case"ease-in":Ee=.42,Se=0,Ae=1,Re=1;break;case"ease-out":Ee=.42,Se=0,Ae=.58,Re=1;break;case"ease-in-out":Ee=0,Se=0,Ae=.58,Re=1;break;default:{var Pe=xe[0].split("(");if(Pe[0]==="cubic-bezier"&&Pe[1].split(")")[0].split(",").length===4){var Te=Pe[1].split(")")[0].split(",").map(function(De){return parseFloat(De)}),Ie=_slicedToArray$5(Te,4);Ee=Ie[0],Se=Ie[1],Ae=Ie[2],Re=Ie[3]}}}var je=cubicBezier(Ee,Ae),Oe=cubicBezier(Se,Re),ke=derivativeCubicBezier(Ee,Ae),Fe=function(Ue){return Ue>1?1:Ue<0?0:Ue},Me=function(Ue){for(var ze=Ue>1?1:Ue,We=ze,Ye=0;Ye<8;++Ye){var Xe=je(We)-ze,ir=ke(We);if(Math.abs(Xe-ze)<ACCURACY||ir<ACCURACY)return Oe(We);We=Fe(We-Xe/ir)}return Oe(We)};return Me.isStepper=!1,Me},configSpring=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=e.stiff,_e=xe===void 0?100:xe,Ee=e.damping,Se=Ee===void 0?8:Ee,Ae=e.dt,Re=Ae===void 0?17:Ae,Pe=function(Ie,je,Oe){var ke=-(Ie-je)*_e,Fe=Oe*Se,Me=Oe+(ke-Fe)*Re/1e3,De=Oe*Re/1e3+Ie;return Math.abs(De-je)<ACCURACY&&Math.abs(Me)<ACCURACY?[je,0]:[De,Me]};return Pe.isStepper=!0,Pe.dt=Re,Pe},configEasing=function t(){for(var e=arguments.length,xe=new Array(e),_e=0;_e<e;_e++)xe[_e]=arguments[_e];var Ee=xe[0];if(typeof Ee=="string")switch(Ee){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(Ee);case"spring":return configSpring();default:if(Ee.split("(")[0]==="cubic-bezier")return configBezier(Ee)}return typeof Ee=="function"?Ee:null};function _typeof$o(t){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$o(t)}function _toConsumableArray$4(t){return _arrayWithoutHoles$4(t)||_iterableToArray$4(t)||_unsupportedIterableToArray$7(t)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$4(t){if(Array.isArray(t))return _arrayLikeToArray$7(t)}function ownKeys$k(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$k(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$k(Object(xe),!0).forEach(function(_e){_defineProperty$n(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$k(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$n(t,e,xe){return e=_toPropertyKey$n(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$n(t){var e=_toPrimitive$n(t,"string");return _typeof$o(e)==="symbol"?e:String(e)}function _toPrimitive$n(t,e){if(_typeof$o(t)!=="object"||t===null)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$o(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray$4(t,e){return _arrayWithHoles$4(t)||_iterableToArrayLimit$4(t,e)||_unsupportedIterableToArray$7(t,e)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$7(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$7(t,e)}}function _arrayLikeToArray$7(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$4(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$4(t){if(Array.isArray(t))return t}var alpha=function t(e,xe,_e){return e+(xe-e)*_e},needContinue=function t(e){var xe=e.from,_e=e.to;return xe!==_e},calStepperVals=function t(e,xe,_e){var Ee=mapObject(function(Se,Ae){if(needContinue(Ae)){var Re=e(Ae.from,Ae.to,Ae.velocity),Pe=_slicedToArray$4(Re,2),Te=Pe[0],Ie=Pe[1];return _objectSpread$k(_objectSpread$k({},Ae),{},{from:Te,velocity:Ie})}return Ae},xe);return _e<1?mapObject(function(Se,Ae){return needContinue(Ae)?_objectSpread$k(_objectSpread$k({},Ae),{},{velocity:alpha(Ae.velocity,Ee[Se].velocity,_e),from:alpha(Ae.from,Ee[Se].from,_e)}):Ae},xe):t(e,Ee,_e-1)};const configUpdate=function(t,e,xe,_e,Ee){var Se=getIntersectionKeys(t,e),Ae=Se.reduce(function(De,Ue){return _objectSpread$k(_objectSpread$k({},De),{},_defineProperty$n({},Ue,[t[Ue],e[Ue]]))},{}),Re=Se.reduce(function(De,Ue){return _objectSpread$k(_objectSpread$k({},De),{},_defineProperty$n({},Ue,{from:t[Ue],velocity:0,to:e[Ue]}))},{}),Pe=-1,Te,Ie,je=function(){return null},Oe=function(){return mapObject(function(Ue,ze){return ze.from},Re)},ke=function(){return!Object.values(Re).filter(needContinue).length},Fe=function(Ue){Te||(Te=Ue);var ze=Ue-Te,We=ze/xe.dt;Re=calStepperVals(xe,Re,We),Ee(_objectSpread$k(_objectSpread$k(_objectSpread$k({},t),e),Oe())),Te=Ue,ke()||(Pe=requestAnimationFrame(je))},Me=function(Ue){Ie||(Ie=Ue);var ze=(Ue-Ie)/_e,We=mapObject(function(Xe,ir){return alpha.apply(void 0,_toConsumableArray$4(ir).concat([xe(ze)]))},Ae);if(Ee(_objectSpread$k(_objectSpread$k(_objectSpread$k({},t),e),We)),ze<1)Pe=requestAnimationFrame(je);else{var Ye=mapObject(function(Xe,ir){return alpha.apply(void 0,_toConsumableArray$4(ir).concat([xe(1)]))},Ae);Ee(_objectSpread$k(_objectSpread$k(_objectSpread$k({},t),e),Ye))}};return je=xe.isStepper?Fe:Me,function(){return requestAnimationFrame(je),function(){cancelAnimationFrame(Pe)}}};function _typeof$n(t){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$n(t)}var _excluded$8=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$8(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$8(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$8(t,e){if(t==null)return{};var xe={},_e=Object.keys(t),Ee,Se;for(Se=0;Se<_e.length;Se++)Ee=_e[Se],!(e.indexOf(Ee)>=0)&&(xe[Ee]=t[Ee]);return xe}function _toConsumableArray$3(t){return _arrayWithoutHoles$3(t)||_iterableToArray$3(t)||_unsupportedIterableToArray$6(t)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$6(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$6(t,e)}}function _iterableToArray$3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$3(t){if(Array.isArray(t))return _arrayLikeToArray$6(t)}function _arrayLikeToArray$6(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function ownKeys$j(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$j(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$j(Object(xe),!0).forEach(function(_e){_defineProperty$m(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$j(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$m(t,e,xe){return e=_toPropertyKey$m(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _classCallCheck$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$m(_e.key),_e)}}function _createClass$e(t,e,xe){return e&&_defineProperties$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$m(t){var e=_toPrimitive$m(t,"string");return _typeof$n(e)==="symbol"?e:String(e)}function _toPrimitive$m(t,e){if(_typeof$n(t)!=="object"||t===null)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$n(_e)!=="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits$c(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$c(t,e)}function _setPrototypeOf$c(t,e){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$c(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct$c();return function(){var _e=_getPrototypeOf$c(t),Ee;if(e){var Se=_getPrototypeOf$c(this).constructor;Ee=Reflect.construct(_e,arguments,Se)}else Ee=_e.apply(this,arguments);return _possibleConstructorReturn$c(this,Ee)}}function _possibleConstructorReturn$c(t,e){if(e&&(_typeof$n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(t)}function _assertThisInitialized$c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$c(t){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$c(t)}var Animate=function(t){_inherits$c(xe,t);var e=_createSuper(xe);function xe(_e,Ee){var Se;_classCallCheck$e(this,xe),Se=e.call(this,_e,Ee);var Ae=Se.props,Re=Ae.isActive,Pe=Ae.attributeName,Te=Ae.from,Ie=Ae.to,je=Ae.steps,Oe=Ae.children,ke=Ae.duration;if(Se.handleStyleChange=Se.handleStyleChange.bind(_assertThisInitialized$c(Se)),Se.changeStyle=Se.changeStyle.bind(_assertThisInitialized$c(Se)),!Re||ke<=0)return Se.state={style:{}},typeof Oe=="function"&&(Se.state={style:Ie}),_possibleConstructorReturn$c(Se);if(je&&je.length)Se.state={style:je[0].style};else if(Te){if(typeof Oe=="function")return Se.state={style:Te},_possibleConstructorReturn$c(Se);Se.state={style:Pe?_defineProperty$m({},Pe,Te):Te}}else Se.state={style:{}};return Se}return _createClass$e(xe,[{key:"componentDidMount",value:function(){var Ee=this.props,Se=Ee.isActive,Ae=Ee.canBegin;this.mounted=!0,!(!Se||!Ae)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(Ee){var Se=this.props,Ae=Se.isActive,Re=Se.canBegin,Pe=Se.attributeName,Te=Se.shouldReAnimate,Ie=Se.to,je=Se.from,Oe=this.state.style;if(Re){if(!Ae){var ke={style:Pe?_defineProperty$m({},Pe,Ie):Ie};this.state&&Oe&&(Pe&&Oe[Pe]!==Ie||!Pe&&Oe!==Ie)&&this.setState(ke);return}if(!(deepEqual(Ee.to,Ie)&&Ee.canBegin&&Ee.isActive)){var Fe=!Ee.canBegin||!Ee.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var Me=Fe||Te?je:Ee.to;if(this.state&&Oe){var De={style:Pe?_defineProperty$m({},Pe,Me):Me};(Pe&&Oe[Pe]!==Me||!Pe&&Oe!==Me)&&this.setState(De)}this.runAnimation(_objectSpread$j(_objectSpread$j({},this.props),{},{from:Me,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Ee=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),Ee&&Ee()}},{key:"handleStyleChange",value:function(Ee){this.changeStyle(Ee)}},{key:"changeStyle",value:function(Ee){this.mounted&&this.setState({style:Ee})}},{key:"runJSAnimation",value:function(Ee){var Se=this,Ae=Ee.from,Re=Ee.to,Pe=Ee.duration,Te=Ee.easing,Ie=Ee.begin,je=Ee.onAnimationEnd,Oe=Ee.onAnimationStart,ke=configUpdate(Ae,Re,configEasing(Te),Pe,this.changeStyle),Fe=function(){Se.stopJSAnimation=ke()};this.manager.start([Oe,Ie,Fe,Pe,je])}},{key:"runStepAnimation",value:function(Ee){var Se=this,Ae=Ee.steps,Re=Ee.begin,Pe=Ee.onAnimationStart,Te=Ae[0],Ie=Te.style,je=Te.duration,Oe=je===void 0?0:je,ke=function(Me,De,Ue){if(Ue===0)return Me;var ze=De.duration,We=De.easing,Ye=We===void 0?"ease":We,Xe=De.style,ir=De.properties,Qe=De.onAnimationEnd,Ke=Ue>0?Ae[Ue-1]:De,rr=ir||Object.keys(Xe);if(typeof Ye=="function"||Ye==="spring")return[].concat(_toConsumableArray$3(Me),[Se.runJSAnimation.bind(Se,{from:Ke.style,to:Xe,duration:ze,easing:Ye}),ze]);var cr=getTransitionVal(rr,ze,Ye),Ze=_objectSpread$j(_objectSpread$j(_objectSpread$j({},Ke.style),Xe),{},{transition:cr});return[].concat(_toConsumableArray$3(Me),[Ze,ze,Qe]).filter(identity)};return this.manager.start([Pe].concat(_toConsumableArray$3(Ae.reduce(ke,[Ie,Math.max(Oe,Re)])),[Ee.onAnimationEnd]))}},{key:"runAnimation",value:function(Ee){this.manager||(this.manager=createAnimateManager());var Se=Ee.begin,Ae=Ee.duration,Re=Ee.attributeName,Pe=Ee.to,Te=Ee.easing,Ie=Ee.onAnimationStart,je=Ee.onAnimationEnd,Oe=Ee.steps,ke=Ee.children,Fe=this.manager;if(this.unSubscribe=Fe.subscribe(this.handleStyleChange),typeof Te=="function"||typeof ke=="function"||Te==="spring"){this.runJSAnimation(Ee);return}if(Oe.length>1){this.runStepAnimation(Ee);return}var Me=Re?_defineProperty$m({},Re,Pe):Pe,De=getTransitionVal(Object.keys(Me),Ae,Te);Fe.start([Ie,Se,_objectSpread$j(_objectSpread$j({},Me),{},{transition:De}),Ae,je])}},{key:"render",value:function(){var Ee=this.props,Se=Ee.children;Ee.begin;var Ae=Ee.duration;Ee.attributeName,Ee.easing;var Re=Ee.isActive;Ee.steps,Ee.from,Ee.to,Ee.canBegin,Ee.onAnimationEnd,Ee.shouldReAnimate,Ee.onAnimationReStart;var Pe=_objectWithoutProperties$8(Ee,_excluded$8),Te=reactExports.Children.count(Se),Ie=this.state.style;if(typeof Se=="function")return Se(Ie);if(!Re||Te===0||Ae<=0)return Se;var je=function(ke){var Fe=ke.props,Me=Fe.style,De=Me===void 0?{}:Me,Ue=Fe.className,ze=reactExports.cloneElement(ke,_objectSpread$j(_objectSpread$j({},Pe),{},{style:_objectSpread$j(_objectSpread$j({},De),Ie),className:Ue}));return ze};return Te===1?je(reactExports.Children.only(Se)):React.createElement("div",null,reactExports.Children.map(Se,function(Oe){return je(Oe)}))}}]),xe}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function t(){},onAnimationStart:function t(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$m(t){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$m(t)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$h.apply(this,arguments)}function _slicedToArray$3(t,e){return _arrayWithHoles$3(t)||_iterableToArrayLimit$3(t,e)||_unsupportedIterableToArray$5(t,e)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$5(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$5(t,e)}}function _arrayLikeToArray$5(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$3(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$3(t){if(Array.isArray(t))return t}function ownKeys$i(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$i(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$i(Object(xe),!0).forEach(function(_e){_defineProperty$l(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$i(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$l(t,e,xe){return e=_toPropertyKey$l(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$l(t){var e=_toPrimitive$l(t,"string");return _typeof$m(e)=="symbol"?e:e+""}function _toPrimitive$l(t,e){if(_typeof$m(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$m(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getRectanglePath=function t(e,xe,_e,Ee,Se){var Ae=Math.min(Math.abs(_e)/2,Math.abs(Ee)/2),Re=Ee>=0?1:-1,Pe=_e>=0?1:-1,Te=Ee>=0&&_e>=0||Ee<0&&_e<0?1:0,Ie;if(Ae>0&&Se instanceof Array){for(var je=[0,0,0,0],Oe=0,ke=4;Oe<ke;Oe++)je[Oe]=Se[Oe]>Ae?Ae:Se[Oe];Ie="M".concat(e,",").concat(xe+Re*je[0]),je[0]>0&&(Ie+="A ".concat(je[0],",").concat(je[0],",0,0,").concat(Te,",").concat(e+Pe*je[0],",").concat(xe)),Ie+="L ".concat(e+_e-Pe*je[1],",").concat(xe),je[1]>0&&(Ie+="A ".concat(je[1],",").concat(je[1],",0,0,").concat(Te,`,
        `).concat(e+_e,",").concat(xe+Re*je[1])),Ie+="L ".concat(e+_e,",").concat(xe+Ee-Re*je[2]),je[2]>0&&(Ie+="A ".concat(je[2],",").concat(je[2],",0,0,").concat(Te,`,
        `).concat(e+_e-Pe*je[2],",").concat(xe+Ee)),Ie+="L ".concat(e+Pe*je[3],",").concat(xe+Ee),je[3]>0&&(Ie+="A ".concat(je[3],",").concat(je[3],",0,0,").concat(Te,`,
        `).concat(e,",").concat(xe+Ee-Re*je[3])),Ie+="Z"}else if(Ae>0&&Se===+Se&&Se>0){var Fe=Math.min(Ae,Se);Ie="M ".concat(e,",").concat(xe+Re*Fe,`
            A `).concat(Fe,",").concat(Fe,",0,0,").concat(Te,",").concat(e+Pe*Fe,",").concat(xe,`
            L `).concat(e+_e-Pe*Fe,",").concat(xe,`
            A `).concat(Fe,",").concat(Fe,",0,0,").concat(Te,",").concat(e+_e,",").concat(xe+Re*Fe,`
            L `).concat(e+_e,",").concat(xe+Ee-Re*Fe,`
            A `).concat(Fe,",").concat(Fe,",0,0,").concat(Te,",").concat(e+_e-Pe*Fe,",").concat(xe+Ee,`
            L `).concat(e+Pe*Fe,",").concat(xe+Ee,`
            A `).concat(Fe,",").concat(Fe,",0,0,").concat(Te,",").concat(e,",").concat(xe+Ee-Re*Fe," Z")}else Ie="M ".concat(e,",").concat(xe," h ").concat(_e," v ").concat(Ee," h ").concat(-_e," Z");return Ie},isInRectangle=function t(e,xe){if(!e||!xe)return!1;var _e=e.x,Ee=e.y,Se=xe.x,Ae=xe.y,Re=xe.width,Pe=xe.height;if(Math.abs(Re)>0&&Math.abs(Pe)>0){var Te=Math.min(Se,Se+Re),Ie=Math.max(Se,Se+Re),je=Math.min(Ae,Ae+Pe),Oe=Math.max(Ae,Ae+Pe);return _e>=Te&&_e<=Ie&&Ee>=je&&Ee<=Oe}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function t(e){var xe=_objectSpread$i(_objectSpread$i({},defaultProps$1),e),_e=reactExports.useRef(),Ee=reactExports.useState(-1),Se=_slicedToArray$3(Ee,2),Ae=Se[0],Re=Se[1];reactExports.useEffect(function(){if(_e.current&&_e.current.getTotalLength)try{var Ye=_e.current.getTotalLength();Ye&&Re(Ye)}catch{}},[]);var Pe=xe.x,Te=xe.y,Ie=xe.width,je=xe.height,Oe=xe.radius,ke=xe.className,Fe=xe.animationEasing,Me=xe.animationDuration,De=xe.animationBegin,Ue=xe.isAnimationActive,ze=xe.isUpdateAnimationActive;if(Pe!==+Pe||Te!==+Te||Ie!==+Ie||je!==+je||Ie===0||je===0)return null;var We=clsx("recharts-rectangle",ke);return ze?React.createElement(Animate,{canBegin:Ae>0,from:{width:Ie,height:je,x:Pe,y:Te},to:{width:Ie,height:je,x:Pe,y:Te},duration:Me,animationEasing:Fe,isActive:ze},function(Ye){var Xe=Ye.width,ir=Ye.height,Qe=Ye.x,Ke=Ye.y;return React.createElement(Animate,{canBegin:Ae>0,from:"0px ".concat(Ae===-1?1:Ae,"px"),to:"".concat(Ae,"px 0px"),attributeName:"strokeDasharray",begin:De,duration:Me,isActive:Ue,easing:Fe},React.createElement("path",_extends$h({},filterProps(xe,!0),{className:We,d:getRectanglePath(Qe,Ke,Xe,ir,Oe),ref:_e})))}):React.createElement("path",_extends$h({},filterProps(xe,!0),{className:We,d:getRectanglePath(Pe,Te,Ie,je,Oe)}))},_excluded$7=["points","className","baseLinePoints","connectNulls"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$g.apply(this,arguments)}function _objectWithoutProperties$7(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$7(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$7(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _toConsumableArray$2(t){return _arrayWithoutHoles$2(t)||_iterableToArray$2(t)||_unsupportedIterableToArray$4(t)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$4(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$4(t,e)}}function _iterableToArray$2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$2(t){if(Array.isArray(t))return _arrayLikeToArray$4(t)}function _arrayLikeToArray$4(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}var isValidatePoint=function t(e){return e&&e.x===+e.x&&e.y===+e.y},getParsedPoints=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],xe=[[]];return e.forEach(function(_e){isValidatePoint(_e)?xe[xe.length-1].push(_e):xe[xe.length-1].length>0&&xe.push([])}),isValidatePoint(e[0])&&xe[xe.length-1].push(e[0]),xe[xe.length-1].length<=0&&(xe=xe.slice(0,-1)),xe},getSinglePolygonPath=function t(e,xe){var _e=getParsedPoints(e);xe&&(_e=[_e.reduce(function(Se,Ae){return[].concat(_toConsumableArray$2(Se),_toConsumableArray$2(Ae))},[])]);var Ee=_e.map(function(Se){return Se.reduce(function(Ae,Re,Pe){return"".concat(Ae).concat(Pe===0?"M":"L").concat(Re.x,",").concat(Re.y)},"")}).join("");return _e.length===1?"".concat(Ee,"Z"):Ee},getRanglePath=function t(e,xe,_e){var Ee=getSinglePolygonPath(e,_e);return"".concat(Ee.slice(-1)==="Z"?Ee.slice(0,-1):Ee,"L").concat(getSinglePolygonPath(xe.reverse(),_e).slice(1))},Polygon=function t(e){var xe=e.points,_e=e.className,Ee=e.baseLinePoints,Se=e.connectNulls,Ae=_objectWithoutProperties$7(e,_excluded$7);if(!xe||!xe.length)return null;var Re=clsx("recharts-polygon",_e);if(Ee&&Ee.length){var Pe=Ae.stroke&&Ae.stroke!=="none",Te=getRanglePath(xe,Ee,Se);return React.createElement("g",{className:Re},React.createElement("path",_extends$g({},filterProps(Ae,!0),{fill:Te.slice(-1)==="Z"?Ae.fill:"none",stroke:"none",d:Te})),Pe?React.createElement("path",_extends$g({},filterProps(Ae,!0),{fill:"none",d:getSinglePolygonPath(xe,Se)})):null,Pe?React.createElement("path",_extends$g({},filterProps(Ae,!0),{fill:"none",d:getSinglePolygonPath(Ee,Se)})):null)}var Ie=getSinglePolygonPath(xe,Se);return React.createElement("path",_extends$g({},filterProps(Ae,!0),{fill:Ie.slice(-1)==="Z"?Ae.fill:"none",className:Re,d:Ie}))};function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$f.apply(this,arguments)}var Dot=function t(e){var xe=e.cx,_e=e.cy,Ee=e.r,Se=e.className,Ae=clsx("recharts-dot",Se);return xe===+xe&&_e===+_e&&Ee===+Ee?React.createElement("circle",_extends$f({},filterProps(e,!1),adaptEventHandlers(e),{className:Ae,cx:xe,cy:_e,r:Ee})):null};function _typeof$l(t){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$l(t)}var _excluded$6=["x","y","top","left","width","height","className"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$e.apply(this,arguments)}function ownKeys$h(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$h(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$h(Object(xe),!0).forEach(function(_e){_defineProperty$k(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$h(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$k(t,e,xe){return e=_toPropertyKey$k(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$k(t){var e=_toPrimitive$k(t,"string");return _typeof$l(e)=="symbol"?e:e+""}function _toPrimitive$k(t,e){if(_typeof$l(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$l(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$6(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$6(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$6(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}var getPath=function t(e,xe,_e,Ee,Se,Ae){return"M".concat(e,",").concat(Se,"v").concat(Ee,"M").concat(Ae,",").concat(xe,"h").concat(_e)},Cross=function t(e){var xe=e.x,_e=xe===void 0?0:xe,Ee=e.y,Se=Ee===void 0?0:Ee,Ae=e.top,Re=Ae===void 0?0:Ae,Pe=e.left,Te=Pe===void 0?0:Pe,Ie=e.width,je=Ie===void 0?0:Ie,Oe=e.height,ke=Oe===void 0?0:Oe,Fe=e.className,Me=_objectWithoutProperties$6(e,_excluded$6),De=_objectSpread$h({x:_e,y:Se,top:Re,left:Te,width:je,height:ke},Me);return!isNumber(_e)||!isNumber(Se)||!isNumber(je)||!isNumber(ke)||!isNumber(Re)||!isNumber(Te)?null:React.createElement("path",_extends$e({},filterProps(De,!0),{className:clsx("recharts-cross",Fe),d:getPath(_e,Se,je,ke,Re,Te)}))},maxBy_1,hasRequiredMaxBy;function requireMaxBy(){if(hasRequiredMaxBy)return maxBy_1;hasRequiredMaxBy=1;var t=require_baseExtremum(),e=require_baseGt(),xe=require_baseIteratee();function _e(Ee,Se){return Ee&&Ee.length?t(Ee,xe(Se,2),e):void 0}return maxBy_1=_e,maxBy_1}var maxByExports=requireMaxBy();const maxBy=getDefaultExportFromCjs(maxByExports);var minBy_1,hasRequiredMinBy;function requireMinBy(){if(hasRequiredMinBy)return minBy_1;hasRequiredMinBy=1;var t=require_baseExtremum(),e=require_baseIteratee(),xe=require_baseLt();function _e(Ee,Se){return Ee&&Ee.length?t(Ee,e(Se,2),xe):void 0}return minBy_1=_e,minBy_1}var minByExports=requireMinBy();const minBy=getDefaultExportFromCjs(minByExports);var _excluded$5=["cx","cy","angle","ticks","axisLine"],_excluded2$2=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$k(t){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$k(t)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$d.apply(this,arguments)}function ownKeys$g(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$g(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$g(Object(xe),!0).forEach(function(_e){_defineProperty$j(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$g(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _objectWithoutProperties$5(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$5(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$5(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _classCallCheck$d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$j(_e.key),_e)}}function _createClass$d(t,e,xe){return e&&_defineProperties$d(t.prototype,e),xe&&_defineProperties$d(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$b(t,e,xe){return e=_getPrototypeOf$b(e),_possibleConstructorReturn$b(t,_isNativeReflectConstruct$b()?Reflect.construct(e,xe||[],_getPrototypeOf$b(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$b(t,e){if(e&&(_typeof$k(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(t)}function _assertThisInitialized$b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!t})()}function _getPrototypeOf$b(t){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$b(t)}function _inherits$b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$b(t,e)}function _setPrototypeOf$b(t,e){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$b(t,e)}function _defineProperty$j(t,e,xe){return e=_toPropertyKey$j(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$j(t){var e=_toPrimitive$j(t,"string");return _typeof$k(e)=="symbol"?e:e+""}function _toPrimitive$j(t,e){if(_typeof$k(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$k(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PolarRadiusAxis=function(t){function e(){return _classCallCheck$d(this,e),_callSuper$b(this,e,arguments)}return _inherits$b(e,t),_createClass$d(e,[{key:"getTickValueCoord",value:function(_e){var Ee=_e.coordinate,Se=this.props,Ae=Se.angle,Re=Se.cx,Pe=Se.cy;return polarToCartesian(Re,Pe,Ee,Ae)}},{key:"getTickTextAnchor",value:function(){var _e=this.props.orientation,Ee;switch(_e){case"left":Ee="end";break;case"right":Ee="start";break;default:Ee="middle";break}return Ee}},{key:"getViewBox",value:function(){var _e=this.props,Ee=_e.cx,Se=_e.cy,Ae=_e.angle,Re=_e.ticks,Pe=maxBy(Re,function(Ie){return Ie.coordinate||0}),Te=minBy(Re,function(Ie){return Ie.coordinate||0});return{cx:Ee,cy:Se,startAngle:Ae,endAngle:Ae,innerRadius:Te.coordinate||0,outerRadius:Pe.coordinate||0}}},{key:"renderAxisLine",value:function(){var _e=this.props,Ee=_e.cx,Se=_e.cy,Ae=_e.angle,Re=_e.ticks,Pe=_e.axisLine,Te=_objectWithoutProperties$5(_e,_excluded$5),Ie=Re.reduce(function(Fe,Me){return[Math.min(Fe[0],Me.coordinate),Math.max(Fe[1],Me.coordinate)]},[1/0,-1/0]),je=polarToCartesian(Ee,Se,Ie[0],Ae),Oe=polarToCartesian(Ee,Se,Ie[1],Ae),ke=_objectSpread$g(_objectSpread$g(_objectSpread$g({},filterProps(Te,!1)),{},{fill:"none"},filterProps(Pe,!1)),{},{x1:je.x,y1:je.y,x2:Oe.x,y2:Oe.y});return React.createElement("line",_extends$d({className:"recharts-polar-radius-axis-line"},ke))}},{key:"renderTicks",value:function(){var _e=this,Ee=this.props,Se=Ee.ticks,Ae=Ee.tick,Re=Ee.angle,Pe=Ee.tickFormatter,Te=Ee.stroke,Ie=_objectWithoutProperties$5(Ee,_excluded2$2),je=this.getTickTextAnchor(),Oe=filterProps(Ie,!1),ke=filterProps(Ae,!1),Fe=Se.map(function(Me,De){var Ue=_e.getTickValueCoord(Me),ze=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({textAnchor:je,transform:"rotate(".concat(90-Re,", ").concat(Ue.x,", ").concat(Ue.y,")")},Oe),{},{stroke:"none",fill:Te},ke),{},{index:De},Ue),{},{payload:Me});return React.createElement(Layer,_extends$d({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(Ae)),key:"tick-".concat(Me.coordinate)},adaptEventsOfChild(_e.props,Me,De)),e.renderTickItem(Ae,ze,Pe?Pe(Me.value,De):Me.value))});return React.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},Fe)}},{key:"render",value:function(){var _e=this.props,Ee=_e.ticks,Se=_e.axisLine,Ae=_e.tick;return!Ee||!Ee.length?null:React.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},Se&&this.renderAxisLine(),Ae&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(_e,Ee,Se){var Ae;return React.isValidElement(_e)?Ae=React.cloneElement(_e,Ee):isFunction(_e)?Ae=_e(Ee):Ae=React.createElement(Text,_extends$d({},Ee,{className:"recharts-polar-radius-axis-tick-value"}),Se),Ae}}])}(reactExports.PureComponent);_defineProperty$j(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$j(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$j(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$j(t){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$j(t)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$c.apply(this,arguments)}function ownKeys$f(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$f(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$f(Object(xe),!0).forEach(function(_e){_defineProperty$i(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$f(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$i(_e.key),_e)}}function _createClass$c(t,e,xe){return e&&_defineProperties$c(t.prototype,e),xe&&_defineProperties$c(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$a(t,e,xe){return e=_getPrototypeOf$a(e),_possibleConstructorReturn$a(t,_isNativeReflectConstruct$a()?Reflect.construct(e,xe||[],_getPrototypeOf$a(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$a(t,e){if(e&&(_typeof$j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(t)}function _assertThisInitialized$a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!t})()}function _getPrototypeOf$a(t){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$a(t)}function _inherits$a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$a(t,e)}function _setPrototypeOf$a(t,e){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$a(t,e)}function _defineProperty$i(t,e,xe){return e=_toPropertyKey$i(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$i(t){var e=_toPrimitive$i(t,"string");return _typeof$j(e)=="symbol"?e:e+""}function _toPrimitive$i(t,e){if(_typeof$j(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$j(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(t){function e(){return _classCallCheck$c(this,e),_callSuper$a(this,e,arguments)}return _inherits$a(e,t),_createClass$c(e,[{key:"getTickLineCoord",value:function(_e){var Ee=this.props,Se=Ee.cx,Ae=Ee.cy,Re=Ee.radius,Pe=Ee.orientation,Te=Ee.tickSize,Ie=Te||8,je=polarToCartesian(Se,Ae,Re,_e.coordinate),Oe=polarToCartesian(Se,Ae,Re+(Pe==="inner"?-1:1)*Ie,_e.coordinate);return{x1:je.x,y1:je.y,x2:Oe.x,y2:Oe.y}}},{key:"getTickTextAnchor",value:function(_e){var Ee=this.props.orientation,Se=Math.cos(-_e.coordinate*RADIAN),Ae;return Se>eps?Ae=Ee==="outer"?"start":"end":Se<-1e-5?Ae=Ee==="outer"?"end":"start":Ae="middle",Ae}},{key:"renderAxisLine",value:function(){var _e=this.props,Ee=_e.cx,Se=_e.cy,Ae=_e.radius,Re=_e.axisLine,Pe=_e.axisLineType,Te=_objectSpread$f(_objectSpread$f({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(Re,!1));if(Pe==="circle")return React.createElement(Dot,_extends$c({className:"recharts-polar-angle-axis-line"},Te,{cx:Ee,cy:Se,r:Ae}));var Ie=this.props.ticks,je=Ie.map(function(Oe){return polarToCartesian(Ee,Se,Ae,Oe.coordinate)});return React.createElement(Polygon,_extends$c({className:"recharts-polar-angle-axis-line"},Te,{points:je}))}},{key:"renderTicks",value:function(){var _e=this,Ee=this.props,Se=Ee.ticks,Ae=Ee.tick,Re=Ee.tickLine,Pe=Ee.tickFormatter,Te=Ee.stroke,Ie=filterProps(this.props,!1),je=filterProps(Ae,!1),Oe=_objectSpread$f(_objectSpread$f({},Ie),{},{fill:"none"},filterProps(Re,!1)),ke=Se.map(function(Fe,Me){var De=_e.getTickLineCoord(Fe),Ue=_e.getTickTextAnchor(Fe),ze=_objectSpread$f(_objectSpread$f(_objectSpread$f({textAnchor:Ue},Ie),{},{stroke:"none",fill:Te},je),{},{index:Me,payload:Fe,x:De.x2,y:De.y2});return React.createElement(Layer,_extends$c({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(Ae)),key:"tick-".concat(Fe.coordinate)},adaptEventsOfChild(_e.props,Fe,Me)),Re&&React.createElement("line",_extends$c({className:"recharts-polar-angle-axis-tick-line"},Oe,De)),Ae&&e.renderTickItem(Ae,ze,Pe?Pe(Fe.value,Me):Fe.value))});return React.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},ke)}},{key:"render",value:function(){var _e=this.props,Ee=_e.ticks,Se=_e.radius,Ae=_e.axisLine;return Se<=0||!Ee||!Ee.length?null:React.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},Ae&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(_e,Ee,Se){var Ae;return React.isValidElement(_e)?Ae=React.cloneElement(_e,Ee):isFunction(_e)?Ae=_e(Ee):Ae=React.createElement(Text,_extends$c({},Ee,{className:"recharts-polar-angle-axis-tick-value"}),Se),Ae}}])}(reactExports.PureComponent);_defineProperty$i(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$i(PolarAngleAxis,"axisType","angleAxis");_defineProperty$i(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var t=require_overArg(),e=t(Object.getPrototypeOf,Object);return _getPrototype=e,_getPrototype}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var t=require_baseGetTag(),e=require_getPrototype(),xe=requireIsObjectLike(),_e="[object Object]",Ee=Function.prototype,Se=Object.prototype,Ae=Ee.toString,Re=Se.hasOwnProperty,Pe=Ae.call(Object);function Te(Ie){if(!xe(Ie)||t(Ie)!=_e)return!1;var je=e(Ie);if(je===null)return!0;var Oe=Re.call(je,"constructor")&&je.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&Ae.call(Oe)==Pe}return isPlainObject_1=Te,isPlainObject_1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var isBoolean_1,hasRequiredIsBoolean;function requireIsBoolean(){if(hasRequiredIsBoolean)return isBoolean_1;hasRequiredIsBoolean=1;var t=require_baseGetTag(),e=requireIsObjectLike(),xe="[object Boolean]";function _e(Ee){return Ee===!0||Ee===!1||e(Ee)&&t(Ee)==xe}return isBoolean_1=_e,isBoolean_1}var isBooleanExports=requireIsBoolean();const isBoolean=getDefaultExportFromCjs(isBooleanExports);function _typeof$i(t){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$i(t)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$b.apply(this,arguments)}function _slicedToArray$2(t,e){return _arrayWithHoles$2(t)||_iterableToArrayLimit$2(t,e)||_unsupportedIterableToArray$3(t,e)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$3(t,e)}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$2(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$2(t){if(Array.isArray(t))return t}function ownKeys$e(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$e(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$e(Object(xe),!0).forEach(function(_e){_defineProperty$h(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$e(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$h(t,e,xe){return e=_toPropertyKey$h(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$h(t){var e=_toPrimitive$h(t,"string");return _typeof$i(e)=="symbol"?e:e+""}function _toPrimitive$h(t,e){if(_typeof$i(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$i(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var getTrapezoidPath=function t(e,xe,_e,Ee,Se){var Ae=_e-Ee,Re;return Re="M ".concat(e,",").concat(xe),Re+="L ".concat(e+_e,",").concat(xe),Re+="L ".concat(e+_e-Ae/2,",").concat(xe+Se),Re+="L ".concat(e+_e-Ae/2-Ee,",").concat(xe+Se),Re+="L ".concat(e,",").concat(xe," Z"),Re},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function t(e){var xe=_objectSpread$e(_objectSpread$e({},defaultProps),e),_e=reactExports.useRef(),Ee=reactExports.useState(-1),Se=_slicedToArray$2(Ee,2),Ae=Se[0],Re=Se[1];reactExports.useEffect(function(){if(_e.current&&_e.current.getTotalLength)try{var We=_e.current.getTotalLength();We&&Re(We)}catch{}},[]);var Pe=xe.x,Te=xe.y,Ie=xe.upperWidth,je=xe.lowerWidth,Oe=xe.height,ke=xe.className,Fe=xe.animationEasing,Me=xe.animationDuration,De=xe.animationBegin,Ue=xe.isUpdateAnimationActive;if(Pe!==+Pe||Te!==+Te||Ie!==+Ie||je!==+je||Oe!==+Oe||Ie===0&&je===0||Oe===0)return null;var ze=clsx("recharts-trapezoid",ke);return Ue?React.createElement(Animate,{canBegin:Ae>0,from:{upperWidth:0,lowerWidth:0,height:Oe,x:Pe,y:Te},to:{upperWidth:Ie,lowerWidth:je,height:Oe,x:Pe,y:Te},duration:Me,animationEasing:Fe,isActive:Ue},function(We){var Ye=We.upperWidth,Xe=We.lowerWidth,ir=We.height,Qe=We.x,Ke=We.y;return React.createElement(Animate,{canBegin:Ae>0,from:"0px ".concat(Ae===-1?1:Ae,"px"),to:"".concat(Ae,"px 0px"),attributeName:"strokeDasharray",begin:De,duration:Me,easing:Fe},React.createElement("path",_extends$b({},filterProps(xe,!0),{className:ze,d:getTrapezoidPath(Qe,Ke,Ye,Xe,ir),ref:_e})))}):React.createElement("g",null,React.createElement("path",_extends$b({},filterProps(xe,!0),{className:ze,d:getTrapezoidPath(Pe,Te,Ie,je,Oe)})))},_excluded$4=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$h(t){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$h(t)}function _objectWithoutProperties$4(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$4(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$4(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function ownKeys$d(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$d(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$d(Object(xe),!0).forEach(function(_e){_defineProperty$g(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$d(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$g(t,e,xe){return e=_toPropertyKey$g(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$g(t){var e=_toPrimitive$g(t,"string");return _typeof$h(e)=="symbol"?e:e+""}function _toPrimitive$g(t,e){if(_typeof$h(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$h(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function defaultPropTransformer(t,e){return _objectSpread$d(_objectSpread$d({},e),t)}function isSymbolsProps(t,e){return t==="symbols"}function ShapeSelector(t){var e=t.shapeType,xe=t.elementProps;switch(e){case"rectangle":return React.createElement(Rectangle,xe);case"trapezoid":return React.createElement(Trapezoid,xe);case"sector":return React.createElement(Sector,xe);case"symbols":if(isSymbolsProps(e))return React.createElement(Symbols,xe);break;default:return null}}function getPropsFromShapeOption(t){return reactExports.isValidElement(t)?t.props:t}function Shape(t){var e=t.option,xe=t.shapeType,_e=t.propTransformer,Ee=_e===void 0?defaultPropTransformer:_e,Se=t.activeClassName,Ae=Se===void 0?"recharts-active-shape":Se,Re=t.isActive,Pe=_objectWithoutProperties$4(t,_excluded$4),Te;if(reactExports.isValidElement(e))Te=reactExports.cloneElement(e,_objectSpread$d(_objectSpread$d({},Pe),getPropsFromShapeOption(e)));else if(isFunction(e))Te=e(Pe);else if(isPlainObject(e)&&!isBoolean(e)){var Ie=Ee(e,Pe);Te=React.createElement(ShapeSelector,{shapeType:xe,elementProps:Ie})}else{var je=Pe;Te=React.createElement(ShapeSelector,{shapeType:xe,elementProps:je})}return Re?React.createElement(Layer,{className:Ae},Te):Te}function isFunnel(t,e){return e!=null&&"trapezoids"in t.props}function isPie(t,e){return e!=null&&"sectors"in t.props}function isScatter(t,e){return e!=null&&"points"in t.props}function compareFunnel(t,e){var xe,_e,Ee=t.x===(e==null||(xe=e.labelViewBox)===null||xe===void 0?void 0:xe.x)||t.x===e.x,Se=t.y===(e==null||(_e=e.labelViewBox)===null||_e===void 0?void 0:_e.y)||t.y===e.y;return Ee&&Se}function comparePie(t,e){var xe=t.endAngle===e.endAngle,_e=t.startAngle===e.startAngle;return xe&&_e}function compareScatter(t,e){var xe=t.x===e.x,_e=t.y===e.y,Ee=t.z===e.z;return xe&&_e&&Ee}function getComparisonFn(t,e){var xe;return isFunnel(t,e)?xe=compareFunnel:isPie(t,e)?xe=comparePie:isScatter(t,e)&&(xe=compareScatter),xe}function getShapeDataKey(t,e){var xe;return isFunnel(t,e)?xe="trapezoids":isPie(t,e)?xe="sectors":isScatter(t,e)&&(xe="points"),xe}function getActiveShapeTooltipPayload(t,e){if(isFunnel(t,e)){var xe;return(xe=e.tooltipPayload)===null||xe===void 0||(xe=xe[0])===null||xe===void 0||(xe=xe.payload)===null||xe===void 0?void 0:xe.payload}if(isPie(t,e)){var _e;return(_e=e.tooltipPayload)===null||_e===void 0||(_e=_e[0])===null||_e===void 0||(_e=_e.payload)===null||_e===void 0?void 0:_e.payload}return isScatter(t,e)?e.payload:{}}function getActiveShapeIndexForTooltip(t){var e=t.activeTooltipItem,xe=t.graphicalItem,_e=t.itemData,Ee=getShapeDataKey(xe,e),Se=getActiveShapeTooltipPayload(xe,e),Ae=_e.filter(function(Pe,Te){var Ie=isEqual(Se,Pe),je=xe.props[Ee].filter(function(Fe){var Me=getComparisonFn(xe,e);return Me(Fe,e)}),Oe=xe.props[Ee].indexOf(je[je.length-1]),ke=Te===Oe;return Ie&&ke}),Re=_e.indexOf(Ae[Ae.length-1]);return Re}var _Pie;function _typeof$g(t){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$g(t)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$a.apply(this,arguments)}function ownKeys$c(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$c(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$c(Object(xe),!0).forEach(function(_e){_defineProperty$f(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$c(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$f(_e.key),_e)}}function _createClass$b(t,e,xe){return e&&_defineProperties$b(t.prototype,e),xe&&_defineProperties$b(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$9(t,e,xe){return e=_getPrototypeOf$9(e),_possibleConstructorReturn$9(t,_isNativeReflectConstruct$9()?Reflect.construct(e,xe||[],_getPrototypeOf$9(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$9(t,e){if(e&&(_typeof$g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(t)}function _assertThisInitialized$9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!t})()}function _getPrototypeOf$9(t){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$9(t)}function _inherits$9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$9(t,e)}function _setPrototypeOf$9(t,e){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$9(t,e)}function _defineProperty$f(t,e,xe){return e=_toPropertyKey$f(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$f(t){var e=_toPrimitive$f(t,"string");return _typeof$g(e)=="symbol"?e:e+""}function _toPrimitive$f(t,e){if(_typeof$g(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$g(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pie=function(t){function e(xe){var _e;return _classCallCheck$b(this,e),_e=_callSuper$9(this,e,[xe]),_defineProperty$f(_e,"pieRef",null),_defineProperty$f(_e,"sectorRefs",[]),_defineProperty$f(_e,"id",uniqueId("recharts-pie-")),_defineProperty$f(_e,"handleAnimationEnd",function(){var Ee=_e.props.onAnimationEnd;_e.setState({isAnimationFinished:!0}),isFunction(Ee)&&Ee()}),_defineProperty$f(_e,"handleAnimationStart",function(){var Ee=_e.props.onAnimationStart;_e.setState({isAnimationFinished:!1}),isFunction(Ee)&&Ee()}),_e.state={isAnimationFinished:!xe.isAnimationActive,prevIsAnimationActive:xe.isAnimationActive,prevAnimationId:xe.animationId,sectorToFocus:0},_e}return _inherits$9(e,t),_createClass$b(e,[{key:"isActiveIndex",value:function(_e){var Ee=this.props.activeIndex;return Array.isArray(Ee)?Ee.indexOf(_e)!==-1:_e===Ee}},{key:"hasActiveIndex",value:function(){var _e=this.props.activeIndex;return Array.isArray(_e)?_e.length!==0:_e||_e===0}},{key:"renderLabels",value:function(_e){var Ee=this.props.isAnimationActive;if(Ee&&!this.state.isAnimationFinished)return null;var Se=this.props,Ae=Se.label,Re=Se.labelLine,Pe=Se.dataKey,Te=Se.valueKey,Ie=filterProps(this.props,!1),je=filterProps(Ae,!1),Oe=filterProps(Re,!1),ke=Ae&&Ae.offsetRadius||20,Fe=_e.map(function(Me,De){var Ue=(Me.startAngle+Me.endAngle)/2,ze=polarToCartesian(Me.cx,Me.cy,Me.outerRadius+ke,Ue),We=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},Ie),Me),{},{stroke:"none"},je),{},{index:De,textAnchor:e.getTextAnchor(ze.x,Me.cx)},ze),Ye=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},Ie),Me),{},{fill:"none",stroke:Me.fill},Oe),{},{index:De,points:[polarToCartesian(Me.cx,Me.cy,Me.outerRadius,Ue),ze]}),Xe=Pe;return isNil(Pe)&&isNil(Te)?Xe="value":isNil(Pe)&&(Xe=Te),React.createElement(Layer,{key:"label-".concat(Me.startAngle,"-").concat(Me.endAngle,"-").concat(Me.midAngle,"-").concat(De)},Re&&e.renderLabelLineItem(Re,Ye,"line"),e.renderLabelItem(Ae,We,getValueByDataKey(Me,Xe)))});return React.createElement(Layer,{className:"recharts-pie-labels"},Fe)}},{key:"renderSectorsStatically",value:function(_e){var Ee=this,Se=this.props,Ae=Se.activeShape,Re=Se.blendStroke,Pe=Se.inactiveShape;return _e.map(function(Te,Ie){if((Te==null?void 0:Te.startAngle)===0&&(Te==null?void 0:Te.endAngle)===0&&_e.length!==1)return null;var je=Ee.isActiveIndex(Ie),Oe=Pe&&Ee.hasActiveIndex()?Pe:null,ke=je?Ae:Oe,Fe=_objectSpread$c(_objectSpread$c({},Te),{},{stroke:Re?Te.fill:Te.stroke,tabIndex:-1});return React.createElement(Layer,_extends$a({ref:function(De){De&&!Ee.sectorRefs.includes(De)&&Ee.sectorRefs.push(De)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(Ee.props,Te,Ie),{key:"sector-".concat(Te==null?void 0:Te.startAngle,"-").concat(Te==null?void 0:Te.endAngle,"-").concat(Te.midAngle,"-").concat(Ie)}),React.createElement(Shape,_extends$a({option:ke,isActive:je,shapeType:"sector"},Fe)))})}},{key:"renderSectorsWithAnimation",value:function(){var _e=this,Ee=this.props,Se=Ee.sectors,Ae=Ee.isAnimationActive,Re=Ee.animationBegin,Pe=Ee.animationDuration,Te=Ee.animationEasing,Ie=Ee.animationId,je=this.state,Oe=je.prevSectors,ke=je.prevIsAnimationActive;return React.createElement(Animate,{begin:Re,duration:Pe,isActive:Ae,easing:Te,from:{t:0},to:{t:1},key:"pie-".concat(Ie,"-").concat(ke),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(Fe){var Me=Fe.t,De=[],Ue=Se&&Se[0],ze=Ue.startAngle;return Se.forEach(function(We,Ye){var Xe=Oe&&Oe[Ye],ir=Ye>0?get(We,"paddingAngle",0):0;if(Xe){var Qe=interpolateNumber$2(Xe.endAngle-Xe.startAngle,We.endAngle-We.startAngle),Ke=_objectSpread$c(_objectSpread$c({},We),{},{startAngle:ze+ir,endAngle:ze+Qe(Me)+ir});De.push(Ke),ze=Ke.endAngle}else{var rr=We.endAngle,cr=We.startAngle,Ze=interpolateNumber$2(0,rr-cr),er=Ze(Me),sr=_objectSpread$c(_objectSpread$c({},We),{},{startAngle:ze+ir,endAngle:ze+er+ir});De.push(sr),ze=sr.endAngle}}),React.createElement(Layer,null,_e.renderSectorsStatically(De))})}},{key:"attachKeyboardHandlers",value:function(_e){var Ee=this;_e.onkeydown=function(Se){if(!Se.altKey)switch(Se.key){case"ArrowLeft":{var Ae=++Ee.state.sectorToFocus%Ee.sectorRefs.length;Ee.sectorRefs[Ae].focus(),Ee.setState({sectorToFocus:Ae});break}case"ArrowRight":{var Re=--Ee.state.sectorToFocus<0?Ee.sectorRefs.length-1:Ee.state.sectorToFocus%Ee.sectorRefs.length;Ee.sectorRefs[Re].focus(),Ee.setState({sectorToFocus:Re});break}case"Escape":{Ee.sectorRefs[Ee.state.sectorToFocus].blur(),Ee.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var _e=this.props,Ee=_e.sectors,Se=_e.isAnimationActive,Ae=this.state.prevSectors;return Se&&Ee&&Ee.length&&(!Ae||!isEqual(Ae,Ee))?this.renderSectorsWithAnimation():this.renderSectorsStatically(Ee)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var _e=this,Ee=this.props,Se=Ee.hide,Ae=Ee.sectors,Re=Ee.className,Pe=Ee.label,Te=Ee.cx,Ie=Ee.cy,je=Ee.innerRadius,Oe=Ee.outerRadius,ke=Ee.isAnimationActive,Fe=this.state.isAnimationFinished;if(Se||!Ae||!Ae.length||!isNumber(Te)||!isNumber(Ie)||!isNumber(je)||!isNumber(Oe))return null;var Me=clsx("recharts-pie",Re);return React.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:Me,ref:function(Ue){_e.pieRef=Ue}},this.renderSectors(),Pe&&this.renderLabels(Ae),Label.renderCallByParent(this.props,null,!1),(!ke||Fe)&&LabelList.renderCallByParent(this.props,Ae,!1))}}],[{key:"getDerivedStateFromProps",value:function(_e,Ee){return Ee.prevIsAnimationActive!==_e.isAnimationActive?{prevIsAnimationActive:_e.isAnimationActive,prevAnimationId:_e.animationId,curSectors:_e.sectors,prevSectors:[],isAnimationFinished:!0}:_e.isAnimationActive&&_e.animationId!==Ee.prevAnimationId?{prevAnimationId:_e.animationId,curSectors:_e.sectors,prevSectors:Ee.curSectors,isAnimationFinished:!0}:_e.sectors!==Ee.curSectors?{curSectors:_e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(_e,Ee){return _e>Ee?"start":_e<Ee?"end":"middle"}},{key:"renderLabelLineItem",value:function(_e,Ee,Se){if(React.isValidElement(_e))return React.cloneElement(_e,Ee);if(isFunction(_e))return _e(Ee);var Ae=clsx("recharts-pie-label-line",typeof _e!="boolean"?_e.className:"");return React.createElement(Curve,_extends$a({},Ee,{key:Se,type:"linear",className:Ae}))}},{key:"renderLabelItem",value:function(_e,Ee,Se){if(React.isValidElement(_e))return React.cloneElement(_e,Ee);var Ae=Se;if(isFunction(_e)&&(Ae=_e(Ee),React.isValidElement(Ae)))return Ae;var Re=clsx("recharts-pie-label-text",typeof _e!="boolean"&&!isFunction(_e)?_e.className:"");return React.createElement(Text,_extends$a({},Ee,{alignmentBaseline:"middle",className:Re}),Ae)}}])}(reactExports.PureComponent);_Pie=Pie;_defineProperty$f(Pie,"displayName","Pie");_defineProperty$f(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$f(Pie,"parseDeltaAngle",function(t,e){var xe=mathSign(e-t),_e=Math.min(Math.abs(e-t),360);return xe*_e});_defineProperty$f(Pie,"getRealPieData",function(t){var e=t.data,xe=t.children,_e=filterProps(t,!1),Ee=findAllByType(xe,Cell);return e&&e.length?e.map(function(Se,Ae){return _objectSpread$c(_objectSpread$c(_objectSpread$c({payload:Se},_e),Se),Ee&&Ee[Ae]&&Ee[Ae].props)}):Ee&&Ee.length?Ee.map(function(Se){return _objectSpread$c(_objectSpread$c({},_e),Se.props)}):[]});_defineProperty$f(Pie,"parseCoordinateOfPie",function(t,e){var xe=e.top,_e=e.left,Ee=e.width,Se=e.height,Ae=getMaxRadius(Ee,Se),Re=_e+getPercentValue(t.cx,Ee,Ee/2),Pe=xe+getPercentValue(t.cy,Se,Se/2),Te=getPercentValue(t.innerRadius,Ae,0),Ie=getPercentValue(t.outerRadius,Ae,Ae*.8),je=t.maxRadius||Math.sqrt(Ee*Ee+Se*Se)/2;return{cx:Re,cy:Pe,innerRadius:Te,outerRadius:Ie,maxRadius:je}});_defineProperty$f(Pie,"getComposedData",function(t){var e=t.item,xe=t.offset,_e=e.type.defaultProps!==void 0?_objectSpread$c(_objectSpread$c({},e.type.defaultProps),e.props):e.props,Ee=_Pie.getRealPieData(_e);if(!Ee||!Ee.length)return null;var Se=_e.cornerRadius,Ae=_e.startAngle,Re=_e.endAngle,Pe=_e.paddingAngle,Te=_e.dataKey,Ie=_e.nameKey,je=_e.valueKey,Oe=_e.tooltipType,ke=Math.abs(_e.minAngle),Fe=_Pie.parseCoordinateOfPie(_e,xe),Me=_Pie.parseDeltaAngle(Ae,Re),De=Math.abs(Me),Ue=Te;isNil(Te)&&isNil(je)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Ue="value"):isNil(Te)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),Ue=je);var ze=Ee.filter(function(Ke){return getValueByDataKey(Ke,Ue,0)!==0}).length,We=(De>=360?ze:ze-1)*Pe,Ye=De-ze*ke-We,Xe=Ee.reduce(function(Ke,rr){var cr=getValueByDataKey(rr,Ue,0);return Ke+(isNumber(cr)?cr:0)},0),ir;if(Xe>0){var Qe;ir=Ee.map(function(Ke,rr){var cr=getValueByDataKey(Ke,Ue,0),Ze=getValueByDataKey(Ke,Ie,rr),er=(isNumber(cr)?cr:0)/Xe,sr;rr?sr=Qe.endAngle+mathSign(Me)*Pe*(cr!==0?1:0):sr=Ae;var fr=sr+mathSign(Me)*((cr!==0?ke:0)+er*Ye),_r=(sr+fr)/2,Er=(Fe.innerRadius+Fe.outerRadius)/2,yr=[{name:Ze,value:cr,payload:Ke,dataKey:Ue,type:Oe}],mr=polarToCartesian(Fe.cx,Fe.cy,Er,_r);return Qe=_objectSpread$c(_objectSpread$c(_objectSpread$c({percent:er,cornerRadius:Se,name:Ze,tooltipPayload:yr,midAngle:_r,middleRadius:Er,tooltipPosition:mr},Ke),Fe),{},{value:getValueByDataKey(Ke,Ue),startAngle:sr,endAngle:fr,payload:Ke,paddingAngle:mathSign(Me)*Pe}),Qe})}return _objectSpread$c(_objectSpread$c({},Fe),{},{sectors:ir,data:Ee})});var _baseRange,hasRequired_baseRange;function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var t=Math.ceil,e=Math.max;function xe(_e,Ee,Se,Ae){for(var Re=-1,Pe=e(t((Ee-_e)/(Se||1)),0),Te=Array(Pe);Pe--;)Te[Ae?Pe:++Re]=_e,_e+=Se;return Te}return _baseRange=xe,_baseRange}var toFinite_1,hasRequiredToFinite;function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var t=requireToNumber(),e=1/0,xe=17976931348623157e292;function _e(Ee){if(!Ee)return Ee===0?Ee:0;if(Ee=t(Ee),Ee===e||Ee===-1/0){var Se=Ee<0?-1:1;return Se*xe}return Ee===Ee?Ee:0}return toFinite_1=_e,toFinite_1}var _createRange,hasRequired_createRange;function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var t=require_baseRange(),e=require_isIterateeCall(),xe=requireToFinite();function _e(Ee){return function(Se,Ae,Re){return Re&&typeof Re!="number"&&e(Se,Ae,Re)&&(Ae=Re=void 0),Se=xe(Se),Ae===void 0?(Ae=Se,Se=0):Ae=xe(Ae),Re=Re===void 0?Se<Ae?1:-1:xe(Re),t(Se,Ae,Re,Ee)}}return _createRange=_e,_createRange}var range_1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var t=require_createRange(),e=t();return range_1=e,range_1}var rangeExports=requireRange();const range=getDefaultExportFromCjs(rangeExports);function _typeof$f(t){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$f(t)}function ownKeys$b(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$b(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$b(Object(xe),!0).forEach(function(_e){_defineProperty$e(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$b(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$e(t,e,xe){return e=_toPropertyKey$e(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$e(t){var e=_toPrimitive$e(t,"string");return _typeof$f(e)=="symbol"?e:e+""}function _toPrimitive$e(t,e){if(_typeof$f(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$f(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function t(e,xe){var _e=e.replace(/(\w)/,function(Se){return Se.toUpperCase()}),Ee=PREFIX_LIST.reduce(function(Se,Ae){return _objectSpread$b(_objectSpread$b({},Se),{},_defineProperty$e({},Ae+_e,xe))},{});return Ee[e]=xe,Ee};function _typeof$e(t){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$e(t)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$9.apply(this,arguments)}function ownKeys$a(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$a(Object(xe),!0).forEach(function(_e){_defineProperty$d(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$a(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$d(_e.key),_e)}}function _createClass$a(t,e,xe){return e&&_defineProperties$a(t.prototype,e),xe&&_defineProperties$a(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$8(t,e,xe){return e=_getPrototypeOf$8(e),_possibleConstructorReturn$8(t,_isNativeReflectConstruct$8()?Reflect.construct(e,xe||[],_getPrototypeOf$8(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$8(t,e){if(e&&(_typeof$e(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(t)}function _assertThisInitialized$8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!t})()}function _getPrototypeOf$8(t){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$8(t)}function _inherits$8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$8(t,e)}function _setPrototypeOf$8(t,e){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$8(t,e)}function _defineProperty$d(t,e,xe){return e=_toPropertyKey$d(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$d(t){var e=_toPrimitive$d(t,"string");return _typeof$e(e)=="symbol"?e:e+""}function _toPrimitive$d(t,e){if(_typeof$e(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$e(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var createScale=function t(e){var xe=e.data,_e=e.startIndex,Ee=e.endIndex,Se=e.x,Ae=e.width,Re=e.travellerWidth;if(!xe||!xe.length)return{};var Pe=xe.length,Te=point().domain(range(0,Pe)).range([Se,Se+Ae-Re]),Ie=Te.domain().map(function(je){return Te(je)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:Te(_e),endX:Te(Ee),scale:Te,scaleValues:Ie}},isTouch=function t(e){return e.changedTouches&&!!e.changedTouches.length},Brush=function(t){function e(xe){var _e;return _classCallCheck$a(this,e),_e=_callSuper$8(this,e,[xe]),_defineProperty$d(_e,"handleDrag",function(Ee){_e.leaveTimer&&(clearTimeout(_e.leaveTimer),_e.leaveTimer=null),_e.state.isTravellerMoving?_e.handleTravellerMove(Ee):_e.state.isSlideMoving&&_e.handleSlideDrag(Ee)}),_defineProperty$d(_e,"handleTouchMove",function(Ee){Ee.changedTouches!=null&&Ee.changedTouches.length>0&&_e.handleDrag(Ee.changedTouches[0])}),_defineProperty$d(_e,"handleDragEnd",function(){_e.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var Ee=_e.props,Se=Ee.endIndex,Ae=Ee.onDragEnd,Re=Ee.startIndex;Ae==null||Ae({endIndex:Se,startIndex:Re})}),_e.detachDragEndListener()}),_defineProperty$d(_e,"handleLeaveWrapper",function(){(_e.state.isTravellerMoving||_e.state.isSlideMoving)&&(_e.leaveTimer=window.setTimeout(_e.handleDragEnd,_e.props.leaveTimeOut))}),_defineProperty$d(_e,"handleEnterSlideOrTraveller",function(){_e.setState({isTextActive:!0})}),_defineProperty$d(_e,"handleLeaveSlideOrTraveller",function(){_e.setState({isTextActive:!1})}),_defineProperty$d(_e,"handleSlideDragStart",function(Ee){var Se=isTouch(Ee)?Ee.changedTouches[0]:Ee;_e.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:Se.pageX}),_e.attachDragEndListener()}),_e.travellerDragStartHandlers={startX:_e.handleTravellerDragStart.bind(_e,"startX"),endX:_e.handleTravellerDragStart.bind(_e,"endX")},_e.state={},_e}return _inherits$8(e,t),_createClass$a(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(_e){var Ee=_e.startX,Se=_e.endX,Ae=this.state.scaleValues,Re=this.props,Pe=Re.gap,Te=Re.data,Ie=Te.length-1,je=Math.min(Ee,Se),Oe=Math.max(Ee,Se),ke=e.getIndexInRange(Ae,je),Fe=e.getIndexInRange(Ae,Oe);return{startIndex:ke-ke%Pe,endIndex:Fe===Ie?Ie:Fe-Fe%Pe}}},{key:"getTextOfTick",value:function(_e){var Ee=this.props,Se=Ee.data,Ae=Ee.tickFormatter,Re=Ee.dataKey,Pe=getValueByDataKey(Se[_e],Re,_e);return isFunction(Ae)?Ae(Pe,_e):Pe}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(_e){var Ee=this.state,Se=Ee.slideMoveStartX,Ae=Ee.startX,Re=Ee.endX,Pe=this.props,Te=Pe.x,Ie=Pe.width,je=Pe.travellerWidth,Oe=Pe.startIndex,ke=Pe.endIndex,Fe=Pe.onChange,Me=_e.pageX-Se;Me>0?Me=Math.min(Me,Te+Ie-je-Re,Te+Ie-je-Ae):Me<0&&(Me=Math.max(Me,Te-Ae,Te-Re));var De=this.getIndex({startX:Ae+Me,endX:Re+Me});(De.startIndex!==Oe||De.endIndex!==ke)&&Fe&&Fe(De),this.setState({startX:Ae+Me,endX:Re+Me,slideMoveStartX:_e.pageX})}},{key:"handleTravellerDragStart",value:function(_e,Ee){var Se=isTouch(Ee)?Ee.changedTouches[0]:Ee;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:_e,brushMoveStartX:Se.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(_e){var Ee=this.state,Se=Ee.brushMoveStartX,Ae=Ee.movingTravellerId,Re=Ee.endX,Pe=Ee.startX,Te=this.state[Ae],Ie=this.props,je=Ie.x,Oe=Ie.width,ke=Ie.travellerWidth,Fe=Ie.onChange,Me=Ie.gap,De=Ie.data,Ue={startX:this.state.startX,endX:this.state.endX},ze=_e.pageX-Se;ze>0?ze=Math.min(ze,je+Oe-ke-Te):ze<0&&(ze=Math.max(ze,je-Te)),Ue[Ae]=Te+ze;var We=this.getIndex(Ue),Ye=We.startIndex,Xe=We.endIndex,ir=function(){var Ke=De.length-1;return Ae==="startX"&&(Re>Pe?Ye%Me===0:Xe%Me===0)||Re<Pe&&Xe===Ke||Ae==="endX"&&(Re>Pe?Xe%Me===0:Ye%Me===0)||Re>Pe&&Xe===Ke};this.setState(_defineProperty$d(_defineProperty$d({},Ae,Te+ze),"brushMoveStartX",_e.pageX),function(){Fe&&ir()&&Fe(We)})}},{key:"handleTravellerMoveKeyboard",value:function(_e,Ee){var Se=this,Ae=this.state,Re=Ae.scaleValues,Pe=Ae.startX,Te=Ae.endX,Ie=this.state[Ee],je=Re.indexOf(Ie);if(je!==-1){var Oe=je+_e;if(!(Oe===-1||Oe>=Re.length)){var ke=Re[Oe];Ee==="startX"&&ke>=Te||Ee==="endX"&&ke<=Pe||this.setState(_defineProperty$d({},Ee,ke),function(){Se.props.onChange(Se.getIndex({startX:Se.state.startX,endX:Se.state.endX}))})}}}},{key:"renderBackground",value:function(){var _e=this.props,Ee=_e.x,Se=_e.y,Ae=_e.width,Re=_e.height,Pe=_e.fill,Te=_e.stroke;return React.createElement("rect",{stroke:Te,fill:Pe,x:Ee,y:Se,width:Ae,height:Re})}},{key:"renderPanorama",value:function(){var _e=this.props,Ee=_e.x,Se=_e.y,Ae=_e.width,Re=_e.height,Pe=_e.data,Te=_e.children,Ie=_e.padding,je=reactExports.Children.only(Te);return je?React.cloneElement(je,{x:Ee,y:Se,width:Ae,height:Re,margin:Ie,compact:!0,data:Pe}):null}},{key:"renderTravellerLayer",value:function(_e,Ee){var Se,Ae,Re=this,Pe=this.props,Te=Pe.y,Ie=Pe.travellerWidth,je=Pe.height,Oe=Pe.traveller,ke=Pe.ariaLabel,Fe=Pe.data,Me=Pe.startIndex,De=Pe.endIndex,Ue=Math.max(_e,this.props.x),ze=_objectSpread$a(_objectSpread$a({},filterProps(this.props,!1)),{},{x:Ue,y:Te,width:Ie,height:je}),We=ke||"Min value: ".concat((Se=Fe[Me])===null||Se===void 0?void 0:Se.name,", Max value: ").concat((Ae=Fe[De])===null||Ae===void 0?void 0:Ae.name);return React.createElement(Layer,{tabIndex:0,role:"slider","aria-label":We,"aria-valuenow":_e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[Ee],onTouchStart:this.travellerDragStartHandlers[Ee],onKeyDown:function(Xe){["ArrowLeft","ArrowRight"].includes(Xe.key)&&(Xe.preventDefault(),Xe.stopPropagation(),Re.handleTravellerMoveKeyboard(Xe.key==="ArrowRight"?1:-1,Ee))},onFocus:function(){Re.setState({isTravellerFocused:!0})},onBlur:function(){Re.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(Oe,ze))}},{key:"renderSlide",value:function(_e,Ee){var Se=this.props,Ae=Se.y,Re=Se.height,Pe=Se.stroke,Te=Se.travellerWidth,Ie=Math.min(_e,Ee)+Te,je=Math.max(Math.abs(Ee-_e)-Te,0);return React.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:Pe,fillOpacity:.2,x:Ie,y:Ae,width:je,height:Re})}},{key:"renderText",value:function(){var _e=this.props,Ee=_e.startIndex,Se=_e.endIndex,Ae=_e.y,Re=_e.height,Pe=_e.travellerWidth,Te=_e.stroke,Ie=this.state,je=Ie.startX,Oe=Ie.endX,ke=5,Fe={pointerEvents:"none",fill:Te};return React.createElement(Layer,{className:"recharts-brush-texts"},React.createElement(Text,_extends$9({textAnchor:"end",verticalAnchor:"middle",x:Math.min(je,Oe)-ke,y:Ae+Re/2},Fe),this.getTextOfTick(Ee)),React.createElement(Text,_extends$9({textAnchor:"start",verticalAnchor:"middle",x:Math.max(je,Oe)+Pe+ke,y:Ae+Re/2},Fe),this.getTextOfTick(Se)))}},{key:"render",value:function(){var _e=this.props,Ee=_e.data,Se=_e.className,Ae=_e.children,Re=_e.x,Pe=_e.y,Te=_e.width,Ie=_e.height,je=_e.alwaysShowText,Oe=this.state,ke=Oe.startX,Fe=Oe.endX,Me=Oe.isTextActive,De=Oe.isSlideMoving,Ue=Oe.isTravellerMoving,ze=Oe.isTravellerFocused;if(!Ee||!Ee.length||!isNumber(Re)||!isNumber(Pe)||!isNumber(Te)||!isNumber(Ie)||Te<=0||Ie<=0)return null;var We=clsx("recharts-brush",Se),Ye=React.Children.count(Ae)===1,Xe=generatePrefixStyle("userSelect","none");return React.createElement(Layer,{className:We,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Xe},this.renderBackground(),Ye&&this.renderPanorama(),this.renderSlide(ke,Fe),this.renderTravellerLayer(ke,"startX"),this.renderTravellerLayer(Fe,"endX"),(Me||De||Ue||ze||je)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(_e){var Ee=_e.x,Se=_e.y,Ae=_e.width,Re=_e.height,Pe=_e.stroke,Te=Math.floor(Se+Re/2)-1;return React.createElement(React.Fragment,null,React.createElement("rect",{x:Ee,y:Se,width:Ae,height:Re,fill:Pe,stroke:"none"}),React.createElement("line",{x1:Ee+1,y1:Te,x2:Ee+Ae-1,y2:Te,fill:"none",stroke:"#fff"}),React.createElement("line",{x1:Ee+1,y1:Te+2,x2:Ee+Ae-1,y2:Te+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(_e,Ee){var Se;return React.isValidElement(_e)?Se=React.cloneElement(_e,Ee):isFunction(_e)?Se=_e(Ee):Se=e.renderDefaultTraveller(Ee),Se}},{key:"getDerivedStateFromProps",value:function(_e,Ee){var Se=_e.data,Ae=_e.width,Re=_e.x,Pe=_e.travellerWidth,Te=_e.updateId,Ie=_e.startIndex,je=_e.endIndex;if(Se!==Ee.prevData||Te!==Ee.prevUpdateId)return _objectSpread$a({prevData:Se,prevTravellerWidth:Pe,prevUpdateId:Te,prevX:Re,prevWidth:Ae},Se&&Se.length?createScale({data:Se,width:Ae,x:Re,travellerWidth:Pe,startIndex:Ie,endIndex:je}):{scale:null,scaleValues:null});if(Ee.scale&&(Ae!==Ee.prevWidth||Re!==Ee.prevX||Pe!==Ee.prevTravellerWidth)){Ee.scale.range([Re,Re+Ae-Pe]);var Oe=Ee.scale.domain().map(function(ke){return Ee.scale(ke)});return{prevData:Se,prevTravellerWidth:Pe,prevUpdateId:Te,prevX:Re,prevWidth:Ae,startX:Ee.scale(_e.startIndex),endX:Ee.scale(_e.endIndex),scaleValues:Oe}}return null}},{key:"getIndexInRange",value:function(_e,Ee){for(var Se=_e.length,Ae=0,Re=Se-1;Re-Ae>1;){var Pe=Math.floor((Ae+Re)/2);_e[Pe]>Ee?Re=Pe:Ae=Pe}return Ee>=_e[Re]?Re:Ae}}])}(reactExports.PureComponent);_defineProperty$d(Brush,"displayName","Brush");_defineProperty$d(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _baseSome,hasRequired_baseSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var t=require_baseEach();function e(xe,_e){var Ee;return t(xe,function(Se,Ae,Re){return Ee=_e(Se,Ae,Re),!Ee}),!!Ee}return _baseSome=e,_baseSome}var some_1,hasRequiredSome;function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var t=require_arraySome(),e=require_baseIteratee(),xe=require_baseSome(),_e=requireIsArray(),Ee=require_isIterateeCall();function Se(Ae,Re,Pe){var Te=_e(Ae)?t:xe;return Pe&&Ee(Ae,Re,Pe)&&(Re=void 0),Te(Ae,e(Re,3))}return some_1=Se,some_1}var someExports=requireSome();const some=getDefaultExportFromCjs(someExports);var ifOverflowMatches=function t(e,xe){var _e=e.alwaysShow,Ee=e.ifOverflow;return _e&&(Ee="extendDomain"),Ee===xe},_baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var t=require_defineProperty();function e(xe,_e,Ee){_e=="__proto__"&&t?t(xe,_e,{configurable:!0,enumerable:!0,value:Ee,writable:!0}):xe[_e]=Ee}return _baseAssignValue=e,_baseAssignValue}var mapValues_1,hasRequiredMapValues;function requireMapValues(){if(hasRequiredMapValues)return mapValues_1;hasRequiredMapValues=1;var t=require_baseAssignValue(),e=require_baseForOwn(),xe=require_baseIteratee();function _e(Ee,Se){var Ae={};return Se=xe(Se,3),e(Ee,function(Re,Pe,Te){t(Ae,Pe,Se(Re,Pe,Te))}),Ae}return mapValues_1=_e,mapValues_1}var mapValuesExports=requireMapValues();const mapValues=getDefaultExportFromCjs(mapValuesExports);var _arrayEvery,hasRequired_arrayEvery;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;hasRequired_arrayEvery=1;function t(e,xe){for(var _e=-1,Ee=e==null?0:e.length;++_e<Ee;)if(!xe(e[_e],_e,e))return!1;return!0}return _arrayEvery=t,_arrayEvery}var _baseEvery,hasRequired_baseEvery;function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var t=require_baseEach();function e(xe,_e){var Ee=!0;return t(xe,function(Se,Ae,Re){return Ee=!!_e(Se,Ae,Re),Ee}),Ee}return _baseEvery=e,_baseEvery}var every_1,hasRequiredEvery;function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var t=require_arrayEvery(),e=require_baseEvery(),xe=require_baseIteratee(),_e=requireIsArray(),Ee=require_isIterateeCall();function Se(Ae,Re,Pe){var Te=_e(Ae)?t:e;return Pe&&Ee(Ae,Re,Pe)&&(Re=void 0),Te(Ae,xe(Re,3))}return every_1=Se,every_1}var everyExports=requireEvery();const every=getDefaultExportFromCjs(everyExports);var _excluded$3=["x","y"];function _typeof$d(t){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$d(t)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$8.apply(this,arguments)}function ownKeys$9(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$9(Object(xe),!0).forEach(function(_e){_defineProperty$c(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$9(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$c(t,e,xe){return e=_toPropertyKey$c(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$c(t){var e=_toPrimitive$c(t,"string");return _typeof$d(e)=="symbol"?e:e+""}function _toPrimitive$c(t,e){if(_typeof$d(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$d(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _objectWithoutProperties$3(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$3(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$3(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function typeguardBarRectangleProps(t,e){var xe=t.x,_e=t.y,Ee=_objectWithoutProperties$3(t,_excluded$3),Se="".concat(xe),Ae=parseInt(Se,10),Re="".concat(_e),Pe=parseInt(Re,10),Te="".concat(e.height||Ee.height),Ie=parseInt(Te,10),je="".concat(e.width||Ee.width),Oe=parseInt(je,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},e),Ee),Ae?{x:Ae}:{}),Pe?{y:Pe}:{}),{},{height:Ie,width:Oe,name:e.name,radius:e.radius})}function BarRectangle(t){return React.createElement(Shape,_extends$8({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},t))}var minPointSizeCallback=function t(e){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(_e,Ee){if(typeof e=="number")return e;var Se=typeof _e=="number";return Se?e(_e,Ee):(Se||invariant(),xe)}},_excluded$2=["value","background"],_Bar;function _typeof$c(t){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$c(t)}function _objectWithoutProperties$2(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$2(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$2(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$7.apply(this,arguments)}function ownKeys$8(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(xe),!0).forEach(function(_e){_defineProperty$b(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$8(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$b(_e.key),_e)}}function _createClass$9(t,e,xe){return e&&_defineProperties$9(t.prototype,e),xe&&_defineProperties$9(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$7(t,e,xe){return e=_getPrototypeOf$7(e),_possibleConstructorReturn$7(t,_isNativeReflectConstruct$7()?Reflect.construct(e,xe||[],_getPrototypeOf$7(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$7(t,e){if(e&&(_typeof$c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(t)}function _assertThisInitialized$7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!t})()}function _getPrototypeOf$7(t){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$7(t)}function _inherits$7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$7(t,e)}function _setPrototypeOf$7(t,e){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$7(t,e)}function _defineProperty$b(t,e,xe){return e=_toPropertyKey$b(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$b(t){var e=_toPrimitive$b(t,"string");return _typeof$c(e)=="symbol"?e:e+""}function _toPrimitive$b(t,e){if(_typeof$c(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$c(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bar=function(t){function e(){var xe;_classCallCheck$9(this,e);for(var _e=arguments.length,Ee=new Array(_e),Se=0;Se<_e;Se++)Ee[Se]=arguments[Se];return xe=_callSuper$7(this,e,[].concat(Ee)),_defineProperty$b(xe,"state",{isAnimationFinished:!1}),_defineProperty$b(xe,"id",uniqueId("recharts-bar-")),_defineProperty$b(xe,"handleAnimationEnd",function(){var Ae=xe.props.onAnimationEnd;xe.setState({isAnimationFinished:!0}),Ae&&Ae()}),_defineProperty$b(xe,"handleAnimationStart",function(){var Ae=xe.props.onAnimationStart;xe.setState({isAnimationFinished:!1}),Ae&&Ae()}),xe}return _inherits$7(e,t),_createClass$9(e,[{key:"renderRectanglesStatically",value:function(_e){var Ee=this,Se=this.props,Ae=Se.shape,Re=Se.dataKey,Pe=Se.activeIndex,Te=Se.activeBar,Ie=filterProps(this.props,!1);return _e&&_e.map(function(je,Oe){var ke=Oe===Pe,Fe=ke?Te:Ae,Me=_objectSpread$8(_objectSpread$8(_objectSpread$8({},Ie),je),{},{isActive:ke,option:Fe,index:Oe,dataKey:Re,onAnimationStart:Ee.handleAnimationStart,onAnimationEnd:Ee.handleAnimationEnd});return React.createElement(Layer,_extends$7({className:"recharts-bar-rectangle"},adaptEventsOfChild(Ee.props,je,Oe),{key:"rectangle-".concat(je==null?void 0:je.x,"-").concat(je==null?void 0:je.y,"-").concat(je==null?void 0:je.value,"-").concat(Oe)}),React.createElement(BarRectangle,Me))})}},{key:"renderRectanglesWithAnimation",value:function(){var _e=this,Ee=this.props,Se=Ee.data,Ae=Ee.layout,Re=Ee.isAnimationActive,Pe=Ee.animationBegin,Te=Ee.animationDuration,Ie=Ee.animationEasing,je=Ee.animationId,Oe=this.state.prevData;return React.createElement(Animate,{begin:Pe,duration:Te,isActive:Re,easing:Ie,from:{t:0},to:{t:1},key:"bar-".concat(je),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(ke){var Fe=ke.t,Me=Se.map(function(De,Ue){var ze=Oe&&Oe[Ue];if(ze){var We=interpolateNumber$2(ze.x,De.x),Ye=interpolateNumber$2(ze.y,De.y),Xe=interpolateNumber$2(ze.width,De.width),ir=interpolateNumber$2(ze.height,De.height);return _objectSpread$8(_objectSpread$8({},De),{},{x:We(Fe),y:Ye(Fe),width:Xe(Fe),height:ir(Fe)})}if(Ae==="horizontal"){var Qe=interpolateNumber$2(0,De.height),Ke=Qe(Fe);return _objectSpread$8(_objectSpread$8({},De),{},{y:De.y+De.height-Ke,height:Ke})}var rr=interpolateNumber$2(0,De.width),cr=rr(Fe);return _objectSpread$8(_objectSpread$8({},De),{},{width:cr})});return React.createElement(Layer,null,_e.renderRectanglesStatically(Me))})}},{key:"renderRectangles",value:function(){var _e=this.props,Ee=_e.data,Se=_e.isAnimationActive,Ae=this.state.prevData;return Se&&Ee&&Ee.length&&(!Ae||!isEqual(Ae,Ee))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(Ee)}},{key:"renderBackground",value:function(){var _e=this,Ee=this.props,Se=Ee.data,Ae=Ee.dataKey,Re=Ee.activeIndex,Pe=filterProps(this.props.background,!1);return Se.map(function(Te,Ie){Te.value;var je=Te.background,Oe=_objectWithoutProperties$2(Te,_excluded$2);if(!je)return null;var ke=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},Oe),{},{fill:"#eee"},je),Pe),adaptEventsOfChild(_e.props,Te,Ie)),{},{onAnimationStart:_e.handleAnimationStart,onAnimationEnd:_e.handleAnimationEnd,dataKey:Ae,index:Ie,className:"recharts-bar-background-rectangle"});return React.createElement(BarRectangle,_extends$7({key:"background-bar-".concat(Ie),option:_e.props.background,isActive:Ie===Re},ke))})}},{key:"renderErrorBar",value:function(_e,Ee){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var Se=this.props,Ae=Se.data,Re=Se.xAxis,Pe=Se.yAxis,Te=Se.layout,Ie=Se.children,je=findAllByType(Ie,ErrorBar);if(!je)return null;var Oe=Te==="vertical"?Ae[0].height/2:Ae[0].width/2,ke=function(De,Ue){var ze=Array.isArray(De.value)?De.value[1]:De.value;return{x:De.x,y:De.y,value:ze,errorVal:getValueByDataKey(De,Ue)}},Fe={clipPath:_e?"url(#clipPath-".concat(Ee,")"):null};return React.createElement(Layer,Fe,je.map(function(Me){return React.cloneElement(Me,{key:"error-bar-".concat(Ee,"-").concat(Me.props.dataKey),data:Ae,xAxis:Re,yAxis:Pe,layout:Te,offset:Oe,dataPointFormatter:ke})}))}},{key:"render",value:function(){var _e=this.props,Ee=_e.hide,Se=_e.data,Ae=_e.className,Re=_e.xAxis,Pe=_e.yAxis,Te=_e.left,Ie=_e.top,je=_e.width,Oe=_e.height,ke=_e.isAnimationActive,Fe=_e.background,Me=_e.id;if(Ee||!Se||!Se.length)return null;var De=this.state.isAnimationFinished,Ue=clsx("recharts-bar",Ae),ze=Re&&Re.allowDataOverflow,We=Pe&&Pe.allowDataOverflow,Ye=ze||We,Xe=isNil(Me)?this.id:Me;return React.createElement(Layer,{className:Ue},ze||We?React.createElement("defs",null,React.createElement("clipPath",{id:"clipPath-".concat(Xe)},React.createElement("rect",{x:ze?Te:Te-je/2,y:We?Ie:Ie-Oe/2,width:ze?je:je*2,height:We?Oe:Oe*2}))):null,React.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:Ye?"url(#clipPath-".concat(Xe,")"):null},Fe?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(Ye,Xe),(!ke||De)&&LabelList.renderCallByParent(this.props,Se))}}],[{key:"getDerivedStateFromProps",value:function(_e,Ee){return _e.animationId!==Ee.prevAnimationId?{prevAnimationId:_e.animationId,curData:_e.data,prevData:Ee.curData}:_e.data!==Ee.curData?{curData:_e.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$b(Bar,"displayName","Bar");_defineProperty$b(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$b(Bar,"getComposedData",function(t){var e=t.props,xe=t.item,_e=t.barPosition,Ee=t.bandSize,Se=t.xAxis,Ae=t.yAxis,Re=t.xAxisTicks,Pe=t.yAxisTicks,Te=t.stackedData,Ie=t.dataStartIndex,je=t.displayedData,Oe=t.offset,ke=findPositionOfBar(_e,xe);if(!ke)return null;var Fe=e.layout,Me=xe.type.defaultProps,De=Me!==void 0?_objectSpread$8(_objectSpread$8({},Me),xe.props):xe.props,Ue=De.dataKey,ze=De.children,We=De.minPointSize,Ye=Fe==="horizontal"?Ae:Se,Xe=Te?Ye.scale.domain():null,ir=getBaseValueOfBar({numericAxis:Ye}),Qe=findAllByType(ze,Cell),Ke=je.map(function(rr,cr){var Ze,er,sr,fr,_r,Er;Te?Ze=truncateByDomain(Te[Ie+cr],Xe):(Ze=getValueByDataKey(rr,Ue),Array.isArray(Ze)||(Ze=[ir,Ze]));var yr=minPointSizeCallback(We,_Bar.defaultProps.minPointSize)(Ze[1],cr);if(Fe==="horizontal"){var mr,Pr=[Ae.scale(Ze[0]),Ae.scale(Ze[1])],Cr=Pr[0],wr=Pr[1];er=getCateCoordinateOfBar({axis:Se,ticks:Re,bandSize:Ee,offset:ke.offset,entry:rr,index:cr}),sr=(mr=wr??Cr)!==null&&mr!==void 0?mr:void 0,fr=ke.size;var or=Cr-wr;if(_r=Number.isNaN(or)?0:or,Er={x:er,y:Ae.y,width:fr,height:Ae.height},Math.abs(yr)>0&&Math.abs(_r)<Math.abs(yr)){var hr=mathSign(_r||yr)*(Math.abs(yr)-Math.abs(_r));sr-=hr,_r+=hr}}else{var br=[Se.scale(Ze[0]),Se.scale(Ze[1])],Ir=br[0],jr=br[1];if(er=Ir,sr=getCateCoordinateOfBar({axis:Ae,ticks:Pe,bandSize:Ee,offset:ke.offset,entry:rr,index:cr}),fr=jr-Ir,_r=ke.size,Er={x:Se.x,y:sr,width:Se.width,height:_r},Math.abs(yr)>0&&Math.abs(fr)<Math.abs(yr)){var Mr=mathSign(fr||yr)*(Math.abs(yr)-Math.abs(fr));fr+=Mr}}return _objectSpread$8(_objectSpread$8(_objectSpread$8({},rr),{},{x:er,y:sr,width:fr,height:_r,value:Te?Ze:Ze[1],payload:rr,background:Er},Qe&&Qe[cr]&&Qe[cr].props),{},{tooltipPayload:[getTooltipItem(xe,rr)],tooltipPosition:{x:er+fr/2,y:sr+_r/2}})});return _objectSpread$8({data:Ke,layout:Fe},Oe)});function _typeof$b(t){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$b(t)}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$a(_e.key),_e)}}function _createClass$8(t,e,xe){return e&&_defineProperties$8(t.prototype,e),xe&&_defineProperties$8(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function ownKeys$7(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$7(Object(xe),!0).forEach(function(_e){_defineProperty$a(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$7(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$a(t,e,xe){return e=_toPropertyKey$a(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$a(t){var e=_toPrimitive$a(t,"string");return _typeof$b(e)=="symbol"?e:e+""}function _toPrimitive$a(t,e){if(_typeof$b(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$b(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var formatAxisMap=function t(e,xe,_e,Ee,Se){var Ae=e.width,Re=e.height,Pe=e.layout,Te=e.children,Ie=Object.keys(xe),je={left:_e.left,leftMirror:_e.left,right:Ae-_e.right,rightMirror:Ae-_e.right,top:_e.top,topMirror:_e.top,bottom:Re-_e.bottom,bottomMirror:Re-_e.bottom},Oe=!!findChildByType(Te,Bar);return Ie.reduce(function(ke,Fe){var Me=xe[Fe],De=Me.orientation,Ue=Me.domain,ze=Me.padding,We=ze===void 0?{}:ze,Ye=Me.mirror,Xe=Me.reversed,ir="".concat(De).concat(Ye?"Mirror":""),Qe,Ke,rr,cr,Ze;if(Me.type==="number"&&(Me.padding==="gap"||Me.padding==="no-gap")){var er=Ue[1]-Ue[0],sr=1/0,fr=Me.categoricalDomain.sort(compareValues);if(fr.forEach(function(br,Ir){Ir>0&&(sr=Math.min((br||0)-(fr[Ir-1]||0),sr))}),Number.isFinite(sr)){var _r=sr/er,Er=Me.layout==="vertical"?_e.height:_e.width;if(Me.padding==="gap"&&(Qe=_r*Er/2),Me.padding==="no-gap"){var yr=getPercentValue(e.barCategoryGap,_r*Er),mr=_r*Er/2;Qe=mr-yr-(mr-yr)/Er*yr}}}Ee==="xAxis"?Ke=[_e.left+(We.left||0)+(Qe||0),_e.left+_e.width-(We.right||0)-(Qe||0)]:Ee==="yAxis"?Ke=Pe==="horizontal"?[_e.top+_e.height-(We.bottom||0),_e.top+(We.top||0)]:[_e.top+(We.top||0)+(Qe||0),_e.top+_e.height-(We.bottom||0)-(Qe||0)]:Ke=Me.range,Xe&&(Ke=[Ke[1],Ke[0]]);var Pr=parseScale(Me,Se,Oe),Cr=Pr.scale,wr=Pr.realScaleType;Cr.domain(Ue).range(Ke),checkDomainOfScale(Cr);var or=getTicksOfScale(Cr,_objectSpread$7(_objectSpread$7({},Me),{},{realScaleType:wr}));Ee==="xAxis"?(Ze=De==="top"&&!Ye||De==="bottom"&&Ye,rr=_e.left,cr=je[ir]-Ze*Me.height):Ee==="yAxis"&&(Ze=De==="left"&&!Ye||De==="right"&&Ye,rr=je[ir]-Ze*Me.width,cr=_e.top);var hr=_objectSpread$7(_objectSpread$7(_objectSpread$7({},Me),or),{},{realScaleType:wr,x:rr,y:cr,scale:Cr,width:Ee==="xAxis"?_e.width:Me.width,height:Ee==="yAxis"?_e.height:Me.height});return hr.bandSize=getBandSizeOfAxis(hr,or),!Me.hide&&Ee==="xAxis"?je[ir]+=(Ze?-1:1)*hr.height:Me.hide||(je[ir]+=(Ze?-1:1)*hr.width),_objectSpread$7(_objectSpread$7({},ke),{},_defineProperty$a({},Fe,hr))},{})},rectWithPoints=function t(e,xe){var _e=e.x,Ee=e.y,Se=xe.x,Ae=xe.y;return{x:Math.min(_e,Se),y:Math.min(Ee,Ae),width:Math.abs(Se-_e),height:Math.abs(Ae-Ee)}},rectWithCoords=function t(e){var xe=e.x1,_e=e.y1,Ee=e.x2,Se=e.y2;return rectWithPoints({x:xe,y:_e},{x:Ee,y:Se})},ScaleHelper=function(){function t(e){_classCallCheck$8(this,t),this.scale=e}return _createClass$8(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(xe){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=_e.bandAware,Se=_e.position;if(xe!==void 0){if(Se)switch(Se){case"start":return this.scale(xe);case"middle":{var Ae=this.bandwidth?this.bandwidth()/2:0;return this.scale(xe)+Ae}case"end":{var Re=this.bandwidth?this.bandwidth():0;return this.scale(xe)+Re}default:return this.scale(xe)}if(Ee){var Pe=this.bandwidth?this.bandwidth()/2:0;return this.scale(xe)+Pe}return this.scale(xe)}}},{key:"isInRange",value:function(xe){var _e=this.range(),Ee=_e[0],Se=_e[_e.length-1];return Ee<=Se?xe>=Ee&&xe<=Se:xe>=Se&&xe<=Ee}}],[{key:"create",value:function(xe){return new t(xe)}}])}();_defineProperty$a(ScaleHelper,"EPS",1e-4);var createLabeledScales=function t(e){var xe=Object.keys(e).reduce(function(_e,Ee){return _objectSpread$7(_objectSpread$7({},_e),{},_defineProperty$a({},Ee,ScaleHelper.create(e[Ee])))},{});return _objectSpread$7(_objectSpread$7({},xe),{},{apply:function(Ee){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ae=Se.bandAware,Re=Se.position;return mapValues(Ee,function(Pe,Te){return xe[Te].apply(Pe,{bandAware:Ae,position:Re})})},isInRange:function(Ee){return every(Ee,function(Se,Ae){return xe[Ae].isInRange(Se)})}})};function normalizeAngle(t){return(t%180+180)%180}var getAngledRectangleWidth=function t(e){var xe=e.width,_e=e.height,Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Se=normalizeAngle(Ee),Ae=Se*Math.PI/180,Re=Math.atan(_e/xe),Pe=Ae>Re&&Ae<Math.PI-Re?_e/Math.sin(Ae):xe/Math.cos(Ae);return Math.abs(Pe)},_createFind,hasRequired_createFind;function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var t=require_baseIteratee(),e=requireIsArrayLike(),xe=requireKeys();function _e(Ee){return function(Se,Ae,Re){var Pe=Object(Se);if(!e(Se)){var Te=t(Ae,3);Se=xe(Se),Ae=function(je){return Te(Pe[je],je,Pe)}}var Ie=Ee(Se,Ae,Re);return Ie>-1?Pe[Te?Se[Ie]:Ie]:void 0}}return _createFind=_e,_createFind}var toInteger_1,hasRequiredToInteger;function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var t=requireToFinite();function e(xe){var _e=t(xe),Ee=_e%1;return _e===_e?Ee?_e-Ee:_e:0}return toInteger_1=e,toInteger_1}var findIndex_1,hasRequiredFindIndex;function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var t=require_baseFindIndex(),e=require_baseIteratee(),xe=requireToInteger(),_e=Math.max;function Ee(Se,Ae,Re){var Pe=Se==null?0:Se.length;if(!Pe)return-1;var Te=Re==null?0:xe(Re);return Te<0&&(Te=_e(Pe+Te,0)),t(Se,e(Ae,3),Te)}return findIndex_1=Ee,findIndex_1}var find_1,hasRequiredFind;function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var t=require_createFind(),e=requireFindIndex(),xe=t(e);return find_1=xe,find_1}requireFind();var memoizeExports=requireMemoize();const memoize=getDefaultExportFromCjs(memoizeExports);var calculateViewBox=memoize(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function t(e){var xe=e.state,_e=xe.xAxisMap,Ee=xe.yAxisMap,Se=xe.offset,Ae=e.clipPathId,Re=e.children,Pe=e.width,Te=e.height,Ie=calculateViewBox(Se);return React.createElement(XAxisContext.Provider,{value:_e},React.createElement(YAxisContext.Provider,{value:Ee},React.createElement(OffsetContext.Provider,{value:Se},React.createElement(ViewBoxContext.Provider,{value:Ie},React.createElement(ClipPathIdContext.Provider,{value:Ae},React.createElement(ChartHeightContext.Provider,{value:Te},React.createElement(ChartWidthContext.Provider,{value:Pe},Re)))))))},useClipPathId=function t(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function t(e){var xe=reactExports.useContext(XAxisContext);xe==null&&invariant();var _e=xe[e];return _e==null&&invariant(),_e},useYAxisOrThrow=function t(e){var xe=reactExports.useContext(YAxisContext);xe==null&&invariant();var _e=xe[e];return _e==null&&invariant(),_e},useViewBox=function t(){var e=reactExports.useContext(ViewBoxContext);return e},useChartWidth=function t(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function t(){return reactExports.useContext(ChartHeightContext)};function _typeof$a(t){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$a(t)}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$9(_e.key),_e)}}function _createClass$7(t,e,xe){return e&&_defineProperties$7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$6(t,e,xe){return e=_getPrototypeOf$6(e),_possibleConstructorReturn$6(t,_isNativeReflectConstruct$6()?Reflect.construct(e,xe||[],_getPrototypeOf$6(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$6(t,e){if(e&&(_typeof$a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(t)}function _assertThisInitialized$6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!t})()}function _getPrototypeOf$6(t){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$6(t)}function _inherits$6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$6(t,e)}function _setPrototypeOf$6(t,e){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$6(t,e)}function ownKeys$6(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$6(Object(xe),!0).forEach(function(_e){_defineProperty$9(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$6(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$9(t,e,xe){return e=_toPropertyKey$9(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$9(t){var e=_toPrimitive$9(t,"string");return _typeof$a(e)=="symbol"?e:e+""}function _toPrimitive$9(t,e){if(_typeof$a(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$a(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _slicedToArray$1(t,e){return _arrayWithHoles$1(t)||_iterableToArrayLimit$1(t,e)||_unsupportedIterableToArray$2(t,e)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$2(t,e)}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function _iterableToArrayLimit$1(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles$1(t){if(Array.isArray(t))return t}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$6.apply(this,arguments)}var renderLine=function t(e,xe){var _e;return React.isValidElement(e)?_e=React.cloneElement(e,xe):isFunction(e)?_e=e(xe):_e=React.createElement("line",_extends$6({},xe,{className:"recharts-reference-line-line"})),_e},getEndPoints=function t(e,xe,_e,Ee,Se,Ae,Re,Pe,Te){var Ie=Se.x,je=Se.y,Oe=Se.width,ke=Se.height;if(_e){var Fe=Te.y,Me=e.y.apply(Fe,{position:Ae});if(ifOverflowMatches(Te,"discard")&&!e.y.isInRange(Me))return null;var De=[{x:Ie+Oe,y:Me},{x:Ie,y:Me}];return Pe==="left"?De.reverse():De}if(xe){var Ue=Te.x,ze=e.x.apply(Ue,{position:Ae});if(ifOverflowMatches(Te,"discard")&&!e.x.isInRange(ze))return null;var We=[{x:ze,y:je+ke},{x:ze,y:je}];return Re==="top"?We.reverse():We}if(Ee){var Ye=Te.segment,Xe=Ye.map(function(ir){return e.apply(ir,{position:Ae})});return ifOverflowMatches(Te,"discard")&&some(Xe,function(ir){return!e.isInRange(ir)})?null:Xe}return null};function ReferenceLineImpl(t){var e=t.x,xe=t.y,_e=t.segment,Ee=t.xAxisId,Se=t.yAxisId,Ae=t.shape,Re=t.className,Pe=t.alwaysShow,Te=useClipPathId(),Ie=useXAxisOrThrow(Ee),je=useYAxisOrThrow(Se),Oe=useViewBox();if(!Te||!Oe)return null;warn(Pe===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ke=createLabeledScales({x:Ie.scale,y:je.scale}),Fe=isNumOrStr(e),Me=isNumOrStr(xe),De=_e&&_e.length===2,Ue=getEndPoints(ke,Fe,Me,De,Oe,t.position,Ie.orientation,je.orientation,t);if(!Ue)return null;var ze=_slicedToArray$1(Ue,2),We=ze[0],Ye=We.x,Xe=We.y,ir=ze[1],Qe=ir.x,Ke=ir.y,rr=ifOverflowMatches(t,"hidden")?"url(#".concat(Te,")"):void 0,cr=_objectSpread$6(_objectSpread$6({clipPath:rr},filterProps(t,!0)),{},{x1:Ye,y1:Xe,x2:Qe,y2:Ke});return React.createElement(Layer,{className:clsx("recharts-reference-line",Re)},renderLine(Ae,cr),Label.renderCallByParent(t,rectWithCoords({x1:Ye,y1:Xe,x2:Qe,y2:Ke})))}var ReferenceLine=function(t){function e(){return _classCallCheck$7(this,e),_callSuper$6(this,e,arguments)}return _inherits$6(e,t),_createClass$7(e,[{key:"render",value:function(){return React.createElement(ReferenceLineImpl,this.props)}}])}(React.Component);_defineProperty$9(ReferenceLine,"displayName","ReferenceLine");_defineProperty$9(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$5.apply(this,arguments)}function _typeof$9(t){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$9(t)}function ownKeys$5(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$5(Object(xe),!0).forEach(function(_e){_defineProperty$8(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$5(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$8(_e.key),_e)}}function _createClass$6(t,e,xe){return e&&_defineProperties$6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$5(t,e,xe){return e=_getPrototypeOf$5(e),_possibleConstructorReturn$5(t,_isNativeReflectConstruct$5()?Reflect.construct(e,xe||[],_getPrototypeOf$5(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$5(t,e){if(e&&(_typeof$9(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(t)}function _assertThisInitialized$5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!t})()}function _getPrototypeOf$5(t){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$5(t)}function _inherits$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$5(t,e)}function _setPrototypeOf$5(t,e){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$5(t,e)}function _defineProperty$8(t,e,xe){return e=_toPropertyKey$8(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$8(t){var e=_toPrimitive$8(t,"string");return _typeof$9(e)=="symbol"?e:e+""}function _toPrimitive$8(t,e){if(_typeof$9(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$9(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getCoordinate=function t(e){var xe=e.x,_e=e.y,Ee=e.xAxis,Se=e.yAxis,Ae=createLabeledScales({x:Ee.scale,y:Se.scale}),Re=Ae.apply({x:xe,y:_e},{bandAware:!0});return ifOverflowMatches(e,"discard")&&!Ae.isInRange(Re)?null:Re},ReferenceDot=function(t){function e(){return _classCallCheck$6(this,e),_callSuper$5(this,e,arguments)}return _inherits$5(e,t),_createClass$6(e,[{key:"render",value:function(){var _e=this.props,Ee=_e.x,Se=_e.y,Ae=_e.r,Re=_e.alwaysShow,Pe=_e.clipPathId,Te=isNumOrStr(Ee),Ie=isNumOrStr(Se);if(warn(Re===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!Te||!Ie)return null;var je=getCoordinate(this.props);if(!je)return null;var Oe=je.x,ke=je.y,Fe=this.props,Me=Fe.shape,De=Fe.className,Ue=ifOverflowMatches(this.props,"hidden")?"url(#".concat(Pe,")"):void 0,ze=_objectSpread$5(_objectSpread$5({clipPath:Ue},filterProps(this.props,!0)),{},{cx:Oe,cy:ke});return React.createElement(Layer,{className:clsx("recharts-reference-dot",De)},e.renderDot(Me,ze),Label.renderCallByParent(this.props,{x:Oe-Ae,y:ke-Ae,width:2*Ae,height:2*Ae}))}}])}(React.Component);_defineProperty$8(ReferenceDot,"displayName","ReferenceDot");_defineProperty$8(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$8(ReferenceDot,"renderDot",function(t,e){var xe;return React.isValidElement(t)?xe=React.cloneElement(t,e):isFunction(t)?xe=t(e):xe=React.createElement(Dot,_extends$5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),xe});function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$4.apply(this,arguments)}function _typeof$8(t){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$8(t)}function ownKeys$4(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(xe),!0).forEach(function(_e){_defineProperty$7(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$4(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$7(_e.key),_e)}}function _createClass$5(t,e,xe){return e&&_defineProperties$5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$4(t,e,xe){return e=_getPrototypeOf$4(e),_possibleConstructorReturn$4(t,_isNativeReflectConstruct$4()?Reflect.construct(e,xe||[],_getPrototypeOf$4(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$4(t,e){if(e&&(_typeof$8(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(t)}function _assertThisInitialized$4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!t})()}function _getPrototypeOf$4(t){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$4(t)}function _inherits$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$4(t,e)}function _setPrototypeOf$4(t,e){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$4(t,e)}function _defineProperty$7(t,e,xe){return e=_toPropertyKey$7(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$7(t){var e=_toPrimitive$7(t,"string");return _typeof$8(e)=="symbol"?e:e+""}function _toPrimitive$7(t,e){if(_typeof$8(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$8(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var getRect=function t(e,xe,_e,Ee,Se){var Ae=Se.x1,Re=Se.x2,Pe=Se.y1,Te=Se.y2,Ie=Se.xAxis,je=Se.yAxis;if(!Ie||!je)return null;var Oe=createLabeledScales({x:Ie.scale,y:je.scale}),ke={x:e?Oe.x.apply(Ae,{position:"start"}):Oe.x.rangeMin,y:_e?Oe.y.apply(Pe,{position:"start"}):Oe.y.rangeMin},Fe={x:xe?Oe.x.apply(Re,{position:"end"}):Oe.x.rangeMax,y:Ee?Oe.y.apply(Te,{position:"end"}):Oe.y.rangeMax};return ifOverflowMatches(Se,"discard")&&(!Oe.isInRange(ke)||!Oe.isInRange(Fe))?null:rectWithPoints(ke,Fe)},ReferenceArea=function(t){function e(){return _classCallCheck$5(this,e),_callSuper$4(this,e,arguments)}return _inherits$4(e,t),_createClass$5(e,[{key:"render",value:function(){var _e=this.props,Ee=_e.x1,Se=_e.x2,Ae=_e.y1,Re=_e.y2,Pe=_e.className,Te=_e.alwaysShow,Ie=_e.clipPathId;warn(Te===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var je=isNumOrStr(Ee),Oe=isNumOrStr(Se),ke=isNumOrStr(Ae),Fe=isNumOrStr(Re),Me=this.props.shape;if(!je&&!Oe&&!ke&&!Fe&&!Me)return null;var De=getRect(je,Oe,ke,Fe,this.props);if(!De&&!Me)return null;var Ue=ifOverflowMatches(this.props,"hidden")?"url(#".concat(Ie,")"):void 0;return React.createElement(Layer,{className:clsx("recharts-reference-area",Pe)},e.renderRect(Me,_objectSpread$4(_objectSpread$4({clipPath:Ue},filterProps(this.props,!0)),De)),Label.renderCallByParent(this.props,De))}}])}(React.Component);_defineProperty$7(ReferenceArea,"displayName","ReferenceArea");_defineProperty$7(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$7(ReferenceArea,"renderRect",function(t,e){var xe;return React.isValidElement(t)?xe=React.cloneElement(t,e):isFunction(t)?xe=t(e):xe=React.createElement(Rectangle,_extends$4({},e,{className:"recharts-reference-area-rect"})),xe});function getEveryNthWithCondition(t,e,xe){if(e<1)return[];if(e===1&&xe===void 0)return t;for(var _e=[],Ee=0;Ee<t.length;Ee+=e)_e.push(t[Ee]);return _e}function getAngledTickWidth(t,e,xe){var _e={width:t.width+e.width,height:t.height+e.height};return getAngledRectangleWidth(_e,xe)}function getTickBoundaries(t,e,xe){var _e=xe==="width",Ee=t.x,Se=t.y,Ae=t.width,Re=t.height;return e===1?{start:_e?Ee:Se,end:_e?Ee+Ae:Se+Re}:{start:_e?Ee+Ae:Se+Re,end:_e?Ee:Se}}function isVisible(t,e,xe,_e,Ee){if(t*e<t*_e||t*e>t*Ee)return!1;var Se=xe();return t*(e-t*Se/2-_e)>=0&&t*(e+t*Se/2-Ee)<=0}function getNumberIntervalTicks(t,e){return getEveryNthWithCondition(t,e+1)}function getEquidistantTicks(t,e,xe,_e,Ee){for(var Se=(_e||[]).slice(),Ae=e.start,Re=e.end,Pe=0,Te=1,Ie=Ae,je=function(){var Fe=_e==null?void 0:_e[Pe];if(Fe===void 0)return{v:getEveryNthWithCondition(_e,Te)};var Me=Pe,De,Ue=function(){return De===void 0&&(De=xe(Fe,Me)),De},ze=Fe.coordinate,We=Pe===0||isVisible(t,ze,Ue,Ie,Re);We||(Pe=0,Ie=Ae,Te+=1),We&&(Ie=ze+t*(Ue()/2+Ee),Pe+=Te)},Oe;Te<=Se.length;)if(Oe=je(),Oe)return Oe.v;return[]}function _typeof$7(t){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$7(t)}function ownKeys$3(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(xe),!0).forEach(function(_e){_defineProperty$6(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$3(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$6(t,e,xe){return e=_toPropertyKey$6(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$6(t){var e=_toPrimitive$6(t,"string");return _typeof$7(e)=="symbol"?e:e+""}function _toPrimitive$6(t,e){if(_typeof$7(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$7(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function getTicksEnd(t,e,xe,_e,Ee){for(var Se=(_e||[]).slice(),Ae=Se.length,Re=e.start,Pe=e.end,Te=function(Oe){var ke=Se[Oe],Fe,Me=function(){return Fe===void 0&&(Fe=xe(ke,Oe)),Fe};if(Oe===Ae-1){var De=t*(ke.coordinate+t*Me()/2-Pe);Se[Oe]=ke=_objectSpread$3(_objectSpread$3({},ke),{},{tickCoord:De>0?ke.coordinate-De*t:ke.coordinate})}else Se[Oe]=ke=_objectSpread$3(_objectSpread$3({},ke),{},{tickCoord:ke.coordinate});var Ue=isVisible(t,ke.tickCoord,Me,Re,Pe);Ue&&(Pe=ke.tickCoord-t*(Me()/2+Ee),Se[Oe]=_objectSpread$3(_objectSpread$3({},ke),{},{isShow:!0}))},Ie=Ae-1;Ie>=0;Ie--)Te(Ie);return Se}function getTicksStart(t,e,xe,_e,Ee,Se){var Ae=(_e||[]).slice(),Re=Ae.length,Pe=e.start,Te=e.end;if(Se){var Ie=_e[Re-1],je=xe(Ie,Re-1),Oe=t*(Ie.coordinate+t*je/2-Te);Ae[Re-1]=Ie=_objectSpread$3(_objectSpread$3({},Ie),{},{tickCoord:Oe>0?Ie.coordinate-Oe*t:Ie.coordinate});var ke=isVisible(t,Ie.tickCoord,function(){return je},Pe,Te);ke&&(Te=Ie.tickCoord-t*(je/2+Ee),Ae[Re-1]=_objectSpread$3(_objectSpread$3({},Ie),{},{isShow:!0}))}for(var Fe=Se?Re-1:Re,Me=function(ze){var We=Ae[ze],Ye,Xe=function(){return Ye===void 0&&(Ye=xe(We,ze)),Ye};if(ze===0){var ir=t*(We.coordinate-t*Xe()/2-Pe);Ae[ze]=We=_objectSpread$3(_objectSpread$3({},We),{},{tickCoord:ir<0?We.coordinate-ir*t:We.coordinate})}else Ae[ze]=We=_objectSpread$3(_objectSpread$3({},We),{},{tickCoord:We.coordinate});var Qe=isVisible(t,We.tickCoord,Xe,Pe,Te);Qe&&(Pe=We.tickCoord+t*(Xe()/2+Ee),Ae[ze]=_objectSpread$3(_objectSpread$3({},We),{},{isShow:!0}))},De=0;De<Fe;De++)Me(De);return Ae}function getTicks(t,e,xe){var _e=t.tick,Ee=t.ticks,Se=t.viewBox,Ae=t.minTickGap,Re=t.orientation,Pe=t.interval,Te=t.tickFormatter,Ie=t.unit,je=t.angle;if(!Ee||!Ee.length||!_e)return[];if(isNumber(Pe)||Global.isSsr)return getNumberIntervalTicks(Ee,typeof Pe=="number"&&isNumber(Pe)?Pe:0);var Oe=[],ke=Re==="top"||Re==="bottom"?"width":"height",Fe=Ie&&ke==="width"?getStringSize(Ie,{fontSize:e,letterSpacing:xe}):{width:0,height:0},Me=function(We,Ye){var Xe=isFunction(Te)?Te(We.value,Ye):We.value;return ke==="width"?getAngledTickWidth(getStringSize(Xe,{fontSize:e,letterSpacing:xe}),Fe,je):getStringSize(Xe,{fontSize:e,letterSpacing:xe})[ke]},De=Ee.length>=2?mathSign(Ee[1].coordinate-Ee[0].coordinate):1,Ue=getTickBoundaries(Se,De,ke);return Pe==="equidistantPreserveStart"?getEquidistantTicks(De,Ue,Me,Ee,Ae):(Pe==="preserveStart"||Pe==="preserveStartEnd"?Oe=getTicksStart(De,Ue,Me,Ee,Ae,Pe==="preserveStartEnd"):Oe=getTicksEnd(De,Ue,Me,Ee,Ae),Oe.filter(function(ze){return ze.isShow}))}var _excluded$1=["viewBox"],_excluded2$1=["viewBox"],_excluded3=["ticks"];function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$3.apply(this,arguments)}function ownKeys$2(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(xe),!0).forEach(function(_e){_defineProperty$5(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$2(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _objectWithoutProperties$1(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose$1(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose$1(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$5(_e.key),_e)}}function _createClass$4(t,e,xe){return e&&_defineProperties$4(t.prototype,e),xe&&_defineProperties$4(t,xe),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$3(t,e,xe){return e=_getPrototypeOf$3(e),_possibleConstructorReturn$3(t,_isNativeReflectConstruct$3()?Reflect.construct(e,xe||[],_getPrototypeOf$3(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$3(t,e){if(e&&(_typeof$6(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(t)}function _assertThisInitialized$3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!t})()}function _getPrototypeOf$3(t){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$3(t)}function _inherits$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$3(t,e)}function _setPrototypeOf$3(t,e){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$3(t,e)}function _defineProperty$5(t,e,xe){return e=_toPropertyKey$5(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$6(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$6(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CartesianAxis=function(t){function e(xe){var _e;return _classCallCheck$4(this,e),_e=_callSuper$3(this,e,[xe]),_e.state={fontSize:"",letterSpacing:""},_e}return _inherits$3(e,t),_createClass$4(e,[{key:"shouldComponentUpdate",value:function(_e,Ee){var Se=_e.viewBox,Ae=_objectWithoutProperties$1(_e,_excluded$1),Re=this.props,Pe=Re.viewBox,Te=_objectWithoutProperties$1(Re,_excluded2$1);return!shallowEqual(Se,Pe)||!shallowEqual(Ae,Te)||!shallowEqual(Ee,this.state)}},{key:"componentDidMount",value:function(){var _e=this.layerReference;if(_e){var Ee=_e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];Ee&&this.setState({fontSize:window.getComputedStyle(Ee).fontSize,letterSpacing:window.getComputedStyle(Ee).letterSpacing})}}},{key:"getTickLineCoord",value:function(_e){var Ee=this.props,Se=Ee.x,Ae=Ee.y,Re=Ee.width,Pe=Ee.height,Te=Ee.orientation,Ie=Ee.tickSize,je=Ee.mirror,Oe=Ee.tickMargin,ke,Fe,Me,De,Ue,ze,We=je?-1:1,Ye=_e.tickSize||Ie,Xe=isNumber(_e.tickCoord)?_e.tickCoord:_e.coordinate;switch(Te){case"top":ke=Fe=_e.coordinate,De=Ae+ +!je*Pe,Me=De-We*Ye,ze=Me-We*Oe,Ue=Xe;break;case"left":Me=De=_e.coordinate,Fe=Se+ +!je*Re,ke=Fe-We*Ye,Ue=ke-We*Oe,ze=Xe;break;case"right":Me=De=_e.coordinate,Fe=Se+ +je*Re,ke=Fe+We*Ye,Ue=ke+We*Oe,ze=Xe;break;default:ke=Fe=_e.coordinate,De=Ae+ +je*Pe,Me=De+We*Ye,ze=Me+We*Oe,Ue=Xe;break}return{line:{x1:ke,y1:Me,x2:Fe,y2:De},tick:{x:Ue,y:ze}}}},{key:"getTickTextAnchor",value:function(){var _e=this.props,Ee=_e.orientation,Se=_e.mirror,Ae;switch(Ee){case"left":Ae=Se?"start":"end";break;case"right":Ae=Se?"end":"start";break;default:Ae="middle";break}return Ae}},{key:"getTickVerticalAnchor",value:function(){var _e=this.props,Ee=_e.orientation,Se=_e.mirror,Ae="end";switch(Ee){case"left":case"right":Ae="middle";break;case"top":Ae=Se?"start":"end";break;default:Ae=Se?"end":"start";break}return Ae}},{key:"renderAxisLine",value:function(){var _e=this.props,Ee=_e.x,Se=_e.y,Ae=_e.width,Re=_e.height,Pe=_e.orientation,Te=_e.mirror,Ie=_e.axisLine,je=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(this.props,!1)),filterProps(Ie,!1)),{},{fill:"none"});if(Pe==="top"||Pe==="bottom"){var Oe=+(Pe==="top"&&!Te||Pe==="bottom"&&Te);je=_objectSpread$2(_objectSpread$2({},je),{},{x1:Ee,y1:Se+Oe*Re,x2:Ee+Ae,y2:Se+Oe*Re})}else{var ke=+(Pe==="left"&&!Te||Pe==="right"&&Te);je=_objectSpread$2(_objectSpread$2({},je),{},{x1:Ee+ke*Ae,y1:Se,x2:Ee+ke*Ae,y2:Se+Re})}return React.createElement("line",_extends$3({},je,{className:clsx("recharts-cartesian-axis-line",get(Ie,"className"))}))}},{key:"renderTicks",value:function(_e,Ee,Se){var Ae=this,Re=this.props,Pe=Re.tickLine,Te=Re.stroke,Ie=Re.tick,je=Re.tickFormatter,Oe=Re.unit,ke=getTicks(_objectSpread$2(_objectSpread$2({},this.props),{},{ticks:_e}),Ee,Se),Fe=this.getTickTextAnchor(),Me=this.getTickVerticalAnchor(),De=filterProps(this.props,!1),Ue=filterProps(Ie,!1),ze=_objectSpread$2(_objectSpread$2({},De),{},{fill:"none"},filterProps(Pe,!1)),We=ke.map(function(Ye,Xe){var ir=Ae.getTickLineCoord(Ye),Qe=ir.line,Ke=ir.tick,rr=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({textAnchor:Fe,verticalAnchor:Me},De),{},{stroke:"none",fill:Te},Ue),Ke),{},{index:Xe,payload:Ye,visibleTicksCount:ke.length,tickFormatter:je});return React.createElement(Layer,_extends$3({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ye.value,"-").concat(Ye.coordinate,"-").concat(Ye.tickCoord)},adaptEventsOfChild(Ae.props,Ye,Xe)),Pe&&React.createElement("line",_extends$3({},ze,Qe,{className:clsx("recharts-cartesian-axis-tick-line",get(Pe,"className"))})),Ie&&e.renderTickItem(Ie,rr,"".concat(isFunction(je)?je(Ye.value,Xe):Ye.value).concat(Oe||"")))});return React.createElement("g",{className:"recharts-cartesian-axis-ticks"},We)}},{key:"render",value:function(){var _e=this,Ee=this.props,Se=Ee.axisLine,Ae=Ee.width,Re=Ee.height,Pe=Ee.ticksGenerator,Te=Ee.className,Ie=Ee.hide;if(Ie)return null;var je=this.props,Oe=je.ticks,ke=_objectWithoutProperties$1(je,_excluded3),Fe=Oe;return isFunction(Pe)&&(Fe=Oe&&Oe.length>0?Pe(this.props):Pe(ke)),Ae<=0||Re<=0||!Fe||!Fe.length?null:React.createElement(Layer,{className:clsx("recharts-cartesian-axis",Te),ref:function(De){_e.layerReference=De}},Se&&this.renderAxisLine(),this.renderTicks(Fe,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(_e,Ee,Se){var Ae;return React.isValidElement(_e)?Ae=React.cloneElement(_e,Ee):isFunction(_e)?Ae=_e(Ee):Ae=React.createElement(Text,_extends$3({},Ee,{className:"recharts-cartesian-axis-tick-value"}),Se),Ae}}])}(reactExports.Component);_defineProperty$5(CartesianAxis,"displayName","CartesianAxis");_defineProperty$5(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$4(_e.key),_e)}}function _createClass$3(t,e,xe){return e&&_defineProperties$3(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$2(t,e,xe){return e=_getPrototypeOf$2(e),_possibleConstructorReturn$2(t,_isNativeReflectConstruct$2()?Reflect.construct(e,xe||[],_getPrototypeOf$2(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$2(t,e){if(e&&(_typeof$5(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!t})()}function _getPrototypeOf$2(t){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$2(t)}function _inherits$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$2(t,e)}function _defineProperty$4(t,e,xe){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$5(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$5(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$2.apply(this,arguments)}function XAxisImpl(t){var e=t.xAxisId,xe=useChartWidth(),_e=useChartHeight(),Ee=useXAxisOrThrow(e);return Ee==null?null:React.createElement(CartesianAxis,_extends$2({},Ee,{className:clsx("recharts-".concat(Ee.axisType," ").concat(Ee.axisType),Ee.className),viewBox:{x:0,y:0,width:xe,height:_e},ticksGenerator:function(Ae){return getTicksOfAxis(Ae,!0)}}))}var XAxis=function(t){function e(){return _classCallCheck$3(this,e),_callSuper$2(this,e,arguments)}return _inherits$2(e,t),_createClass$3(e,[{key:"render",value:function(){return React.createElement(XAxisImpl,this.props)}}])}(React.Component);_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$3(_e.key),_e)}}function _createClass$2(t,e,xe){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper$1(t,e,xe){return e=_getPrototypeOf$1(e),_possibleConstructorReturn$1(t,_isNativeReflectConstruct$1()?Reflect.construct(e,xe||[],_getPrototypeOf$1(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!t})()}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf$1(t)}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf$1(t,e)}function _defineProperty$3(t,e,xe){return e=_toPropertyKey$3(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$4(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$4(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$4(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends$1.apply(this,arguments)}var YAxisImpl=function t(e){var xe=e.yAxisId,_e=useChartWidth(),Ee=useChartHeight(),Se=useYAxisOrThrow(xe);return Se==null?null:React.createElement(CartesianAxis,_extends$1({},Se,{className:clsx("recharts-".concat(Se.axisType," ").concat(Se.axisType),Se.className),viewBox:{x:0,y:0,width:_e,height:Ee},ticksGenerator:function(Re){return getTicksOfAxis(Re,!0)}}))},YAxis=function(t){function e(){return _classCallCheck$2(this,e),_callSuper$1(this,e,arguments)}return _inherits$1(e,t),_createClass$2(e,[{key:"render",value:function(){return React.createElement(YAxisImpl,this.props)}}])}(React.Component);_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(t){return _arrayWithoutHoles$1(t)||_iterableToArray$1(t)||_unsupportedIterableToArray$1(t)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray$1(t,e)}}function _iterableToArray$1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles$1(t){if(Array.isArray(t))return _arrayLikeToArray$1(t)}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}var detectReferenceElementsDomain=function t(e,xe,_e,Ee,Se){var Ae=findAllByType(e,ReferenceLine),Re=findAllByType(e,ReferenceDot),Pe=[].concat(_toConsumableArray$1(Ae),_toConsumableArray$1(Re)),Te=findAllByType(e,ReferenceArea),Ie="".concat(Ee,"Id"),je=Ee[0],Oe=xe;if(Pe.length&&(Oe=Pe.reduce(function(Me,De){if(De.props[Ie]===_e&&ifOverflowMatches(De.props,"extendDomain")&&isNumber(De.props[je])){var Ue=De.props[je];return[Math.min(Me[0],Ue),Math.max(Me[1],Ue)]}return Me},Oe)),Te.length){var ke="".concat(je,"1"),Fe="".concat(je,"2");Oe=Te.reduce(function(Me,De){if(De.props[Ie]===_e&&ifOverflowMatches(De.props,"extendDomain")&&isNumber(De.props[ke])&&isNumber(De.props[Fe])){var Ue=De.props[ke],ze=De.props[Fe];return[Math.min(Me[0],Ue,ze),Math.max(Me[1],Ue,ze)]}return Me},Oe)}return Se&&Se.length&&(Oe=Se.reduce(function(Me,De){return isNumber(De)?[Math.min(Me[0],De),Math.max(Me[1],De)]:Me},Oe)),Oe},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,xe="~";function _e(){}Object.create&&(_e.prototype=Object.create(null),new _e().__proto__||(xe=!1));function Ee(Pe,Te,Ie){this.fn=Pe,this.context=Te,this.once=Ie||!1}function Se(Pe,Te,Ie,je,Oe){if(typeof Ie!="function")throw new TypeError("The listener must be a function");var ke=new Ee(Ie,je||Pe,Oe),Fe=xe?xe+Te:Te;return Pe._events[Fe]?Pe._events[Fe].fn?Pe._events[Fe]=[Pe._events[Fe],ke]:Pe._events[Fe].push(ke):(Pe._events[Fe]=ke,Pe._eventsCount++),Pe}function Ae(Pe,Te){--Pe._eventsCount===0?Pe._events=new _e:delete Pe._events[Te]}function Re(){this._events=new _e,this._eventsCount=0}Re.prototype.eventNames=function(){var Te=[],Ie,je;if(this._eventsCount===0)return Te;for(je in Ie=this._events)e.call(Ie,je)&&Te.push(xe?je.slice(1):je);return Object.getOwnPropertySymbols?Te.concat(Object.getOwnPropertySymbols(Ie)):Te},Re.prototype.listeners=function(Te){var Ie=xe?xe+Te:Te,je=this._events[Ie];if(!je)return[];if(je.fn)return[je.fn];for(var Oe=0,ke=je.length,Fe=new Array(ke);Oe<ke;Oe++)Fe[Oe]=je[Oe].fn;return Fe},Re.prototype.listenerCount=function(Te){var Ie=xe?xe+Te:Te,je=this._events[Ie];return je?je.fn?1:je.length:0},Re.prototype.emit=function(Te,Ie,je,Oe,ke,Fe){var Me=xe?xe+Te:Te;if(!this._events[Me])return!1;var De=this._events[Me],Ue=arguments.length,ze,We;if(De.fn){switch(De.once&&this.removeListener(Te,De.fn,void 0,!0),Ue){case 1:return De.fn.call(De.context),!0;case 2:return De.fn.call(De.context,Ie),!0;case 3:return De.fn.call(De.context,Ie,je),!0;case 4:return De.fn.call(De.context,Ie,je,Oe),!0;case 5:return De.fn.call(De.context,Ie,je,Oe,ke),!0;case 6:return De.fn.call(De.context,Ie,je,Oe,ke,Fe),!0}for(We=1,ze=new Array(Ue-1);We<Ue;We++)ze[We-1]=arguments[We];De.fn.apply(De.context,ze)}else{var Ye=De.length,Xe;for(We=0;We<Ye;We++)switch(De[We].once&&this.removeListener(Te,De[We].fn,void 0,!0),Ue){case 1:De[We].fn.call(De[We].context);break;case 2:De[We].fn.call(De[We].context,Ie);break;case 3:De[We].fn.call(De[We].context,Ie,je);break;case 4:De[We].fn.call(De[We].context,Ie,je,Oe);break;default:if(!ze)for(Xe=1,ze=new Array(Ue-1);Xe<Ue;Xe++)ze[Xe-1]=arguments[Xe];De[We].fn.apply(De[We].context,ze)}}return!0},Re.prototype.on=function(Te,Ie,je){return Se(this,Te,Ie,je,!1)},Re.prototype.once=function(Te,Ie,je){return Se(this,Te,Ie,je,!0)},Re.prototype.removeListener=function(Te,Ie,je,Oe){var ke=xe?xe+Te:Te;if(!this._events[ke])return this;if(!Ie)return Ae(this,ke),this;var Fe=this._events[ke];if(Fe.fn)Fe.fn===Ie&&(!Oe||Fe.once)&&(!je||Fe.context===je)&&Ae(this,ke);else{for(var Me=0,De=[],Ue=Fe.length;Me<Ue;Me++)(Fe[Me].fn!==Ie||Oe&&!Fe[Me].once||je&&Fe[Me].context!==je)&&De.push(Fe[Me]);De.length?this._events[ke]=De.length===1?De[0]:De:Ae(this,ke)}return this},Re.prototype.removeAllListeners=function(Te){var Ie;return Te?(Ie=xe?xe+Te:Te,this._events[Ie]&&Ae(this,Ie)):(this._events=new _e,this._eventsCount=0),this},Re.prototype.off=Re.prototype.removeListener,Re.prototype.addListener=Re.prototype.on,Re.prefixed=xe,Re.EventEmitter=Re,t.exports=Re}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey$2(_e.key),_e)}}function _createClass$1(t,e,xe){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty$2(t,e,xe){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$3(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$3(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AccessibilityManager=function(){function t(){_classCallCheck$1(this,t),_defineProperty$2(this,"activeIndex",0),_defineProperty$2(this,"coordinateList",[]),_defineProperty$2(this,"layout","horizontal")}return _createClass$1(t,[{key:"setDetails",value:function(xe){var _e,Ee=xe.coordinateList,Se=Ee===void 0?null:Ee,Ae=xe.container,Re=Ae===void 0?null:Ae,Pe=xe.layout,Te=Pe===void 0?null:Pe,Ie=xe.offset,je=Ie===void 0?null:Ie,Oe=xe.mouseHandlerCallback,ke=Oe===void 0?null:Oe;this.coordinateList=(_e=Se??this.coordinateList)!==null&&_e!==void 0?_e:[],this.container=Re??this.container,this.layout=Te??this.layout,this.offset=je??this.offset,this.mouseHandlerCallback=ke??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(xe){if(this.coordinateList.length!==0)switch(xe.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(xe){this.activeIndex=xe}},{key:"spoofMouse",value:function(){var xe,_e;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var Ee=this.container.getBoundingClientRect(),Se=Ee.x,Ae=Ee.y,Re=Ee.height,Pe=this.coordinateList[this.activeIndex].coordinate,Te=((xe=window)===null||xe===void 0?void 0:xe.scrollX)||0,Ie=((_e=window)===null||_e===void 0?void 0:_e.scrollY)||0,je=Se+Pe+Te,Oe=Ae+this.offset.top+Re/2+Ie;this.mouseHandlerCallback({pageX:je,pageY:Oe})}}}])}();function isDomainSpecifiedByUser(t,e,xe){if(xe==="number"&&e===!0&&Array.isArray(t)){var _e=t==null?void 0:t[0],Ee=t==null?void 0:t[1];if(_e&&Ee&&isNumber(_e)&&isNumber(Ee))return!0}return!1}function getCursorRectangle(t,e,xe,_e){var Ee=_e/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-Ee:xe.left+.5,y:t==="horizontal"?xe.top+.5:e.y-Ee,width:t==="horizontal"?_e:xe.width-1,height:t==="horizontal"?xe.height-1:_e}}function getRadialCursorPoints(t){var e=t.cx,xe=t.cy,_e=t.radius,Ee=t.startAngle,Se=t.endAngle,Ae=polarToCartesian(e,xe,_e,Ee),Re=polarToCartesian(e,xe,_e,Se);return{points:[Ae,Re],cx:e,cy:xe,radius:_e,startAngle:Ee,endAngle:Se}}function getCursorPoints(t,e,xe){var _e,Ee,Se,Ae;if(t==="horizontal")_e=e.x,Se=_e,Ee=xe.top,Ae=xe.top+xe.height;else if(t==="vertical")Ee=e.y,Ae=Ee,_e=xe.left,Se=xe.left+xe.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var Re=e.cx,Pe=e.cy,Te=e.innerRadius,Ie=e.outerRadius,je=e.angle,Oe=polarToCartesian(Re,Pe,Te,je),ke=polarToCartesian(Re,Pe,Ie,je);_e=Oe.x,Ee=Oe.y,Se=ke.x,Ae=ke.y}else return getRadialCursorPoints(e);return[{x:_e,y:Ee},{x:Se,y:Ae}]}function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function ownKeys$1(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(xe),!0).forEach(function(_e){_defineProperty$1(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys$1(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty$1(t,e,xe){return e=_toPropertyKey$1(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$2(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$2(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cursor(t){var e,xe,_e=t.element,Ee=t.tooltipEventType,Se=t.isActive,Ae=t.activeCoordinate,Re=t.activePayload,Pe=t.offset,Te=t.activeTooltipIndex,Ie=t.tooltipAxisBandSize,je=t.layout,Oe=t.chartName,ke=(e=_e.props.cursor)!==null&&e!==void 0?e:(xe=_e.type.defaultProps)===null||xe===void 0?void 0:xe.cursor;if(!_e||!ke||!Se||!Ae||Oe!=="ScatterChart"&&Ee!=="axis")return null;var Fe,Me=Curve;if(Oe==="ScatterChart")Fe=Ae,Me=Cross;else if(Oe==="BarChart")Fe=getCursorRectangle(je,Ae,Pe,Ie),Me=Rectangle;else if(je==="radial"){var De=getRadialCursorPoints(Ae),Ue=De.cx,ze=De.cy,We=De.radius,Ye=De.startAngle,Xe=De.endAngle;Fe={cx:Ue,cy:ze,startAngle:Ye,endAngle:Xe,innerRadius:We,outerRadius:We},Me=Sector}else Fe={points:getCursorPoints(je,Ae,Pe)},Me=Curve;var ir=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},Pe),Fe),filterProps(ke,!1)),{},{payload:Re,payloadIndex:Te,className:clsx("recharts-tooltip-cursor",ke.className)});return reactExports.isValidElement(ke)?reactExports.cloneElement(ke,ir):reactExports.createElement(Me,ir)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e];for(var _e in xe)Object.prototype.hasOwnProperty.call(xe,_e)&&(t[_e]=xe[_e])}return t},_extends.apply(this,arguments)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(t,e){var xe=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(xe!=null){var _e,Ee,Se,Ae,Re=[],Pe=!0,Te=!1;try{if(Se=(xe=xe.call(t)).next,e!==0)for(;!(Pe=(_e=Se.call(xe)).done)&&(Re.push(_e.value),Re.length!==e);Pe=!0);}catch(Ie){Te=!0,Ee=Ie}finally{try{if(!Pe&&xe.return!=null&&(Ae=xe.return(),Object(Ae)!==Ae))return}finally{if(Te)throw Ee}}return Re}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _objectWithoutProperties(t,e){if(t==null)return{};var xe=_objectWithoutPropertiesLoose(t,e),_e,Ee;if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(t);for(Ee=0;Ee<Se.length;Ee++)_e=Se[Ee],!(e.indexOf(_e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,_e)&&(xe[_e]=t[_e])}return xe}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var xe={};for(var _e in t)if(Object.prototype.hasOwnProperty.call(t,_e)){if(e.indexOf(_e)>=0)continue;xe[_e]=t[_e]}return xe}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var xe=0;xe<e.length;xe++){var _e=e[xe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(t,_toPropertyKey(_e.key),_e)}}function _createClass(t,e,xe){return e&&_defineProperties(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _callSuper(t,e,xe){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,xe||[],_getPrototypeOf(t).constructor):e.apply(t,xe))}function _possibleConstructorReturn(t,e){if(e&&(_typeof$1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},_getPrototypeOf(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Ee){return _e.__proto__=Ee,_e},_setPrototypeOf(t,e)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var xe=Object.prototype.toString.call(t).slice(8,-1);if(xe==="Object"&&t.constructor&&(xe=t.constructor.name),xe==="Map"||xe==="Set")return Array.from(t);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return _arrayLikeToArray(t,e)}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var xe=0,_e=new Array(e);xe<e;xe++)_e[xe]=t[xe];return _e}function ownKeys(t,e){var xe=Object.keys(t);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(t);e&&(_e=_e.filter(function(Ee){return Object.getOwnPropertyDescriptor(t,Ee).enumerable})),xe.push.apply(xe,_e)}return xe}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var xe=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(xe),!0).forEach(function(_e){_defineProperty(t,_e,xe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(xe)):ownKeys(Object(xe)).forEach(function(_e){Object.defineProperty(t,_e,Object.getOwnPropertyDescriptor(xe,_e))})}return t}function _defineProperty(t,e,xe){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:xe,enumerable:!0,configurable:!0,writable:!0}):t[e]=xe,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof$1(t)!="object"||!t)return t;var xe=t[Symbol.toPrimitive];if(xe!==void 0){var _e=xe.call(t,e);if(_typeof$1(_e)!="object")return _e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(t){return t}var calculateTooltipPos=function t(e,xe){return xe==="horizontal"?e.x:xe==="vertical"?e.y:xe==="centric"?e.angle:e.radius},getActiveCoordinate=function t(e,xe,_e,Ee){var Se=xe.find(function(Ie){return Ie&&Ie.index===_e});if(Se){if(e==="horizontal")return{x:Se.coordinate,y:Ee.y};if(e==="vertical")return{x:Ee.x,y:Se.coordinate};if(e==="centric"){var Ae=Se.coordinate,Re=Ee.radius;return _objectSpread(_objectSpread(_objectSpread({},Ee),polarToCartesian(Ee.cx,Ee.cy,Re,Ae)),{},{angle:Ae,radius:Re})}var Pe=Se.coordinate,Te=Ee.angle;return _objectSpread(_objectSpread(_objectSpread({},Ee),polarToCartesian(Ee.cx,Ee.cy,Pe,Te)),{},{angle:Te,radius:Pe})}return originCoordinate},getDisplayedData=function t(e,xe){var _e=xe.graphicalItems,Ee=xe.dataStartIndex,Se=xe.dataEndIndex,Ae=(_e??[]).reduce(function(Re,Pe){var Te=Pe.props.data;return Te&&Te.length?[].concat(_toConsumableArray(Re),_toConsumableArray(Te)):Re},[]);return Ae.length>0?Ae:e&&e.length&&isNumber(Ee)&&isNumber(Se)?e.slice(Ee,Se+1):[]};function getDefaultDomainByAxisType(t){return t==="number"?[0,"auto"]:void 0}var getTooltipContent=function t(e,xe,_e,Ee){var Se=e.graphicalItems,Ae=e.tooltipAxis,Re=getDisplayedData(xe,e);return _e<0||!Se||!Se.length||_e>=Re.length?null:Se.reduce(function(Pe,Te){var Ie,je=(Ie=Te.props.data)!==null&&Ie!==void 0?Ie:xe;je&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=_e&&(je=je.slice(e.dataStartIndex,e.dataEndIndex+1));var Oe;if(Ae.dataKey&&!Ae.allowDuplicatedCategory){var ke=je===void 0?Re:je;Oe=findEntryInArray(ke,Ae.dataKey,Ee)}else Oe=je&&je[_e]||Re[_e];return Oe?[].concat(_toConsumableArray(Pe),[getTooltipItem(Te,Oe)]):Pe},[])},getTooltipData=function t(e,xe,_e,Ee){var Se=Ee||{x:e.chartX,y:e.chartY},Ae=calculateTooltipPos(Se,_e),Re=e.orderedTooltipTicks,Pe=e.tooltipAxis,Te=e.tooltipTicks,Ie=calculateActiveTickIndex(Ae,Re,Te,Pe);if(Ie>=0&&Te){var je=Te[Ie]&&Te[Ie].value,Oe=getTooltipContent(e,xe,Ie,je),ke=getActiveCoordinate(_e,Re,Ie,Se);return{activeTooltipIndex:Ie,activeLabel:je,activePayload:Oe,activeCoordinate:ke}}return null},getAxisMapByAxes=function t(e,xe){var _e=xe.axes,Ee=xe.graphicalItems,Se=xe.axisType,Ae=xe.axisIdKey,Re=xe.stackGroups,Pe=xe.dataStartIndex,Te=xe.dataEndIndex,Ie=e.layout,je=e.children,Oe=e.stackOffset,ke=isCategoricalAxis(Ie,Se);return _e.reduce(function(Fe,Me){var De,Ue=Me.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Me.type.defaultProps),Me.props):Me.props,ze=Ue.type,We=Ue.dataKey,Ye=Ue.allowDataOverflow,Xe=Ue.allowDuplicatedCategory,ir=Ue.scale,Qe=Ue.ticks,Ke=Ue.includeHidden,rr=Ue[Ae];if(Fe[rr])return Fe;var cr=getDisplayedData(e.data,{graphicalItems:Ee.filter(function(or){var hr,br=Ae in or.props?or.props[Ae]:(hr=or.type.defaultProps)===null||hr===void 0?void 0:hr[Ae];return br===rr}),dataStartIndex:Pe,dataEndIndex:Te}),Ze=cr.length,er,sr,fr;isDomainSpecifiedByUser(Ue.domain,Ye,ze)&&(er=parseSpecifiedDomain(Ue.domain,null,Ye),ke&&(ze==="number"||ir!=="auto")&&(fr=getDomainOfDataByKey(cr,We,"category")));var _r=getDefaultDomainByAxisType(ze);if(!er||er.length===0){var Er,yr=(Er=Ue.domain)!==null&&Er!==void 0?Er:_r;if(We){if(er=getDomainOfDataByKey(cr,We,ze),ze==="category"&&ke){var mr=hasDuplicate(er);Xe&&mr?(sr=er,er=range(0,Ze)):Xe||(er=parseDomainOfCategoryAxis(yr,er,Me).reduce(function(or,hr){return or.indexOf(hr)>=0?or:[].concat(_toConsumableArray(or),[hr])},[]))}else if(ze==="category")Xe?er=er.filter(function(or){return or!==""&&!isNil(or)}):er=parseDomainOfCategoryAxis(yr,er,Me).reduce(function(or,hr){return or.indexOf(hr)>=0||hr===""||isNil(hr)?or:[].concat(_toConsumableArray(or),[hr])},[]);else if(ze==="number"){var Pr=parseErrorBarsOfAxis(cr,Ee.filter(function(or){var hr,br,Ir=Ae in or.props?or.props[Ae]:(hr=or.type.defaultProps)===null||hr===void 0?void 0:hr[Ae],jr="hide"in or.props?or.props.hide:(br=or.type.defaultProps)===null||br===void 0?void 0:br.hide;return Ir===rr&&(Ke||!jr)}),We,Se,Ie);Pr&&(er=Pr)}ke&&(ze==="number"||ir!=="auto")&&(fr=getDomainOfDataByKey(cr,We,"category"))}else ke?er=range(0,Ze):Re&&Re[rr]&&Re[rr].hasStack&&ze==="number"?er=Oe==="expand"?[0,1]:getDomainOfStackGroups(Re[rr].stackGroups,Pe,Te):er=getDomainOfItemsWithSameAxis(cr,Ee.filter(function(or){var hr=Ae in or.props?or.props[Ae]:or.type.defaultProps[Ae],br="hide"in or.props?or.props.hide:or.type.defaultProps.hide;return hr===rr&&(Ke||!br)}),ze,Ie,!0);if(ze==="number")er=detectReferenceElementsDomain(je,er,rr,Se,Qe),yr&&(er=parseSpecifiedDomain(yr,er,Ye));else if(ze==="category"&&yr){var Cr=yr,wr=er.every(function(or){return Cr.indexOf(or)>=0});wr&&(er=Cr)}}return _objectSpread(_objectSpread({},Fe),{},_defineProperty({},rr,_objectSpread(_objectSpread({},Ue),{},{axisType:Se,domain:er,categoricalDomain:fr,duplicateDomain:sr,originalDomain:(De=Ue.domain)!==null&&De!==void 0?De:_r,isCategorical:ke,layout:Ie})))},{})},getAxisMapByItems=function t(e,xe){var _e=xe.graphicalItems,Ee=xe.Axis,Se=xe.axisType,Ae=xe.axisIdKey,Re=xe.stackGroups,Pe=xe.dataStartIndex,Te=xe.dataEndIndex,Ie=e.layout,je=e.children,Oe=getDisplayedData(e.data,{graphicalItems:_e,dataStartIndex:Pe,dataEndIndex:Te}),ke=Oe.length,Fe=isCategoricalAxis(Ie,Se),Me=-1;return _e.reduce(function(De,Ue){var ze=Ue.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ue.type.defaultProps),Ue.props):Ue.props,We=ze[Ae],Ye=getDefaultDomainByAxisType("number");if(!De[We]){Me++;var Xe;return Fe?Xe=range(0,ke):Re&&Re[We]&&Re[We].hasStack?(Xe=getDomainOfStackGroups(Re[We].stackGroups,Pe,Te),Xe=detectReferenceElementsDomain(je,Xe,We,Se)):(Xe=parseSpecifiedDomain(Ye,getDomainOfItemsWithSameAxis(Oe,_e.filter(function(ir){var Qe,Ke,rr=Ae in ir.props?ir.props[Ae]:(Qe=ir.type.defaultProps)===null||Qe===void 0?void 0:Qe[Ae],cr="hide"in ir.props?ir.props.hide:(Ke=ir.type.defaultProps)===null||Ke===void 0?void 0:Ke.hide;return rr===We&&!cr}),"number",Ie),Ee.defaultProps.allowDataOverflow),Xe=detectReferenceElementsDomain(je,Xe,We,Se)),_objectSpread(_objectSpread({},De),{},_defineProperty({},We,_objectSpread(_objectSpread({axisType:Se},Ee.defaultProps),{},{hide:!0,orientation:get(ORIENT_MAP,"".concat(Se,".").concat(Me%2),null),domain:Xe,originalDomain:Ye,isCategorical:Fe,layout:Ie})))}return De},{})},getAxisMap=function t(e,xe){var _e=xe.axisType,Ee=_e===void 0?"xAxis":_e,Se=xe.AxisComp,Ae=xe.graphicalItems,Re=xe.stackGroups,Pe=xe.dataStartIndex,Te=xe.dataEndIndex,Ie=e.children,je="".concat(Ee,"Id"),Oe=findAllByType(Ie,Se),ke={};return Oe&&Oe.length?ke=getAxisMapByAxes(e,{axes:Oe,graphicalItems:Ae,axisType:Ee,axisIdKey:je,stackGroups:Re,dataStartIndex:Pe,dataEndIndex:Te}):Ae&&Ae.length&&(ke=getAxisMapByItems(e,{Axis:Se,graphicalItems:Ae,axisType:Ee,axisIdKey:je,stackGroups:Re,dataStartIndex:Pe,dataEndIndex:Te})),ke},tooltipTicksGenerator=function t(e){var xe=getAnyElementOfObject(e),_e=getTicksOfAxis(xe,!1,!0);return{tooltipTicks:_e,orderedTooltipTicks:sortBy(_e,function(Ee){return Ee.coordinate}),tooltipAxis:xe,tooltipAxisBandSize:getBandSizeOfAxis(xe,_e)}},createDefaultState=function t(e){var xe=e.children,_e=e.defaultShowTooltip,Ee=findChildByType(xe,Brush),Se=0,Ae=0;return e.data&&e.data.length!==0&&(Ae=e.data.length-1),Ee&&Ee.props&&(Ee.props.startIndex>=0&&(Se=Ee.props.startIndex),Ee.props.endIndex>=0&&(Ae=Ee.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:Se,dataEndIndex:Ae,activeTooltipIndex:-1,isTooltipActive:!!_e}},hasGraphicalBarItem=function t(e){return!e||!e.length?!1:e.some(function(xe){var _e=getDisplayName(xe&&xe.type);return _e&&_e.indexOf("Bar")>=0})},getAxisNameByLayout=function t(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function t(e,xe){var _e=e.props,Ee=e.graphicalItems,Se=e.xAxisMap,Ae=Se===void 0?{}:Se,Re=e.yAxisMap,Pe=Re===void 0?{}:Re,Te=_e.width,Ie=_e.height,je=_e.children,Oe=_e.margin||{},ke=findChildByType(je,Brush),Fe=findChildByType(je,Legend),Me=Object.keys(Pe).reduce(function(Xe,ir){var Qe=Pe[ir],Ke=Qe.orientation;return!Qe.mirror&&!Qe.hide?_objectSpread(_objectSpread({},Xe),{},_defineProperty({},Ke,Xe[Ke]+Qe.width)):Xe},{left:Oe.left||0,right:Oe.right||0}),De=Object.keys(Ae).reduce(function(Xe,ir){var Qe=Ae[ir],Ke=Qe.orientation;return!Qe.mirror&&!Qe.hide?_objectSpread(_objectSpread({},Xe),{},_defineProperty({},Ke,get(Xe,"".concat(Ke))+Qe.height)):Xe},{top:Oe.top||0,bottom:Oe.bottom||0}),Ue=_objectSpread(_objectSpread({},De),Me),ze=Ue.bottom;ke&&(Ue.bottom+=ke.props.height||Brush.defaultProps.height),Fe&&xe&&(Ue=appendOffsetOfLegend(Ue,Ee,_e,xe));var We=Te-Ue.left-Ue.right,Ye=Ie-Ue.top-Ue.bottom;return _objectSpread(_objectSpread({brushBottom:ze},Ue),{},{width:Math.max(We,0),height:Math.max(Ye,0)})},getCartesianAxisSize=function t(e,xe){if(xe==="xAxis")return e[xe].width;if(xe==="yAxis")return e[xe].height},generateCategoricalChart=function t(e){var xe=e.chartName,_e=e.GraphicalChild,Ee=e.defaultTooltipEventType,Se=Ee===void 0?"axis":Ee,Ae=e.validateTooltipEventTypes,Re=Ae===void 0?["axis"]:Ae,Pe=e.axisComponents,Te=e.legendContent,Ie=e.formatAxisMap,je=e.defaultProps,Oe=function(Ue,ze){var We=ze.graphicalItems,Ye=ze.stackGroups,Xe=ze.offset,ir=ze.updateId,Qe=ze.dataStartIndex,Ke=ze.dataEndIndex,rr=Ue.barSize,cr=Ue.layout,Ze=Ue.barGap,er=Ue.barCategoryGap,sr=Ue.maxBarSize,fr=getAxisNameByLayout(cr),_r=fr.numericAxisName,Er=fr.cateAxisName,yr=hasGraphicalBarItem(We),mr=[];return We.forEach(function(Pr,Cr){var wr=getDisplayedData(Ue.data,{graphicalItems:[Pr],dataStartIndex:Qe,dataEndIndex:Ke}),or=Pr.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Pr.type.defaultProps),Pr.props):Pr.props,hr=or.dataKey,br=or.maxBarSize,Ir=or["".concat(_r,"Id")],jr=or["".concat(Er,"Id")],Mr={},Vr=Pe.reduce(function(jn,Nn){var zn=ze["".concat(Nn.axisType,"Map")],Qn=or["".concat(Nn.axisType,"Id")];zn&&zn[Qn]||Nn.axisType==="zAxis"||invariant();var ni=zn[Qn];return _objectSpread(_objectSpread({},jn),{},_defineProperty(_defineProperty({},Nn.axisType,ni),"".concat(Nn.axisType,"Ticks"),getTicksOfAxis(ni)))},Mr),Or=Vr[Er],Xr=Vr["".concat(Er,"Ticks")],Qr=Ye&&Ye[Ir]&&Ye[Ir].hasStack&&getStackedDataOfItem(Pr,Ye[Ir].stackGroups),Fr=getDisplayName(Pr.type).indexOf("Bar")>=0,xn=getBandSizeOfAxis(Or,Xr),An=[],un=yr&&getBarSizeList({barSize:rr,stackGroups:Ye,totalSize:getCartesianAxisSize(Vr,Er)});if(Fr){var Nr,Bn,Vn=isNil(br)?sr:br,wn=(Nr=(Bn=getBandSizeOfAxis(Or,Xr,!0))!==null&&Bn!==void 0?Bn:Vn)!==null&&Nr!==void 0?Nr:0;An=getBarPosition({barGap:Ze,barCategoryGap:er,bandSize:wn!==xn?wn:xn,sizeList:un[jr],maxBarSize:Vn}),wn!==xn&&(An=An.map(function(jn){return _objectSpread(_objectSpread({},jn),{},{position:_objectSpread(_objectSpread({},jn.position),{},{offset:jn.position.offset-wn/2})})}))}var In=Pr&&Pr.type&&Pr.type.getComposedData;In&&mr.push({props:_objectSpread(_objectSpread({},In(_objectSpread(_objectSpread({},Vr),{},{displayedData:wr,props:Ue,dataKey:hr,item:Pr,bandSize:xn,barPosition:An,offset:Xe,stackedData:Qr,layout:cr,dataStartIndex:Qe,dataEndIndex:Ke}))),{},_defineProperty(_defineProperty(_defineProperty({key:Pr.key||"item-".concat(Cr)},_r,Vr[_r]),Er,Vr[Er]),"animationId",ir)),childIndex:parseChildIndex(Pr,Ue.children),item:Pr})}),mr},ke=function(Ue,ze){var We=Ue.props,Ye=Ue.dataStartIndex,Xe=Ue.dataEndIndex,ir=Ue.updateId;if(!validateWidthHeight({props:We}))return null;var Qe=We.children,Ke=We.layout,rr=We.stackOffset,cr=We.data,Ze=We.reverseStackOrder,er=getAxisNameByLayout(Ke),sr=er.numericAxisName,fr=er.cateAxisName,_r=findAllByType(Qe,_e),Er=getStackGroupsByAxisId(cr,_r,"".concat(sr,"Id"),"".concat(fr,"Id"),rr,Ze),yr=Pe.reduce(function(or,hr){var br="".concat(hr.axisType,"Map");return _objectSpread(_objectSpread({},or),{},_defineProperty({},br,getAxisMap(We,_objectSpread(_objectSpread({},hr),{},{graphicalItems:_r,stackGroups:hr.axisType===sr&&Er,dataStartIndex:Ye,dataEndIndex:Xe}))))},{}),mr=calculateOffset(_objectSpread(_objectSpread({},yr),{},{props:We,graphicalItems:_r}),ze==null?void 0:ze.legendBBox);Object.keys(yr).forEach(function(or){yr[or]=Ie(We,yr[or],mr,or.replace("Map",""),xe)});var Pr=yr["".concat(fr,"Map")],Cr=tooltipTicksGenerator(Pr),wr=Oe(We,_objectSpread(_objectSpread({},yr),{},{dataStartIndex:Ye,dataEndIndex:Xe,updateId:ir,graphicalItems:_r,stackGroups:Er,offset:mr}));return _objectSpread(_objectSpread({formattedGraphicalItems:wr,graphicalItems:_r,offset:mr,stackGroups:Er},Cr),yr)},Fe=function(De){function Ue(ze){var We,Ye,Xe;return _classCallCheck(this,Ue),Xe=_callSuper(this,Ue,[ze]),_defineProperty(Xe,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty(Xe,"accessibilityManager",new AccessibilityManager),_defineProperty(Xe,"handleLegendBBoxUpdate",function(ir){if(ir){var Qe=Xe.state,Ke=Qe.dataStartIndex,rr=Qe.dataEndIndex,cr=Qe.updateId;Xe.setState(_objectSpread({legendBBox:ir},ke({props:Xe.props,dataStartIndex:Ke,dataEndIndex:rr,updateId:cr},_objectSpread(_objectSpread({},Xe.state),{},{legendBBox:ir}))))}}),_defineProperty(Xe,"handleReceiveSyncEvent",function(ir,Qe,Ke){if(Xe.props.syncId===ir){if(Ke===Xe.eventEmitterSymbol&&typeof Xe.props.syncMethod!="function")return;Xe.applySyncEvent(Qe)}}),_defineProperty(Xe,"handleBrushChange",function(ir){var Qe=ir.startIndex,Ke=ir.endIndex;if(Qe!==Xe.state.dataStartIndex||Ke!==Xe.state.dataEndIndex){var rr=Xe.state.updateId;Xe.setState(function(){return _objectSpread({dataStartIndex:Qe,dataEndIndex:Ke},ke({props:Xe.props,dataStartIndex:Qe,dataEndIndex:Ke,updateId:rr},Xe.state))}),Xe.triggerSyncEvent({dataStartIndex:Qe,dataEndIndex:Ke})}}),_defineProperty(Xe,"handleMouseEnter",function(ir){var Qe=Xe.getMouseInfo(ir);if(Qe){var Ke=_objectSpread(_objectSpread({},Qe),{},{isTooltipActive:!0});Xe.setState(Ke),Xe.triggerSyncEvent(Ke);var rr=Xe.props.onMouseEnter;isFunction(rr)&&rr(Ke,ir)}}),_defineProperty(Xe,"triggeredAfterMouseMove",function(ir){var Qe=Xe.getMouseInfo(ir),Ke=Qe?_objectSpread(_objectSpread({},Qe),{},{isTooltipActive:!0}):{isTooltipActive:!1};Xe.setState(Ke),Xe.triggerSyncEvent(Ke);var rr=Xe.props.onMouseMove;isFunction(rr)&&rr(Ke,ir)}),_defineProperty(Xe,"handleItemMouseEnter",function(ir){Xe.setState(function(){return{isTooltipActive:!0,activeItem:ir,activePayload:ir.tooltipPayload,activeCoordinate:ir.tooltipPosition||{x:ir.cx,y:ir.cy}}})}),_defineProperty(Xe,"handleItemMouseLeave",function(){Xe.setState(function(){return{isTooltipActive:!1}})}),_defineProperty(Xe,"handleMouseMove",function(ir){ir.persist(),Xe.throttleTriggeredAfterMouseMove(ir)}),_defineProperty(Xe,"handleMouseLeave",function(ir){Xe.throttleTriggeredAfterMouseMove.cancel();var Qe={isTooltipActive:!1};Xe.setState(Qe),Xe.triggerSyncEvent(Qe);var Ke=Xe.props.onMouseLeave;isFunction(Ke)&&Ke(Qe,ir)}),_defineProperty(Xe,"handleOuterEvent",function(ir){var Qe=getReactEventByType(ir),Ke=get(Xe.props,"".concat(Qe));if(Qe&&isFunction(Ke)){var rr,cr;/.*touch.*/i.test(Qe)?cr=Xe.getMouseInfo(ir.changedTouches[0]):cr=Xe.getMouseInfo(ir),Ke((rr=cr)!==null&&rr!==void 0?rr:{},ir)}}),_defineProperty(Xe,"handleClick",function(ir){var Qe=Xe.getMouseInfo(ir);if(Qe){var Ke=_objectSpread(_objectSpread({},Qe),{},{isTooltipActive:!0});Xe.setState(Ke),Xe.triggerSyncEvent(Ke);var rr=Xe.props.onClick;isFunction(rr)&&rr(Ke,ir)}}),_defineProperty(Xe,"handleMouseDown",function(ir){var Qe=Xe.props.onMouseDown;if(isFunction(Qe)){var Ke=Xe.getMouseInfo(ir);Qe(Ke,ir)}}),_defineProperty(Xe,"handleMouseUp",function(ir){var Qe=Xe.props.onMouseUp;if(isFunction(Qe)){var Ke=Xe.getMouseInfo(ir);Qe(Ke,ir)}}),_defineProperty(Xe,"handleTouchMove",function(ir){ir.changedTouches!=null&&ir.changedTouches.length>0&&Xe.throttleTriggeredAfterMouseMove(ir.changedTouches[0])}),_defineProperty(Xe,"handleTouchStart",function(ir){ir.changedTouches!=null&&ir.changedTouches.length>0&&Xe.handleMouseDown(ir.changedTouches[0])}),_defineProperty(Xe,"handleTouchEnd",function(ir){ir.changedTouches!=null&&ir.changedTouches.length>0&&Xe.handleMouseUp(ir.changedTouches[0])}),_defineProperty(Xe,"handleDoubleClick",function(ir){var Qe=Xe.props.onDoubleClick;if(isFunction(Qe)){var Ke=Xe.getMouseInfo(ir);Qe(Ke,ir)}}),_defineProperty(Xe,"handleContextMenu",function(ir){var Qe=Xe.props.onContextMenu;if(isFunction(Qe)){var Ke=Xe.getMouseInfo(ir);Qe(Ke,ir)}}),_defineProperty(Xe,"triggerSyncEvent",function(ir){Xe.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,Xe.props.syncId,ir,Xe.eventEmitterSymbol)}),_defineProperty(Xe,"applySyncEvent",function(ir){var Qe=Xe.props,Ke=Qe.layout,rr=Qe.syncMethod,cr=Xe.state.updateId,Ze=ir.dataStartIndex,er=ir.dataEndIndex;if(ir.dataStartIndex!==void 0||ir.dataEndIndex!==void 0)Xe.setState(_objectSpread({dataStartIndex:Ze,dataEndIndex:er},ke({props:Xe.props,dataStartIndex:Ze,dataEndIndex:er,updateId:cr},Xe.state)));else if(ir.activeTooltipIndex!==void 0){var sr=ir.chartX,fr=ir.chartY,_r=ir.activeTooltipIndex,Er=Xe.state,yr=Er.offset,mr=Er.tooltipTicks;if(!yr)return;if(typeof rr=="function")_r=rr(mr,ir);else if(rr==="value"){_r=-1;for(var Pr=0;Pr<mr.length;Pr++)if(mr[Pr].value===ir.activeLabel){_r=Pr;break}}var Cr=_objectSpread(_objectSpread({},yr),{},{x:yr.left,y:yr.top}),wr=Math.min(sr,Cr.x+Cr.width),or=Math.min(fr,Cr.y+Cr.height),hr=mr[_r]&&mr[_r].value,br=getTooltipContent(Xe.state,Xe.props.data,_r),Ir=mr[_r]?{x:Ke==="horizontal"?mr[_r].coordinate:wr,y:Ke==="horizontal"?or:mr[_r].coordinate}:originCoordinate;Xe.setState(_objectSpread(_objectSpread({},ir),{},{activeLabel:hr,activeCoordinate:Ir,activePayload:br,activeTooltipIndex:_r}))}else Xe.setState(ir)}),_defineProperty(Xe,"renderCursor",function(ir){var Qe,Ke=Xe.state,rr=Ke.isTooltipActive,cr=Ke.activeCoordinate,Ze=Ke.activePayload,er=Ke.offset,sr=Ke.activeTooltipIndex,fr=Ke.tooltipAxisBandSize,_r=Xe.getTooltipEventType(),Er=(Qe=ir.props.active)!==null&&Qe!==void 0?Qe:rr,yr=Xe.props.layout,mr=ir.key||"_recharts-cursor";return React.createElement(Cursor,{key:mr,activeCoordinate:cr,activePayload:Ze,activeTooltipIndex:sr,chartName:xe,element:ir,isActive:Er,layout:yr,offset:er,tooltipAxisBandSize:fr,tooltipEventType:_r})}),_defineProperty(Xe,"renderPolarAxis",function(ir,Qe,Ke){var rr=get(ir,"type.axisType"),cr=get(Xe.state,"".concat(rr,"Map")),Ze=ir.type.defaultProps,er=Ze!==void 0?_objectSpread(_objectSpread({},Ze),ir.props):ir.props,sr=cr&&cr[er["".concat(rr,"Id")]];return reactExports.cloneElement(ir,_objectSpread(_objectSpread({},sr),{},{className:clsx(rr,sr.className),key:ir.key||"".concat(Qe,"-").concat(Ke),ticks:getTicksOfAxis(sr,!0)}))}),_defineProperty(Xe,"renderPolarGrid",function(ir){var Qe=ir.props,Ke=Qe.radialLines,rr=Qe.polarAngles,cr=Qe.polarRadius,Ze=Xe.state,er=Ze.radiusAxisMap,sr=Ze.angleAxisMap,fr=getAnyElementOfObject(er),_r=getAnyElementOfObject(sr),Er=_r.cx,yr=_r.cy,mr=_r.innerRadius,Pr=_r.outerRadius;return reactExports.cloneElement(ir,{polarAngles:Array.isArray(rr)?rr:getTicksOfAxis(_r,!0).map(function(Cr){return Cr.coordinate}),polarRadius:Array.isArray(cr)?cr:getTicksOfAxis(fr,!0).map(function(Cr){return Cr.coordinate}),cx:Er,cy:yr,innerRadius:mr,outerRadius:Pr,key:ir.key||"polar-grid",radialLines:Ke})}),_defineProperty(Xe,"renderLegend",function(){var ir=Xe.state.formattedGraphicalItems,Qe=Xe.props,Ke=Qe.children,rr=Qe.width,cr=Qe.height,Ze=Xe.props.margin||{},er=rr-(Ze.left||0)-(Ze.right||0),sr=getLegendProps({children:Ke,formattedGraphicalItems:ir,legendWidth:er,legendContent:Te});if(!sr)return null;var fr=sr.item,_r=_objectWithoutProperties(sr,_excluded);return reactExports.cloneElement(fr,_objectSpread(_objectSpread({},_r),{},{chartWidth:rr,chartHeight:cr,margin:Ze,onBBoxUpdate:Xe.handleLegendBBoxUpdate}))}),_defineProperty(Xe,"renderTooltip",function(){var ir,Qe=Xe.props,Ke=Qe.children,rr=Qe.accessibilityLayer,cr=findChildByType(Ke,Tooltip);if(!cr)return null;var Ze=Xe.state,er=Ze.isTooltipActive,sr=Ze.activeCoordinate,fr=Ze.activePayload,_r=Ze.activeLabel,Er=Ze.offset,yr=(ir=cr.props.active)!==null&&ir!==void 0?ir:er;return reactExports.cloneElement(cr,{viewBox:_objectSpread(_objectSpread({},Er),{},{x:Er.left,y:Er.top}),active:yr,label:_r,payload:yr?fr:[],coordinate:sr,accessibilityLayer:rr})}),_defineProperty(Xe,"renderBrush",function(ir){var Qe=Xe.props,Ke=Qe.margin,rr=Qe.data,cr=Xe.state,Ze=cr.offset,er=cr.dataStartIndex,sr=cr.dataEndIndex,fr=cr.updateId;return reactExports.cloneElement(ir,{key:ir.key||"_recharts-brush",onChange:combineEventHandlers(Xe.handleBrushChange,ir.props.onChange),data:rr,x:isNumber(ir.props.x)?ir.props.x:Ze.left,y:isNumber(ir.props.y)?ir.props.y:Ze.top+Ze.height+Ze.brushBottom-(Ke.bottom||0),width:isNumber(ir.props.width)?ir.props.width:Ze.width,startIndex:er,endIndex:sr,updateId:"brush-".concat(fr)})}),_defineProperty(Xe,"renderReferenceElement",function(ir,Qe,Ke){if(!ir)return null;var rr=Xe,cr=rr.clipPathId,Ze=Xe.state,er=Ze.xAxisMap,sr=Ze.yAxisMap,fr=Ze.offset,_r=ir.type.defaultProps||{},Er=ir.props,yr=Er.xAxisId,mr=yr===void 0?_r.xAxisId:yr,Pr=Er.yAxisId,Cr=Pr===void 0?_r.yAxisId:Pr;return reactExports.cloneElement(ir,{key:ir.key||"".concat(Qe,"-").concat(Ke),xAxis:er[mr],yAxis:sr[Cr],viewBox:{x:fr.left,y:fr.top,width:fr.width,height:fr.height},clipPathId:cr})}),_defineProperty(Xe,"renderActivePoints",function(ir){var Qe=ir.item,Ke=ir.activePoint,rr=ir.basePoint,cr=ir.childIndex,Ze=ir.isRange,er=[],sr=Qe.props.key,fr=Qe.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Qe.item.type.defaultProps),Qe.item.props):Qe.item.props,_r=fr.activeDot,Er=fr.dataKey,yr=_objectSpread(_objectSpread({index:cr,dataKey:Er,cx:Ke.x,cy:Ke.y,r:4,fill:getMainColorOfGraphicItem(Qe.item),strokeWidth:2,stroke:"#fff",payload:Ke.payload,value:Ke.value},filterProps(_r,!1)),adaptEventHandlers(_r));return er.push(Ue.renderActiveDot(_r,yr,"".concat(sr,"-activePoint-").concat(cr))),rr?er.push(Ue.renderActiveDot(_r,_objectSpread(_objectSpread({},yr),{},{cx:rr.x,cy:rr.y}),"".concat(sr,"-basePoint-").concat(cr))):Ze&&er.push(null),er}),_defineProperty(Xe,"renderGraphicChild",function(ir,Qe,Ke){var rr=Xe.filterFormatItem(ir,Qe,Ke);if(!rr)return null;var cr=Xe.getTooltipEventType(),Ze=Xe.state,er=Ze.isTooltipActive,sr=Ze.tooltipAxis,fr=Ze.activeTooltipIndex,_r=Ze.activeLabel,Er=Xe.props.children,yr=findChildByType(Er,Tooltip),mr=rr.props,Pr=mr.points,Cr=mr.isRange,wr=mr.baseLine,or=rr.item.type.defaultProps!==void 0?_objectSpread(_objectSpread({},rr.item.type.defaultProps),rr.item.props):rr.item.props,hr=or.activeDot,br=or.hide,Ir=or.activeBar,jr=or.activeShape,Mr=!!(!br&&er&&yr&&(hr||Ir||jr)),Vr={};cr!=="axis"&&yr&&yr.props.trigger==="click"?Vr={onClick:combineEventHandlers(Xe.handleItemMouseEnter,ir.props.onClick)}:cr!=="axis"&&(Vr={onMouseLeave:combineEventHandlers(Xe.handleItemMouseLeave,ir.props.onMouseLeave),onMouseEnter:combineEventHandlers(Xe.handleItemMouseEnter,ir.props.onMouseEnter)});var Or=reactExports.cloneElement(ir,_objectSpread(_objectSpread({},rr.props),Vr));function Xr(Nn){return typeof sr.dataKey=="function"?sr.dataKey(Nn.payload):null}if(Mr)if(fr>=0){var Qr,Fr;if(sr.dataKey&&!sr.allowDuplicatedCategory){var xn=typeof sr.dataKey=="function"?Xr:"payload.".concat(sr.dataKey.toString());Qr=findEntryInArray(Pr,xn,_r),Fr=Cr&&wr&&findEntryInArray(wr,xn,_r)}else Qr=Pr==null?void 0:Pr[fr],Fr=Cr&&wr&&wr[fr];if(jr||Ir){var An=ir.props.activeIndex!==void 0?ir.props.activeIndex:fr;return[reactExports.cloneElement(ir,_objectSpread(_objectSpread(_objectSpread({},rr.props),Vr),{},{activeIndex:An})),null,null]}if(!isNil(Qr))return[Or].concat(_toConsumableArray(Xe.renderActivePoints({item:rr,activePoint:Qr,basePoint:Fr,childIndex:fr,isRange:Cr})))}else{var un,Nr=(un=Xe.getItemByXY(Xe.state.activeCoordinate))!==null&&un!==void 0?un:{graphicalItem:Or},Bn=Nr.graphicalItem,Vn=Bn.item,wn=Vn===void 0?ir:Vn,In=Bn.childIndex,jn=_objectSpread(_objectSpread(_objectSpread({},rr.props),Vr),{},{activeIndex:In});return[reactExports.cloneElement(wn,jn),null,null]}return Cr?[Or,null,null]:[Or,null]}),_defineProperty(Xe,"renderCustomized",function(ir,Qe,Ke){return reactExports.cloneElement(ir,_objectSpread(_objectSpread({key:"recharts-customized-".concat(Ke)},Xe.props),Xe.state))}),_defineProperty(Xe,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:Xe.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:Xe.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:Xe.renderBrush,once:!0},Bar:{handler:Xe.renderGraphicChild},Line:{handler:Xe.renderGraphicChild},Area:{handler:Xe.renderGraphicChild},Radar:{handler:Xe.renderGraphicChild},RadialBar:{handler:Xe.renderGraphicChild},Scatter:{handler:Xe.renderGraphicChild},Pie:{handler:Xe.renderGraphicChild},Funnel:{handler:Xe.renderGraphicChild},Tooltip:{handler:Xe.renderCursor,once:!0},PolarGrid:{handler:Xe.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Xe.renderPolarAxis},PolarRadiusAxis:{handler:Xe.renderPolarAxis},Customized:{handler:Xe.renderCustomized}}),Xe.clipPathId="".concat((We=ze.id)!==null&&We!==void 0?We:uniqueId("recharts"),"-clip"),Xe.throttleTriggeredAfterMouseMove=throttle(Xe.triggeredAfterMouseMove,(Ye=ze.throttleDelay)!==null&&Ye!==void 0?Ye:1e3/60),Xe.state={},Xe}return _inherits(Ue,De),_createClass(Ue,[{key:"componentDidMount",value:function(){var We,Ye;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(We=this.props.margin.left)!==null&&We!==void 0?We:0,top:(Ye=this.props.margin.top)!==null&&Ye!==void 0?Ye:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var We=this.props,Ye=We.children,Xe=We.data,ir=We.height,Qe=We.layout,Ke=findChildByType(Ye,Tooltip);if(Ke){var rr=Ke.props.defaultIndex;if(!(typeof rr!="number"||rr<0||rr>this.state.tooltipTicks.length-1)){var cr=this.state.tooltipTicks[rr]&&this.state.tooltipTicks[rr].value,Ze=getTooltipContent(this.state,Xe,rr,cr),er=this.state.tooltipTicks[rr].coordinate,sr=(this.state.offset.top+ir)/2,fr=Qe==="horizontal",_r=fr?{x:er,y:sr}:{y:er,x:sr},Er=this.state.formattedGraphicalItems.find(function(mr){var Pr=mr.item;return Pr.type.name==="Scatter"});Er&&(_r=_objectSpread(_objectSpread({},_r),Er.props.points[rr].tooltipPosition),Ze=Er.props.points[rr].tooltipPayload);var yr={activeTooltipIndex:rr,isTooltipActive:!0,activeLabel:cr,activePayload:Ze,activeCoordinate:_r};this.setState(yr),this.renderCursor(Ke),this.accessibilityManager.setIndex(rr)}}}},{key:"getSnapshotBeforeUpdate",value:function(We,Ye){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==Ye.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==We.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==We.margin){var Xe,ir;this.accessibilityManager.setDetails({offset:{left:(Xe=this.props.margin.left)!==null&&Xe!==void 0?Xe:0,top:(ir=this.props.margin.top)!==null&&ir!==void 0?ir:0}})}return null}},{key:"componentDidUpdate",value:function(We){isChildrenEqual([findChildByType(We.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var We=findChildByType(this.props.children,Tooltip);if(We&&typeof We.props.shared=="boolean"){var Ye=We.props.shared?"axis":"item";return Re.indexOf(Ye)>=0?Ye:Se}return Se}},{key:"getMouseInfo",value:function(We){if(!this.container)return null;var Ye=this.container,Xe=Ye.getBoundingClientRect(),ir=getOffset(Xe),Qe={chartX:Math.round(We.pageX-ir.left),chartY:Math.round(We.pageY-ir.top)},Ke=Xe.width/Ye.offsetWidth||1,rr=this.inRange(Qe.chartX,Qe.chartY,Ke);if(!rr)return null;var cr=this.state,Ze=cr.xAxisMap,er=cr.yAxisMap,sr=this.getTooltipEventType(),fr=getTooltipData(this.state,this.props.data,this.props.layout,rr);if(sr!=="axis"&&Ze&&er){var _r=getAnyElementOfObject(Ze).scale,Er=getAnyElementOfObject(er).scale,yr=_r&&_r.invert?_r.invert(Qe.chartX):null,mr=Er&&Er.invert?Er.invert(Qe.chartY):null;return _objectSpread(_objectSpread({},Qe),{},{xValue:yr,yValue:mr},fr)}return fr?_objectSpread(_objectSpread({},Qe),fr):null}},{key:"inRange",value:function(We,Ye){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ir=this.props.layout,Qe=We/Xe,Ke=Ye/Xe;if(ir==="horizontal"||ir==="vertical"){var rr=this.state.offset,cr=Qe>=rr.left&&Qe<=rr.left+rr.width&&Ke>=rr.top&&Ke<=rr.top+rr.height;return cr?{x:Qe,y:Ke}:null}var Ze=this.state,er=Ze.angleAxisMap,sr=Ze.radiusAxisMap;if(er&&sr){var fr=getAnyElementOfObject(er);return inRangeOfSector({x:Qe,y:Ke},fr)}return null}},{key:"parseEventsOfWrapper",value:function(){var We=this.props.children,Ye=this.getTooltipEventType(),Xe=findChildByType(We,Tooltip),ir={};Xe&&Ye==="axis"&&(Xe.props.trigger==="click"?ir={onClick:this.handleClick}:ir={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Qe=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Qe),ir)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(We,Ye,Xe){for(var ir=this.state.formattedGraphicalItems,Qe=0,Ke=ir.length;Qe<Ke;Qe++){var rr=ir[Qe];if(rr.item===We||rr.props.key===We.key||Ye===getDisplayName(rr.item.type)&&Xe===rr.childIndex)return rr}return null}},{key:"renderClipPath",value:function(){var We=this.clipPathId,Ye=this.state.offset,Xe=Ye.left,ir=Ye.top,Qe=Ye.height,Ke=Ye.width;return React.createElement("defs",null,React.createElement("clipPath",{id:We},React.createElement("rect",{x:Xe,y:ir,height:Qe,width:Ke})))}},{key:"getXScales",value:function(){var We=this.state.xAxisMap;return We?Object.entries(We).reduce(function(Ye,Xe){var ir=_slicedToArray(Xe,2),Qe=ir[0],Ke=ir[1];return _objectSpread(_objectSpread({},Ye),{},_defineProperty({},Qe,Ke.scale))},{}):null}},{key:"getYScales",value:function(){var We=this.state.yAxisMap;return We?Object.entries(We).reduce(function(Ye,Xe){var ir=_slicedToArray(Xe,2),Qe=ir[0],Ke=ir[1];return _objectSpread(_objectSpread({},Ye),{},_defineProperty({},Qe,Ke.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(We){var Ye;return(Ye=this.state.xAxisMap)===null||Ye===void 0||(Ye=Ye[We])===null||Ye===void 0?void 0:Ye.scale}},{key:"getYScaleByAxisId",value:function(We){var Ye;return(Ye=this.state.yAxisMap)===null||Ye===void 0||(Ye=Ye[We])===null||Ye===void 0?void 0:Ye.scale}},{key:"getItemByXY",value:function(We){var Ye=this.state,Xe=Ye.formattedGraphicalItems,ir=Ye.activeItem;if(Xe&&Xe.length)for(var Qe=0,Ke=Xe.length;Qe<Ke;Qe++){var rr=Xe[Qe],cr=rr.props,Ze=rr.item,er=Ze.type.defaultProps!==void 0?_objectSpread(_objectSpread({},Ze.type.defaultProps),Ze.props):Ze.props,sr=getDisplayName(Ze.type);if(sr==="Bar"){var fr=(cr.data||[]).find(function(mr){return isInRectangle(We,mr)});if(fr)return{graphicalItem:rr,payload:fr}}else if(sr==="RadialBar"){var _r=(cr.data||[]).find(function(mr){return inRangeOfSector(We,mr)});if(_r)return{graphicalItem:rr,payload:_r}}else if(isFunnel(rr,ir)||isPie(rr,ir)||isScatter(rr,ir)){var Er=getActiveShapeIndexForTooltip({graphicalItem:rr,activeTooltipItem:ir,itemData:er.data}),yr=er.activeIndex===void 0?Er:er.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},rr),{},{childIndex:yr}),payload:isScatter(rr,ir)?er.data[Er]:rr.props.data[Er]}}}return null}},{key:"render",value:function(){var We=this;if(!validateWidthHeight(this))return null;var Ye=this.props,Xe=Ye.children,ir=Ye.className,Qe=Ye.width,Ke=Ye.height,rr=Ye.style,cr=Ye.compact,Ze=Ye.title,er=Ye.desc,sr=_objectWithoutProperties(Ye,_excluded2),fr=filterProps(sr,!1);if(cr)return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement(Surface,_extends({},fr,{width:Qe,height:Ke,title:Ze,desc:er}),this.renderClipPath(),renderByOrder(Xe,this.renderMap)));if(this.props.accessibilityLayer){var _r,Er;fr.tabIndex=(_r=this.props.tabIndex)!==null&&_r!==void 0?_r:0,fr.role=(Er=this.props.role)!==null&&Er!==void 0?Er:"application",fr.onKeyDown=function(mr){We.accessibilityManager.keyboardEvent(mr)},fr.onFocus=function(){We.accessibilityManager.focus()}}var yr=this.parseEventsOfWrapper();return React.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React.createElement("div",_extends({className:clsx("recharts-wrapper",ir),style:_objectSpread({position:"relative",cursor:"default",width:Qe,height:Ke},rr)},yr,{ref:function(Pr){We.container=Pr}}),React.createElement(Surface,_extends({},fr,{width:Qe,height:Ke,title:Ze,desc:er,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(Xe,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty(Fe,"displayName",xe),_defineProperty(Fe,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},je)),_defineProperty(Fe,"getDerivedStateFromProps",function(De,Ue){var ze=De.dataKey,We=De.data,Ye=De.children,Xe=De.width,ir=De.height,Qe=De.layout,Ke=De.stackOffset,rr=De.margin,cr=Ue.dataStartIndex,Ze=Ue.dataEndIndex;if(Ue.updateId===void 0){var er=createDefaultState(De);return _objectSpread(_objectSpread(_objectSpread({},er),{},{updateId:0},ke(_objectSpread(_objectSpread({props:De},er),{},{updateId:0}),Ue)),{},{prevDataKey:ze,prevData:We,prevWidth:Xe,prevHeight:ir,prevLayout:Qe,prevStackOffset:Ke,prevMargin:rr,prevChildren:Ye})}if(ze!==Ue.prevDataKey||We!==Ue.prevData||Xe!==Ue.prevWidth||ir!==Ue.prevHeight||Qe!==Ue.prevLayout||Ke!==Ue.prevStackOffset||!shallowEqual(rr,Ue.prevMargin)){var sr=createDefaultState(De),fr={chartX:Ue.chartX,chartY:Ue.chartY,isTooltipActive:Ue.isTooltipActive},_r=_objectSpread(_objectSpread({},getTooltipData(Ue,We,Qe)),{},{updateId:Ue.updateId+1}),Er=_objectSpread(_objectSpread(_objectSpread({},sr),fr),_r);return _objectSpread(_objectSpread(_objectSpread({},Er),ke(_objectSpread({props:De},Er),Ue)),{},{prevDataKey:ze,prevData:We,prevWidth:Xe,prevHeight:ir,prevLayout:Qe,prevStackOffset:Ke,prevMargin:rr,prevChildren:Ye})}if(!isChildrenEqual(Ye,Ue.prevChildren)){var yr,mr,Pr,Cr,wr=findChildByType(Ye,Brush),or=wr&&(yr=(mr=wr.props)===null||mr===void 0?void 0:mr.startIndex)!==null&&yr!==void 0?yr:cr,hr=wr&&(Pr=(Cr=wr.props)===null||Cr===void 0?void 0:Cr.endIndex)!==null&&Pr!==void 0?Pr:Ze,br=or!==cr||hr!==Ze,Ir=!isNil(We),jr=Ir&&!br?Ue.updateId:Ue.updateId+1;return _objectSpread(_objectSpread({updateId:jr},ke(_objectSpread(_objectSpread({props:De},Ue),{},{updateId:jr,dataStartIndex:or,dataEndIndex:hr}),Ue)),{},{prevChildren:Ye,dataStartIndex:or,dataEndIndex:hr})}return null}),_defineProperty(Fe,"renderActiveDot",function(De,Ue,ze){var We;return reactExports.isValidElement(De)?We=reactExports.cloneElement(De,Ue):isFunction(De)?We=De(Ue):We=React.createElement(Dot,Ue),React.createElement(Layer,{className:"recharts-active-dot",key:ze},We)});var Me=reactExports.forwardRef(function(Ue,ze){return React.createElement(Fe,_extends({},Ue,{ref:ze}))});return Me.displayName=Fe.displayName,Me},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(t,e){for(var xe=new u16(31),_e=0;_e<31;++_e)xe[_e]=e+=1<<t[_e-1];for(var Ee=new i32(xe[30]),_e=1;_e<30;++_e)for(var Se=xe[_e];Se<xe[_e+1];++Se)Ee[Se]=Se-xe[_e]<<5|_e;return{b:xe,r:Ee}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(t,e,xe){for(var _e=t.length,Ee=0,Se=new u16(e);Ee<_e;++Ee)t[Ee]&&++Se[t[Ee]-1];var Ae=new u16(e);for(Ee=1;Ee<e;++Ee)Ae[Ee]=Ae[Ee-1]+Se[Ee-1]<<1;var Re;if(xe){Re=new u16(1<<e);var Pe=15-e;for(Ee=0;Ee<_e;++Ee)if(t[Ee])for(var Te=Ee<<4|t[Ee],Ie=e-t[Ee],je=Ae[t[Ee]-1]++<<Ie,Oe=je|(1<<Ie)-1;je<=Oe;++je)Re[rev[je]>>Pe]=Te}else for(Re=new u16(_e),Ee=0;Ee<_e;++Ee)t[Ee]&&(Re[Ee]=rev[Ae[t[Ee]-1]++]>>15-t[Ee]);return Re},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(t){for(var e=t[0],xe=1;xe<t.length;++xe)t[xe]>e&&(e=t[xe]);return e},bits=function(t,e,xe){var _e=e/8|0;return(t[_e]|t[_e+1]<<8)>>(e&7)&xe},bits16=function(t,e){var xe=e/8|0;return(t[xe]|t[xe+1]<<8|t[xe+2]<<16)>>(e&7)},shft=function(t){return(t+7)/8|0},slc=function(t,e,xe){return(xe==null||xe>t.length)&&(xe=t.length),new u8(t.subarray(e,xe))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(t,e,xe){var _e=new Error(e||ec[t]);if(_e.code=t,Error.captureStackTrace&&Error.captureStackTrace(_e,err),!xe)throw _e;return _e},inflt=function(t,e,xe,_e){var Ee=t.length,Se=0;if(!Ee||e.f&&!e.l)return xe||new u8(0);var Ae=!xe,Re=Ae||e.i!=2,Pe=e.i;Ae&&(xe=new u8(Ee*3));var Te=function(Qr){var Fr=xe.length;if(Qr>Fr){var xn=new u8(Math.max(Fr*2,Qr));xn.set(xe),xe=xn}},Ie=e.f||0,je=e.p||0,Oe=e.b||0,ke=e.l,Fe=e.d,Me=e.m,De=e.n,Ue=Ee*8;do{if(!ke){Ie=bits(t,je,1);var ze=bits(t,je+1,3);if(je+=3,ze)if(ze==1)ke=flrm,Fe=fdrm,Me=9,De=5;else if(ze==2){var ir=bits(t,je,31)+257,Qe=bits(t,je+10,15)+4,Ke=ir+bits(t,je+5,31)+1;je+=14;for(var rr=new u8(Ke),cr=new u8(19),Ze=0;Ze<Qe;++Ze)cr[clim[Ze]]=bits(t,je+Ze*3,7);je+=Qe*3;for(var er=max(cr),sr=(1<<er)-1,fr=hMap(cr,er,1),Ze=0;Ze<Ke;){var _r=fr[bits(t,je,sr)];je+=_r&15;var We=_r>>4;if(We<16)rr[Ze++]=We;else{var Er=0,yr=0;for(We==16?(yr=3+bits(t,je,3),je+=2,Er=rr[Ze-1]):We==17?(yr=3+bits(t,je,7),je+=3):We==18&&(yr=11+bits(t,je,127),je+=7);yr--;)rr[Ze++]=Er}}var mr=rr.subarray(0,ir),Pr=rr.subarray(ir);Me=max(mr),De=max(Pr),ke=hMap(mr,Me,1),Fe=hMap(Pr,De,1)}else err(1);else{var We=shft(je)+4,Ye=t[We-4]|t[We-3]<<8,Xe=We+Ye;if(Xe>Ee){Pe&&err(0);break}Re&&Te(Oe+Ye),xe.set(t.subarray(We,Xe),Oe),e.b=Oe+=Ye,e.p=je=Xe*8,e.f=Ie;continue}if(je>Ue){Pe&&err(0);break}}Re&&Te(Oe+131072);for(var Cr=(1<<Me)-1,wr=(1<<De)-1,or=je;;or=je){var Er=ke[bits16(t,je)&Cr],hr=Er>>4;if(je+=Er&15,je>Ue){Pe&&err(0);break}if(Er||err(2),hr<256)xe[Oe++]=hr;else if(hr==256){or=je,ke=null;break}else{var br=hr-254;if(hr>264){var Ze=hr-257,Ir=fleb[Ze];br=bits(t,je,(1<<Ir)-1)+fl[Ze],je+=Ir}var jr=Fe[bits16(t,je)&wr],Mr=jr>>4;jr||err(3),je+=jr&15;var Pr=fd[Mr];if(Mr>3){var Ir=fdeb[Mr];Pr+=bits16(t,je)&(1<<Ir)-1,je+=Ir}if(je>Ue){Pe&&err(0);break}Re&&Te(Oe+131072);var Vr=Oe+br;if(Oe<Pr){var Or=Se-Pr,Xr=Math.min(Pr,Vr);for(Or+Oe<0&&err(3);Oe<Xr;++Oe)xe[Oe]=_e[Or+Oe]}for(;Oe<Vr;++Oe)xe[Oe]=xe[Oe-Pr]}}e.l=ke,e.p=or,e.b=Oe,e.f=Ie,ke&&(Ie=1,e.m=Me,e.d=Fe,e.n=De)}while(!Ie);return Oe!=xe.length&&Ae?slc(xe,0,Oe):xe.subarray(0,Oe)},wbits=function(t,e,xe){xe<<=e&7;var _e=e/8|0;t[_e]|=xe,t[_e+1]|=xe>>8},wbits16=function(t,e,xe){xe<<=e&7;var _e=e/8|0;t[_e]|=xe,t[_e+1]|=xe>>8,t[_e+2]|=xe>>16},hTree=function(t,e){for(var xe=[],_e=0;_e<t.length;++_e)t[_e]&&xe.push({s:_e,f:t[_e]});var Ee=xe.length,Se=xe.slice();if(!Ee)return{t:et$1,l:0};if(Ee==1){var Ae=new u8(xe[0].s+1);return Ae[xe[0].s]=1,{t:Ae,l:1}}xe.sort(function(Xe,ir){return Xe.f-ir.f}),xe.push({s:-1,f:25001});var Re=xe[0],Pe=xe[1],Te=0,Ie=1,je=2;for(xe[0]={s:-1,f:Re.f+Pe.f,l:Re,r:Pe};Ie!=Ee-1;)Re=xe[xe[Te].f<xe[je].f?Te++:je++],Pe=xe[Te!=Ie&&xe[Te].f<xe[je].f?Te++:je++],xe[Ie++]={s:-1,f:Re.f+Pe.f,l:Re,r:Pe};for(var Oe=Se[0].s,_e=1;_e<Ee;++_e)Se[_e].s>Oe&&(Oe=Se[_e].s);var ke=new u16(Oe+1),Fe=ln(xe[Ie-1],ke,0);if(Fe>e){var _e=0,Me=0,De=Fe-e,Ue=1<<De;for(Se.sort(function(ir,Qe){return ke[Qe.s]-ke[ir.s]||ir.f-Qe.f});_e<Ee;++_e){var ze=Se[_e].s;if(ke[ze]>e)Me+=Ue-(1<<Fe-ke[ze]),ke[ze]=e;else break}for(Me>>=De;Me>0;){var We=Se[_e].s;ke[We]<e?Me-=1<<e-ke[We]++-1:++_e}for(;_e>=0&&Me;--_e){var Ye=Se[_e].s;ke[Ye]==e&&(--ke[Ye],++Me)}Fe=e}return{t:new u8(ke),l:Fe}},ln=function(t,e,xe){return t.s==-1?Math.max(ln(t.l,e,xe+1),ln(t.r,e,xe+1)):e[t.s]=xe},lc=function(t){for(var e=t.length;e&&!t[--e];);for(var xe=new u16(++e),_e=0,Ee=t[0],Se=1,Ae=function(Pe){xe[_e++]=Pe},Re=1;Re<=e;++Re)if(t[Re]==Ee&&Re!=e)++Se;else{if(!Ee&&Se>2){for(;Se>138;Se-=138)Ae(32754);Se>2&&(Ae(Se>10?Se-11<<5|28690:Se-3<<5|12305),Se=0)}else if(Se>3){for(Ae(Ee),--Se;Se>6;Se-=6)Ae(8304);Se>2&&(Ae(Se-3<<5|8208),Se=0)}for(;Se--;)Ae(Ee);Se=1,Ee=t[Re]}return{c:xe.subarray(0,_e),n:e}},clen=function(t,e){for(var xe=0,_e=0;_e<e.length;++_e)xe+=t[_e]*e[_e];return xe},wfblk=function(t,e,xe){var _e=xe.length,Ee=shft(e+2);t[Ee]=_e&255,t[Ee+1]=_e>>8,t[Ee+2]=t[Ee]^255,t[Ee+3]=t[Ee+1]^255;for(var Se=0;Se<_e;++Se)t[Ee+Se+4]=xe[Se];return(Ee+4+_e)*8},wblk=function(t,e,xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie){wbits(e,Ie++,xe),++Ee[256];for(var je=hTree(Ee,15),Oe=je.t,ke=je.l,Fe=hTree(Se,15),Me=Fe.t,De=Fe.l,Ue=lc(Oe),ze=Ue.c,We=Ue.n,Ye=lc(Me),Xe=Ye.c,ir=Ye.n,Qe=new u16(19),Ke=0;Ke<ze.length;++Ke)++Qe[ze[Ke]&31];for(var Ke=0;Ke<Xe.length;++Ke)++Qe[Xe[Ke]&31];for(var rr=hTree(Qe,7),cr=rr.t,Ze=rr.l,er=19;er>4&&!cr[clim[er-1]];--er);var sr=Te+5<<3,fr=clen(Ee,flt)+clen(Se,fdt)+Ae,_r=clen(Ee,Oe)+clen(Se,Me)+Ae+14+3*er+clen(Qe,cr)+2*Qe[16]+3*Qe[17]+7*Qe[18];if(Pe>=0&&sr<=fr&&sr<=_r)return wfblk(e,Ie,t.subarray(Pe,Pe+Te));var Er,yr,mr,Pr;if(wbits(e,Ie,1+(_r<fr)),Ie+=2,_r<fr){Er=hMap(Oe,ke,0),yr=Oe,mr=hMap(Me,De,0),Pr=Me;var Cr=hMap(cr,Ze,0);wbits(e,Ie,We-257),wbits(e,Ie+5,ir-1),wbits(e,Ie+10,er-4),Ie+=14;for(var Ke=0;Ke<er;++Ke)wbits(e,Ie+3*Ke,cr[clim[Ke]]);Ie+=3*er;for(var wr=[ze,Xe],or=0;or<2;++or)for(var hr=wr[or],Ke=0;Ke<hr.length;++Ke){var br=hr[Ke]&31;wbits(e,Ie,Cr[br]),Ie+=cr[br],br>15&&(wbits(e,Ie,hr[Ke]>>5&127),Ie+=hr[Ke]>>12)}}else Er=flm,yr=flt,mr=fdm,Pr=fdt;for(var Ke=0;Ke<Re;++Ke){var Ir=_e[Ke];if(Ir>255){var br=Ir>>18&31;wbits16(e,Ie,Er[br+257]),Ie+=yr[br+257],br>7&&(wbits(e,Ie,Ir>>23&31),Ie+=fleb[br]);var jr=Ir&31;wbits16(e,Ie,mr[jr]),Ie+=Pr[jr],jr>3&&(wbits16(e,Ie,Ir>>5&8191),Ie+=fdeb[jr])}else wbits16(e,Ie,Er[Ir]),Ie+=yr[Ir]}return wbits16(e,Ie,Er[256]),Ie+yr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(t,e,xe,_e,Ee,Se){var Ae=Se.z||t.length,Re=new u8(_e+Ae+5*(1+Math.ceil(Ae/7e3))+Ee),Pe=Re.subarray(_e,Re.length-Ee),Te=Se.l,Ie=(Se.r||0)&7;if(e){Ie&&(Pe[0]=Se.r>>3);for(var je=deo[e-1],Oe=je>>13,ke=je&8191,Fe=(1<<xe)-1,Me=Se.p||new u16(32768),De=Se.h||new u16(Fe+1),Ue=Math.ceil(xe/3),ze=2*Ue,We=function(An){return(t[An]^t[An+1]<<Ue^t[An+2]<<ze)&Fe},Ye=new i32(25e3),Xe=new u16(288),ir=new u16(32),Qe=0,Ke=0,rr=Se.i||0,cr=0,Ze=Se.w||0,er=0;rr+2<Ae;++rr){var sr=We(rr),fr=rr&32767,_r=De[sr];if(Me[fr]=_r,De[sr]=fr,Ze<=rr){var Er=Ae-rr;if((Qe>7e3||cr>24576)&&(Er>423||!Te)){Ie=wblk(t,Pe,0,Ye,Xe,ir,Ke,cr,er,rr-er,Ie),cr=Qe=Ke=0,er=rr;for(var yr=0;yr<286;++yr)Xe[yr]=0;for(var yr=0;yr<30;++yr)ir[yr]=0}var mr=2,Pr=0,Cr=ke,wr=fr-_r&32767;if(Er>2&&sr==We(rr-wr))for(var or=Math.min(Oe,Er)-1,hr=Math.min(32767,rr),br=Math.min(258,Er);wr<=hr&&--Cr&&fr!=_r;){if(t[rr+mr]==t[rr+mr-wr]){for(var Ir=0;Ir<br&&t[rr+Ir]==t[rr+Ir-wr];++Ir);if(Ir>mr){if(mr=Ir,Pr=wr,Ir>or)break;for(var jr=Math.min(wr,Ir-2),Mr=0,yr=0;yr<jr;++yr){var Vr=rr-wr+yr&32767,Or=Me[Vr],Xr=Vr-Or&32767;Xr>Mr&&(Mr=Xr,_r=Vr)}}}fr=_r,_r=Me[fr],wr+=fr-_r&32767}if(Pr){Ye[cr++]=268435456|revfl[mr]<<18|revfd[Pr];var Qr=revfl[mr]&31,Fr=revfd[Pr]&31;Ke+=fleb[Qr]+fdeb[Fr],++Xe[257+Qr],++ir[Fr],Ze=rr+mr,++Qe}else Ye[cr++]=t[rr],++Xe[t[rr]]}}for(rr=Math.max(rr,Ze);rr<Ae;++rr)Ye[cr++]=t[rr],++Xe[t[rr]];Ie=wblk(t,Pe,Te,Ye,Xe,ir,Ke,cr,er,rr-er,Ie),Te||(Se.r=Ie&7|Pe[Ie/8|0]<<3,Ie-=7,Se.h=De,Se.p=Me,Se.i=rr,Se.w=Ze)}else{for(var rr=Se.w||0;rr<Ae+Te;rr+=65535){var xn=rr+65535;xn>=Ae&&(Pe[Ie/8|0]=Te,xn=Ae),Ie=wfblk(Pe,Ie+1,t.subarray(rr,xn))}Se.i=Ae}return slc(Re,0,_e+shft(Ie)+Ee)},adler=function(){var t=1,e=0;return{p:function(xe){for(var _e=t,Ee=e,Se=xe.length|0,Ae=0;Ae!=Se;){for(var Re=Math.min(Ae+2655,Se);Ae<Re;++Ae)Ee+=_e+=xe[Ae];_e=(_e&65535)+15*(_e>>16),Ee=(Ee&65535)+15*(Ee>>16)}t=_e,e=Ee},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dopt=function(t,e,xe,_e,Ee){if(!Ee&&(Ee={l:1},e.dictionary)){var Se=e.dictionary.subarray(-32768),Ae=new u8(Se.length+t.length);Ae.set(Se),Ae.set(t,Se.length),t=Ae,Ee.w=Se.length}return dflt(t,e.level==null?6:e.level,e.mem==null?Ee.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,xe,_e,Ee)},wbytes=function(t,e,xe){for(;xe;++e)t[e]=xe,xe>>>=8},zlh=function(t,e){var xe=e.level,_e=xe==0?0:xe<6?1:xe==9?3:2;if(t[0]=120,t[1]=_e<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var Ee=adler();Ee.p(e.dictionary),wbytes(t,2,Ee.d())}},zls=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&err(6,"invalid zlib data"),(t[1]>>5&1)==1&&err(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function zlibSync(t,e){e||(e={});var xe=adler();xe.p(t);var _e=dopt(t,e,e.dictionary?6:2,4);return zlh(_e,e),wbytes(_e,_e.length-4,xe.d()),_e}function unzlibSync(t,e){return inflt(t.subarray(zls(t),-4),{i:2},e,e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(t){}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(t){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(t){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(t))}};function o(t,e,xe){var _e=new XMLHttpRequest;_e.open("GET",t),_e.responseType="blob",_e.onload=function(){l(_e.response,e,xe)},_e.onerror=function(){a.error("could not download file")},_e.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,xe){var _e=n.URL||n.webkitURL,Ee=document.createElement("a");e=e||t.name||"download",Ee.download=e,Ee.rel="noopener",typeof t=="string"?(Ee.href=t,Ee.origin!==location.origin?s(Ee.href)?o(t,e,xe):c(Ee,Ee.target="_blank"):c(Ee)):(Ee.href=_e.createObjectURL(t),setTimeout(function(){_e.revokeObjectURL(Ee.href)},4e4),setTimeout(function(){c(Ee)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,xe){if(e=e||t.name||"download",typeof t=="string")if(s(t))o(t,e,xe);else{var _e=document.createElement("a");_e.href=t,_e.target="_blank",setTimeout(function(){c(_e)})}else navigator.msSaveOrOpenBlob(function(Ee,Se){return Se===void 0?Se={autoBom:!1}:_typeof(Se)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),Se={autoBom:!Se}),Se.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Ee.type)?new Blob(["\uFEFF",Ee],{type:Ee.type}):Ee}(t,xe),e)}:function(t,e,xe,_e){if((_e=_e||open("","_blank"))&&(_e.document.title=_e.document.body.innerText="downloading..."),typeof t=="string")return o(t,e,xe);var Ee=t.type==="application/octet-stream",Se=/constructor/i.test(n.HTMLElement)||n.safari,Ae=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ae||Ee&&Se)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Re=new FileReader;Re.onloadend=function(){var Ie=Re.result;Ie=Ae?Ie:Ie.replace(/^data:[^;]*;/,"data:attachment/file;"),_e?_e.location.href=Ie:location=Ie,_e=null},Re.readAsDataURL(t)}else{var Pe=n.URL||n.webkitURL,Te=Pe.createObjectURL(t);_e?_e.location=Te:location.href=Te,_e=null,setTimeout(function(){Pe.revokeObjectURL(Te)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var xe=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Re){return[parseInt(Re[1]),parseInt(Re[2]),parseInt(Re[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Re){return[parseInt(Re[1],16),parseInt(Re[2],16),parseInt(Re[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Re){return[parseInt(Re[1]+Re[1],16),parseInt(Re[2]+Re[2],16),parseInt(Re[3]+Re[3],16)]}}],_e=0;_e<xe.length;_e++){var Ee=xe[_e].re,Se=xe[_e].process,Ae=Ee.exec(t);Ae&&(e=Se(Ae),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Re=this.r.toString(16),Pe=this.g.toString(16),Te=this.b.toString(16);return Re.length==1&&(Re="0"+Re),Pe.length==1&&(Pe="0"+Pe),Te.length==1&&(Te="0"+Te),"#"+Re+Pe+Te}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(t,e){var xe=t[0],_e=t[1],Ee=t[2],Se=t[3];xe=g(xe,_e,Ee,Se,e[0],7,-680876936),Se=g(Se,xe,_e,Ee,e[1],12,-389564586),Ee=g(Ee,Se,xe,_e,e[2],17,606105819),_e=g(_e,Ee,Se,xe,e[3],22,-1044525330),xe=g(xe,_e,Ee,Se,e[4],7,-176418897),Se=g(Se,xe,_e,Ee,e[5],12,1200080426),Ee=g(Ee,Se,xe,_e,e[6],17,-1473231341),_e=g(_e,Ee,Se,xe,e[7],22,-45705983),xe=g(xe,_e,Ee,Se,e[8],7,1770035416),Se=g(Se,xe,_e,Ee,e[9],12,-1958414417),Ee=g(Ee,Se,xe,_e,e[10],17,-42063),_e=g(_e,Ee,Se,xe,e[11],22,-1990404162),xe=g(xe,_e,Ee,Se,e[12],7,1804603682),Se=g(Se,xe,_e,Ee,e[13],12,-40341101),Ee=g(Ee,Se,xe,_e,e[14],17,-1502002290),xe=m(xe,_e=g(_e,Ee,Se,xe,e[15],22,1236535329),Ee,Se,e[1],5,-165796510),Se=m(Se,xe,_e,Ee,e[6],9,-1069501632),Ee=m(Ee,Se,xe,_e,e[11],14,643717713),_e=m(_e,Ee,Se,xe,e[0],20,-373897302),xe=m(xe,_e,Ee,Se,e[5],5,-701558691),Se=m(Se,xe,_e,Ee,e[10],9,38016083),Ee=m(Ee,Se,xe,_e,e[15],14,-660478335),_e=m(_e,Ee,Se,xe,e[4],20,-405537848),xe=m(xe,_e,Ee,Se,e[9],5,568446438),Se=m(Se,xe,_e,Ee,e[14],9,-1019803690),Ee=m(Ee,Se,xe,_e,e[3],14,-187363961),_e=m(_e,Ee,Se,xe,e[8],20,1163531501),xe=m(xe,_e,Ee,Se,e[13],5,-1444681467),Se=m(Se,xe,_e,Ee,e[2],9,-51403784),Ee=m(Ee,Se,xe,_e,e[7],14,1735328473),xe=v(xe,_e=m(_e,Ee,Se,xe,e[12],20,-1926607734),Ee,Se,e[5],4,-378558),Se=v(Se,xe,_e,Ee,e[8],11,-2022574463),Ee=v(Ee,Se,xe,_e,e[11],16,1839030562),_e=v(_e,Ee,Se,xe,e[14],23,-35309556),xe=v(xe,_e,Ee,Se,e[1],4,-1530992060),Se=v(Se,xe,_e,Ee,e[4],11,1272893353),Ee=v(Ee,Se,xe,_e,e[7],16,-155497632),_e=v(_e,Ee,Se,xe,e[10],23,-1094730640),xe=v(xe,_e,Ee,Se,e[13],4,681279174),Se=v(Se,xe,_e,Ee,e[0],11,-358537222),Ee=v(Ee,Se,xe,_e,e[3],16,-722521979),_e=v(_e,Ee,Se,xe,e[6],23,76029189),xe=v(xe,_e,Ee,Se,e[9],4,-640364487),Se=v(Se,xe,_e,Ee,e[12],11,-421815835),Ee=v(Ee,Se,xe,_e,e[15],16,530742520),xe=b(xe,_e=v(_e,Ee,Se,xe,e[2],23,-995338651),Ee,Se,e[0],6,-198630844),Se=b(Se,xe,_e,Ee,e[7],10,1126891415),Ee=b(Ee,Se,xe,_e,e[14],15,-1416354905),_e=b(_e,Ee,Se,xe,e[5],21,-57434055),xe=b(xe,_e,Ee,Se,e[12],6,1700485571),Se=b(Se,xe,_e,Ee,e[3],10,-1894986606),Ee=b(Ee,Se,xe,_e,e[10],15,-1051523),_e=b(_e,Ee,Se,xe,e[1],21,-2054922799),xe=b(xe,_e,Ee,Se,e[8],6,1873313359),Se=b(Se,xe,_e,Ee,e[15],10,-30611744),Ee=b(Ee,Se,xe,_e,e[6],15,-1560198380),_e=b(_e,Ee,Se,xe,e[13],21,1309151649),xe=b(xe,_e,Ee,Se,e[4],6,-145523070),Se=b(Se,xe,_e,Ee,e[11],10,-1120210379),Ee=b(Ee,Se,xe,_e,e[2],15,718787259),_e=b(_e,Ee,Se,xe,e[9],21,-343485551),t[0]=_(xe,t[0]),t[1]=_(_e,t[1]),t[2]=_(Ee,t[2]),t[3]=_(Se,t[3])}function p(t,e,xe,_e,Ee,Se){return e=_(_(e,t),_(_e,Se)),_(e<<Ee|e>>>32-Ee,xe)}function g(t,e,xe,_e,Ee,Se,Ae){return p(e&xe|~e&_e,t,e,Ee,Se,Ae)}function m(t,e,xe,_e,Ee,Se,Ae){return p(e&_e|xe&~_e,t,e,Ee,Se,Ae)}function v(t,e,xe,_e,Ee,Se,Ae){return p(e^xe^_e,t,e,Ee,Se,Ae)}function b(t,e,xe,_e,Ee,Se,Ae){return p(xe^(e|~_e),t,e,Ee,Se,Ae)}function y(t){var e,xe=t.length,_e=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)d(_e,w(t.substring(e-64,e)));t=t.substring(e-64);var Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)Ee[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(Ee[e>>2]|=128<<(e%4<<3),e>55)for(d(_e,Ee),e=0;e<16;e++)Ee[e]=0;return Ee[14]=8*xe,d(_e,Ee),_e}function w(t){var e,xe=[];for(e=0;e<64;e+=4)xe[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return xe}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(t){for(var e="",xe=0;xe<4;xe++)e+=N[t>>8*xe+4&15]+N[t>>8*xe&15];return e}function A(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function x(t){return y(t).map(A).join("")}var S=function(t){for(var e=0;e<t.length;e++)t[e]=L(t[e]);return t.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(t,e){if(S){var xe=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(xe>>16)<<16|65535&xe}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(t,e){var xe,_e,Ee,Se;if(t!==xe){for(var Ae=(Ee=t,Se=1+(256/t.length>>0),new Array(Se+1).join(Ee)),Re=[],Pe=0;Pe<256;Pe++)Re[Pe]=Pe;var Te=0;for(Pe=0;Pe<256;Pe++){var Ie=Re[Pe];Te=(Te+Ie+Ae.charCodeAt(Pe))%256,Re[Pe]=Re[Te],Re[Te]=Ie}xe=t,_e=Re}else Re=_e;var je=e.length,Oe=0,ke=0,Fe="";for(Pe=0;Pe<je;Pe++)ke=(ke+(Ie=Re[Oe=(Oe+1)%256]))%256,Re[Oe]=Re[ke],Re[ke]=Ie,Ae=Re[(Re[Oe]+Re[ke])%256],Fe+=String.fromCharCode(e.charCodeAt(Pe)^Ae);return Fe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(t,e,xe,_e){this.v=1,this.r=2;var Ee=192;t.forEach(function(Re){if(k.perm!==void 0)throw new Error("Invalid permission: "+Re);Ee+=k[Re]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Se=(e+this.padding).substr(0,32),Ae=(xe+this.padding).substr(0,32);this.O=this.processOwnerPassword(Se,Ae),this.P=-(1+(255^Ee)),this.encryptionKey=x(Se+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_e)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",xe=t.length,_e=0;_e<xe;_e++){var Ee=t.charCodeAt(_e);Ee<33||Ee===35||Ee===37||Ee===40||Ee===41||Ee===47||Ee===60||Ee===62||Ee===91||Ee===93||Ee===123||Ee===125||Ee>126?e+="#"+("0"+Ee.toString(16)).slice(-2):e+=t[_e]}return e}function C(t){if(_typeof(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(xe,_e,Ee){if(Ee=Ee||!1,typeof xe!="string"||typeof _e!="function"||typeof Ee!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(xe)||(e[xe]={});var Se=Math.random().toString(35);return e[xe][Se]=[_e,!!Ee],Se},this.unsubscribe=function(xe){for(var _e in e)if(e[_e][xe])return delete e[_e][xe],Object.keys(e[_e]).length===0&&delete e[_e],!0;return!1},this.publish=function(xe){if(e.hasOwnProperty(xe)){var _e=Array.prototype.slice.call(arguments,1),Ee=[];for(var Se in e[xe]){var Ae=e[xe][Se];try{Ae[0].apply(t,_e)}catch(Re){n.console&&a.error("jsPDF PubSub Error",Re.message,Re)}Ae[1]&&Ee.push(Se)}Ee.length&&Ee.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(t){if(!(this instanceof j))return new j(t);var e="opacity,stroke-opacity".split(",");for(var xe in t)t.hasOwnProperty(xe)&&e.indexOf(xe)>=0&&(this[xe]=t[xe]);this.id="",this.objectNumber=-1}function O(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function B(t,e,xe,_e,Ee){if(!(this instanceof B))return new B(t,e,xe,_e,Ee);this.type=t==="axial"?2:3,this.coords=e,this.colors=xe,O.call(this,_e,Ee)}function M(t,e,xe,_e,Ee){if(!(this instanceof M))return new M(t,e,xe,_e,Ee);this.boundingBox=t,this.xStep=e,this.yStep=xe,this.stream="",this.cloneIndex=0,O.call(this,_e,Ee)}function E(t){var e,xe=typeof arguments[0]=="string"?arguments[0]:"p",_e=arguments[1],Ee=arguments[2],Se=arguments[3],Ae=[],Re=1,Pe=16,Te="S",Ie=null;_typeof(t=t||{})==="object"&&(xe=t.orientation,_e=t.unit||_e,Ee=t.format||Ee,Se=t.compress||t.compressPdf||Se,(Ie=t.encryption||null)!==null&&(Ie.userPassword=Ie.userPassword||"",Ie.ownerPassword=Ie.ownerPassword||"",Ie.userPermissions=Ie.userPermissions||[]),Re=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(Pe=t.floatPrecision),Te=t.defaultPathOperation||"S"),Ae=t.filters||(Se===!0?["FlateEncode"]:Ae),_e=_e||"mm",xe=(""+(xe||"P")).toLowerCase();var je=t.putOnlyUsedFonts||!1,Oe={},ke={internal:{},__private__:{}};ke.__private__.PubSub=C;var Fe="1.3",Me=ke.__private__.getPdfVersion=function(){return Fe};ke.__private__.setPdfVersion=function(Je){Fe=Je};var De={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};ke.__private__.getPageFormats=function(){return De};var Ue=ke.__private__.getPageFormat=function(Je){return De[Je]};Ee=Ee||"a4";var ze={COMPAT:"compat",ADVANCED:"advanced"},We=ze.COMPAT;function Ye(){this.saveGraphicsState(),Nr(new Fn(kn,0,0,-kn,0,Yo()*kn).toString()+" cm"),this.setFontSize(this.getFontSize()/kn),Te="n",We=ze.ADVANCED}function Xe(){this.restoreGraphicsState(),Te="S",We=ze.COMPAT}var ir=ke.__private__.combineFontStyleAndFontWeight=function(Je,gr){if(Je=="bold"&&gr=="normal"||Je=="bold"&&gr==400||Je=="normal"&&gr=="italic"||Je=="bold"&&gr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return gr&&(Je=gr==400||gr==="normal"?Je==="italic"?"italic":"normal":gr!=700&&gr!=="bold"||Je!=="normal"?(gr==700?"bold":gr)+""+Je:"bold"),Je};ke.advancedAPI=function(Je){var gr=We===ze.COMPAT;return gr&&Ye.call(this),typeof Je!="function"||(Je(this),gr&&Xe.call(this)),this},ke.compatAPI=function(Je){var gr=We===ze.ADVANCED;return gr&&Xe.call(this),typeof Je!="function"||(Je(this),gr&&Ye.call(this)),this},ke.isAdvancedAPI=function(){return We===ze.ADVANCED};var Qe,Ke=function(Je){if(We!==ze.ADVANCED)throw new Error(Je+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},rr=ke.roundToPrecision=ke.__private__.roundToPrecision=function(Je,gr){var Lr=e||gr;if(isNaN(Je)||isNaN(Lr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Je.toFixed(Lr).replace(/0+$/,"")};Qe=ke.hpf=ke.__private__.hpf=typeof Pe=="number"?function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.hpf");return rr(Je,Pe)}:Pe==="smart"?function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.hpf");return rr(Je,Je>-1&&Je<1?16:5)}:function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.hpf");return rr(Je,16)};var cr=ke.f2=ke.__private__.f2=function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.f2");return rr(Je,2)},Ze=ke.__private__.f3=function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.f3");return rr(Je,3)},er=ke.scale=ke.__private__.scale=function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.scale");return We===ze.COMPAT?Je*kn:We===ze.ADVANCED?Je:void 0},sr=function(Je){return We===ze.COMPAT?Yo()-Je:We===ze.ADVANCED?Je:void 0},fr=function(Je){return er(sr(Je))};ke.__private__.setPrecision=ke.setPrecision=function(Je){typeof parseInt(Je,10)=="number"&&(e=parseInt(Je,10))};var _r,Er="00000000000000000000000000000000",yr=ke.__private__.getFileId=function(){return Er},mr=ke.__private__.setFileId=function(Je){return Er=Je!==void 0&&/^[a-fA-F0-9]{32}$/.test(Je)?Je.toUpperCase():Er.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ie!==null&&(wi=new I(Ie.userPermissions,Ie.userPassword,Ie.ownerPassword,Er)),Er};ke.setFileId=function(Je){return mr(Je),this},ke.getFileId=function(){return yr()};var Pr=ke.__private__.convertDateToPDFDate=function(Je){var gr=Je.getTimezoneOffset(),Lr=gr<0?"+":"-",Br=Math.floor(Math.abs(gr/60)),Yr=Math.abs(gr%60),gn=[Lr,br(Br),"'",br(Yr),"'"].join("");return["D:",Je.getFullYear(),br(Je.getMonth()+1),br(Je.getDate()),br(Je.getHours()),br(Je.getMinutes()),br(Je.getSeconds()),gn].join("")},Cr=ke.__private__.convertPDFDateToDate=function(Je){var gr=parseInt(Je.substr(2,4),10),Lr=parseInt(Je.substr(6,2),10)-1,Br=parseInt(Je.substr(8,2),10),Yr=parseInt(Je.substr(10,2),10),gn=parseInt(Je.substr(12,2),10),Rn=parseInt(Je.substr(14,2),10);return new Date(gr,Lr,Br,Yr,gn,Rn,0)},wr=ke.__private__.setCreationDate=function(Je){var gr;if(Je===void 0&&(Je=new Date),Je instanceof Date)gr=Pr(Je);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Je))throw new Error("Invalid argument passed to jsPDF.setCreationDate");gr=Je}return _r=gr},or=ke.__private__.getCreationDate=function(Je){var gr=_r;return Je==="jsDate"&&(gr=Cr(_r)),gr};ke.setCreationDate=function(Je){return wr(Je),this},ke.getCreationDate=function(Je){return or(Je)};var hr,br=ke.__private__.padd2=function(Je){return("0"+parseInt(Je)).slice(-2)},Ir=ke.__private__.padd2Hex=function(Je){return("00"+(Je=Je.toString())).substr(Je.length)},jr=0,Mr=[],Vr=[],Or=0,Xr=[],Qr=[],Fr=!1,xn=Vr,An=function(){jr=0,Or=0,Vr=[],Mr=[],Xr=[],Cs=Wi(),jo=Wi()};ke.__private__.setCustomOutputDestination=function(Je){Fr=!0,xn=Je};var un=function(Je){Fr||(xn=Je)};ke.__private__.resetCustomOutputDestination=function(){Fr=!1,xn=Vr};var Nr=ke.__private__.out=function(Je){return Je=Je.toString(),Or+=Je.length+1,xn.push(Je),xn},Bn=ke.__private__.write=function(Je){return Nr(arguments.length===1?Je.toString():Array.prototype.join.call(arguments," "))},Vn=ke.__private__.getArrayBuffer=function(Je){for(var gr=Je.length,Lr=new ArrayBuffer(gr),Br=new Uint8Array(Lr);gr--;)Br[gr]=Je.charCodeAt(gr);return Lr},wn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];ke.__private__.getStandardFonts=function(){return wn};var In=t.fontSize||16;ke.__private__.setFontSize=ke.setFontSize=function(Je){return In=We===ze.ADVANCED?Je/kn:Je,this};var jn,Nn=ke.__private__.getFontSize=ke.getFontSize=function(){return We===ze.COMPAT?In:In*kn},zn=t.R2L||!1;ke.__private__.setR2L=ke.setR2L=function(Je){return zn=Je,this},ke.__private__.getR2L=ke.getR2L=function(){return zn};var Qn,ni=ke.__private__.setZoomMode=function(Je){var gr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Je))jn=Je;else if(isNaN(Je)){if(gr.indexOf(Je)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Je+'" is not recognized.');jn=Je}else jn=parseInt(Je,10)};ke.__private__.getZoomMode=function(){return jn};var Yn,ei=ke.__private__.setPageMode=function(Je){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Je)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Je+'" is not recognized.');Qn=Je};ke.__private__.getPageMode=function(){return Qn};var hi=ke.__private__.setLayoutMode=function(Je){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Je)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Je+'" is not recognized.');Yn=Je};ke.__private__.getLayoutMode=function(){return Yn},ke.__private__.setDisplayMode=ke.setDisplayMode=function(Je,gr,Lr){return ni(Je),hi(gr),ei(Lr),this};var ti={title:"",subject:"",author:"",keywords:"",creator:""};ke.__private__.getDocumentProperty=function(Je){if(Object.keys(ti).indexOf(Je)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ti[Je]},ke.__private__.getDocumentProperties=function(){return ti},ke.__private__.setDocumentProperties=ke.setProperties=ke.setDocumentProperties=function(Je){for(var gr in ti)ti.hasOwnProperty(gr)&&Je[gr]&&(ti[gr]=Je[gr]);return this},ke.__private__.setDocumentProperty=function(Je,gr){if(Object.keys(ti).indexOf(Je)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ti[Je]=gr};var si,kn,Zi,mi,xo,bi={},Pi={},zo=[],gi={},ys={},Ii={},eo={},_o=null,Li=0,Jn=[],vi=new C(ke),ns=t.hotfixes||[],Yi={},go={},Ho=[],Fn=function Je(gr,Lr,Br,Yr,gn,Rn){if(!(this instanceof Je))return new Je(gr,Lr,Br,Yr,gn,Rn);isNaN(gr)&&(gr=1),isNaN(Lr)&&(Lr=0),isNaN(Br)&&(Br=0),isNaN(Yr)&&(Yr=1),isNaN(gn)&&(gn=0),isNaN(Rn)&&(Rn=0),this._matrix=[gr,Lr,Br,Yr,gn,Rn]};Object.defineProperty(Fn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Je){this._matrix[0]=Je}}),Object.defineProperty(Fn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Je){this._matrix[1]=Je}}),Object.defineProperty(Fn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Je){this._matrix[2]=Je}}),Object.defineProperty(Fn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Je){this._matrix[3]=Je}}),Object.defineProperty(Fn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Je){this._matrix[4]=Je}}),Object.defineProperty(Fn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Je){this._matrix[5]=Je}}),Object.defineProperty(Fn.prototype,"a",{get:function(){return this._matrix[0]},set:function(Je){this._matrix[0]=Je}}),Object.defineProperty(Fn.prototype,"b",{get:function(){return this._matrix[1]},set:function(Je){this._matrix[1]=Je}}),Object.defineProperty(Fn.prototype,"c",{get:function(){return this._matrix[2]},set:function(Je){this._matrix[2]=Je}}),Object.defineProperty(Fn.prototype,"d",{get:function(){return this._matrix[3]},set:function(Je){this._matrix[3]=Je}}),Object.defineProperty(Fn.prototype,"e",{get:function(){return this._matrix[4]},set:function(Je){this._matrix[4]=Je}}),Object.defineProperty(Fn.prototype,"f",{get:function(){return this._matrix[5]},set:function(Je){this._matrix[5]=Je}}),Object.defineProperty(Fn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fn.prototype.join=function(Je){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Qe).join(Je)},Fn.prototype.multiply=function(Je){var gr=Je.sx*this.sx+Je.shy*this.shx,Lr=Je.sx*this.shy+Je.shy*this.sy,Br=Je.shx*this.sx+Je.sy*this.shx,Yr=Je.shx*this.shy+Je.sy*this.sy,gn=Je.tx*this.sx+Je.ty*this.shx+this.tx,Rn=Je.tx*this.shy+Je.ty*this.sy+this.ty;return new Fn(gr,Lr,Br,Yr,gn,Rn)},Fn.prototype.decompose=function(){var Je=this.sx,gr=this.shy,Lr=this.shx,Br=this.sy,Yr=this.tx,gn=this.ty,Rn=Math.sqrt(Je*Je+gr*gr),Ln=(Je/=Rn)*Lr+(gr/=Rn)*Br;Lr-=Je*Ln,Br-=gr*Ln;var qe=Math.sqrt(Lr*Lr+Br*Br);return Ln/=qe,Je*(Br/=qe)<gr*(Lr/=qe)&&(Je=-Je,gr=-gr,Ln=-Ln,Rn=-Rn),{scale:new Fn(Rn,0,0,qe,0,0),translate:new Fn(1,0,0,1,Yr,gn),rotate:new Fn(Je,gr,-gr,Je,0,0),skew:new Fn(1,0,Ln,1,0,0)}},Fn.prototype.toString=function(Je){return this.join(" ")},Fn.prototype.inversed=function(){var Je=this.sx,gr=this.shy,Lr=this.shx,Br=this.sy,Yr=this.tx,gn=this.ty,Rn=1/(Je*Br-gr*Lr),Ln=Br*Rn,qe=-gr*Rn,ar=-Lr*Rn,dr=Je*Rn;return new Fn(Ln,qe,ar,dr,-Ln*Yr-ar*gn,-qe*Yr-dr*gn)},Fn.prototype.applyToPoint=function(Je){var gr=Je.x*this.sx+Je.y*this.shx+this.tx,Lr=Je.x*this.shy+Je.y*this.sy+this.ty;return new Os(gr,Lr)},Fn.prototype.applyToRectangle=function(Je){var gr=this.applyToPoint(Je),Lr=this.applyToPoint(new Os(Je.x+Je.w,Je.y+Je.h));return new ha(gr.x,gr.y,Lr.x-gr.x,Lr.y-gr.y)},Fn.prototype.clone=function(){var Je=this.sx,gr=this.shy,Lr=this.shx,Br=this.sy,Yr=this.tx,gn=this.ty;return new Fn(Je,gr,Lr,Br,Yr,gn)},ke.Matrix=Fn;var Io=ke.matrixMult=function(Je,gr){return gr.multiply(Je)},io=new Fn(1,0,0,1,0,0);ke.unitMatrix=ke.identityMatrix=io;var uo=function(Je,gr){if(!ys[Je]){var Lr=(gr instanceof B?"Sh":"P")+(Object.keys(gi).length+1).toString(10);gr.id=Lr,ys[Je]=Lr,gi[Lr]=gr,vi.publish("addPattern",gr)}};ke.ShadingPattern=B,ke.TilingPattern=M,ke.addShadingPattern=function(Je,gr){return Ke("addShadingPattern()"),uo(Je,gr),this},ke.beginTilingPattern=function(Je){Ke("beginTilingPattern()"),wl(Je.boundingBox[0],Je.boundingBox[1],Je.boundingBox[2]-Je.boundingBox[0],Je.boundingBox[3]-Je.boundingBox[1],Je.matrix)},ke.endTilingPattern=function(Je,gr){Ke("endTilingPattern()"),gr.stream=Qr[hr].join(`
`),uo(Je,gr),vi.publish("endTilingPattern",gr),Ho.pop().restore()};var qi=ke.__private__.newObject=function(){var Je=Wi();return Xi(Je,!0),Je},Wi=ke.__private__.newObjectDeferred=function(){return jr++,Mr[jr]=function(){return Or},jr},Xi=function(Je,gr){return gr=typeof gr=="boolean"&&gr,Mr[Je]=Or,gr&&Nr(Je+" 0 obj"),Je},Us=ke.__private__.newAdditionalObject=function(){var Je={objId:Wi(),content:""};return Xr.push(Je),Je},Cs=Wi(),jo=Wi(),Wo=ke.__private__.decodeColorString=function(Je){var gr=Je.split(" ");if(gr.length!==2||gr[1]!=="g"&&gr[1]!=="G")gr.length===5&&(gr[4]==="k"||gr[4]==="K")&&(gr=[(1-gr[0])*(1-gr[3]),(1-gr[1])*(1-gr[3]),(1-gr[2])*(1-gr[3]),"r"]);else{var Lr=parseFloat(gr[0]);gr=[Lr,Lr,Lr,"r"]}for(var Br="#",Yr=0;Yr<3;Yr++)Br+=("0"+Math.floor(255*parseFloat(gr[Yr])).toString(16)).slice(-2);return Br},oo=ke.__private__.encodeColorString=function(Je){var gr;typeof Je=="string"&&(Je={ch1:Je});var Lr=Je.ch1,Br=Je.ch2,Yr=Je.ch3,gn=Je.ch4,Rn=Je.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Lr=="string"&&Lr.charAt(0)!=="#"){var Ln=new f(Lr);if(Ln.ok)Lr=Ln.toHex();else if(!/^\d*\.?\d*$/.test(Lr))throw new Error('Invalid color "'+Lr+'" passed to jsPDF.encodeColorString.')}if(typeof Lr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Lr)&&(Lr="#"+Lr[1]+Lr[1]+Lr[2]+Lr[2]+Lr[3]+Lr[3]),typeof Lr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Lr)){var qe=parseInt(Lr.substr(1),16);Lr=qe>>16&255,Br=qe>>8&255,Yr=255&qe}if(Br===void 0||gn===void 0&&Lr===Br&&Br===Yr)if(typeof Lr=="string")gr=Lr+" "+Rn[0];else switch(Je.precision){case 2:gr=cr(Lr/255)+" "+Rn[0];break;case 3:default:gr=Ze(Lr/255)+" "+Rn[0]}else if(gn===void 0||_typeof(gn)==="object"){if(gn&&!isNaN(gn.a)&&gn.a===0)return gr=["1.","1.","1.",Rn[1]].join(" ");if(typeof Lr=="string")gr=[Lr,Br,Yr,Rn[1]].join(" ");else switch(Je.precision){case 2:gr=[cr(Lr/255),cr(Br/255),cr(Yr/255),Rn[1]].join(" ");break;default:case 3:gr=[Ze(Lr/255),Ze(Br/255),Ze(Yr/255),Rn[1]].join(" ")}}else if(typeof Lr=="string")gr=[Lr,Br,Yr,gn,Rn[2]].join(" ");else switch(Je.precision){case 2:gr=[cr(Lr),cr(Br),cr(Yr),cr(gn),Rn[2]].join(" ");break;case 3:default:gr=[Ze(Lr),Ze(Br),Ze(Yr),Ze(gn),Rn[2]].join(" ")}return gr},$o=ke.__private__.getFilters=function(){return Ae},ro=ke.__private__.putStream=function(Je){var gr=(Je=Je||{}).data||"",Lr=Je.filters||$o(),Br=Je.alreadyAppliedFilters||[],Yr=Je.addLength1||!1,gn=gr.length,Rn=Je.objectId,Ln=function(ci){return ci};if(Ie!==null&&Rn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ie!==null&&(Ln=wi.encryptor(Rn,0));var qe={};Lr===!0&&(Lr=["FlateEncode"]);var ar=Je.additionalKeyValues||[],dr=(qe=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(gr,Lr):{data:gr,reverseChain:[]}).reverseChain+(Array.isArray(Br)?Br.join(" "):Br.toString());if(qe.data.length!==0&&(ar.push({key:"Length",value:qe.data.length}),Yr===!0&&ar.push({key:"Length1",value:gn})),dr.length!=0)if(dr.split("/").length-1==1)ar.push({key:"Filter",value:dr});else{ar.push({key:"Filter",value:"["+dr+"]"});for(var Rr=0;Rr<ar.length;Rr+=1)if(ar[Rr].key==="DecodeParms"){for(var Gr=[],fn=0;fn<qe.reverseChain.split("/").length-1;fn+=1)Gr.push("null");Gr.push(ar[Rr].value),ar[Rr].value="["+Gr.join(" ")+"]"}}Nr("<<");for(var Pn=0;Pn<ar.length;Pn++)Nr("/"+ar[Pn].key+" "+ar[Pn].value);Nr(">>"),qe.data.length!==0&&(Nr("stream"),Nr(Ln(qe.data)),Nr("endstream"))},is=ke.__private__.putPage=function(Je){var gr=Je.number,Lr=Je.data,Br=Je.objId,Yr=Je.contentsObjId;Xi(Br,!0),Nr("<</Type /Page"),Nr("/Parent "+Je.rootDictionaryObjId+" 0 R"),Nr("/Resources "+Je.resourceDictionaryObjId+" 0 R"),Nr("/MediaBox ["+parseFloat(Qe(Je.mediaBox.bottomLeftX))+" "+parseFloat(Qe(Je.mediaBox.bottomLeftY))+" "+Qe(Je.mediaBox.topRightX)+" "+Qe(Je.mediaBox.topRightY)+"]"),Je.cropBox!==null&&Nr("/CropBox ["+Qe(Je.cropBox.bottomLeftX)+" "+Qe(Je.cropBox.bottomLeftY)+" "+Qe(Je.cropBox.topRightX)+" "+Qe(Je.cropBox.topRightY)+"]"),Je.bleedBox!==null&&Nr("/BleedBox ["+Qe(Je.bleedBox.bottomLeftX)+" "+Qe(Je.bleedBox.bottomLeftY)+" "+Qe(Je.bleedBox.topRightX)+" "+Qe(Je.bleedBox.topRightY)+"]"),Je.trimBox!==null&&Nr("/TrimBox ["+Qe(Je.trimBox.bottomLeftX)+" "+Qe(Je.trimBox.bottomLeftY)+" "+Qe(Je.trimBox.topRightX)+" "+Qe(Je.trimBox.topRightY)+"]"),Je.artBox!==null&&Nr("/ArtBox ["+Qe(Je.artBox.bottomLeftX)+" "+Qe(Je.artBox.bottomLeftY)+" "+Qe(Je.artBox.topRightX)+" "+Qe(Je.artBox.topRightY)+"]"),typeof Je.userUnit=="number"&&Je.userUnit!==1&&Nr("/UserUnit "+Je.userUnit),vi.publish("putPage",{objId:Br,pageContext:Jn[gr],pageNumber:gr,page:Lr}),Nr("/Contents "+Yr+" 0 R"),Nr(">>"),Nr("endobj");var gn=Lr.join(`
`);return We===ze.ADVANCED&&(gn+=`
Q`),Xi(Yr,!0),ro({data:gn,filters:$o(),objectId:Yr}),Nr("endobj"),Br},En=ke.__private__.putPages=function(){var Je,gr,Lr=[];for(Je=1;Je<=Li;Je++)Jn[Je].objId=Wi(),Jn[Je].contentsObjId=Wi();for(Je=1;Je<=Li;Je++)Lr.push(is({number:Je,data:Qr[Je],objId:Jn[Je].objId,contentsObjId:Jn[Je].contentsObjId,mediaBox:Jn[Je].mediaBox,cropBox:Jn[Je].cropBox,bleedBox:Jn[Je].bleedBox,trimBox:Jn[Je].trimBox,artBox:Jn[Je].artBox,userUnit:Jn[Je].userUnit,rootDictionaryObjId:Cs,resourceDictionaryObjId:jo}));Xi(Cs,!0),Nr("<</Type /Pages");var Br="/Kids [";for(gr=0;gr<Li;gr++)Br+=Lr[gr]+" 0 R ";Nr(Br+"]"),Nr("/Count "+Li),Nr(">>"),Nr("endobj"),vi.publish("postPutPages")},Wn=function(Je){vi.publish("putFont",{font:Je,out:Nr,newObject:qi,putStream:ro}),Je.isAlreadyPutted!==!0&&(Je.objectNumber=qi(),Nr("<<"),Nr("/Type /Font"),Nr("/BaseFont /"+F(Je.postScriptName)),Nr("/Subtype /Type1"),typeof Je.encoding=="string"&&Nr("/Encoding /"+Je.encoding),Nr("/FirstChar 32"),Nr("/LastChar 255"),Nr(">>"),Nr("endobj"))},di=function(){for(var Je in bi)bi.hasOwnProperty(Je)&&(je===!1||je===!0&&Oe.hasOwnProperty(Je))&&Wn(bi[Je])},Ei=function(Je){Je.objectNumber=qi();var gr=[];gr.push({key:"Type",value:"/XObject"}),gr.push({key:"Subtype",value:"/Form"}),gr.push({key:"BBox",value:"["+[Qe(Je.x),Qe(Je.y),Qe(Je.x+Je.width),Qe(Je.y+Je.height)].join(" ")+"]"}),gr.push({key:"Matrix",value:"["+Je.matrix.toString()+"]"});var Lr=Je.pages[1].join(`
`);ro({data:Lr,additionalKeyValues:gr,objectId:Je.objectNumber}),Nr("endobj")},aa=function(){for(var Je in Yi)Yi.hasOwnProperty(Je)&&Ei(Yi[Je])},cc=function(Je,gr){var Lr,Br=[],Yr=1/(gr-1);for(Lr=0;Lr<1;Lr+=Yr)Br.push(Lr);if(Br.push(1),Je[0].offset!=0){var gn={offset:0,color:Je[0].color};Je.unshift(gn)}if(Je[Je.length-1].offset!=1){var Rn={offset:1,color:Je[Je.length-1].color};Je.push(Rn)}for(var Ln="",qe=0,ar=0;ar<Br.length;ar++){for(Lr=Br[ar];Lr>Je[qe+1].offset;)qe++;var dr=Je[qe].offset,Rr=(Lr-dr)/(Je[qe+1].offset-dr),Gr=Je[qe].color,fn=Je[qe+1].color;Ln+=Ir(Math.round((1-Rr)*Gr[0]+Rr*fn[0]).toString(16))+Ir(Math.round((1-Rr)*Gr[1]+Rr*fn[1]).toString(16))+Ir(Math.round((1-Rr)*Gr[2]+Rr*fn[2]).toString(16))}return Ln.trim()},Ui=function(Je,gr){gr||(gr=21);var Lr=qi(),Br=cc(Je.colors,gr),Yr=[];Yr.push({key:"FunctionType",value:"0"}),Yr.push({key:"Domain",value:"[0.0 1.0]"}),Yr.push({key:"Size",value:"["+gr+"]"}),Yr.push({key:"BitsPerSample",value:"8"}),Yr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Yr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ro({data:Br,additionalKeyValues:Yr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Lr}),Nr("endobj"),Je.objectNumber=qi(),Nr("<< /ShadingType "+Je.type),Nr("/ColorSpace /DeviceRGB");var gn="/Coords ["+Qe(parseFloat(Je.coords[0]))+" "+Qe(parseFloat(Je.coords[1]))+" ";Je.type===2?gn+=Qe(parseFloat(Je.coords[2]))+" "+Qe(parseFloat(Je.coords[3])):gn+=Qe(parseFloat(Je.coords[2]))+" "+Qe(parseFloat(Je.coords[3]))+" "+Qe(parseFloat(Je.coords[4]))+" "+Qe(parseFloat(Je.coords[5])),Nr(gn+="]"),Je.matrix&&Nr("/Matrix ["+Je.matrix.toString()+"]"),Nr("/Function "+Lr+" 0 R"),Nr("/Extend [true true]"),Nr(">>"),Nr("endobj")},uc=function(Je,gr){var Lr=Wi(),Br=qi();gr.push({resourcesOid:Lr,objectOid:Br}),Je.objectNumber=Br;var Yr=[];Yr.push({key:"Type",value:"/Pattern"}),Yr.push({key:"PatternType",value:"1"}),Yr.push({key:"PaintType",value:"1"}),Yr.push({key:"TilingType",value:"1"}),Yr.push({key:"BBox",value:"["+Je.boundingBox.map(Qe).join(" ")+"]"}),Yr.push({key:"XStep",value:Qe(Je.xStep)}),Yr.push({key:"YStep",value:Qe(Je.yStep)}),Yr.push({key:"Resources",value:Lr+" 0 R"}),Je.matrix&&Yr.push({key:"Matrix",value:"["+Je.matrix.toString()+"]"}),ro({data:Je.stream,additionalKeyValues:Yr,objectId:Je.objectNumber}),Nr("endobj")},zs=function(Je){var gr;for(gr in gi)gi.hasOwnProperty(gr)&&(gi[gr]instanceof B?Ui(gi[gr]):gi[gr]instanceof M&&uc(gi[gr],Je))},la=function(Je){for(var gr in Je.objectNumber=qi(),Nr("<<"),Je)switch(gr){case"opacity":Nr("/ca "+cr(Je[gr]));break;case"stroke-opacity":Nr("/CA "+cr(Je[gr]))}Nr(">>"),Nr("endobj")},vs=function(){var Je;for(Je in Ii)Ii.hasOwnProperty(Je)&&la(Ii[Je])},Wa=function(){for(var Je in Nr("/XObject <<"),Yi)Yi.hasOwnProperty(Je)&&Yi[Je].objectNumber>=0&&Nr("/"+Je+" "+Yi[Je].objectNumber+" 0 R");vi.publish("putXobjectDict"),Nr(">>")},dc=function(){wi.oid=qi(),Nr("<<"),Nr("/Filter /Standard"),Nr("/V "+wi.v),Nr("/R "+wi.r),Nr("/U <"+wi.toHexString(wi.U)+">"),Nr("/O <"+wi.toHexString(wi.O)+">"),Nr("/P "+wi.P),Nr(">>"),Nr("endobj")},Sa=function(){for(var Je in Nr("/Font <<"),bi)bi.hasOwnProperty(Je)&&(je===!1||je===!0&&Oe.hasOwnProperty(Je))&&Nr("/"+Je+" "+bi[Je].objectNumber+" 0 R");Nr(">>")},os=function(){if(Object.keys(gi).length>0){for(var Je in Nr("/Shading <<"),gi)gi.hasOwnProperty(Je)&&gi[Je]instanceof B&&gi[Je].objectNumber>=0&&Nr("/"+Je+" "+gi[Je].objectNumber+" 0 R");vi.publish("putShadingPatternDict"),Nr(">>")}},Ga=function(Je){if(Object.keys(gi).length>0){for(var gr in Nr("/Pattern <<"),gi)gi.hasOwnProperty(gr)&&gi[gr]instanceof ke.TilingPattern&&gi[gr].objectNumber>=0&&gi[gr].objectNumber<Je&&Nr("/"+gr+" "+gi[gr].objectNumber+" 0 R");vi.publish("putTilingPatternDict"),Nr(">>")}},Oo=function(){if(Object.keys(Ii).length>0){var Je;for(Je in Nr("/ExtGState <<"),Ii)Ii.hasOwnProperty(Je)&&Ii[Je].objectNumber>=0&&Nr("/"+Je+" "+Ii[Je].objectNumber+" 0 R");vi.publish("putGStateDict"),Nr(">>")}},Qi=function(Je){Xi(Je.resourcesOid,!0),Nr("<<"),Nr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Sa(),os(),Ga(Je.objectOid),Oo(),Wa(),Nr(">>"),Nr("endobj")},Ml=function(){var Je=[];di(),vs(),aa(),zs(Je),vi.publish("putResources"),Je.forEach(Qi),Qi({resourcesOid:jo,objectOid:Number.MAX_SAFE_INTEGER}),vi.publish("postPutResources")},Dl=function(){vi.publish("putAdditionalObjects");for(var Je=0;Je<Xr.length;Je++){var gr=Xr[Je];Xi(gr.objId,!0),Nr(gr.content),Nr("endobj")}vi.publish("postPutAdditionalObjects")},Ka=function(Je){Pi[Je.fontName]=Pi[Je.fontName]||{},Pi[Je.fontName][Je.fontStyle]=Je.id},wa=function(Je,gr,Lr,Br,Yr){var gn={id:"F"+(Object.keys(bi).length+1).toString(10),postScriptName:Je,fontName:gr,fontStyle:Lr,encoding:Br,isStandardFont:Yr||!1,metadata:{}};return vi.publish("addFont",{font:gn,instance:this}),bi[gn.id]=gn,Ka(gn),gn.id},Aa=function(Je){for(var gr=0,Lr=wn.length;gr<Lr;gr++){var Br=wa.call(this,Je[gr][0],Je[gr][1],Je[gr][2],wn[gr][3],!0);je===!1&&(Oe[Br]=!0);var Yr=Je[gr][0].split("-");Ka({id:Br,fontName:Yr[0],fontStyle:Yr[1]||""})}vi.publish("addFonts",{fonts:bi,dictionary:Pi})},ko=function(Je){return Je.foo=function(){try{return Je.apply(this,arguments)}catch(Br){var gr=Br.stack||"";~gr.indexOf(" at ")&&(gr=gr.split(" at ")[1]);var Lr="Error in function "+gr.split(`
`)[0].split("<")[0]+": "+Br.message;if(!n.console)throw new Error(Lr);n.console.error(Lr,Br),n.alert&&alert(Lr)}},Je.foo.bar=Je,Je.foo},xl=function(Je,gr){var Lr,Br,Yr,gn,Rn,Ln,qe,ar,dr;if(Yr=(gr=gr||{}).sourceEncoding||"Unicode",Rn=gr.outputEncoding,(gr.autoencode||Rn)&&bi[si].metadata&&bi[si].metadata[Yr]&&bi[si].metadata[Yr].encoding&&(gn=bi[si].metadata[Yr].encoding,!Rn&&bi[si].encoding&&(Rn=bi[si].encoding),!Rn&&gn.codePages&&(Rn=gn.codePages[0]),typeof Rn=="string"&&(Rn=gn[Rn]),Rn)){for(qe=!1,Ln=[],Lr=0,Br=Je.length;Lr<Br;Lr++)(ar=Rn[Je.charCodeAt(Lr)])?Ln.push(String.fromCharCode(ar)):Ln.push(Je[Lr]),Ln[Lr].charCodeAt(0)>>8&&(qe=!0);Je=Ln.join("")}for(Lr=Je.length;qe===void 0&&Lr!==0;)Je.charCodeAt(Lr-1)>>8&&(qe=!0),Lr--;if(!qe)return Je;for(Ln=gr.noBOM?[]:[254,255],Lr=0,Br=Je.length;Lr<Br;Lr++){if((dr=(ar=Je.charCodeAt(Lr))>>8)>>8)throw new Error("Character at position "+Lr+" of string '"+Je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ln.push(dr),Ln.push(ar-(dr<<8))}return String.fromCharCode.apply(void 0,Ln)},fo=ke.__private__.pdfEscape=ke.pdfEscape=function(Je,gr){return xl(Je,gr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lo=ke.__private__.beginPage=function(Je){Qr[++Li]=[],Jn[Li]={objId:0,contentsObjId:0,userUnit:Number(Re),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Je[0]),topRightY:Number(Je[1])}},ca(Li),un(Qr[hr])},Ra=function(Je,gr){var Lr,Br,Yr;switch(xe=gr||xe,typeof Je=="string"&&(Lr=Ue(Je.toLowerCase()),Array.isArray(Lr)&&(Br=Lr[0],Yr=Lr[1])),Array.isArray(Je)&&(Br=Je[0]*kn,Yr=Je[1]*kn),isNaN(Br)&&(Br=Ee[0],Yr=Ee[1]),(Br>14400||Yr>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Br=Math.min(14400,Br),Yr=Math.min(14400,Yr)),Ee=[Br,Yr],xe.substr(0,1)){case"l":Yr>Br&&(Ee=[Yr,Br]);break;case"p":Br>Yr&&(Ee=[Yr,Br])}Lo(Ee),ja(Fl),Nr(bo),ql!==0&&Nr(ql+" J"),$a!==0&&Nr($a+" j"),vi.publish("addPage",{pageNumber:Li})},Pa=function(Je){Je>0&&Je<=Li&&(Qr.splice(Je,1),Jn.splice(Je,1),Li--,hr>Li&&(hr=Li),this.setPage(hr))},ca=function(Je){Je>0&&Je<=Li&&(hr=Je)},Mi=ke.__private__.getNumberOfPages=ke.getNumberOfPages=function(){return Qr.length-1},ua=function(Je,gr,Lr){var Br,Yr=void 0;return Lr=Lr||{},Je=Je!==void 0?Je:bi[si].fontName,gr=gr!==void 0?gr:bi[si].fontStyle,Br=Je.toLowerCase(),Pi[Br]!==void 0&&Pi[Br][gr]!==void 0?Yr=Pi[Br][gr]:Pi[Je]!==void 0&&Pi[Je][gr]!==void 0?Yr=Pi[Je][gr]:Lr.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Je+"', '"+gr+"'. Refer to getFontList() for available fonts."),Yr||Lr.noFallback||(Yr=Pi.times[gr])==null&&(Yr=Pi.times.normal),Yr},yi=ke.__private__.putInfo=function(){var Je=qi(),gr=function(Br){return Br};for(var Lr in Ie!==null&&(gr=wi.encryptor(Je,0)),Nr("<<"),Nr("/Producer ("+fo(gr("jsPDF "+E.version))+")"),ti)ti.hasOwnProperty(Lr)&&ti[Lr]&&Nr("/"+Lr.substr(0,1).toUpperCase()+Lr.substr(1)+" ("+fo(gr(ti[Lr]))+")");Nr("/CreationDate ("+fo(gr(_r))+")"),Nr(">>"),Nr("endobj")},Hs=ke.__private__.putCatalog=function(Je){var gr=(Je=Je||{}).rootDictionaryObjId||Cs;switch(qi(),Nr("<<"),Nr("/Type /Catalog"),Nr("/Pages "+gr+" 0 R"),jn||(jn="fullwidth"),jn){case"fullwidth":Nr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Nr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Nr("/OpenAction [3 0 R /Fit]");break;case"original":Nr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Lr=""+jn;Lr.substr(Lr.length-1)==="%"&&(jn=parseInt(jn)/100),typeof jn=="number"&&Nr("/OpenAction [3 0 R /XYZ null null "+cr(jn)+"]")}switch(Yn||(Yn="continuous"),Yn){case"continuous":Nr("/PageLayout /OneColumn");break;case"single":Nr("/PageLayout /SinglePage");break;case"two":case"twoleft":Nr("/PageLayout /TwoColumnLeft");break;case"tworight":Nr("/PageLayout /TwoColumnRight")}Qn&&Nr("/PageMode /"+Qn),vi.publish("putCatalog"),Nr(">>"),Nr("endobj")},fc=ke.__private__.putTrailer=function(){Nr("trailer"),Nr("<<"),Nr("/Size "+(jr+1)),Nr("/Root "+jr+" 0 R"),Nr("/Info "+(jr-1)+" 0 R"),Ie!==null&&Nr("/Encrypt "+wi.oid+" 0 R"),Nr("/ID [ <"+Er+"> <"+Er+"> ]"),Nr(">>")},_l=ke.__private__.putHeader=function(){Nr("%PDF-"+Fe),Nr("%")},hc=ke.__private__.putXRef=function(){var Je="0000000000";Nr("xref"),Nr("0 "+(jr+1)),Nr("0000000000 65535 f ");for(var gr=1;gr<=jr;gr++)typeof Mr[gr]=="function"?Nr((Je+Mr[gr]()).slice(-10)+" 00000 n "):Mr[gr]!==void 0?Nr((Je+Mr[gr]).slice(-10)+" 00000 n "):Nr("0000000000 00000 n ")},Ws=ke.__private__.buildDocument=function(){An(),un(Vr),vi.publish("buildDocument"),_l(),En(),Dl(),Ml(),Ie!==null&&dc(),yi(),Hs();var Je=Or;return hc(),fc(),Nr("startxref"),Nr(""+Je),Nr("%%EOF"),un(Qr[hr]),Vr.join(`
`)},Ya=ke.__private__.getBlob=function(Je){return new Blob([Vn(Je)],{type:"application/pdf"})},Ta=ke.output=ke.__private__.output=ko(function(Je,gr){switch(typeof(gr=gr||{})=="string"?gr={filename:gr}:gr.filename=gr.filename||"generated.pdf",Je){case void 0:return Ws();case"save":ke.save(gr.filename);break;case"arraybuffer":return Vn(Ws());case"blob":return Ya(Ws());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Ya(Ws()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Lr="",Br=Ws();try{Lr=h(Br)}catch{Lr=h(unescape(encodeURIComponent(Br)))}return"data:application/pdf;filename="+gr.filename+";base64,"+Lr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Yr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';gr.pdfObjectUrl&&(Yr=gr.pdfObjectUrl,gn="");var Rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Yr+'"'+gn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(gr)+");<\/script></body></html>",Ln=n.open();return Ln!==null&&Ln.document.write(Rn),Ln}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(gr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+gr.filename+'" width="500px" height="400px" /></body></html>',ar=n.open();if(ar!==null){ar.document.write(qe);var dr=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=gr.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",gr)+'"></iframe></body></html>',Gr=n.open();if(Gr!==null&&(Gr.document.write(Rr),Gr.document.title=gr.filename),Gr||typeof safari>"u")return Gr;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",gr);default:return null}}),Is=function(Je){return Array.isArray(ns)===!0&&ns.indexOf(Je)>-1};switch(_e){case"pt":kn=1;break;case"mm":kn=72/25.4;break;case"cm":kn=72/2.54;break;case"in":kn=72;break;case"px":kn=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":kn=12;break;case"ex":kn=6;break;default:if(typeof _e!="number")throw new Error("Invalid unit: "+_e);kn=_e}var wi=null;wr(),mr();var js=function(Je){return Ie!==null?wi.encryptor(Je,0):function(gr){return gr}},xs=ke.__private__.getPageInfo=ke.getPageInfo=function(Je){if(isNaN(Je)||Je%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jn[Je].objId,pageNumber:Je,pageContext:Jn[Je]}},ri=ke.__private__.getPageInfoByObjId=function(Je){if(isNaN(Je)||Je%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var gr in Jn)if(Jn[gr].objId===Je)break;return xs(gr)},_s=ke.__private__.getCurrentPageInfo=ke.getCurrentPageInfo=function(){return{objId:Jn[hr].objId,pageNumber:hr,pageContext:Jn[hr]}};ke.addPage=function(){return Ra.apply(this,arguments),this},ke.setPage=function(){return ca.apply(this,arguments),un.call(this,Qr[hr]),this},ke.insertPage=function(Je){return this.addPage(),this.movePage(hr,Je),this},ke.movePage=function(Je,gr){var Lr,Br;if(Je>gr){Lr=Qr[Je],Br=Jn[Je];for(var Yr=Je;Yr>gr;Yr--)Qr[Yr]=Qr[Yr-1],Jn[Yr]=Jn[Yr-1];Qr[gr]=Lr,Jn[gr]=Br,this.setPage(gr)}else if(Je<gr){Lr=Qr[Je],Br=Jn[Je];for(var gn=Je;gn<gr;gn++)Qr[gn]=Qr[gn+1],Jn[gn]=Jn[gn+1];Qr[gr]=Lr,Jn[gr]=Br,this.setPage(gr)}return this},ke.deletePage=function(){return Pa.apply(this,arguments),this},ke.__private__.text=ke.text=function(Je,gr,Lr,Br,Yr){var gn,Rn,Ln,qe,ar,dr,Rr,Gr,fn,Pn=(Br=Br||{}).scope||this;if(typeof Je=="number"&&typeof gr=="number"&&(typeof Lr=="string"||Array.isArray(Lr))){var ci=Lr;Lr=gr,gr=Je,Je=ci}if(arguments[3]instanceof Fn?(Ke("The transform parameter of text() with a Matrix value"),fn=Yr):(Ln=arguments[4],qe=arguments[5],_typeof(Rr=arguments[3])==="object"&&Rr!==null||(typeof Ln=="string"&&(qe=Ln,Ln=null),typeof Rr=="string"&&(qe=Rr,Rr=null),typeof Rr=="number"&&(Ln=Rr,Rr=null),Br={flags:Rr,angle:Ln,align:qe})),isNaN(gr)||isNaN(Lr)||Je==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Je.length===0)return Pn;var xi="",ui=!1,$i=typeof Br.lineHeightFactor=="number"?Br.lineHeightFactor:ji,Di=Pn.internal.scaleFactor;function ls(Gi){return Gi=Gi.split("	").join(Array(Br.TabLen||9).join(" ")),fo(Gi,Rr)}function Vo(Gi){for(var Vi,mo=Gi.concat(),Eo=[],Ma=mo.length;Ma--;)typeof(Vi=mo.shift())=="string"?Eo.push(Vi):Array.isArray(Gi)&&(Vi.length===1||Vi[1]===void 0&&Vi[2]===void 0)?Eo.push(Vi[0]):Eo.push([Vi[0],Vi[1],Vi[2]]);return Eo}function ma(Gi,Vi){var mo;if(typeof Gi=="string")mo=Vi(Gi)[0];else if(Array.isArray(Gi)){for(var Eo,Ma,Ac=Gi.concat(),Yl=[],Kc=Ac.length;Kc--;)typeof(Eo=Ac.shift())=="string"?Yl.push(Vi(Eo)[0]):Array.isArray(Eo)&&typeof Eo[0]=="string"&&(Ma=Vi(Eo[0],Eo[1],Eo[2]),Yl.push([Ma[0],Ma[1],Ma[2]]));mo=Yl}return mo}var ga=!1,gc=!0;if(typeof Je=="string")ga=!0;else if(Array.isArray(Je)){var yc=Je.concat();Rn=[];for(var Ul,po=yc.length;po--;)(typeof(Ul=yc.shift())!="string"||Array.isArray(Ul)&&typeof Ul[0]!="string")&&(gc=!1);ga=gc}if(ga===!1)throw new Error('Type of text must be string or Array. "'+Je+'" is not recognized.');typeof Je=="string"&&(Je=Je.match(/[\r?\n]/)?Je.split(/\r\n|\r|\n/g):[Je]);var vc=In/Pn.internal.scaleFactor,xc=vc*($i-1);switch(Br.baseline){case"bottom":Lr-=xc;break;case"top":Lr+=vc-xc;break;case"hanging":Lr+=vc-2*xc;break;case"middle":Lr+=vc/2-xc}if((dr=Br.maxWidth||0)>0&&(typeof Je=="string"?Je=Pn.splitTextToSize(Je,dr):Object.prototype.toString.call(Je)==="[object Array]"&&(Je=Je.reduce(function(Gi,Vi){return Gi.concat(Pn.splitTextToSize(Vi,dr))},[]))),gn={text:Je,x:gr,y:Lr,options:Br,mutex:{pdfEscape:fo,activeFontKey:si,fonts:bi,activeFontSize:In}},vi.publish("preProcessText",gn),Je=gn.text,Ln=(Br=gn.options).angle,!(fn instanceof Fn)&&Ln&&typeof Ln=="number"){Ln*=Math.PI/180,Br.rotationDirection===0&&(Ln=-Ln),We===ze.ADVANCED&&(Ln=-Ln);var _c=Math.cos(Ln),bc=Math.sin(Ln);fn=new Fn(_c,bc,-bc,_c,0,0)}else Ln&&Ln instanceof Fn&&(fn=Ln);We!==ze.ADVANCED||fn||(fn=io),(ar=Br.charSpace||fa)!==void 0&&(xi+=Qe(er(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gr=Br.horizontalScale)!==void 0&&(xi+=Qe(100*Gr)+` Tz
`),Br.lang;var cs=-1,zl=Br.renderingMode!==void 0?Br.renderingMode:Br.stroke,Za=Pn.internal.getCurrentPageInfo().pageContext;switch(zl){case 0:case!1:case"fill":cs=0;break;case 1:case!0:case"stroke":cs=1;break;case 2:case"fillThenStroke":cs=2;break;case 3:case"invisible":cs=3;break;case 4:case"fillAndAddForClipping":cs=4;break;case 5:case"strokeAndAddPathForClipping":cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cs=6;break;case 7:case"addToPathForClipping":cs=7}var du=Za.usedRenderingMode!==void 0?Za.usedRenderingMode:-1;cs!==-1?xi+=cs+` Tr
`:du!==-1&&(xi+=`0 Tr
`),cs!==-1&&(Za.usedRenderingMode=cs),qe=Br.align||"left";var us,Ec=In*$i,Wc=Pn.internal.pageSize.getWidth(),Sc=bi[si];ar=Br.charSpace||fa,dr=Br.maxWidth||0,Rr=Object.assign({autoencode:!0,noBOM:!0},Br.flags);var Oa=[],Pl=function(Gi){return Pn.getStringUnitWidth(Gi,{font:Sc,charSpace:ar,fontSize:In,doKerning:!1})*In/Di};if(Object.prototype.toString.call(Je)==="[object Array]"){var ds;Rn=Vo(Je),qe!=="left"&&(us=Rn.map(Pl));var Xo,Tl=0;if(qe==="right"){gr-=us[0],Je=[],po=Rn.length;for(var el=0;el<po;el++)el===0?(Xo=as(gr),ds=ho(Lr)):(Xo=er(Tl-us[el]),ds=-Ec),Je.push([Rn[el],Xo,ds]),Tl=us[el]}else if(qe==="center"){gr-=us[0]/2,Je=[],po=Rn.length;for(var tl=0;tl<po;tl++)tl===0?(Xo=as(gr),ds=ho(Lr)):(Xo=er((Tl-us[tl])/2),ds=-Ec),Je.push([Rn[tl],Xo,ds]),Tl=us[tl]}else if(qe==="left"){Je=[],po=Rn.length;for(var wc=0;wc<po;wc++)Je.push(Rn[wc])}else if(qe==="justify"&&Sc.encoding==="Identity-H"){Je=[],po=Rn.length,dr=dr!==0?dr:Wc;for(var rl=0,Ti=0;Ti<po;Ti++)if(ds=Ti===0?ho(Lr):-Ec,Xo=Ti===0?as(gr):rl,Ti<po-1){var nl=er((dr-us[Ti])/(Rn[Ti].split(" ").length-1)),Qo=Rn[Ti].split(" ");Je.push([Qo[0]+" ",Xo,ds]),rl=0;for(var ks=1;ks<Qo.length;ks++){var Hl=(Pl(Qo[ks-1]+" "+Qo[ks])-Pl(Qo[ks]))*Di+nl;ks==Qo.length-1?Je.push([Qo[ks],Hl,0]):Je.push([Qo[ks]+" ",Hl,0]),rl-=Hl}}else Je.push([Rn[Ti],Xo,ds]);Je.push(["",rl,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Je=[],po=Rn.length,dr=dr!==0?dr:Wc,Ti=0;Ti<po;Ti++)ds=Ti===0?ho(Lr):-Ec,Xo=Ti===0?as(gr):0,Ti<po-1?Oa.push(Qe(er((dr-us[Ti])/(Rn[Ti].split(" ").length-1)))):Oa.push(0),Je.push([Rn[Ti],Xo,ds])}}var Gc=typeof Br.R2L=="boolean"?Br.R2L:zn;Gc===!0&&(Je=ma(Je,function(Gi,Vi,mo){return[Gi.split("").reverse().join(""),Vi,mo]})),gn={text:Je,x:gr,y:Lr,options:Br,mutex:{pdfEscape:fo,activeFontKey:si,fonts:bi,activeFontSize:In}},vi.publish("postProcessText",gn),Je=gn.text,ui=gn.mutex.isHex||!1;var Wl=bi[si].encoding;Wl!=="WinAnsiEncoding"&&Wl!=="StandardEncoding"||(Je=ma(Je,function(Gi,Vi,mo){return[ls(Gi),Vi,mo]})),Rn=Vo(Je),Je=[];for(var Gl,Kl,Ls,il=0,La=1,ol=Array.isArray(Rn[0])?La:il,sl="",Cl=function(Gi,Vi,mo){var Eo="";return mo instanceof Fn?(mo=typeof Br.angle=="number"?Io(mo,new Fn(1,0,0,1,Gi,Vi)):Io(new Fn(1,0,0,1,Gi,Vi),mo),We===ze.ADVANCED&&(mo=Io(new Fn(1,0,0,-1,0,0),mo)),Eo=mo.join(" ")+` Tm
`):Eo=Qe(Gi)+" "+Qe(Vi)+` Td
`,Eo},Fo=0;Fo<Rn.length;Fo++){switch(sl="",ol){case La:Ls=(ui?"<":"(")+Rn[Fo][0]+(ui?">":")"),Gl=parseFloat(Rn[Fo][1]),Kl=parseFloat(Rn[Fo][2]);break;case il:Ls=(ui?"<":"(")+Rn[Fo]+(ui?">":")"),Gl=as(gr),Kl=ho(Lr)}Oa!==void 0&&Oa[Fo]!==void 0&&(sl=Oa[Fo]+` Tw
`),Fo===0?Je.push(sl+Cl(Gl,Kl,fn)+Ls):ol===il?Je.push(sl+Ls):ol===La&&Je.push(sl+Cl(Gl,Kl,fn)+Ls)}Je=ol===il?Je.join(` Tj
T* `):Je.join(` Tj
`),Je+=` Tj
`;var bs=`BT
/`;return bs+=si+" "+In+` Tf
`,bs+=Qe(In*$i)+` TL
`,bs+=so+`
`,bs+=xi,bs+=Je,Nr(bs+="ET"),Oe[si]=!0,Pn};var Gs=ke.__private__.clip=ke.clip=function(Je){return Nr(Je==="evenodd"?"W*":"W"),this};ke.clipEvenOdd=function(){return Gs("evenodd")},ke.__private__.discardPath=ke.discardPath=function(){return Nr("n"),this};var Ks=ke.__private__.isValidStyle=function(Je){var gr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Je)!==-1&&(gr=!0),gr};ke.__private__.setDefaultPathOperation=ke.setDefaultPathOperation=function(Je){return Ks(Je)&&(Te=Je),this};var Vl=ke.__private__.getStyle=ke.getStyle=function(Je){var gr=Te;switch(Je){case"D":case"S":gr="S";break;case"F":gr="f";break;case"FD":case"DF":gr="B";break;case"f":case"f*":case"B":case"B*":gr=Je}return gr},Mo=ke.close=function(){return Nr("h"),this};ke.stroke=function(){return Nr("S"),this},ke.fill=function(Je){return bl("f",Je),this},ke.fillEvenOdd=function(Je){return bl("f*",Je),this},ke.fillStroke=function(Je){return bl("B",Je),this},ke.fillStrokeEvenOdd=function(Je){return bl("B*",Je),this};var bl=function(Je,gr){_typeof(gr)==="object"?Xa(gr,Je):Nr(Je)},El=function(Je){Je===null||We===ze.ADVANCED&&Je===void 0||(Je=Vl(Je),Nr(Je))};function da(Je,gr,Lr,Br,Yr){var gn=new M(gr||this.boundingBox,Lr||this.xStep,Br||this.yStep,this.gState,Yr||this.matrix);gn.stream=this.stream;var Rn=Je+"$$"+this.cloneIndex+++"$$";return uo(Rn,gn),gn}var Xa=function(Je,gr){var Lr=ys[Je.key],Br=gi[Lr];if(Br instanceof B)Nr("q"),Nr(pc(gr)),Br.gState&&ke.setGState(Br.gState),Nr(Je.matrix.toString()+" cm"),Nr("/"+Lr+" sh"),Nr("Q");else if(Br instanceof M){var Yr=new Fn(1,0,0,-1,0,Yo());Je.matrix&&(Yr=Yr.multiply(Je.matrix||io),Lr=da.call(Br,Je.key,Je.boundingBox,Je.xStep,Je.yStep,Yr).id),Nr("q"),Nr("/Pattern cs"),Nr("/"+Lr+" scn"),Br.gState&&ke.setGState(Br.gState),Nr(gr),Nr("Q")}},pc=function(Je){switch(Je){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ss=ke.moveTo=function(Je,gr){return Nr(Qe(er(Je))+" "+Qe(fr(gr))+" m"),this},Do=ke.lineTo=function(Je,gr){return Nr(Qe(er(Je))+" "+Qe(fr(gr))+" l"),this},Go=ke.curveTo=function(Je,gr,Lr,Br,Yr,gn){return Nr([Qe(er(Je)),Qe(fr(gr)),Qe(er(Lr)),Qe(fr(Br)),Qe(er(Yr)),Qe(fr(gn)),"c"].join(" ")),this};ke.__private__.line=ke.line=function(Je,gr,Lr,Br,Yr){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||isNaN(Br)||!Ks(Yr))throw new Error("Invalid arguments passed to jsPDF.line");return We===ze.COMPAT?this.lines([[Lr-Je,Br-gr]],Je,gr,[1,1],Yr||"S"):this.lines([[Lr-Je,Br-gr]],Je,gr,[1,1]).stroke()},ke.__private__.lines=ke.lines=function(Je,gr,Lr,Br,Yr,gn){var Rn,Ln,qe,ar,dr,Rr,Gr,fn,Pn,ci,xi,ui;if(typeof Je=="number"&&(ui=Lr,Lr=gr,gr=Je,Je=ui),Br=Br||[1,1],gn=gn||!1,isNaN(gr)||isNaN(Lr)||!Array.isArray(Je)||!Array.isArray(Br)||!Ks(Yr)||typeof gn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ss(gr,Lr),Rn=Br[0],Ln=Br[1],ar=Je.length,ci=gr,xi=Lr,qe=0;qe<ar;qe++)(dr=Je[qe]).length===2?(ci=dr[0]*Rn+ci,xi=dr[1]*Ln+xi,Do(ci,xi)):(Rr=dr[0]*Rn+ci,Gr=dr[1]*Ln+xi,fn=dr[2]*Rn+ci,Pn=dr[3]*Ln+xi,ci=dr[4]*Rn+ci,xi=dr[5]*Ln+xi,Go(Rr,Gr,fn,Pn,ci,xi));return gn&&Mo(),El(Yr),this},ke.path=function(Je){for(var gr=0;gr<Je.length;gr++){var Lr=Je[gr],Br=Lr.c;switch(Lr.op){case"m":ss(Br[0],Br[1]);break;case"l":Do(Br[0],Br[1]);break;case"c":Go.apply(this,Br);break;case"h":Mo()}}return this},ke.__private__.rect=ke.rect=function(Je,gr,Lr,Br,Yr){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||isNaN(Br)||!Ks(Yr))throw new Error("Invalid arguments passed to jsPDF.rect");return We===ze.COMPAT&&(Br=-Br),Nr([Qe(er(Je)),Qe(fr(gr)),Qe(er(Lr)),Qe(er(Br)),"re"].join(" ")),El(Yr),this},ke.__private__.triangle=ke.triangle=function(Je,gr,Lr,Br,Yr,gn,Rn){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||isNaN(Br)||isNaN(Yr)||isNaN(gn)||!Ks(Rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Lr-Je,Br-gr],[Yr-Lr,gn-Br],[Je-Yr,gr-gn]],Je,gr,[1,1],Rn,!0),this},ke.__private__.roundedRect=ke.roundedRect=function(Je,gr,Lr,Br,Yr,gn,Rn){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||isNaN(Br)||isNaN(Yr)||isNaN(gn)||!Ks(Rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ln=4/3*(Math.SQRT2-1);return Yr=Math.min(Yr,.5*Lr),gn=Math.min(gn,.5*Br),this.lines([[Lr-2*Yr,0],[Yr*Ln,0,Yr,gn-gn*Ln,Yr,gn],[0,Br-2*gn],[0,gn*Ln,-Yr*Ln,gn,-Yr,gn],[2*Yr-Lr,0],[-Yr*Ln,0,-Yr,-gn*Ln,-Yr,-gn],[0,2*gn-Br],[0,-gn*Ln,Yr*Ln,-gn,Yr,-gn]],Je+Yr,gr,[1,1],Rn,!0),this},ke.__private__.ellipse=ke.ellipse=function(Je,gr,Lr,Br,Yr){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||isNaN(Br)||!Ks(Yr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gn=4/3*(Math.SQRT2-1)*Lr,Rn=4/3*(Math.SQRT2-1)*Br;return ss(Je+Lr,gr),Go(Je+Lr,gr-Rn,Je+gn,gr-Br,Je,gr-Br),Go(Je-gn,gr-Br,Je-Lr,gr-Rn,Je-Lr,gr),Go(Je-Lr,gr+Rn,Je-gn,gr+Br,Je,gr+Br),Go(Je+gn,gr+Br,Je+Lr,gr+Rn,Je+Lr,gr),El(Yr),this},ke.__private__.circle=ke.circle=function(Je,gr,Lr,Br){if(isNaN(Je)||isNaN(gr)||isNaN(Lr)||!Ks(Br))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Je,gr,Lr,Lr,Br)},ke.setFont=function(Je,gr,Lr){return Lr&&(gr=ir(gr,Lr)),si=ua(Je,gr,{disableWarning:!1}),this};var Ca=ke.__private__.getFont=ke.getFont=function(){return bi[ua.apply(ke,arguments)]};ke.__private__.getFontList=ke.getFontList=function(){var Je,gr,Lr={};for(Je in Pi)if(Pi.hasOwnProperty(Je))for(gr in Lr[Je]=[],Pi[Je])Pi[Je].hasOwnProperty(gr)&&Lr[Je].push(gr);return Lr},ke.addFont=function(Je,gr,Lr,Br,Yr){var gn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gn.indexOf(arguments[3])!==-1?Yr=arguments[3]:arguments[3]&&gn.indexOf(arguments[3])==-1&&(Lr=ir(Lr,Br)),Yr=Yr||"Identity-H",wa.call(this,Je,gr,Lr,Yr)};var ji,Fl=t.lineWidth||.200025,Ia=ke.__private__.getLineWidth=ke.getLineWidth=function(){return Fl},ja=ke.__private__.setLineWidth=ke.setLineWidth=function(Je){return Fl=Je,Nr(Qe(er(Je))+" w"),this};ke.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Je,gr){if(Je=Je||[],gr=gr||0,isNaN(gr)||!Array.isArray(Je))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Je=Je.map(function(Lr){return Qe(er(Lr))}).join(" "),gr=Qe(er(gr)),Nr("["+Je+"] "+gr+" d"),this};var Qa=ke.__private__.getLineHeight=ke.getLineHeight=function(){return In*ji};ke.__private__.getLineHeight=ke.getLineHeight=function(){return In*ji};var Sl=ke.__private__.setLineHeightFactor=ke.setLineHeightFactor=function(Je){return typeof(Je=Je||1.15)=="number"&&(ji=Je),this},Ko=ke.__private__.getLineHeightFactor=ke.getLineHeightFactor=function(){return ji};Sl(t.lineHeight);var as=ke.__private__.getHorizontalCoordinate=function(Je){return er(Je)},ho=ke.__private__.getVerticalCoordinate=function(Je){return We===ze.ADVANCED?Je:Jn[hr].mediaBox.topRightY-Jn[hr].mediaBox.bottomLeftY-er(Je)},Bl=ke.__private__.getHorizontalCoordinateString=ke.getHorizontalCoordinateString=function(Je){return Qe(as(Je))},$s=ke.__private__.getVerticalCoordinateString=ke.getVerticalCoordinateString=function(Je){return Qe(ho(Je))},bo=t.strokeColor||"0 G";ke.__private__.getStrokeColor=ke.getDrawColor=function(){return Wo(bo)},ke.__private__.setStrokeColor=ke.setDrawColor=function(Je,gr,Lr,Br){return bo=oo({ch1:Je,ch2:gr,ch3:Lr,ch4:Br,pdfColorType:"draw",precision:2}),Nr(bo),this};var Ja=t.fillColor||"0 g";ke.__private__.getFillColor=ke.getFillColor=function(){return Wo(Ja)},ke.__private__.setFillColor=ke.setFillColor=function(Je,gr,Lr,Br){return Ja=oo({ch1:Je,ch2:gr,ch3:Lr,ch4:Br,pdfColorType:"fill",precision:2}),Nr(Ja),this};var so=t.textColor||"0 g",Ns=ke.__private__.getTextColor=ke.getTextColor=function(){return Wo(so)};ke.__private__.setTextColor=ke.setTextColor=function(Je,gr,Lr,Br){return so=oo({ch1:Je,ch2:gr,ch3:Lr,ch4:Br,pdfColorType:"text",precision:3}),this};var fa=t.charSpace,Ys=ke.__private__.getCharSpace=ke.getCharSpace=function(){return parseFloat(fa||0)};ke.__private__.setCharSpace=ke.setCharSpace=function(Je){if(isNaN(Je))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fa=Je,this};var ql=0;ke.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},ke.__private__.setLineCap=ke.setLineCap=function(Je){var gr=ke.CapJoinStyles[Je];if(gr===void 0)throw new Error("Line cap style of '"+Je+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=gr,Nr(gr+" J"),this};var $a=0;ke.__private__.setLineJoin=ke.setLineJoin=function(Je){var gr=ke.CapJoinStyles[Je];if(gr===void 0)throw new Error("Line join style of '"+Je+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $a=gr,Nr(gr+" j"),this},ke.__private__.setLineMiterLimit=ke.__private__.setMiterLimit=ke.setLineMiterLimit=ke.setMiterLimit=function(Je){if(Je=Je||0,isNaN(Je))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Nr(Qe(er(Je))+" M"),this},ke.GState=j,ke.setGState=function(Je){(Je=typeof Je=="string"?Ii[eo[Je]]:Xs(null,Je)).equals(_o)||(Nr("/"+Je.id+" gs"),_o=Je)};var Xs=function(Je,gr){if(!Je||!eo[Je]){var Lr=!1;for(var Br in Ii)if(Ii.hasOwnProperty(Br)&&Ii[Br].equals(gr)){Lr=!0;break}if(Lr)gr=Ii[Br];else{var Yr="GS"+(Object.keys(Ii).length+1).toString(10);Ii[Yr]=gr,gr.id=Yr}return Je&&(eo[Je]=gr.id),vi.publish("addGState",gr),gr}};ke.addGState=function(Je,gr){return Xs(Je,gr),this},ke.saveGraphicsState=function(){return Nr("q"),zo.push({key:si,size:In,color:so}),this},ke.restoreGraphicsState=function(){Nr("Q");var Je=zo.pop();return si=Je.key,In=Je.size,so=Je.color,_o=null,this},ke.setCurrentTransformationMatrix=function(Je){return Nr(Je.toString()+" cm"),this},ke.comment=function(Je){return Nr("#"+Je),this};var Os=function(Je,gr){var Lr=Je||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Lr},set:function(gn){isNaN(gn)||(Lr=parseFloat(gn))}});var Br=gr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Br},set:function(gn){isNaN(gn)||(Br=parseFloat(gn))}});var Yr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Yr},set:function(gn){Yr=gn.toString()}}),this},ha=function(Je,gr,Lr,Br){Os.call(this,Je,gr),this.type="rect";var Yr=Lr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Yr},set:function(Rn){isNaN(Rn)||(Yr=parseFloat(Rn))}});var gn=Br||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gn},set:function(Rn){isNaN(Rn)||(gn=parseFloat(Rn))}}),this},Na=function(){this.page=Li,this.currentPage=hr,this.pages=Qr.slice(0),this.pagesContext=Jn.slice(0),this.x=Zi,this.y=mi,this.matrix=xo,this.width=Qs(hr),this.height=Yo(hr),this.outputDestination=xn,this.id="",this.objectNumber=-1};Na.prototype.restore=function(){Li=this.page,hr=this.currentPage,Jn=this.pagesContext,Qr=this.pages,Zi=this.x,mi=this.y,xo=this.matrix,Al(hr,this.width),Rl(hr,this.height),xn=this.outputDestination};var wl=function(Je,gr,Lr,Br,Yr){Ho.push(new Na),Li=hr=0,Qr=[],Zi=Je,mi=gr,xo=Yr,Lo([Lr,Br])},mc=function(Je){if(go[Je])Ho.pop().restore();else{var gr=new Na,Lr="Xo"+(Object.keys(Yi).length+1).toString(10);gr.id=Lr,go[Je]=Lr,Yi[Lr]=gr,vi.publish("addFormObject",gr),Ho.pop().restore()}};for(var pa in ke.beginFormObject=function(Je,gr,Lr,Br,Yr){return wl(Je,gr,Lr,Br,Yr),this},ke.endFormObject=function(Je){return mc(Je),this},ke.doFormObject=function(Je,gr){var Lr=Yi[go[Je]];return Nr("q"),Nr(gr.toString()+" cm"),Nr("/"+Lr.id+" Do"),Nr("Q"),this},ke.getFormObject=function(Je){var gr=Yi[go[Je]];return{x:gr.x,y:gr.y,width:gr.width,height:gr.height,matrix:gr.matrix}},ke.save=function(Je,gr){return Je=Je||"generated.pdf",(gr=gr||{}).returnPromise=gr.returnPromise||!1,gr.returnPromise===!1?(l(Ya(Ws()),Je),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Lr,Br){try{var Yr=l(Ya(Ws()),Je);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Lr(Yr)}catch(gn){Br(gn.message)}})},E.API)E.API.hasOwnProperty(pa)&&(pa==="events"&&E.API.events.length?function(Je,gr){var Lr,Br,Yr;for(Yr=gr.length-1;Yr!==-1;Yr--)Lr=gr[Yr][0],Br=gr[Yr][1],Je.subscribe.apply(Je,[Lr].concat(typeof Br=="function"?[Br]:Br))}(vi,E.API.events):ke[pa]=E.API[pa]);var Qs=ke.getPageWidth=function(Je){return(Jn[Je=Je||hr].mediaBox.topRightX-Jn[Je].mediaBox.bottomLeftX)/kn},Al=ke.setPageWidth=function(Je,gr){Jn[Je].mediaBox.topRightX=gr*kn+Jn[Je].mediaBox.bottomLeftX},Yo=ke.getPageHeight=function(Je){return(Jn[Je=Je||hr].mediaBox.topRightY-Jn[Je].mediaBox.bottomLeftY)/kn},Rl=ke.setPageHeight=function(Je,gr){Jn[Je].mediaBox.topRightY=gr*kn+Jn[Je].mediaBox.bottomLeftY};return ke.internal={pdfEscape:fo,getStyle:Vl,getFont:Ca,getFontSize:Nn,getCharSpace:Ys,getTextColor:Ns,getLineHeight:Qa,getLineHeightFactor:Ko,getLineWidth:Ia,write:Bn,getHorizontalCoordinate:as,getVerticalCoordinate:ho,getCoordinateString:Bl,getVerticalCoordinateString:$s,collections:{},newObject:qi,newAdditionalObject:Us,newObjectDeferred:Wi,newObjectDeferredBegin:Xi,getFilters:$o,putStream:ro,events:vi,scaleFactor:kn,pageSize:{getWidth:function(){return Qs(hr)},setWidth:function(Je){Al(hr,Je)},getHeight:function(){return Yo(hr)},setHeight:function(Je){Rl(hr,Je)}},encryptionOptions:Ie,encryption:wi,getEncryptor:js,output:Ta,getNumberOfPages:Mi,pages:Qr,out:Nr,f2:cr,f3:Ze,getPageInfo:xs,getPageInfoByObjId:ri,getCurrentPageInfo:_s,getPDFVersion:Me,Point:Os,Rectangle:ha,Matrix:Fn,hasHotfix:Is},Object.defineProperty(ke.internal.pageSize,"width",{get:function(){return Qs(hr)},set:function(Je){Al(hr,Je)},enumerable:!0,configurable:!0}),Object.defineProperty(ke.internal.pageSize,"height",{get:function(){return Yo(hr)},set:function(Je){Rl(hr,Je)},enumerable:!0,configurable:!0}),Aa.call(ke,wn),si="F1",Ra(Ee,xe),vi.publish("initialized"),ke}I.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},I.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(t){for(var e=[],xe=0;xe<t.length;xe+=2)e.push(String.fromCharCode(parseInt(t.substr(xe,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(t,e){return P(x(e).substr(0,5),t)},I.prototype.encryptor=function(t,e){var xe=x(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(_e){return P(xe,_e)}},j.prototype.equals=function(t){var e,xe="id,objectNumber,equals";if(!t||_typeof(t)!==_typeof(this))return!1;var _e=0;for(e in this)if(!(xe.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;_e++}for(e in t)t.hasOwnProperty(e)&&xe.indexOf(e)<0&&_e--;return _e===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(t){return t.toFixed(2)},z=function(t){return t.toFixed(5)};q.__acroform__={};var H=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W=function(t){return t*D},V=function(t){var e=new ut,xe=At.internal.getHeight(t)||0,_e=At.internal.getWidth(t)||0;return e.BBox=[0,0,Number(U(_e)),Number(U(xe))],e},G=q.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Y=q.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},J=q.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},X=q.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(t,e-1)},K=q.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(t,e-1)},Z=q.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(t,e-1)},$=q.__acroform__.calculateCoordinates=function(t,e){var xe=e.internal.getHorizontalCoordinate,_e=e.internal.getVerticalCoordinate,Ee=t[0],Se=t[1],Ae=t[2],Re=t[3],Pe={};return Pe.lowerLeft_X=xe(Ee)||0,Pe.lowerLeft_Y=_e(Se+Re)||0,Pe.upperRight_X=xe(Ee+Ae)||0,Pe.upperRight_Y=_e(Se)||0,[Number(U(Pe.lowerLeft_X)),Number(U(Pe.lowerLeft_Y)),Number(U(Pe.upperRight_X)),Number(U(Pe.upperRight_Y))]},Q=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],xe=t._V||t.DV,_e=tt(t,xe),Ee=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+Ee+" "+U(_e.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(_e.text),e.push("ET"),e.push("Q"),e.push("EMC");var Se=V(t);return Se.scope=t.scope,Se.stream=e.join(`
`),Se}},tt=function(t,e){var xe=t.fontSize===0?t.maxFontSize:t.fontSize,_e={text:"",fontSize:""},Ee=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Ee=t.multiline?Ee.map(function(Ze){return Ze.split(`
`)}):Ee.map(function(Ze){return[Ze]});var Se=xe,Ae=At.internal.getHeight(t)||0;Ae=Ae<0?-Ae:Ae;var Re=At.internal.getWidth(t)||0;Re=Re<0?-Re:Re;var Pe=function(Ze,er,sr){if(Ze+1<Ee.length){var fr=er+" "+Ee[Ze+1][0];return et(fr,t,sr).width<=Re-4}return!1};Se++;e:for(;Se>0;){e="",Se--;var Te,Ie,je=et("3",t,Se).height,Oe=t.multiline?Ae-Se:(Ae-je)/2,ke=Oe+=2,Fe=0,Me=0,De=0;if(Se<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,t,Se=12).width+", FieldWidth:"+Re+`
`;break}for(var Ue="",ze=0,We=0;We<Ee.length;We++)if(Ee.hasOwnProperty(We)){var Ye=!1;if(Ee[We].length!==1&&De!==Ee[We].length-1){if((je+2)*(ze+2)+2>Ae)continue e;Ue+=Ee[We][De],Ye=!0,Me=We,We--}else{Ue=(Ue+=Ee[We][De]+" ").substr(Ue.length-1)==" "?Ue.substr(0,Ue.length-1):Ue;var Xe=parseInt(We),ir=Pe(Xe,Ue,Se),Qe=We>=Ee.length-1;if(ir&&!Qe){Ue+=" ",De=0;continue}if(ir||Qe){if(Qe)Me=Xe;else if(t.multiline&&(je+2)*(ze+2)+2>Ae)continue e}else{if(!t.multiline||(je+2)*(ze+2)+2>Ae)continue e;Me=Xe}}for(var Ke="",rr=Fe;rr<=Me;rr++){var cr=Ee[rr];if(t.multiline){if(rr===Me){Ke+=cr[De]+" ",De=(De+1)%cr.length;continue}if(rr===Fe){Ke+=cr[cr.length-1]+" ";continue}}Ke+=cr[0]+" "}switch(Ke=Ke.substr(Ke.length-1)==" "?Ke.substr(0,Ke.length-1):Ke,Ie=et(Ke,t,Se).width,t.textAlign){case"right":Te=Re-Ie-2;break;case"center":Te=(Re-Ie)/2;break;case"left":default:Te=2}e+=U(Te)+" "+U(ke)+` Td
`,e+="("+R(Ke)+`) Tj
`,e+=-U(Te)+` 0 Td
`,ke=-(Se+2),Ie=0,Fe=Ye?Me:Me+1,ze++,Ue=""}break}return _e.text=e,_e.fontSize=Se,_e},et=function(t,e,xe){var _e=e.scope.internal.getFont(e.fontName,e.fontStyle),Ee=e.scope.getStringUnitWidth(t,{font:_e,fontSize:parseFloat(xe),charSpace:0})*parseFloat(xe);return{height:e.scope.getStringUnitWidth("3",{font:_e,fontSize:parseFloat(xe),charSpace:0})*parseFloat(xe)*1.5,width:Ee}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(t,e){var xe={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(_e){return _e.type===xe.type&&_e.object===xe.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(xe)},it=function(t,e){for(var xe in t)if(t.hasOwnProperty(xe)){var _e=xe,Ee=t[xe];e.internal.newObjectDeferredBegin(Ee.objId,!0),_typeof(Ee)==="object"&&typeof Ee.putStream=="function"&&Ee.putStream(),delete t[_e]}},at=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ht,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(xe){xe.internal.events.unsubscribe(xe.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete xe.internal.acroformPlugin.acroFormDictionaryRoot._eventID,xe.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(xe){xe.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _e=xe.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Ee in _e)if(_e.hasOwnProperty(Ee)){var Se=_e[Ee];Se.objId=void 0,Se.hasAnnotation&&nt(Se,xe)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(xe){if(xe.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");xe.internal.write("/AcroForm "+xe.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(xe){(function(_e,Ee){var Se=!_e;for(var Ae in _e||(Ee.internal.newObjectDeferredBegin(Ee.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Ee.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_e=_e||Ee.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_e.hasOwnProperty(Ae)){var Re=_e[Ae],Pe=[],Te=Re.Rect;if(Re.Rect&&(Re.Rect=$(Re.Rect,Ee)),Ee.internal.newObjectDeferredBegin(Re.objId,!0),Re.DA=At.createDefaultAppearanceStream(Re),_typeof(Re)==="object"&&typeof Re.getKeyValueListForStream=="function"&&(Pe=Re.getKeyValueListForStream()),Re.Rect=Te,Re.hasAppearanceStream&&!Re.appearanceStreamContent){var Ie=Q(Re);Pe.push({key:"AP",value:"<</N "+Ie+">>"}),Ee.internal.acroformPlugin.xForms.push(Ie)}if(Re.appearanceStreamContent){var je="";for(var Oe in Re.appearanceStreamContent)if(Re.appearanceStreamContent.hasOwnProperty(Oe)){var ke=Re.appearanceStreamContent[Oe];if(je+="/"+Oe+" ",je+="<<",Object.keys(ke).length>=1||Array.isArray(ke)){for(var Ae in ke)if(ke.hasOwnProperty(Ae)){var Fe=ke[Ae];typeof Fe=="function"&&(Fe=Fe.call(Ee,Re)),je+="/"+Ae+" "+Fe+" ",Ee.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Ee.internal.acroformPlugin.xForms.push(Fe)}}else typeof(Fe=ke)=="function"&&(Fe=Fe.call(Ee,Re)),je+="/"+Ae+" "+Fe,Ee.internal.acroformPlugin.xForms.indexOf(Fe)>=0||Ee.internal.acroformPlugin.xForms.push(Fe);je+=">>"}Pe.push({key:"AP",value:`<<
`+je+">>"})}Ee.internal.putStream({additionalKeyValues:Pe,objectId:Re.objId}),Ee.internal.out("endobj")}Se&&it(Ee.internal.acroformPlugin.xForms,Ee)})(xe,t)}),t.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(t,e,xe){var _e=function(Ae){return Ae};if(Array.isArray(t)){for(var Ee="[",Se=0;Se<t.length;Se++)switch(Se!==0&&(Ee+=" "),_typeof(t[Se])){case"boolean":case"number":case"object":Ee+=t[Se].toString();break;case"string":t[Se].substr(0,1)!=="/"?(e!==void 0&&xe&&(_e=xe.internal.getEncryptor(e)),Ee+="("+R(_e(t[Se].toString()))+")"):Ee+=t[Se].toString()}return Ee+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(t,e,xe){var _e=function(Ee){return Ee};return e!==void 0&&xe&&(_e=xe.internal.getEncryptor(e)),(t=t||"").toString(),t="("+R(_e(t))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(Se){return Se!="content"&&Se!="appearanceStreamContent"&&Se!="scope"&&Se!="objId"&&Se.substring(0,1)!="_"});for(var xe in e)if(Object.getOwnPropertyDescriptor(this,e[xe]).configurable===!1){var _e=e[xe],Ee=this[_e];Ee&&(Array.isArray(Ee)?t.push({key:_e,value:ot(Ee,this.objId,this.scope)}):Ee instanceof ct?(Ee.scope=this.scope,t.push({key:_e,value:Ee.objId+" 0 R"})):typeof Ee!="function"&&t.push({key:_e,value:Ee}))}return t};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(xe){e=xe}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(xe){t=xe.trim()},get:function(){return t||null}})};H(ut,ct);var ht=function(){ct.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var xe=function(_e){return _e};return this.scope&&(xe=this.scope.internal.getEncryptor(this.objId)),"("+R(xe(t))+")"}},set:function(xe){t=xe}})};H(ht,ct);var lt=function t(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Ue){if(isNaN(Ue))throw new Error('Invalid value "'+Ue+'" for attribute F supplied.');e=Ue}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(e,3)},set:function(Ue){Ue?this.F=K(e,3):this.F=Z(e,3)}});var xe=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return xe},set:function(Ue){if(isNaN(Ue))throw new Error('Invalid value "'+Ue+'" for attribute Ff supplied.');xe=Ue}});var _e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_e.length!==0)return _e},set:function(Ue){_e=Ue!==void 0?Ue:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[0])?0:_e[0]},set:function(Ue){_e[0]=Ue}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[1])?0:_e[1]},set:function(Ue){_e[1]=Ue}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[2])?0:_e[2]},set:function(Ue){_e[2]=Ue}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_e||isNaN(_e[3])?0:_e[3]},set:function(Ue){_e[3]=Ue}});var Ee="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Ee},set:function(Ue){switch(Ue){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Ee=Ue;break;default:throw new Error('Invalid value "'+Ue+'" for attribute FT supplied.')}}});var Se=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Se||Se.length<1){if(this instanceof yt)return;Se="FieldObject"+t.FieldNum++}var Ue=function(ze){return ze};return this.scope&&(Ue=this.scope.internal.getEncryptor(this.objId)),"("+R(Ue(Se))+")"},set:function(Ue){Se=Ue.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Se},set:function(Ue){Se=Ue}});var Ae="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(Ue){Ae=Ue}});var Re="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ue){Re=Ue}});var Pe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Pe},set:function(Ue){Pe=Ue}});var Te=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Te===void 0?50/D:Te},set:function(Ue){Te=Ue}});var Ie="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ie},set:function(Ue){Ie=Ue}});var je="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!je||this instanceof yt||this instanceof Nt))return st(je,this.objId,this.scope)},set:function(Ue){Ue=Ue.toString(),je=Ue}});var Oe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Oe)return this instanceof mt?Oe:st(Oe,this.objId,this.scope)},set:function(Ue){Ue=Ue.toString(),Oe=this instanceof mt?Ue:Ue.substr(0,1)==="("?T(Ue.substr(1,Ue.length-2)):T(Ue)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(Oe.substr(1,Oe.length-1)):Oe},set:function(Ue){Ue=Ue.toString(),Oe=this instanceof mt?"/"+Ue:Ue}});var ke=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(ke)return ke},set:function(Ue){this.V=Ue}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(ke)return this instanceof mt?ke:st(ke,this.objId,this.scope)},set:function(Ue){Ue=Ue.toString(),ke=this instanceof mt?Ue:Ue.substr(0,1)==="("?T(Ue.substr(1,Ue.length-2)):T(Ue)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ke.substr(1,ke.length-1)):ke},set:function(Ue){Ue=Ue.toString(),ke=this instanceof mt?"/"+Ue:Ue}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Fe,Me=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ue){Ue=!!Ue,Me=Ue}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Fe)return Fe},set:function(Ue){Fe=Ue}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(Ue){Ue?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(Ue){Ue?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(Ue){Ue?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var De=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(De!==null)return De},set:function(Ue){if([0,1,2].indexOf(Ue)===-1)throw new Error('Invalid value "'+Ue+'" for attribute Q supplied.');De=Ue}}),Object.defineProperty(this,"textAlign",{get:function(){var Ue;switch(De){case 0:default:Ue="left";break;case 1:Ue="center";break;case 2:Ue="right"}return Ue},configurable:!0,enumerable:!0,set:function(Ue){switch(Ue){case"right":case 2:De=2;break;case"center":case 1:De=1;break;case"left":case 0:default:De=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(xe){t=xe}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(xe){t=xe}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(xe){var _e,Ee;Ee=[],typeof(_e=xe)=="string"&&(Ee=function(Se,Ae,Re){Re||(Re=1);for(var Pe,Te=[];Pe=Ae.exec(Se);)Te.push(Pe[Re]);return Te}(_e,/\((.*?)\)/g)),e=Ee}}),this.getOptions=function(){return e},this.setOptions=function(xe){e=xe,this.sort&&e.sort()},this.addOption=function(xe){xe=(xe=xe||"").toString(),e.push(xe),this.sort&&e.sort()},this.removeOption=function(xe,_e){for(_e=_e||!1,xe=(xe=xe||"").toString();e.indexOf(xe)!==-1&&(e.splice(e.indexOf(xe),1),_e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(xe){xe?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(xe){this.combo===!0&&(xe?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(xe){xe?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(xe){xe?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(xe){xe?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(xe){xe?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(xe){xe?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(xe){xe?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(xe){xe?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(xe){xe?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var xe=function(Se){return Se};if(this.scope&&(xe=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var _e,Ee=[];for(_e in Ee.push("<<"),e)Ee.push("/"+_e+" ("+R(xe(e[_e]))+")");return Ee.push(">>"),Ee.join(`
`)}},set:function(xe){_typeof(xe)==="object"&&(e=xe)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(xe){typeof xe=="string"&&(e.CA=xe)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(xe){t=xe}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(xe){t="/"+xe}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var t,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Ee){t=Ee}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Ee){e=Ee}});var xe,_e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ee=function(Re){return Re};this.scope&&(Ee=this.scope.internal.getEncryptor(this.objId));var Se,Ae=[];for(Se in Ae.push("<<"),_e)Ae.push("/"+Se+" ("+R(Ee(_e[Se]))+")");return Ae.push(">>"),Ae.join(`
`)},set:function(Ee){_typeof(Ee)==="object"&&(_e=Ee)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _e.CA||""},set:function(Ee){typeof Ee=="string"&&(_e.CA=Ee)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return xe},set:function(Ee){xe=Ee}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return xe.substr(1,xe.length-1)},set:function(Ee){xe="/"+Ee}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var xe=this.Kids[e];xe.appearanceStreamContent=t.createAppearanceStream(xe.optionName),xe.caption=t.getCA()}},bt.prototype.createOption=function(t){var e=new yt;return e.Parent=this,e.optionName=t,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(e){e?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(e){e?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(e){e?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(e){e?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(e){e?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(e){e?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(t){t?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=[],_e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,Ee=t.scope.__private__.encodeColorString(t.color),Se=tt(t,t.caption);return xe.push("0.749023 g"),xe.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),xe.push("f"),xe.push("BMC"),xe.push("q"),xe.push("0 0 1 rg"),xe.push("/"+_e+" "+U(Se.fontSize)+" Tf "+Ee),xe.push("BT"),xe.push(Se.text),xe.push("ET"),xe.push("Q"),xe.push("EMC"),e.stream=xe.join(`
`),e},YesNormal:function(t){var e=V(t);e.scope=t.scope;var xe=t.scope.internal.getFont(t.fontName,t.fontStyle).id,_e=t.scope.__private__.encodeColorString(t.color),Ee=[],Se=At.internal.getHeight(t),Ae=At.internal.getWidth(t),Re=tt(t,t.caption);return Ee.push("1 g"),Ee.push("0 0 "+U(Ae)+" "+U(Se)+" re"),Ee.push("f"),Ee.push("q"),Ee.push("0 0 1 rg"),Ee.push("0 0 "+U(Ae-1)+" "+U(Se-1)+" re"),Ee.push("W"),Ee.push("n"),Ee.push("0 g"),Ee.push("BT"),Ee.push("/"+xe+" "+U(Re.fontSize)+" Tf "+_e),Ee.push(Re.text),Ee.push("ET"),Ee.push("Q"),e.stream=Ee.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=[];return xe.push("0.749023 g"),xe.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),xe.push("f"),e.stream=xe.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Circle.YesNormal,e.D[t]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var xe=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ee=At.internal.Bezier_C,Se=Number((_e*Ee).toFixed(5));return xe.push("q"),xe.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),xe.push(_e+" 0 m"),xe.push(_e+" "+Se+" "+Se+" "+_e+" 0 "+_e+" c"),xe.push("-"+Se+" "+_e+" -"+_e+" "+Se+" -"+_e+" 0 c"),xe.push("-"+_e+" -"+Se+" -"+Se+" -"+_e+" 0 -"+_e+" c"),xe.push(Se+" -"+_e+" "+_e+" -"+Se+" "+_e+" 0 c"),xe.push("f"),xe.push("Q"),e.stream=xe.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ee=Number((2*_e).toFixed(5)),Se=Number((Ee*At.internal.Bezier_C).toFixed(5)),Ae=Number((_e*At.internal.Bezier_C).toFixed(5));return xe.push("0.749023 g"),xe.push("q"),xe.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),xe.push(Ee+" 0 m"),xe.push(Ee+" "+Se+" "+Se+" "+Ee+" 0 "+Ee+" c"),xe.push("-"+Se+" "+Ee+" -"+Ee+" "+Se+" -"+Ee+" 0 c"),xe.push("-"+Ee+" -"+Se+" -"+Se+" -"+Ee+" 0 -"+Ee+" c"),xe.push(Se+" -"+Ee+" "+Ee+" -"+Se+" "+Ee+" 0 c"),xe.push("f"),xe.push("Q"),xe.push("0 g"),xe.push("q"),xe.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),xe.push(_e+" 0 m"),xe.push(_e+" "+Ae+" "+Ae+" "+_e+" 0 "+_e+" c"),xe.push("-"+Ae+" "+_e+" -"+_e+" "+Ae+" -"+_e+" 0 c"),xe.push("-"+_e+" -"+Ae+" -"+Ae+" -"+_e+" 0 -"+_e+" c"),xe.push(Ae+" -"+_e+" "+_e+" -"+Ae+" "+_e+" 0 c"),xe.push("f"),xe.push("Q"),e.stream=xe.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=[],_e=At.internal.getWidth(t)<=At.internal.getHeight(t)?At.internal.getWidth(t)/4:At.internal.getHeight(t)/4;_e=Number((.9*_e).toFixed(5));var Ee=Number((2*_e).toFixed(5)),Se=Number((Ee*At.internal.Bezier_C).toFixed(5));return xe.push("0.749023 g"),xe.push("q"),xe.push("1 0 0 1 "+z(At.internal.getWidth(t)/2)+" "+z(At.internal.getHeight(t)/2)+" cm"),xe.push(Ee+" 0 m"),xe.push(Ee+" "+Se+" "+Se+" "+Ee+" 0 "+Ee+" c"),xe.push("-"+Se+" "+Ee+" -"+Ee+" "+Se+" -"+Ee+" 0 c"),xe.push("-"+Ee+" -"+Se+" -"+Se+" -"+Ee+" 0 -"+Ee+" c"),xe.push(Se+" -"+Ee+" "+Ee+" -"+Se+" "+Ee+" 0 c"),xe.push("f"),xe.push("Q"),e.stream=xe.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=At.RadioButton.Cross.YesNormal,e.D[t]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=V(t);e.scope=t.scope;var xe=[],_e=At.internal.calculateCross(t);return xe.push("q"),xe.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),xe.push("W"),xe.push("n"),xe.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),xe.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),xe.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),xe.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),xe.push("s"),xe.push("Q"),e.stream=xe.join(`
`),e},YesPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=At.internal.calculateCross(t),_e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),_e.push("f"),_e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(t)-2)+" "+U(At.internal.getHeight(t)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(xe.x1.x)+" "+U(xe.x1.y)+" m"),_e.push(U(xe.x2.x)+" "+U(xe.x2.y)+" l"),_e.push(U(xe.x4.x)+" "+U(xe.x4.y)+" m"),_e.push(U(xe.x3.x)+" "+U(xe.x3.y)+" l"),_e.push("s"),_e.push("Q"),e.stream=_e.join(`
`),e},OffPushDown:function(t){var e=V(t);e.scope=t.scope;var xe=[];return xe.push("0.749023 g"),xe.push("0 0 "+U(At.internal.getWidth(t))+" "+U(At.internal.getHeight(t))+" re"),xe.push("f"),e.stream=xe.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,xe=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+xe}};At.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=At.internal.getWidth(t),xe=At.internal.getHeight(t),_e=Math.min(e,xe);return{x1:{x:(e-_e)/2,y:(xe-_e)/2+_e},x2:{x:(e-_e)/2+_e,y:(xe-_e)/2},x3:{x:(e-_e)/2,y:(xe-_e)/2},x4:{x:(e-_e)/2+_e,y:(xe-_e)/2+_e}}}},At.internal.getWidth=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[2])),e},At.internal.getHeight=function(t){var e=0;return _typeof(t)==="object"&&(e=W(t.Rect[3])),e};var xt=q.addField=function(t){if(at(this,t),!(t instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(t){return t.reduce(function(e,xe,_e){return e[xe]=_e,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",xe={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_e=t.__addimage__.getImageFileTypeByImageData=function(Ze,er){var sr,fr,_r,Er,yr,mr=e;if((er=er||e)==="RGBA"||Ze.data!==void 0&&Ze.data instanceof Uint8ClampedArray&&"height"in Ze&&"width"in Ze)return"RGBA";if(ir(Ze))for(yr in xe)for(_r=xe[yr],sr=0;sr<_r.length;sr+=1){for(Er=!0,fr=0;fr<_r[sr].length;fr+=1)if(_r[sr][fr]!==void 0&&_r[sr][fr]!==Ze[fr]){Er=!1;break}if(Er===!0){mr=yr;break}}else for(yr in xe)for(_r=xe[yr],sr=0;sr<_r.length;sr+=1){for(Er=!0,fr=0;fr<_r[sr].length;fr+=1)if(_r[sr][fr]!==void 0&&_r[sr][fr]!==Ze.charCodeAt(fr)){Er=!1;break}if(Er===!0){mr=yr;break}}return mr===e&&er!==e&&(mr=er),mr},Ee=function Ze(er){for(var sr=this.internal.write,fr=this.internal.putStream,_r=(0,this.internal.getFilters)();_r.indexOf("FlateEncode")!==-1;)_r.splice(_r.indexOf("FlateEncode"),1);er.objectId=this.internal.newObject();var Er=[];if(Er.push({key:"Type",value:"/XObject"}),Er.push({key:"Subtype",value:"/Image"}),Er.push({key:"Width",value:er.width}),Er.push({key:"Height",value:er.height}),er.colorSpace===De.INDEXED?Er.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(er.palette.length/3-1)+" "+("sMask"in er&&er.sMask!==void 0?er.objectId+2:er.objectId+1)+" 0 R]"}):(Er.push({key:"ColorSpace",value:"/"+er.colorSpace}),er.colorSpace===De.DEVICE_CMYK&&Er.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Er.push({key:"BitsPerComponent",value:er.bitsPerComponent}),"decodeParameters"in er&&er.decodeParameters!==void 0&&Er.push({key:"DecodeParms",value:"<<"+er.decodeParameters+">>"}),"transparency"in er&&Array.isArray(er.transparency)){for(var yr="",mr=0,Pr=er.transparency.length;mr<Pr;mr++)yr+=er.transparency[mr]+" "+er.transparency[mr]+" ";Er.push({key:"Mask",value:"["+yr+"]"})}er.sMask!==void 0&&Er.push({key:"SMask",value:er.objectId+1+" 0 R"});var Cr=er.filter!==void 0?["/"+er.filter]:void 0;if(fr({data:er.data,additionalKeyValues:Er,alreadyAppliedFilters:Cr,objectId:er.objectId}),sr("endobj"),"sMask"in er&&er.sMask!==void 0){var wr="/Predictor "+er.predictor+" /Colors 1 /BitsPerComponent "+er.bitsPerComponent+" /Columns "+er.width,or={width:er.width,height:er.height,colorSpace:"DeviceGray",bitsPerComponent:er.bitsPerComponent,decodeParameters:wr,data:er.sMask};"filter"in er&&(or.filter=er.filter),Ze.call(this,or)}if(er.colorSpace===De.INDEXED){var hr=this.internal.newObject();fr({data:Ke(new Uint8Array(er.palette)),objectId:hr}),sr("endobj")}},Se=function(){var Ze=this.internal.collections.addImage_images;for(var er in Ze)Ee.call(this,Ze[er])},Ae=function(){var Ze,er=this.internal.collections.addImage_images,sr=this.internal.write;for(var fr in er)sr("/I"+(Ze=er[fr]).index,Ze.objectId,"0","R")},Re=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Se),this.internal.events.subscribe("putXobjectDict",Ae))},Pe=function(){var Ze=this.internal.collections.addImage_images;return Re.call(this),Ze},Te=function(){return Object.keys(this.internal.collections.addImage_images).length},Ie=function(Ze){return typeof t["process"+Ze.toUpperCase()]=="function"},je=function(Ze){return _typeof(Ze)==="object"&&Ze.nodeType===1},Oe=function(Ze,er){if(Ze.nodeName==="IMG"&&Ze.hasAttribute("src")){var sr=""+Ze.getAttribute("src");if(sr.indexOf("data:image/")===0)return u(unescape(sr).split("base64,").pop());var fr=t.loadFile(sr,!0);if(fr!==void 0)return fr}if(Ze.nodeName==="CANVAS"){if(Ze.width===0||Ze.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ze.width+", height: "+Ze.height);var _r;switch(er){case"PNG":_r="image/png";break;case"WEBP":_r="image/webp";break;case"JPEG":case"JPG":default:_r="image/jpeg"}return u(Ze.toDataURL(_r,1).split("base64,").pop())}},ke=function(Ze){var er=this.internal.collections.addImage_images;if(er){for(var sr in er)if(Ze===er[sr].alias)return er[sr]}},Fe=function(Ze,er,sr){return Ze||er||(Ze=-96,er=-96),Ze<0&&(Ze=-1*sr.width*72/Ze/this.internal.scaleFactor),er<0&&(er=-1*sr.height*72/er/this.internal.scaleFactor),Ze===0&&(Ze=er*sr.width/sr.height),er===0&&(er=Ze*sr.height/sr.width),[Ze,er]},Me=function(Ze,er,sr,fr,_r,Er){var yr=Fe.call(this,sr,fr,_r),mr=this.internal.getCoordinateString,Pr=this.internal.getVerticalCoordinateString,Cr=Pe.call(this);if(sr=yr[0],fr=yr[1],Cr[_r.index]=_r,Er){Er*=Math.PI/180;var wr=Math.cos(Er),or=Math.sin(Er),hr=function(Ir){return Ir.toFixed(4)},br=[hr(wr),hr(or),hr(-1*or),hr(wr),0,0,"cm"]}this.internal.write("q"),Er?(this.internal.write([1,"0","0",1,mr(Ze),Pr(er+fr),"cm"].join(" ")),this.internal.write(br.join(" ")),this.internal.write([mr(sr),"0","0",mr(fr),"0","0","cm"].join(" "))):this.internal.write([mr(sr),"0","0",mr(fr),mr(Ze),Pr(er+fr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_r.index+" Do"),this.internal.write("Q")},De=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ue=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ze=t.__addimage__.sHashCode=function(Ze){var er,sr,fr=0;if(typeof Ze=="string")for(sr=Ze.length,er=0;er<sr;er++)fr=(fr<<5)-fr+Ze.charCodeAt(er),fr|=0;else if(ir(Ze))for(sr=Ze.byteLength/2,er=0;er<sr;er++)fr=(fr<<5)-fr+Ze[er],fr|=0;return fr},We=t.__addimage__.validateStringAsBase64=function(Ze){(Ze=Ze||"").toString().trim();var er=!0;return Ze.length===0&&(er=!1),Ze.length%4!=0&&(er=!1),/^[A-Za-z0-9+/]+$/.test(Ze.substr(0,Ze.length-2))===!1&&(er=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ze.substr(-2))===!1&&(er=!1),er},Ye=t.__addimage__.extractImageFromDataUrl=function(Ze){if(Ze==null||!(Ze=Ze.trim()).startsWith("data:"))return null;var er=Ze.indexOf(",");return er<0?null:Ze.substring(0,er).trim().endsWith("base64")?Ze.substring(er+1):null},Xe=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(Ze){return Xe()&&Ze instanceof ArrayBuffer};var ir=t.__addimage__.isArrayBufferView=function(Ze){return Xe()&&typeof Uint32Array<"u"&&(Ze instanceof Int8Array||Ze instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ze instanceof Uint8ClampedArray||Ze instanceof Int16Array||Ze instanceof Uint16Array||Ze instanceof Int32Array||Ze instanceof Uint32Array||Ze instanceof Float32Array||Ze instanceof Float64Array)},Qe=t.__addimage__.binaryStringToUint8Array=function(Ze){for(var er=Ze.length,sr=new Uint8Array(er),fr=0;fr<er;fr++)sr[fr]=Ze.charCodeAt(fr);return sr},Ke=t.__addimage__.arrayBufferToBinaryString=function(Ze){for(var er="",sr=ir(Ze)?Ze:new Uint8Array(Ze),fr=0;fr<sr.length;fr+=8192)er+=String.fromCharCode.apply(null,sr.subarray(fr,fr+8192));return er};t.addImage=function(){var Ze,er,sr,fr,_r,Er,yr,mr,Pr;if(typeof arguments[1]=="number"?(er=e,sr=arguments[1],fr=arguments[2],_r=arguments[3],Er=arguments[4],yr=arguments[5],mr=arguments[6],Pr=arguments[7]):(er=arguments[1],sr=arguments[2],fr=arguments[3],_r=arguments[4],Er=arguments[5],yr=arguments[6],mr=arguments[7],Pr=arguments[8]),_typeof(Ze=arguments[0])==="object"&&!je(Ze)&&"imageData"in Ze){var Cr=Ze;Ze=Cr.imageData,er=Cr.format||er||e,sr=Cr.x||sr||0,fr=Cr.y||fr||0,_r=Cr.w||Cr.width||_r,Er=Cr.h||Cr.height||Er,yr=Cr.alias||yr,mr=Cr.compression||mr,Pr=Cr.rotation||Cr.angle||Pr}var wr=this.internal.getFilters();if(mr===void 0&&wr.indexOf("FlateEncode")!==-1&&(mr="SLOW"),isNaN(sr)||isNaN(fr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Re.call(this);var or=rr.call(this,Ze,er,yr,mr);return Me.call(this,sr,fr,_r,Er,or,Pr),this};var rr=function(Ze,er,sr,fr){var _r,Er,yr;if(typeof Ze=="string"&&_e(Ze)===e){Ze=unescape(Ze);var mr=cr(Ze,!1);(mr!==""||(mr=t.loadFile(Ze,!0))!==void 0)&&(Ze=mr)}if(je(Ze)&&(Ze=Oe(Ze,er)),er=_e(Ze,er),!Ie(er))throw new Error("addImage does not support files of type '"+er+"', please ensure that a plugin for '"+er+"' support is added.");if(((yr=sr)==null||yr.length===0)&&(sr=function(Pr){return typeof Pr=="string"||ir(Pr)?ze(Pr):ir(Pr.data)?ze(Pr.data):null}(Ze)),(_r=ke.call(this,sr))||(Xe()&&(Ze instanceof Uint8Array||er==="RGBA"||(Er=Ze,Ze=Qe(Ze))),_r=this["process"+er.toUpperCase()](Ze,Te.call(this),sr,function(Pr){return Pr&&typeof Pr=="string"&&(Pr=Pr.toUpperCase()),Pr in t.image_compression?Pr:Ue.NONE}(fr),Er)),!_r)throw new Error("An unknown error occurred whilst processing the image.");return _r},cr=t.__addimage__.convertBase64ToBinaryString=function(Ze,er){er=typeof er!="boolean"||er;var sr,fr="";if(typeof Ze=="string"){var _r;sr=(_r=Ye(Ze))!==null&&_r!==void 0?_r:Ze;try{fr=u(sr)}catch(Er){if(er)throw We(sr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Er.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fr};t.getImageProperties=function(Ze){var er,sr,fr="";if(je(Ze)&&(Ze=Oe(Ze)),typeof Ze=="string"&&_e(Ze)===e&&((fr=cr(Ze,!1))===""&&(fr=t.loadFile(Ze)||""),Ze=fr),sr=_e(Ze),!Ie(sr))throw new Error("addImage does not support files of type '"+sr+"', please ensure that a plugin for '"+sr+"' support is added.");if(!Xe()||Ze instanceof Uint8Array||(Ze=Qe(Ze)),!(er=this["process"+sr.toUpperCase()](Ze)))throw new Error("An unknown error occurred whilst processing the image");return er.fileType=sr,er}})(E.API),function(t){var e=function(xe){if(xe!==void 0&&xe!="")return!0};E.API.events.push(["addPage",function(xe){this.internal.getPageInfo(xe.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(xe){for(var _e,Ee,Se,Ae=this.internal.getCoordinateString,Re=this.internal.getVerticalCoordinateString,Pe=this.internal.getPageInfoByObjId(xe.objId),Te=xe.pageContext.annotations,Ie=!1,je=0;je<Te.length&&!Ie;je++)switch((_e=Te[je]).type){case"link":(e(_e.options.url)||e(_e.options.pageNumber))&&(Ie=!0);break;case"reference":case"text":case"freetext":Ie=!0}if(Ie!=0){this.internal.write("/Annots [");for(var Oe=0;Oe<Te.length;Oe++){_e=Te[Oe];var ke=this.internal.pdfEscape,Fe=this.internal.getEncryptor(xe.objId);switch(_e.type){case"reference":this.internal.write(" "+_e.object.objId+" 0 R ");break;case"text":var Me=this.internal.newAdditionalObject(),De=this.internal.newAdditionalObject(),Ue=this.internal.getEncryptor(Me.objId),ze=_e.title||"Note";Se="<</Type /Annot /Subtype /Text "+(Ee="/Rect ["+Ae(_e.bounds.x)+" "+Re(_e.bounds.y+_e.bounds.h)+" "+Ae(_e.bounds.x+_e.bounds.w)+" "+Re(_e.bounds.y)+"] ")+"/Contents ("+ke(Ue(_e.contents))+")",Se+=" /Popup "+De.objId+" 0 R",Se+=" /P "+Pe.objId+" 0 R",Se+=" /T ("+ke(Ue(ze))+") >>",Me.content=Se;var We=Me.objId+" 0 R";Se="<</Type /Annot /Subtype /Popup "+(Ee="/Rect ["+Ae(_e.bounds.x+30)+" "+Re(_e.bounds.y+_e.bounds.h)+" "+Ae(_e.bounds.x+_e.bounds.w+30)+" "+Re(_e.bounds.y)+"] ")+" /Parent "+We,_e.open&&(Se+=" /Open true"),Se+=" >>",De.content=Se,this.internal.write(Me.objId,"0 R",De.objId,"0 R");break;case"freetext":Ee="/Rect ["+Ae(_e.bounds.x)+" "+Re(_e.bounds.y)+" "+Ae(_e.bounds.x+_e.bounds.w)+" "+Re(_e.bounds.y+_e.bounds.h)+"] ";var Ye=_e.color||"#000000";Se="<</Type /Annot /Subtype /FreeText "+Ee+"/Contents ("+ke(Fe(_e.contents))+")",Se+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ye+")",Se+=" /Border [0 0 0]",Se+=" >>",this.internal.write(Se);break;case"link":if(_e.options.name){var Xe=this.annotations._nameMap[_e.options.name];_e.options.pageNumber=Xe.page,_e.options.top=Xe.y}else _e.options.top||(_e.options.top=0);if(Ee="/Rect ["+_e.finalBounds.x+" "+_e.finalBounds.y+" "+_e.finalBounds.w+" "+_e.finalBounds.h+"] ",Se="",_e.options.url)Se="<</Type /Annot /Subtype /Link "+Ee+"/Border [0 0 0] /A <</S /URI /URI ("+ke(Fe(_e.options.url))+") >>";else if(_e.options.pageNumber)switch(Se="<</Type /Annot /Subtype /Link "+Ee+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_e.options.pageNumber).objId+" 0 R",_e.options.magFactor=_e.options.magFactor||"XYZ",_e.options.magFactor){case"Fit":Se+=" /Fit]";break;case"FitH":Se+=" /FitH "+_e.options.top+"]";break;case"FitV":_e.options.left=_e.options.left||0,Se+=" /FitV "+_e.options.left+"]";break;case"XYZ":default:var ir=Re(_e.options.top);_e.options.left=_e.options.left||0,_e.options.zoom===void 0&&(_e.options.zoom=0),Se+=" /XYZ "+_e.options.left+" "+ir+" "+_e.options.zoom+"]"}Se!=""&&(Se+=" >>",this.internal.write(Se))}}this.internal.write("]")}}]),t.createAnnotation=function(xe){var _e=this.internal.getCurrentPageInfo();switch(xe.type){case"link":this.link(xe.bounds.x,xe.bounds.y,xe.bounds.w,xe.bounds.h,xe);break;case"text":case"freetext":_e.pageContext.annotations.push(xe)}},t.link=function(xe,_e,Ee,Se,Ae){var Re=this.internal.getCurrentPageInfo(),Pe=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString;Re.pageContext.annotations.push({finalBounds:{x:Pe(xe),y:Te(_e),w:Pe(xe+Ee),h:Te(_e+Se)},options:Ae,type:"link"})},t.textWithLink=function(xe,_e,Ee,Se){var Ae,Re,Pe=this.getTextWidth(xe),Te=this.internal.getLineHeight()/this.internal.scaleFactor;if(Se.maxWidth!==void 0){Re=Se.maxWidth;var Ie=this.splitTextToSize(xe,Re).length;Ae=Math.ceil(Te*Ie)}else Re=Pe,Ae=Te;return this.text(xe,_e,Ee,Se),Ee+=.2*Te,Se.align==="center"&&(_e-=Pe/2),Se.align==="right"&&(_e-=Pe),this.link(_e,Ee-Te,Re,Ae,Se),Pe},t.getTextWidth=function(xe){var _e=this.internal.getFontSize();return this.getStringUnitWidth(xe)*_e/this.internal.scaleFactor}}(E.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},xe={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Ee=[1570,1571,1573,1575];t.__arabicParser__={};var Se=t.__arabicParser__.isInArabicSubstitutionA=function(Me){return e[Me.charCodeAt(0)]!==void 0},Ae=t.__arabicParser__.isArabicLetter=function(Me){return typeof Me=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Me)},Re=t.__arabicParser__.isArabicEndLetter=function(Me){return Ae(Me)&&Se(Me)&&e[Me.charCodeAt(0)].length<=2},Pe=t.__arabicParser__.isArabicAlfLetter=function(Me){return Ae(Me)&&Ee.indexOf(Me.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(Me){return Ae(Me)&&Se(Me)&&e[Me.charCodeAt(0)].length>=1};var Te=t.__arabicParser__.arabicLetterHasFinalForm=function(Me){return Ae(Me)&&Se(Me)&&e[Me.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(Me){return Ae(Me)&&Se(Me)&&e[Me.charCodeAt(0)].length>=3};var Ie=t.__arabicParser__.arabicLetterHasMedialForm=function(Me){return Ae(Me)&&Se(Me)&&e[Me.charCodeAt(0)].length==4},je=t.__arabicParser__.resolveLigatures=function(Me){var De=0,Ue=xe,ze="",We=0;for(De=0;De<Me.length;De+=1)Ue[Me.charCodeAt(De)]!==void 0?(We++,typeof(Ue=Ue[Me.charCodeAt(De)])=="number"&&(ze+=String.fromCharCode(Ue),Ue=xe,We=0),De===Me.length-1&&(Ue=xe,ze+=Me.charAt(De-(We-1)),De-=We-1,We=0)):(Ue=xe,ze+=Me.charAt(De-We),De-=We,We=0);return ze};t.__arabicParser__.isArabicDiacritic=function(Me){return Me!==void 0&&_e[Me.charCodeAt(0)]!==void 0};var Oe=t.__arabicParser__.getCorrectForm=function(Me,De,Ue){return Ae(Me)?Se(Me)===!1?-1:!Te(Me)||!Ae(De)&&!Ae(Ue)||!Ae(Ue)&&Re(De)||Re(Me)&&!Ae(De)||Re(Me)&&Pe(De)||Re(Me)&&Re(De)?0:Ie(Me)&&Ae(De)&&!Re(De)&&Ae(Ue)&&Te(Ue)?3:Re(Me)||!Ae(Ue)?1:2:-1},ke=function(Me){var De=0,Ue=0,ze=0,We="",Ye="",Xe="",ir=(Me=Me||"").split("\\s+"),Qe=[];for(De=0;De<ir.length;De+=1){for(Qe.push(""),Ue=0;Ue<ir[De].length;Ue+=1)We=ir[De][Ue],Ye=ir[De][Ue-1],Xe=ir[De][Ue+1],Ae(We)?(ze=Oe(We,Ye,Xe),Qe[De]+=ze!==-1?String.fromCharCode(e[We.charCodeAt(0)][ze]):We):Qe[De]+=We;Qe[De]=je(Qe[De])}return Qe.join(" ")},Fe=t.__arabicParser__.processArabic=t.processArabic=function(){var Me,De=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ue=[];if(Array.isArray(De)){var ze=0;for(Ue=[],ze=0;ze<De.length;ze+=1)Array.isArray(De[ze])?Ue.push([ke(De[ze][0]),De[ze][1],De[ze][2]]):Ue.push([ke(De[ze])]);Me=Ue}else Me=ke(De);return typeof arguments[0]=="string"?Me:(arguments[0].text=Me,arguments[0])};t.events.push(["preProcessText",Fe])}(E.API),E.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var xe=void 0;Object.defineProperty(this,"pdf",{get:function(){return xe},set:function(Re){xe=Re}});var _e=150;Object.defineProperty(this,"width",{get:function(){return _e},set:function(Re){_e=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?150:Re,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_e+1)}});var Ee=300;Object.defineProperty(this,"height",{get:function(){return Ee},set:function(Re){Ee=isNaN(Re)||Number.isInteger(Re)===!1||Re<0?300:Re,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Ee+1)}});var Se=[];Object.defineProperty(this,"childNodes",{get:function(){return Se},set:function(Re){Se=Re}});var Ae={};Object.defineProperty(this,"style",{get:function(){return Ae},set:function(Re){Ae=Re}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(xe,_e){var Ee;if((xe=xe||"2d")!=="2d")return null;for(Ee in _e)this.pdf.context2d.hasOwnProperty(Ee)&&(this.pdf.context2d[Ee]=_e[Ee]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(t){var e={left:0,top:0,bottom:0,right:0},xe=!1,_e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Ee.call(this))},Ee=function(){this.internal.__cell__.lastCell=new Se,this.internal.__cell__.pages=1},Se=function(){var Pe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(Me){Pe=Me}});var Te=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Me){Te=Me}});var Ie=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ie},set:function(Me){Ie=Me}});var je=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return je},set:function(Me){je=Me}});var Oe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Oe},set:function(Me){Oe=Me}});var ke=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return ke},set:function(Me){ke=Me}});var Fe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Fe},set:function(Me){Fe=Me}}),this};Se.prototype.clone=function(){return new Se(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Se.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(Pe){return _e.call(this),this.internal.__cell__.headerFunction=typeof Pe=="function"?Pe:void 0,this},t.getTextDimensions=function(Pe,Te){_e.call(this);var Ie=(Te=Te||{}).fontSize||this.getFontSize(),je=Te.font||this.getFont(),Oe=Te.scaleFactor||this.internal.scaleFactor,ke=0,Fe=0,Me=0,De=this;if(!Array.isArray(Pe)&&typeof Pe!="string"){if(typeof Pe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Pe=String(Pe)}var Ue=Te.maxWidth;Ue>0?typeof Pe=="string"?Pe=this.splitTextToSize(Pe,Ue):Object.prototype.toString.call(Pe)==="[object Array]"&&(Pe=Pe.reduce(function(We,Ye){return We.concat(De.splitTextToSize(Ye,Ue))},[])):Pe=Array.isArray(Pe)?Pe:[Pe];for(var ze=0;ze<Pe.length;ze++)ke<(Me=this.getStringUnitWidth(Pe[ze],{font:je})*Ie)&&(ke=Me);return ke!==0&&(Fe=Pe.length),{w:ke/=Oe,h:Math.max((Fe*Ie*this.getLineHeightFactor()-Ie*(this.getLineHeightFactor()-1))/Oe,0)}},t.cellAddPage=function(){_e.call(this),this.addPage();var Pe=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new Se(Pe.left,Pe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ae=t.cell=function(){var Pe;Pe=arguments[0]instanceof Se?arguments[0]:new Se(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_e.call(this);var Te=this.internal.__cell__.lastCell,Ie=this.internal.__cell__.padding,je=this.internal.__cell__.margins||e,Oe=this.internal.__cell__.tableHeaderRow,ke=this.internal.__cell__.printHeaders;return Te.lineNumber!==void 0&&(Te.lineNumber===Pe.lineNumber?(Pe.x=(Te.x||0)+(Te.width||0),Pe.y=Te.y||0):Te.y+Te.height+Pe.height+je.bottom>this.getPageHeight()?(this.cellAddPage(),Pe.y=je.top,ke&&Oe&&(this.printHeaderRow(Pe.lineNumber,!0),Pe.y+=Oe[0].height)):Pe.y=Te.y+Te.height||Pe.y),Pe.text[0]!==void 0&&(this.rect(Pe.x,Pe.y,Pe.width,Pe.height,xe===!0?"FD":void 0),Pe.align==="right"?this.text(Pe.text,Pe.x+Pe.width-Ie,Pe.y+Ie,{align:"right",baseline:"top"}):Pe.align==="center"?this.text(Pe.text,Pe.x+Pe.width/2,Pe.y+Ie,{align:"center",baseline:"top",maxWidth:Pe.width-Ie-Ie}):this.text(Pe.text,Pe.x+Ie,Pe.y+Ie,{align:"left",baseline:"top",maxWidth:Pe.width-Ie-Ie})),this.internal.__cell__.lastCell=Pe,this};t.table=function(Pe,Te,Ie,je,Oe){if(_e.call(this),!Ie)throw new Error("No data for PDF table.");var ke,Fe,Me,De,Ue=[],ze=[],We=[],Ye={},Xe={},ir=[],Qe=[],Ke=(Oe=Oe||{}).autoSize||!1,rr=Oe.printHeaders!==!1,cr=Oe.css&&Oe.css["font-size"]!==void 0?16*Oe.css["font-size"]:Oe.fontSize||12,Ze=Oe.margins||Object.assign({width:this.getPageWidth()},e),er=typeof Oe.padding=="number"?Oe.padding:3,sr=Oe.headerBackgroundColor||"#c8c8c8",fr=Oe.headerTextColor||"#000";if(Ee.call(this),this.internal.__cell__.printHeaders=rr,this.internal.__cell__.margins=Ze,this.internal.__cell__.table_font_size=cr,this.internal.__cell__.padding=er,this.internal.__cell__.headerBackgroundColor=sr,this.internal.__cell__.headerTextColor=fr,this.setFontSize(cr),je==null)ze=Ue=Object.keys(Ie[0]),We=Ue.map(function(){return"left"});else if(Array.isArray(je)&&_typeof(je[0])==="object")for(Ue=je.map(function(Cr){return Cr.name}),ze=je.map(function(Cr){return Cr.prompt||Cr.name||""}),We=je.map(function(Cr){return Cr.align||"left"}),ke=0;ke<je.length;ke+=1)Xe[je[ke].name]=je[ke].width*(19.049976/25.4);else Array.isArray(je)&&typeof je[0]=="string"&&(ze=Ue=je,We=Ue.map(function(){return"left"}));if(Ke||Array.isArray(je)&&typeof je[0]=="string")for(ke=0;ke<Ue.length;ke+=1){for(Ye[De=Ue[ke]]=Ie.map(function(Cr){return Cr[De]}),this.setFont(void 0,"bold"),ir.push(this.getTextDimensions(ze[ke],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Fe=Ye[De],this.setFont(void 0,"normal"),Me=0;Me<Fe.length;Me+=1)ir.push(this.getTextDimensions(Fe[Me],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Xe[De]=Math.max.apply(null,ir)+er+er,ir=[]}if(rr){var _r={};for(ke=0;ke<Ue.length;ke+=1)_r[Ue[ke]]={},_r[Ue[ke]].text=ze[ke],_r[Ue[ke]].align=We[ke];var Er=Re.call(this,_r,Xe);Qe=Ue.map(function(Cr){return new Se(Pe,Te,Xe[Cr],Er,_r[Cr].text,void 0,_r[Cr].align)}),this.setTableHeaderRow(Qe),this.printHeaderRow(1,!1)}var yr=je.reduce(function(Cr,wr){return Cr[wr.name]=wr.align,Cr},{});for(ke=0;ke<Ie.length;ke+=1){"rowStart"in Oe&&Oe.rowStart instanceof Function&&Oe.rowStart({row:ke,data:Ie[ke]},this);var mr=Re.call(this,Ie[ke],Xe);for(Me=0;Me<Ue.length;Me+=1){var Pr=Ie[ke][Ue[Me]];"cellStart"in Oe&&Oe.cellStart instanceof Function&&Oe.cellStart({row:ke,col:Me,data:Pr},this),Ae.call(this,new Se(Pe,Te,Xe[Ue[Me]],mr,Pr,ke+2,yr[Ue[Me]]))}}return this.internal.__cell__.table_x=Pe,this.internal.__cell__.table_y=Te,this};var Re=function(Pe,Te){var Ie=this.internal.__cell__.padding,je=this.internal.__cell__.table_font_size,Oe=this.internal.scaleFactor;return Object.keys(Pe).map(function(ke){var Fe=Pe[ke];return this.splitTextToSize(Fe.hasOwnProperty("text")?Fe.text:Fe,Te[ke]-Ie-Ie)},this).map(function(ke){return this.getLineHeightFactor()*ke.length*je/Oe+Ie+Ie},this).reduce(function(ke,Fe){return Math.max(ke,Fe)},0)};t.setTableHeaderRow=function(Pe){_e.call(this),this.internal.__cell__.tableHeaderRow=Pe},t.printHeaderRow=function(Pe,Te){if(_e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ie;if(xe=!0,typeof this.internal.__cell__.headerFunction=="function"){var je=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Se(je[0],je[1],je[2],je[3],void 0,-1)}this.setFont(void 0,"bold");for(var Oe=[],ke=0;ke<this.internal.__cell__.tableHeaderRow.length;ke+=1){Ie=this.internal.__cell__.tableHeaderRow[ke].clone(),Te&&(Ie.y=this.internal.__cell__.margins.top||0,Oe.push(Ie)),Ie.lineNumber=Pe;var Fe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ae.call(this,Ie),this.setTextColor(Fe)}Oe.length>0&&this.setTableHeaderRow(Oe),this.setFont(void 0,"normal"),xe=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),xe=function(Se){return Pt[Se=Se||"normal"]?Se:"normal"}(t.style),_e=function(Se){if(!Se)return 400;if(typeof Se=="number")return Se>=100&&Se<=900&&Se%100==0?Se:400;if(/^\d00$/.test(Se))return parseInt(Se);switch(Se){case"bold":return 700;case"normal":default:return 400}}(t.weight),Ee=function(Se){return typeof It[Se=Se||"normal"]=="number"?Se:"normal"}(t.stretch);return{family:e,style:xe,weight:_e,stretch:Ee,src:t.src||[],ref:t.ref||{name:e,style:[Ee,xe,_e].join(" ")}}}function Ot(t,e,xe,_e){var Ee;for(Ee=xe;Ee>=0&&Ee<e.length;Ee+=_e)if(t[e[Ee]])return t[e[Ee]];for(Ee=xe;Ee>=0&&Ee<e.length;Ee-=_e)if(t[e[Ee]])return t[e[Ee]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qt(t,e,xe){for(var _e=(xe=xe||{}).defaultFontFamily||"times",Ee=Object.assign({},Bt,xe.genericFontFamilies||{}),Se=null,Ae=null,Re=0;Re<e.length;++Re)if(Ee[(Se=jt(e[Re])).family]&&(Se.family=Ee[Se.family]),t.hasOwnProperty(Se.family)){Ae=t[Se.family];break}if(!(Ae=Ae||t[_e]))throw new Error("Could not find a font-family for the rule '"+Et(Se)+"' and default family '"+_e+"'.");if(Ae=function(Pe,Te){if(Te[Pe])return Te[Pe];var Ie=It[Pe],je=Ie<=It.normal?-1:1,Oe=Ot(Te,kt,Ie,je);if(!Oe)throw new Error("Could not find a matching font-stretch value for "+Pe);return Oe}(Se.stretch,Ae),Ae=function(Pe,Te){if(Te[Pe])return Te[Pe];for(var Ie=Pt[Pe],je=0;je<Ie.length;++je)if(Te[Ie[je]])return Te[Ie[je]];throw new Error("Could not find a matching font-style for "+Pe)}(Se.style,Ae),!(Ae=function(Pe,Te){if(Te[Pe])return Te[Pe];if(Pe===400&&Te[500])return Te[500];if(Pe===500&&Te[400])return Te[400];var Ie=Ct[Pe],je=Ot(Te,Ft,Ie,Pe<400?-1:1);if(!je)throw new Error("Could not find a matching font-weight for value "+Pe);return je}(Se.weight,Ae)))throw new Error("Failed to resolve a font for the rule '"+Et(Se)+"'.");return Ae}function Dt(t){return t.trimLeft()}function Rt(t,e){for(var xe=0;xe<t.length;){if(t.charAt(xe)===e)return[t.substring(0,xe),t.substring(xe+1)];xe+=1}return null}function Tt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(t){var e,xe,_e,Ee,Se,Ae,Re,Pe,Te,Ie=function(or){return or=or||{},this.isStrokeTransparent=or.isStrokeTransparent||!1,this.strokeOpacity=or.strokeOpacity||1,this.strokeStyle=or.strokeStyle||"#000000",this.fillStyle=or.fillStyle||"#000000",this.isFillTransparent=or.isFillTransparent||!1,this.fillOpacity=or.fillOpacity||1,this.font=or.font||"10px sans-serif",this.textBaseline=or.textBaseline||"alphabetic",this.textAlign=or.textAlign||"left",this.lineWidth=or.lineWidth||1,this.lineJoin=or.lineJoin||"miter",this.lineCap=or.lineCap||"butt",this.path=or.path||[],this.transform=or.transform!==void 0?or.transform.clone():new Pe,this.globalCompositeOperation=or.globalCompositeOperation||"normal",this.globalAlpha=or.globalAlpha||1,this.clip_path=or.clip_path||[],this.currentPoint=or.currentPoint||new Ae,this.miterLimit=or.miterLimit||10,this.lastPoint=or.lastPoint||new Ae,this.lineDashOffset=or.lineDashOffset||0,this.lineDash=or.lineDash||[],this.margin=or.margin||[0,0,0,0],this.prevPageLastElemOffset=or.prevPageLastElemOffset||0,this.ignoreClearRect=typeof or.ignoreClearRect!="boolean"||or.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new je(this),e=this.internal.f2,xe=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,Ee=this.internal.getHorizontalCoordinate,Se=this.internal.getVerticalCoordinate,Ae=this.internal.Point,Re=this.internal.Rectangle,Pe=this.internal.Matrix,Te=new Ie}]);var je=function(or){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var hr=or;Object.defineProperty(this,"pdf",{get:function(){return hr}});var br=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return br},set:function(un){br=!!un}});var Ir=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ir},set:function(un){Ir=!!un}});var jr=0;Object.defineProperty(this,"posX",{get:function(){return jr},set:function(un){isNaN(un)||(jr=un)}});var Mr=0;Object.defineProperty(this,"posY",{get:function(){return Mr},set:function(un){isNaN(un)||(Mr=un)}}),Object.defineProperty(this,"margin",{get:function(){return Te.margin},set:function(un){var Nr;typeof un=="number"?Nr=[un,un,un,un]:((Nr=new Array(4))[0]=un[0],Nr[1]=un.length>=2?un[1]:Nr[0],Nr[2]=un.length>=3?un[2]:Nr[0],Nr[3]=un.length>=4?un[3]:Nr[1]),Te.margin=Nr}});var Vr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Vr},set:function(un){Vr=un}});var Or=0;Object.defineProperty(this,"lastBreak",{get:function(){return Or},set:function(un){Or=un}});var Xr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xr},set:function(un){Xr=un}}),Object.defineProperty(this,"ctx",{get:function(){return Te},set:function(un){un instanceof Ie&&(Te=un)}}),Object.defineProperty(this,"path",{get:function(){return Te.path},set:function(un){Te.path=un}});var Qr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qr},set:function(un){Qr=un}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(un){var Nr;Nr=Oe(un),this.ctx.fillStyle=Nr.style,this.ctx.isFillTransparent=Nr.a===0,this.ctx.fillOpacity=Nr.a,this.pdf.setFillColor(Nr.r,Nr.g,Nr.b,{a:Nr.a}),this.pdf.setTextColor(Nr.r,Nr.g,Nr.b,{a:Nr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(un){var Nr=Oe(un);this.ctx.strokeStyle=Nr.style,this.ctx.isStrokeTransparent=Nr.a===0,this.ctx.strokeOpacity=Nr.a,Nr.a===0?this.pdf.setDrawColor(255,255,255):(Nr.a,this.pdf.setDrawColor(Nr.r,Nr.g,Nr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(un){["butt","round","square"].indexOf(un)!==-1&&(this.ctx.lineCap=un,this.pdf.setLineCap(un))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(un){isNaN(un)||(this.ctx.lineWidth=un,this.pdf.setLineWidth(un))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(un){["bevel","round","miter"].indexOf(un)!==-1&&(this.ctx.lineJoin=un,this.pdf.setLineJoin(un))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(un){isNaN(un)||(this.ctx.miterLimit=un,this.pdf.setMiterLimit(un))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(un){this.ctx.textBaseline=un}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(un){["right","end","center","left","start"].indexOf(un)!==-1&&(this.ctx.textAlign=un)}});var Fr=null;function xn(un,Nr){if(Fr===null){var Bn=function(Vn){var wn=[];return Object.keys(Vn).forEach(function(In){Vn[In].forEach(function(jn){var Nn=null;switch(jn){case"bold":Nn={family:In,weight:"bold"};break;case"italic":Nn={family:In,style:"italic"};break;case"bolditalic":Nn={family:In,weight:"bold",style:"italic"};break;case"":case"normal":Nn={family:In}}Nn!==null&&(Nn.ref={name:In,style:jn},wn.push(Nn))})}),wn}(un.getFontList());Fr=function(Vn){for(var wn={},In=0;In<Vn.length;++In){var jn=jt(Vn[In]),Nn=jn.family,zn=jn.stretch,Qn=jn.style,ni=jn.weight;wn[Nn]=wn[Nn]||{},wn[Nn][zn]=wn[Nn][zn]||{},wn[Nn][zn][Qn]=wn[Nn][zn][Qn]||{},wn[Nn][zn][Qn][ni]=jn}return wn}(Bn.concat(Nr))}return Fr}var An=null;Object.defineProperty(this,"fontFaces",{get:function(){return An},set:function(un){Fr=null,An=un}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(un){var Nr;if(this.ctx.font=un,(Nr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(un))!==null){var Bn=Nr[1];Nr[2];var Vn=Nr[3],wn=Nr[4];Nr[5];var In=Nr[6],jn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wn)[2];wn=Math.floor(jn==="px"?parseFloat(wn)*this.pdf.internal.scaleFactor:jn==="em"?parseFloat(wn)*this.pdf.getFontSize():parseFloat(wn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wn);var Nn=function(ti){var si,kn,Zi=[],mi=ti.trim();if(mi==="")return Wt;if(mi in Mt)return[Mt[mi]];for(;mi!=="";){switch(kn=null,si=(mi=Dt(mi)).charAt(0)){case'"':case"'":kn=Rt(mi.substring(1),si);break;default:kn=Tt(mi)}if(kn===null||(Zi.push(kn[0]),(mi=Dt(kn[1]))!==""&&mi.charAt(0)!==","))return Wt;mi=mi.replace(/^,/,"")}return Zi}(In);if(this.fontFaces){var zn=qt(xn(this.pdf,this.fontFaces),Nn.map(function(ti){return{family:ti,stretch:"normal",weight:Vn,style:Bn}}));this.pdf.setFont(zn.ref.name,zn.ref.style)}else{var Qn="";(Vn==="bold"||parseInt(Vn,10)>=700||Bn==="bold")&&(Qn="bold"),Bn==="italic"&&(Qn+="italic"),Qn.length===0&&(Qn="normal");for(var ni="",Yn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ei=0;ei<Nn.length;ei++){if(this.pdf.internal.getFont(Nn[ei],Qn,{noFallback:!0,disableWarning:!0})!==void 0){ni=Nn[ei];break}if(Qn==="bolditalic"&&this.pdf.internal.getFont(Nn[ei],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ni=Nn[ei],Qn="bold";else if(this.pdf.internal.getFont(Nn[ei],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ni=Nn[ei],Qn="normal";break}}if(ni===""){for(var hi=0;hi<Nn.length;hi++)if(Yn[Nn[hi]]){ni=Yn[Nn[hi]];break}}ni=ni===""?"Times":ni,this.pdf.setFont(ni,Qn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(un){this.ctx.globalCompositeOperation=un}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(un){this.ctx.globalAlpha=un}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(un){this.ctx.lineDashOffset=un,wr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(un){this.ctx.lineDash=un,wr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(un){this.ctx.ignoreClearRect=!!un}})};je.prototype.setLineDash=function(or){this.lineDash=or},je.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},je.prototype.fill=function(){Ye.call(this,"fill",!1)},je.prototype.stroke=function(){Ye.call(this,"stroke",!1)},je.prototype.beginPath=function(){this.path=[{type:"begin"}]},je.prototype.moveTo=function(or,hr){if(isNaN(or)||isNaN(hr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var br=this.ctx.transform.applyToPoint(new Ae(or,hr));this.path.push({type:"mt",x:br.x,y:br.y}),this.ctx.lastPoint=new Ae(or,hr)},je.prototype.closePath=function(){var or=new Ae(0,0),hr=0;for(hr=this.path.length-1;hr!==-1;hr--)if(this.path[hr].type==="begin"&&_typeof(this.path[hr+1])==="object"&&typeof this.path[hr+1].x=="number"){or=new Ae(this.path[hr+1].x,this.path[hr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ae(or.x,or.y)},je.prototype.lineTo=function(or,hr){if(isNaN(or)||isNaN(hr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var br=this.ctx.transform.applyToPoint(new Ae(or,hr));this.path.push({type:"lt",x:br.x,y:br.y}),this.ctx.lastPoint=new Ae(br.x,br.y)},je.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ye.call(this,null,!0)},je.prototype.quadraticCurveTo=function(or,hr,br,Ir){if(isNaN(br)||isNaN(Ir)||isNaN(or)||isNaN(hr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var jr=this.ctx.transform.applyToPoint(new Ae(br,Ir)),Mr=this.ctx.transform.applyToPoint(new Ae(or,hr));this.path.push({type:"qct",x1:Mr.x,y1:Mr.y,x:jr.x,y:jr.y}),this.ctx.lastPoint=new Ae(jr.x,jr.y)},je.prototype.bezierCurveTo=function(or,hr,br,Ir,jr,Mr){if(isNaN(jr)||isNaN(Mr)||isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Vr=this.ctx.transform.applyToPoint(new Ae(jr,Mr)),Or=this.ctx.transform.applyToPoint(new Ae(or,hr)),Xr=this.ctx.transform.applyToPoint(new Ae(br,Ir));this.path.push({type:"bct",x1:Or.x,y1:Or.y,x2:Xr.x,y2:Xr.y,x:Vr.x,y:Vr.y}),this.ctx.lastPoint=new Ae(Vr.x,Vr.y)},je.prototype.arc=function(or,hr,br,Ir,jr,Mr){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir)||isNaN(jr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Mr=!!Mr,!this.ctx.transform.isIdentity){var Vr=this.ctx.transform.applyToPoint(new Ae(or,hr));or=Vr.x,hr=Vr.y;var Or=this.ctx.transform.applyToPoint(new Ae(0,br)),Xr=this.ctx.transform.applyToPoint(new Ae(0,0));br=Math.sqrt(Math.pow(Or.x-Xr.x,2)+Math.pow(Or.y-Xr.y,2))}Math.abs(jr-Ir)>=2*Math.PI&&(Ir=0,jr=2*Math.PI),this.path.push({type:"arc",x:or,y:hr,radius:br,startAngle:Ir,endAngle:jr,counterclockwise:Mr})},je.prototype.arcTo=function(or,hr,br,Ir,jr){throw new Error("arcTo not implemented.")},je.prototype.rect=function(or,hr,br,Ir){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(or,hr),this.lineTo(or+br,hr),this.lineTo(or+br,hr+Ir),this.lineTo(or,hr+Ir),this.lineTo(or,hr),this.lineTo(or+br,hr),this.lineTo(or,hr)},je.prototype.fillRect=function(or,hr,br,Ir){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!ke.call(this)){var jr={};this.lineCap!=="butt"&&(jr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(jr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(or,hr,br,Ir),this.fill(),jr.hasOwnProperty("lineCap")&&(this.lineCap=jr.lineCap),jr.hasOwnProperty("lineJoin")&&(this.lineJoin=jr.lineJoin)}},je.prototype.strokeRect=function(or,hr,br,Ir){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Fe.call(this)||(this.beginPath(),this.rect(or,hr,br,Ir),this.stroke())},je.prototype.clearRect=function(or,hr,br,Ir){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(or,hr,br,Ir))},je.prototype.save=function(or){or=typeof or!="boolean"||or;for(var hr=this.pdf.internal.getCurrentPageInfo().pageNumber,br=0;br<this.pdf.internal.getNumberOfPages();br++)this.pdf.setPage(br+1),this.pdf.internal.out("q");if(this.pdf.setPage(hr),or){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ir=new Ie(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ir}},je.prototype.restore=function(or){or=typeof or!="boolean"||or;for(var hr=this.pdf.internal.getCurrentPageInfo().pageNumber,br=0;br<this.pdf.internal.getNumberOfPages();br++)this.pdf.setPage(br+1),this.pdf.internal.out("Q");this.pdf.setPage(hr),or&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},je.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Oe=function(or){var hr,br,Ir,jr;if(or.isCanvasGradient===!0&&(or=or.getColor()),!or)return{r:0,g:0,b:0,a:0,style:or};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(or))hr=0,br=0,Ir=0,jr=0;else{var Mr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(or);if(Mr!==null)hr=parseInt(Mr[1]),br=parseInt(Mr[2]),Ir=parseInt(Mr[3]),jr=1;else if((Mr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(or))!==null)hr=parseInt(Mr[1]),br=parseInt(Mr[2]),Ir=parseInt(Mr[3]),jr=parseFloat(Mr[4]);else{if(jr=1,typeof or=="string"&&or.charAt(0)!=="#"){var Vr=new f(or);or=Vr.ok?Vr.toHex():"#000000"}or.length===4?(hr=or.substring(1,2),hr+=hr,br=or.substring(2,3),br+=br,Ir=or.substring(3,4),Ir+=Ir):(hr=or.substring(1,3),br=or.substring(3,5),Ir=or.substring(5,7)),hr=parseInt(hr,16),br=parseInt(br,16),Ir=parseInt(Ir,16)}}return{r:hr,g:br,b:Ir,a:jr,style:or}},ke=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Fe=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};je.prototype.fillText=function(or,hr,br,Ir){if(isNaN(hr)||isNaN(br)||typeof or!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ir=isNaN(Ir)?void 0:Ir,!ke.call(this)){var jr=mr(this.ctx.transform.rotation),Mr=this.ctx.transform.scaleX;er.call(this,{text:or,x:hr,y:br,scale:Mr,angle:jr,align:this.textAlign,maxWidth:Ir})}},je.prototype.strokeText=function(or,hr,br,Ir){if(isNaN(hr)||isNaN(br)||typeof or!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Fe.call(this)){Ir=isNaN(Ir)?void 0:Ir;var jr=mr(this.ctx.transform.rotation),Mr=this.ctx.transform.scaleX;er.call(this,{text:or,x:hr,y:br,scale:Mr,renderingMode:"stroke",angle:jr,align:this.textAlign,maxWidth:Ir})}},je.prototype.measureText=function(or){if(typeof or!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var hr=this.pdf,br=this.pdf.internal.scaleFactor,Ir=hr.internal.getFontSize(),jr=hr.getStringUnitWidth(or)*Ir/hr.internal.scaleFactor,Mr=function(Vr){var Or=(Vr=Vr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Or}}),this};return new Mr({width:jr*=Math.round(96*br/72*1e4)/1e4})},je.prototype.scale=function(or,hr){if(isNaN(or)||isNaN(hr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var br=new Pe(or,0,0,hr,0,0);this.ctx.transform=this.ctx.transform.multiply(br)},je.prototype.rotate=function(or){if(isNaN(or))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var hr=new Pe(Math.cos(or),Math.sin(or),-Math.sin(or),Math.cos(or),0,0);this.ctx.transform=this.ctx.transform.multiply(hr)},je.prototype.translate=function(or,hr){if(isNaN(or)||isNaN(hr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var br=new Pe(1,0,0,1,or,hr);this.ctx.transform=this.ctx.transform.multiply(br)},je.prototype.transform=function(or,hr,br,Ir,jr,Mr){if(isNaN(or)||isNaN(hr)||isNaN(br)||isNaN(Ir)||isNaN(jr)||isNaN(Mr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Vr=new Pe(or,hr,br,Ir,jr,Mr);this.ctx.transform=this.ctx.transform.multiply(Vr)},je.prototype.setTransform=function(or,hr,br,Ir,jr,Mr){or=isNaN(or)?1:or,hr=isNaN(hr)?0:hr,br=isNaN(br)?0:br,Ir=isNaN(Ir)?1:Ir,jr=isNaN(jr)?0:jr,Mr=isNaN(Mr)?0:Mr,this.ctx.transform=new Pe(or,hr,br,Ir,jr,Mr)};var Me=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};je.prototype.drawImage=function(or,hr,br,Ir,jr,Mr,Vr,Or,Xr){var Qr=this.pdf.getImageProperties(or),Fr=1,xn=1,An=1,un=1;Ir!==void 0&&Or!==void 0&&(An=Or/Ir,un=Xr/jr,Fr=Qr.width/Ir*Or/Ir,xn=Qr.height/jr*Xr/jr),Mr===void 0&&(Mr=hr,Vr=br,hr=0,br=0),Ir!==void 0&&Or===void 0&&(Or=Ir,Xr=jr),Ir===void 0&&Or===void 0&&(Or=Qr.width,Xr=Qr.height);for(var Nr,Bn=this.ctx.transform.decompose(),Vn=mr(Bn.rotate.shx),wn=new Pe,In=(wn=(wn=(wn=wn.multiply(Bn.translate)).multiply(Bn.skew)).multiply(Bn.scale)).applyToRectangle(new Re(Mr-hr*An,Vr-br*un,Ir*Fr,jr*xn)),jn=De.call(this,In),Nn=[],zn=0;zn<jn.length;zn+=1)Nn.indexOf(jn[zn])===-1&&Nn.push(jn[zn]);if(We(Nn),this.autoPaging)for(var Qn=Nn[0],ni=Nn[Nn.length-1],Yn=Qn;Yn<ni+1;Yn++){this.pdf.setPage(Yn);var ei=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hi=Yn===1?this.posY+this.margin[0]:this.margin[0],ti=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],si=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kn=Yn===1?0:ti+(Yn-2)*si;if(this.ctx.clip_path.length!==0){var Zi=this.path;Nr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(Nr,this.posX+this.margin[3],-kn+hi+this.ctx.prevPageLastElemOffset),Xe.call(this,"fill",!0),this.path=Zi}var mi=JSON.parse(JSON.stringify(In));mi=ze([mi],this.posX+this.margin[3],-kn+hi+this.ctx.prevPageLastElemOffset)[0];var xo=(Yn>Qn||Yn<ni)&&Me.call(this);xo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ei,si,null).clip().discardPath()),this.pdf.addImage(or,"JPEG",mi.x,mi.y,mi.w,mi.h,null,null,Vn),xo&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(or,"JPEG",In.x,In.y,In.w,In.h,null,null,Vn)};var De=function(or,hr,br){var Ir=[];hr=hr||this.pdf.internal.pageSize.width,br=br||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var jr=this.posY+this.ctx.prevPageLastElemOffset;switch(or.type){default:case"mt":case"lt":Ir.push(Math.floor((or.y+jr)/br)+1);break;case"arc":Ir.push(Math.floor((or.y+jr-or.radius)/br)+1),Ir.push(Math.floor((or.y+jr+or.radius)/br)+1);break;case"qct":var Mr=Pr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,or.x1,or.y1,or.x,or.y);Ir.push(Math.floor((Mr.y+jr)/br)+1),Ir.push(Math.floor((Mr.y+Mr.h+jr)/br)+1);break;case"bct":var Vr=Cr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,or.x1,or.y1,or.x2,or.y2,or.x,or.y);Ir.push(Math.floor((Vr.y+jr)/br)+1),Ir.push(Math.floor((Vr.y+Vr.h+jr)/br)+1);break;case"rect":Ir.push(Math.floor((or.y+jr)/br)+1),Ir.push(Math.floor((or.y+or.h+jr)/br)+1)}for(var Or=0;Or<Ir.length;Or+=1)for(;this.pdf.internal.getNumberOfPages()<Ir[Or];)Ue.call(this);return Ir},Ue=function(){var or=this.fillStyle,hr=this.strokeStyle,br=this.font,Ir=this.lineCap,jr=this.lineWidth,Mr=this.lineJoin;this.pdf.addPage(),this.fillStyle=or,this.strokeStyle=hr,this.font=br,this.lineCap=Ir,this.lineWidth=jr,this.lineJoin=Mr},ze=function(or,hr,br){for(var Ir=0;Ir<or.length;Ir++)switch(or[Ir].type){case"bct":or[Ir].x2+=hr,or[Ir].y2+=br;case"qct":or[Ir].x1+=hr,or[Ir].y1+=br;case"mt":case"lt":case"arc":default:or[Ir].x+=hr,or[Ir].y+=br}return or},We=function(or){return or.sort(function(hr,br){return hr-br})},Ye=function(or,hr){for(var br,Ir,jr=this.fillStyle,Mr=this.strokeStyle,Vr=this.lineCap,Or=this.lineWidth,Xr=Math.abs(Or*this.ctx.transform.scaleX),Qr=this.lineJoin,Fr=JSON.parse(JSON.stringify(this.path)),xn=JSON.parse(JSON.stringify(this.path)),An=[],un=0;un<xn.length;un++)if(xn[un].x!==void 0)for(var Nr=De.call(this,xn[un]),Bn=0;Bn<Nr.length;Bn+=1)An.indexOf(Nr[Bn])===-1&&An.push(Nr[Bn]);for(var Vn=0;Vn<An.length;Vn++)for(;this.pdf.internal.getNumberOfPages()<An[Vn];)Ue.call(this);if(We(An),this.autoPaging)for(var wn=An[0],In=An[An.length-1],jn=wn;jn<In+1;jn++){this.pdf.setPage(jn),this.fillStyle=jr,this.strokeStyle=Mr,this.lineCap=Vr,this.lineWidth=Xr,this.lineJoin=Qr;var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zn=jn===1?this.posY+this.margin[0]:this.margin[0],Qn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ni=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yn=jn===1?0:Qn+(jn-2)*ni;if(this.ctx.clip_path.length!==0){var ei=this.path;br=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(br,this.posX+this.margin[3],-Yn+zn+this.ctx.prevPageLastElemOffset),Xe.call(this,or,!0),this.path=ei}if(Ir=JSON.parse(JSON.stringify(Fr)),this.path=ze(Ir,this.posX+this.margin[3],-Yn+zn+this.ctx.prevPageLastElemOffset),hr===!1||jn===0){var hi=(jn>wn||jn<In)&&Me.call(this);hi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,ni,null).clip().discardPath()),Xe.call(this,or,hr),hi&&this.pdf.restoreGraphicsState()}this.lineWidth=Or}else this.lineWidth=Xr,Xe.call(this,or,hr),this.lineWidth=Or;this.path=Fr},Xe=function(or,hr){if((or!=="stroke"||hr||!Fe.call(this))&&(or==="stroke"||hr||!ke.call(this))){for(var br,Ir,jr=[],Mr=this.path,Vr=0;Vr<Mr.length;Vr++){var Or=Mr[Vr];switch(Or.type){case"begin":jr.push({begin:!0});break;case"close":jr.push({close:!0});break;case"mt":jr.push({start:Or,deltas:[],abs:[]});break;case"lt":var Xr=jr.length;if(Mr[Vr-1]&&!isNaN(Mr[Vr-1].x)&&(br=[Or.x-Mr[Vr-1].x,Or.y-Mr[Vr-1].y],Xr>0)){for(;Xr>=0;Xr--)if(jr[Xr-1].close!==!0&&jr[Xr-1].begin!==!0){jr[Xr-1].deltas.push(br),jr[Xr-1].abs.push(Or);break}}break;case"bct":br=[Or.x1-Mr[Vr-1].x,Or.y1-Mr[Vr-1].y,Or.x2-Mr[Vr-1].x,Or.y2-Mr[Vr-1].y,Or.x-Mr[Vr-1].x,Or.y-Mr[Vr-1].y],jr[jr.length-1].deltas.push(br);break;case"qct":var Qr=Mr[Vr-1].x+2/3*(Or.x1-Mr[Vr-1].x),Fr=Mr[Vr-1].y+2/3*(Or.y1-Mr[Vr-1].y),xn=Or.x+2/3*(Or.x1-Or.x),An=Or.y+2/3*(Or.y1-Or.y),un=Or.x,Nr=Or.y;br=[Qr-Mr[Vr-1].x,Fr-Mr[Vr-1].y,xn-Mr[Vr-1].x,An-Mr[Vr-1].y,un-Mr[Vr-1].x,Nr-Mr[Vr-1].y],jr[jr.length-1].deltas.push(br);break;case"arc":jr.push({deltas:[],abs:[],arc:!0}),Array.isArray(jr[jr.length-1].abs)&&jr[jr.length-1].abs.push(Or)}}Ir=hr?null:or==="stroke"?"stroke":"fill";for(var Bn=!1,Vn=0;Vn<jr.length;Vn++)if(jr[Vn].arc)for(var wn=jr[Vn].abs,In=0;In<wn.length;In++){var jn=wn[In];jn.type==="arc"?Ke.call(this,jn.x,jn.y,jn.radius,jn.startAngle,jn.endAngle,jn.counterclockwise,void 0,hr,!Bn):sr.call(this,jn.x,jn.y),Bn=!0}else if(jr[Vn].close===!0)this.pdf.internal.out("h"),Bn=!1;else if(jr[Vn].begin!==!0){var Nn=jr[Vn].start.x,zn=jr[Vn].start.y;fr.call(this,jr[Vn].deltas,Nn,zn),Bn=!0}Ir&&rr.call(this,Ir),hr&&cr.call(this)}},ir=function(or){var hr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,br=hr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return or-br;case"top":return or+hr-br;case"hanging":return or+hr-2*br;case"middle":return or+hr/2-br;case"ideographic":return or;case"alphabetic":default:return or}},Qe=function(or){return or+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};je.prototype.createLinearGradient=function(){var or=function(){};return or.colorStops=[],or.addColorStop=function(hr,br){this.colorStops.push([hr,br])},or.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},or.isCanvasGradient=!0,or},je.prototype.createPattern=function(){return this.createLinearGradient()},je.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ke=function(or,hr,br,Ir,jr,Mr,Vr,Or,Xr){for(var Qr=Er.call(this,br,Ir,jr,Mr),Fr=0;Fr<Qr.length;Fr++){var xn=Qr[Fr];Fr===0&&(Xr?Ze.call(this,xn.x1+or,xn.y1+hr):sr.call(this,xn.x1+or,xn.y1+hr)),_r.call(this,or,hr,xn.x2,xn.y2,xn.x3,xn.y3,xn.x4,xn.y4)}Or?cr.call(this):rr.call(this,Vr)},rr=function(or){switch(or){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},cr=function(){this.pdf.clip(),this.pdf.discardPath()},Ze=function(or,hr){this.pdf.internal.out(xe(or)+" "+_e(hr)+" m")},er=function(or){var hr;switch(or.align){case"right":case"end":hr="right";break;case"center":hr="center";break;case"left":case"start":default:hr="left"}var br=this.pdf.getTextDimensions(or.text),Ir=ir.call(this,or.y),jr=Qe.call(this,Ir)-br.h,Mr=this.ctx.transform.applyToPoint(new Ae(or.x,Ir)),Vr=this.ctx.transform.decompose(),Or=new Pe;Or=(Or=(Or=Or.multiply(Vr.translate)).multiply(Vr.skew)).multiply(Vr.scale);for(var Xr,Qr,Fr,xn=this.ctx.transform.applyToRectangle(new Re(or.x,Ir,br.w,br.h)),An=Or.applyToRectangle(new Re(or.x,jr,br.w,br.h)),un=De.call(this,An),Nr=[],Bn=0;Bn<un.length;Bn+=1)Nr.indexOf(un[Bn])===-1&&Nr.push(un[Bn]);if(We(Nr),this.autoPaging)for(var Vn=Nr[0],wn=Nr[Nr.length-1],In=Vn;In<wn+1;In++){this.pdf.setPage(In);var jn=In===1?this.posY+this.margin[0]:this.margin[0],Nn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zn=this.pdf.internal.pageSize.height-this.margin[2],Qn=zn-this.margin[0],ni=this.pdf.internal.pageSize.width-this.margin[1],Yn=ni-this.margin[3],ei=In===1?0:Nn+(In-2)*Qn;if(this.ctx.clip_path.length!==0){var hi=this.path;Xr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ze(Xr,this.posX+this.margin[3],-1*ei+jn),Xe.call(this,"fill",!0),this.path=hi}var ti=ze([JSON.parse(JSON.stringify(An))],this.posX+this.margin[3],-ei+jn+this.ctx.prevPageLastElemOffset)[0];or.scale>=.01&&(Qr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qr*or.scale),Fr=this.lineWidth,this.lineWidth=Fr*or.scale);var si=this.autoPaging!=="text";if(si||ti.y+ti.h<=zn){if(si||ti.y>=jn&&ti.x<=ni){var kn=si?or.text:this.pdf.splitTextToSize(or.text,or.maxWidth||ni-ti.x)[0],Zi=ze([JSON.parse(JSON.stringify(xn))],this.posX+this.margin[3],-ei+jn+this.ctx.prevPageLastElemOffset)[0],mi=si&&(In>Vn||In<wn)&&Me.call(this);mi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yn,Qn,null).clip().discardPath()),this.pdf.text(kn,Zi.x,Zi.y,{angle:or.angle,align:hr,renderingMode:or.renderingMode}),mi&&this.pdf.restoreGraphicsState()}}else ti.y<zn&&(this.ctx.prevPageLastElemOffset+=zn-ti.y);or.scale>=.01&&(this.pdf.setFontSize(Qr),this.lineWidth=Fr)}else or.scale>=.01&&(Qr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qr*or.scale),Fr=this.lineWidth,this.lineWidth=Fr*or.scale),this.pdf.text(or.text,Mr.x+this.posX,Mr.y+this.posY,{angle:or.angle,align:hr,renderingMode:or.renderingMode,maxWidth:or.maxWidth}),or.scale>=.01&&(this.pdf.setFontSize(Qr),this.lineWidth=Fr)},sr=function(or,hr,br,Ir){br=br||0,Ir=Ir||0,this.pdf.internal.out(xe(or+br)+" "+_e(hr+Ir)+" l")},fr=function(or,hr,br){return this.pdf.lines(or,hr,br,null,null)},_r=function(or,hr,br,Ir,jr,Mr,Vr,Or){this.pdf.internal.out([e(Ee(br+or)),e(Se(Ir+hr)),e(Ee(jr+or)),e(Se(Mr+hr)),e(Ee(Vr+or)),e(Se(Or+hr)),"c"].join(" "))},Er=function(or,hr,br,Ir){for(var jr=2*Math.PI,Mr=Math.PI/2;hr>br;)hr-=jr;var Vr=Math.abs(br-hr);Vr<jr&&Ir&&(Vr=jr-Vr);for(var Or=[],Xr=Ir?-1:1,Qr=hr;Vr>1e-5;){var Fr=Qr+Xr*Math.min(Vr,Mr);Or.push(yr.call(this,or,Qr,Fr)),Vr-=Math.abs(Fr-Qr),Qr=Fr}return Or},yr=function(or,hr,br){var Ir=(br-hr)/2,jr=or*Math.cos(Ir),Mr=or*Math.sin(Ir),Vr=jr,Or=-Mr,Xr=Vr*Vr+Or*Or,Qr=Xr+Vr*jr+Or*Mr,Fr=4/3*(Math.sqrt(2*Xr*Qr)-Qr)/(Vr*Mr-Or*jr),xn=Vr-Fr*Or,An=Or+Fr*Vr,un=xn,Nr=-An,Bn=Ir+hr,Vn=Math.cos(Bn),wn=Math.sin(Bn);return{x1:or*Math.cos(hr),y1:or*Math.sin(hr),x2:xn*Vn-An*wn,y2:xn*wn+An*Vn,x3:un*Vn-Nr*wn,y3:un*wn+Nr*Vn,x4:or*Math.cos(br),y4:or*Math.sin(br)}},mr=function(or){return 180*or/Math.PI},Pr=function(or,hr,br,Ir,jr,Mr){var Vr=or+.5*(br-or),Or=hr+.5*(Ir-hr),Xr=jr+.5*(br-jr),Qr=Mr+.5*(Ir-Mr),Fr=Math.min(or,jr,Vr,Xr),xn=Math.max(or,jr,Vr,Xr),An=Math.min(hr,Mr,Or,Qr),un=Math.max(hr,Mr,Or,Qr);return new Re(Fr,An,xn-Fr,un-An)},Cr=function(or,hr,br,Ir,jr,Mr,Vr,Or){var Xr,Qr,Fr,xn,An,un,Nr,Bn,Vn,wn,In,jn,Nn,zn,Qn=br-or,ni=Ir-hr,Yn=jr-br,ei=Mr-Ir,hi=Vr-jr,ti=Or-Mr;for(Qr=0;Qr<41;Qr++)Vn=(Nr=(Fr=or+(Xr=Qr/40)*Qn)+Xr*((An=br+Xr*Yn)-Fr))+Xr*(An+Xr*(jr+Xr*hi-An)-Nr),wn=(Bn=(xn=hr+Xr*ni)+Xr*((un=Ir+Xr*ei)-xn))+Xr*(un+Xr*(Mr+Xr*ti-un)-Bn),Qr==0?(In=Vn,jn=wn,Nn=Vn,zn=wn):(In=Math.min(In,Vn),jn=Math.min(jn,wn),Nn=Math.max(Nn,Vn),zn=Math.max(zn,wn));return new Re(Math.round(In),Math.round(jn),Math.round(Nn-In),Math.round(zn-jn))},wr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var or,hr,br=(or=this.ctx.lineDash,hr=this.ctx.lineDashOffset,JSON.stringify({lineDash:or,lineDashOffset:hr}));this.prevLineDash!==br&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=br)}}})(E.API),function(t){var e=function(Se){var Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me;for(Re=[],Pe=0,Te=(Se+=Ae="\0\0\0\0".slice(Se.length%4||4)).length;Te>Pe;Pe+=4)(Ie=(Se.charCodeAt(Pe)<<24)+(Se.charCodeAt(Pe+1)<<16)+(Se.charCodeAt(Pe+2)<<8)+Se.charCodeAt(Pe+3))!==0?(je=(Ie=((Ie=((Ie=((Ie=(Ie-(Me=Ie%85))/85)-(Fe=Ie%85))/85)-(ke=Ie%85))/85)-(Oe=Ie%85))/85)%85,Re.push(je+33,Oe+33,ke+33,Fe+33,Me+33)):Re.push(122);return function(De,Ue){for(var ze=Ue;ze>0;ze--)De.pop()}(Re,Ae.length),String.fromCharCode.apply(String,Re)+"~>"},xe=function(Se){var Ae,Re,Pe,Te,Ie,je=String,Oe="length",ke=255,Fe="charCodeAt",Me="slice",De="replace";for(Se[Me](-2),Se=Se[Me](0,-2)[De](/\s/g,"")[De]("z","!!!!!"),Pe=[],Te=0,Ie=(Se+=Ae="uuuuu"[Me](Se[Oe]%5||5))[Oe];Ie>Te;Te+=5)Re=52200625*(Se[Fe](Te)-33)+614125*(Se[Fe](Te+1)-33)+7225*(Se[Fe](Te+2)-33)+85*(Se[Fe](Te+3)-33)+(Se[Fe](Te+4)-33),Pe.push(ke&Re>>24,ke&Re>>16,ke&Re>>8,ke&Re);return function(Ue,ze){for(var We=ze;We>0;We--)Ue.pop()}(Pe,Ae[Oe]),je.fromCharCode.apply(je,Pe)},_e=function(Se){var Ae=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Se=Se.replace(/\s/g,"")).indexOf(">")!==-1&&(Se=Se.substr(0,Se.indexOf(">"))),Se.length%2&&(Se+="0"),Ae.test(Se)===!1)return"";for(var Re="",Pe=0;Pe<Se.length;Pe+=2)Re+=String.fromCharCode("0x"+(Se[Pe]+Se[Pe+1]));return Re},Ee=function(Se){for(var Ae=new Uint8Array(Se.length),Re=Se.length;Re--;)Ae[Re]=Se.charCodeAt(Re);return Se=(Ae=zlibSync(Ae)).reduce(function(Pe,Te){return Pe+String.fromCharCode(Te)},"")};t.processDataByFilters=function(Se,Ae){var Re=0,Pe=Se||"",Te=[];for(typeof(Ae=Ae||[])=="string"&&(Ae=[Ae]),Re=0;Re<Ae.length;Re+=1)switch(Ae[Re]){case"ASCII85Decode":case"/ASCII85Decode":Pe=xe(Pe),Te.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Pe=e(Pe),Te.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Pe=_e(Pe),Te.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Pe=Pe.split("").map(function(Ie){return("0"+Ie.charCodeAt().toString(16)).slice(-2)}).join("")+">",Te.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Pe=Ee(Pe),Te.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ae[Re]+'" is not implemented')}return{data:Pe,reverseChain:Te.reverse().join(" ")}}}(E.API),function(t){t.loadFile=function(e,xe,_e){return function(Ee,Se,Ae){Se=Se!==!1,Ae=typeof Ae=="function"?Ae:function(){};var Re=void 0;try{Re=function(Pe,Te,Ie){var je=new XMLHttpRequest,Oe=0,ke=function(Fe){var Me=Fe.length,De=[],Ue=String.fromCharCode;for(Oe=0;Oe<Me;Oe+=1)De.push(Ue(255&Fe.charCodeAt(Oe)));return De.join("")};if(je.open("GET",Pe,!Te),je.overrideMimeType("text/plain; charset=x-user-defined"),Te===!1&&(je.onload=function(){je.status===200?Ie(ke(this.responseText)):Ie(void 0)}),je.send(null),Te&&je.status===200)return ke(je.responseText)}(Ee,Se,Ae)}catch{}return Re}(e,xe,_e)},t.loadImageFile=t.loadFile}(E.API),function(t){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(Ae){return Promise.reject(new Error("Could not load html2canvas: "+Ae))}).then(function(Ae){return Ae.default?Ae.default:Ae})}function xe(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(Ae){return Promise.reject(new Error("Could not load dompurify: "+Ae))}).then(function(Ae){return Ae.default?Ae.default:Ae})}var _e=function(Ae){var Re=_typeof(Ae);return Re==="undefined"?"undefined":Re==="string"||Ae instanceof String?"string":Re==="number"||Ae instanceof Number?"number":Re==="function"||Ae instanceof Function?"function":Ae&&Ae.constructor===Array?"array":Ae&&Ae.nodeType===1?"element":Re==="object"?"object":"unknown"},Ee=function(Ae,Re){var Pe=document.createElement(Ae);for(var Te in Re.className&&(Pe.className=Re.className),Re.innerHTML&&Re.dompurify&&(Pe.innerHTML=Re.dompurify.sanitize(Re.innerHTML)),Re.style)Pe.style[Te]=Re.style[Te];return Pe},Se=function Ae(Re){var Pe=Object.assign(Ae.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ae.template))),Te=Ae.convert(Promise.resolve(),Pe);return Te=(Te=Te.setProgress(1,Ae,1,[Ae])).set(Re)};(Se.prototype=Object.create(Promise.prototype)).constructor=Se,Se.convert=function(Ae,Re){return Ae.__proto__=Re||Se.prototype,Ae},Se.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Se.prototype.from=function(Ae,Re){return this.then(function(){switch(Re=Re||function(Pe){switch(_e(Pe)){case"string":return"string";case"element":return Pe.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ae)){case"string":return this.then(xe).then(function(Pe){return this.set({src:Ee("div",{innerHTML:Ae,dompurify:Pe})})});case"element":return this.set({src:Ae});case"canvas":return this.set({canvas:Ae});case"img":return this.set({img:Ae});default:return this.error("Unknown source type.")}})},Se.prototype.to=function(Ae){switch(Ae){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Se.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ae={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Re=function Pe(Te,Ie){for(var je=Te.nodeType===3?document.createTextNode(Te.nodeValue):Te.cloneNode(!1),Oe=Te.firstChild;Oe;Oe=Oe.nextSibling)Ie!==!0&&Oe.nodeType===1&&Oe.nodeName==="SCRIPT"||je.appendChild(Pe(Oe,Ie));return Te.nodeType===1&&(Te.nodeName==="CANVAS"?(je.width=Te.width,je.height=Te.height,je.getContext("2d").drawImage(Te,0,0)):Te.nodeName!=="TEXTAREA"&&Te.nodeName!=="SELECT"||(je.value=Te.value),je.addEventListener("load",function(){je.scrollTop=Te.scrollTop,je.scrollLeft=Te.scrollLeft},!0)),je}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Re.tagName==="BODY"&&(Ae.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Ee("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Ee("div",{className:"html2pdf__container",style:Ae}),this.prop.container.appendChild(Re),this.prop.container.firstChild.appendChild(Ee("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Se.prototype.toCanvas=function(){var Ae=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ae).then(e).then(function(Re){var Pe=Object.assign({},this.opt.html2canvas);return delete Pe.onrendered,Re(this.prop.container,Pe)}).then(function(Re){(this.opt.html2canvas.onrendered||function(){})(Re),this.prop.canvas=Re,document.body.removeChild(this.prop.overlay)})},Se.prototype.toContext2d=function(){var Ae=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ae).then(e).then(function(Re){var Pe=this.opt.jsPDF,Te=this.opt.fontFaces,Ie=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,je=Object.assign({async:!0,allowTaint:!0,scale:Ie,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete je.onrendered,Pe.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Pe.context2d.posX=this.opt.x,Pe.context2d.posY=this.opt.y,Pe.context2d.margin=this.opt.margin,Pe.context2d.fontFaces=Te,Te)for(var Oe=0;Oe<Te.length;++Oe){var ke=Te[Oe],Fe=ke.src.find(function(Me){return Me.format==="truetype"});Fe&&Pe.addFont(Fe.url,ke.ref.name,ke.ref.style)}return je.windowHeight=je.windowHeight||0,je.windowHeight=je.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):je.windowHeight,Pe.context2d.save(!0),Re(this.prop.container,je)}).then(function(Re){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Re),this.prop.canvas=Re,document.body.removeChild(this.prop.overlay)})},Se.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ae=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ae})},Se.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Se.prototype.output=function(Ae,Re,Pe){return(Pe=Pe||"pdf").toLowerCase()==="img"||Pe.toLowerCase()==="image"?this.outputImg(Ae,Re):this.outputPdf(Ae,Re)},Se.prototype.outputPdf=function(Ae,Re){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ae,Re)})},Se.prototype.outputImg=function(Ae){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ae){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ae+'" is not supported.'}})},Se.prototype.save=function(Ae){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ae?{filename:Ae}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Se.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Se.prototype.set=function(Ae){if(_e(Ae)!=="object")return this;var Re=Object.keys(Ae||{}).map(function(Pe){if(Pe in Se.template.prop)return function(){this.prop[Pe]=Ae[Pe]};switch(Pe){case"margin":return this.setMargin.bind(this,Ae.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ae.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ae.pageSize);default:return function(){this.opt[Pe]=Ae[Pe]}}},this);return this.then(function(){return this.thenList(Re)})},Se.prototype.get=function(Ae,Re){return this.then(function(){var Pe=Ae in Se.template.prop?this.prop[Ae]:this.opt[Ae];return Re?Re(Pe):Pe})},Se.prototype.setMargin=function(Ae){return this.then(function(){switch(_e(Ae)){case"number":Ae=[Ae,Ae,Ae,Ae];case"array":if(Ae.length===2&&(Ae=[Ae[0],Ae[1],Ae[0],Ae[1]]),Ae.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ae}).then(this.setPageSize)},Se.prototype.setPageSize=function(Ae){function Re(Pe,Te){return Math.floor(Pe*Te/72*96)}return this.then(function(){(Ae=Ae||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ae.inner={width:Ae.width-this.opt.margin[1]-this.opt.margin[3],height:Ae.height-this.opt.margin[0]-this.opt.margin[2]},Ae.inner.px={width:Re(Ae.inner.width,Ae.k),height:Re(Ae.inner.height,Ae.k)},Ae.inner.ratio=Ae.inner.height/Ae.inner.width),this.prop.pageSize=Ae})},Se.prototype.setProgress=function(Ae,Re,Pe,Te){return Ae!=null&&(this.progress.val=Ae),Re!=null&&(this.progress.state=Re),Pe!=null&&(this.progress.n=Pe),Te!=null&&(this.progress.stack=Te),this.progress.ratio=this.progress.val/this.progress.state,this},Se.prototype.updateProgress=function(Ae,Re,Pe,Te){return this.setProgress(Ae?this.progress.val+Ae:null,Re||null,Pe?this.progress.n+Pe:null,Te?this.progress.stack.concat(Te):null)},Se.prototype.then=function(Ae,Re){var Pe=this;return this.thenCore(Ae,Re,function(Te,Ie){return Pe.updateProgress(null,null,1,[Te]),Promise.prototype.then.call(this,function(je){return Pe.updateProgress(null,Te),je}).then(Te,Ie).then(function(je){return Pe.updateProgress(1),je})})},Se.prototype.thenCore=function(Ae,Re,Pe){Pe=Pe||Promise.prototype.then,Ae&&(Ae=Ae.bind(this)),Re&&(Re=Re.bind(this));var Te=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Se.convert(Object.assign({},this),Promise.prototype),Ie=Pe.call(Te,Ae,Re);return Se.convert(Ie,this.__proto__)},Se.prototype.thenExternal=function(Ae,Re){return Promise.prototype.then.call(this,Ae,Re)},Se.prototype.thenList=function(Ae){var Re=this;return Ae.forEach(function(Pe){Re=Re.thenCore(Pe)}),Re},Se.prototype.catch=function(Ae){Ae&&(Ae=Ae.bind(this));var Re=Promise.prototype.catch.call(this,Ae);return Se.convert(Re,this)},Se.prototype.catchExternal=function(Ae){return Promise.prototype.catch.call(this,Ae)},Se.prototype.error=function(Ae){return this.then(function(){throw new Error(Ae)})},Se.prototype.using=Se.prototype.set,Se.prototype.saveAs=Se.prototype.save,Se.prototype.export=Se.prototype.output,Se.prototype.run=Se.prototype.then,E.getPageSize=function(Ae,Re,Pe){if(_typeof(Ae)==="object"){var Te=Ae;Ae=Te.orientation,Re=Te.unit||Re,Pe=Te.format||Pe}Re=Re||"mm",Pe=Pe||"a4",Ae=(""+(Ae||"P")).toLowerCase();var Ie,je=(""+Pe).toLowerCase(),Oe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Re){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=.75;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:throw"Invalid unit: "+Re}var ke,Fe=0,Me=0;if(Oe.hasOwnProperty(je))Fe=Oe[je][1]/Ie,Me=Oe[je][0]/Ie;else try{Fe=Pe[1],Me=Pe[0]}catch{throw new Error("Invalid format: "+Pe)}if(Ae==="p"||Ae==="portrait")Ae="p",Me>Fe&&(ke=Me,Me=Fe,Fe=ke);else{if(Ae!=="l"&&Ae!=="landscape")throw"Invalid orientation: "+Ae;Ae="l",Fe>Me&&(ke=Me,Me=Fe,Fe=ke)}return{width:Me,height:Fe,unit:Re,k:Ie,orientation:Ae}},t.html=function(Ae,Re){(Re=Re||{}).callback=Re.callback||function(){},Re.html2canvas=Re.html2canvas||{},Re.html2canvas.canvas=Re.html2canvas.canvas||this.canvas,Re.jsPDF=Re.jsPDF||this,Re.fontFaces=Re.fontFaces?Re.fontFaces.map(jt):null;var Pe=new Se(Re);return Re.worker?Pe:Pe.from(Ae).doCallback()}}(E.API),E.API.addJS=function(t){return Ht=t,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var xe=this,_e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Ee=xe.outline.render().split(/\r\n/),Se=0;Se<Ee.length;Se++){var Ae=Ee[Se],Re=_e.exec(Ae);if(Re!=null){var Pe=Re[1];xe.internal.newObjectDeferredBegin(Pe,!1)}xe.internal.write(Ae)}if(this.outline.createNamedDestinations){var Te=this.internal.pages.length,Ie=[];for(Se=0;Se<Te;Se++){var je=xe.internal.newObject();Ie.push(je);var Oe=xe.internal.getPageInfo(Se+1);xe.internal.write("<< /D["+Oe.objId+" 0 R /XYZ null null null]>> endobj")}var ke=xe.internal.newObject();for(xe.internal.write("<< /Names [ "),Se=0;Se<Ie.length;Se++)xe.internal.write("(page_"+(Se+1)+")"+Ie[Se]+" 0 R");xe.internal.write(" ] >>","endobj"),e=xe.internal.newObject(),xe.internal.write("<< /Dests "+ke+" 0 R"),xe.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var xe=this;xe.outline={createNamedDestinations:!1,root:{children:[]}},xe.outline.add=function(_e,Ee,Se){var Ae={title:Ee,options:Se,children:[]};return _e==null&&(_e=this.root),_e.children.push(Ae),Ae},xe.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=xe,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},xe.outline.genIds_r=function(_e){_e.id=xe.internal.newObjectDeferred();for(var Ee=0;Ee<_e.children.length;Ee++)this.genIds_r(_e.children[Ee])},xe.outline.renderRoot=function(_e){this.objStart(_e),this.line("/Type /Outlines"),_e.children.length>0&&(this.line("/First "+this.makeRef(_e.children[0])),this.line("/Last "+this.makeRef(_e.children[_e.children.length-1]))),this.line("/Count "+this.count_r({count:0},_e)),this.objEnd()},xe.outline.renderItems=function(_e){for(var Ee=this.ctx.pdf.internal.getVerticalCoordinateString,Se=0;Se<_e.children.length;Se++){var Ae=_e.children[Se];this.objStart(Ae),this.line("/Title "+this.makeString(Ae.title)),this.line("/Parent "+this.makeRef(_e)),Se>0&&this.line("/Prev "+this.makeRef(_e.children[Se-1])),Se<_e.children.length-1&&this.line("/Next "+this.makeRef(_e.children[Se+1])),Ae.children.length>0&&(this.line("/First "+this.makeRef(Ae.children[0])),this.line("/Last "+this.makeRef(Ae.children[Ae.children.length-1])));var Re=this.count=this.count_r({count:0},Ae);if(Re>0&&this.line("/Count "+Re),Ae.options&&Ae.options.pageNumber){var Pe=xe.internal.getPageInfo(Ae.options.pageNumber);this.line("/Dest ["+Pe.objId+" 0 R /XYZ 0 "+Ee(0)+" 0]")}this.objEnd()}for(var Te=0;Te<_e.children.length;Te++)this.renderItems(_e.children[Te])},xe.outline.line=function(_e){this.ctx.val+=_e+`\r
`},xe.outline.makeRef=function(_e){return _e.id+" 0 R"},xe.outline.makeString=function(_e){return"("+xe.internal.pdfEscape(_e)+")"},xe.outline.objStart=function(_e){this.ctx.val+=`\r
`+_e.id+` 0 obj\r
<<\r
`},xe.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},xe.outline.count_r=function(_e,Ee){for(var Se=0;Se<Ee.children.length;Se++)_e.count++,this.count_r(_e,Ee.children[Se]);return _e.count}}])}(E.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(xe,_e,Ee,Se,Ae,Re){var Pe,Te=this.decode.DCT_DECODE,Ie=null;if(typeof xe=="string"||this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe)){switch(xe=Ae||xe,xe=this.__addimage__.isArrayBuffer(xe)?new Uint8Array(xe):xe,(Pe=function(je){for(var Oe,ke=256*je.charCodeAt(4)+je.charCodeAt(5),Fe=je.length,Me={width:0,height:0,numcomponents:1},De=4;De<Fe;De+=2){if(De+=ke,e.indexOf(je.charCodeAt(De+1))!==-1){Oe=256*je.charCodeAt(De+5)+je.charCodeAt(De+6),Me={width:256*je.charCodeAt(De+7)+je.charCodeAt(De+8),height:Oe,numcomponents:je.charCodeAt(De+9)};break}ke=256*je.charCodeAt(De+2)+je.charCodeAt(De+3)}return Me}(xe=this.__addimage__.isArrayBufferView(xe)?this.__addimage__.arrayBufferToBinaryString(xe):xe)).numcomponents){case 1:Re=this.color_spaces.DEVICE_GRAY;break;case 4:Re=this.color_spaces.DEVICE_CMYK;break;case 3:Re=this.color_spaces.DEVICE_RGB}Ie={data:xe,width:Pe.width,height:Pe.height,colorSpace:Re,bitsPerComponent:8,filter:Te,index:_e,alias:Ee}}return Ie}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var t,e,xe;function _e(Se){var Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue,ze,We;for(this.data=Se,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},je=null;;){switch(Ae=this.readUInt32(),Fe=(function(){var Ye,Xe;for(Xe=[],Ye=0;Ye<4;++Ye)Xe.push(String.fromCharCode(this.data[this.pos++]));return Xe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ae);break;case"fcTL":je&&this.animation.frames.push(je),this.pos+=4,je={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},Ie=this.readUInt16(),Te=this.readUInt16()||100,je.delay=1e3*Ie/Te,je.disposeOp=this.data[this.pos++],je.blendOp=this.data[this.pos++],je.data=[];break;case"IDAT":case"fdAT":for(Fe==="fdAT"&&(this.pos+=4,Ae-=4),Se=(je!=null?je.data:void 0)||this.imgData,Ue=0;0<=Ae?Ue<Ae:Ue>Ae;0<=Ae?++Ue:--Ue)Se.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Pe=this.palette.length/3,this.transparency.indexed=this.read(Ae),this.transparency.indexed.length>Pe)throw new Error("More transparent colors than palette size");if((Me=Pe-this.transparency.indexed.length)>0)for(ze=0;0<=Me?ze<Me:ze>Me;0<=Me?++ze:--ze)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ae)[0];break;case 2:this.transparency.rgb=this.read(Ae)}break;case"tEXt":Oe=(De=this.read(Ae)).indexOf(0),ke=String.fromCharCode.apply(String,De.slice(0,Oe)),this.text[ke]=String.fromCharCode.apply(String,De.slice(Oe+1));break;case"IEND":return je&&this.animation.frames.push(je),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(We=this.colorType)===4||We===6,Re=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Re,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ae}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_e.prototype.read=function(Se){var Ae,Re;for(Re=[],Ae=0;0<=Se?Ae<Se:Ae>Se;0<=Se?++Ae:--Ae)Re.push(this.data[this.pos++]);return Re},_e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_e.prototype.decodePixels=function(Se){var Ae=this.pixelBitlength/8,Re=new Uint8Array(this.width*this.height*Ae),Pe=0,Te=this;if(Se==null&&(Se=this.imgData),Se.length===0)return new Uint8Array(0);function Ie(je,Oe,ke,Fe){var Me,De,Ue,ze,We,Ye,Xe,ir,Qe,Ke,rr,cr,Ze,er,sr,fr,_r,Er,yr,mr,Pr,Cr=Math.ceil((Te.width-je)/ke),wr=Math.ceil((Te.height-Oe)/Fe),or=Te.width==Cr&&Te.height==wr;for(er=Ae*Cr,cr=or?Re:new Uint8Array(er*wr),Ye=Se.length,Ze=0,De=0;Ze<wr&&Pe<Ye;){switch(Se[Pe++]){case 0:for(ze=_r=0;_r<er;ze=_r+=1)cr[De++]=Se[Pe++];break;case 1:for(ze=Er=0;Er<er;ze=Er+=1)Me=Se[Pe++],We=ze<Ae?0:cr[De-Ae],cr[De++]=(Me+We)%256;break;case 2:for(ze=yr=0;yr<er;ze=yr+=1)Me=Se[Pe++],Ue=(ze-ze%Ae)/Ae,sr=Ze&&cr[(Ze-1)*er+Ue*Ae+ze%Ae],cr[De++]=(sr+Me)%256;break;case 3:for(ze=mr=0;mr<er;ze=mr+=1)Me=Se[Pe++],Ue=(ze-ze%Ae)/Ae,We=ze<Ae?0:cr[De-Ae],sr=Ze&&cr[(Ze-1)*er+Ue*Ae+ze%Ae],cr[De++]=(Me+Math.floor((We+sr)/2))%256;break;case 4:for(ze=Pr=0;Pr<er;ze=Pr+=1)Me=Se[Pe++],Ue=(ze-ze%Ae)/Ae,We=ze<Ae?0:cr[De-Ae],Ze===0?sr=fr=0:(sr=cr[(Ze-1)*er+Ue*Ae+ze%Ae],fr=Ue&&cr[(Ze-1)*er+(Ue-1)*Ae+ze%Ae]),Xe=We+sr-fr,ir=Math.abs(Xe-We),Ke=Math.abs(Xe-sr),rr=Math.abs(Xe-fr),Qe=ir<=Ke&&ir<=rr?We:Ke<=rr?sr:fr,cr[De++]=(Me+Qe)%256;break;default:throw new Error("Invalid filter algorithm: "+Se[Pe-1])}if(!or){var hr=((Oe+Ze*Fe)*Te.width+je)*Ae,br=Ze*er;for(ze=0;ze<Cr;ze+=1){for(var Ir=0;Ir<Ae;Ir+=1)Re[hr++]=cr[br++];hr+=(ke-1)*Ae}}Ze++}}return Se=unzlibSync(Se),Te.interlaceMethod==1?(Ie(0,0,8,8),Ie(4,0,8,8),Ie(0,4,4,8),Ie(2,0,4,4),Ie(0,2,2,4),Ie(1,0,2,2),Ie(0,1,1,2)):Ie(0,0,1,1),Re},_e.prototype.decodePalette=function(){var Se,Ae,Re,Pe,Te,Ie,je,Oe,ke;for(Re=this.palette,Ie=this.transparency.indexed||[],Te=new Uint8Array((Ie.length||0)+Re.length),Pe=0,Se=0,Ae=je=0,Oe=Re.length;je<Oe;Ae=je+=3)Te[Pe++]=Re[Ae],Te[Pe++]=Re[Ae+1],Te[Pe++]=Re[Ae+2],Te[Pe++]=(ke=Ie[Se++])!=null?ke:255;return Te},_e.prototype.copyToImageData=function(Se,Ae){var Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue;if(Pe=this.colors,Me=null,Re=this.hasAlphaChannel,this.palette.length&&(Me=(Ue=this._decodedPalette)!=null?Ue:this._decodedPalette=this.decodePalette(),Pe=4,Re=!0),Fe=(Te=Se.data||Se).length,je=Me||Ae,Ie=Oe=0,Pe===1)for(;Ie<Fe;)ke=Me?4*Ae[Ie/4]:Oe,De=je[ke++],Te[Ie++]=De,Te[Ie++]=De,Te[Ie++]=De,Te[Ie++]=Re?je[ke++]:255,Oe=ke;else for(;Ie<Fe;)ke=Me?4*Ae[Ie/4]:Oe,Te[Ie++]=je[ke++],Te[Ie++]=je[ke++],Te[Ie++]=je[ke++],Te[Ie++]=Re?je[ke++]:255,Oe=ke},_e.prototype.decode=function(){var Se;return Se=new Uint8Array(this.width*this.height*4),this.copyToImageData(Se,this.decodePixels()),Se};var Ee=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),xe=e.getContext("2d")}catch{return!1}return!0}return!1};return Ee(),t=function(Se){var Ae;if(Ee()===!0)return xe.width=Se.width,xe.height=Se.height,xe.clearRect(0,0,Se.width,Se.height),xe.putImageData(Se,0,0),(Ae=new Image).src=e.toDataURL(),Ae;throw new Error("This method requires a Browser with Canvas-capability.")},_e.prototype.decodeFrames=function(Se){var Ae,Re,Pe,Te,Ie,je,Oe,ke;if(this.animation){for(ke=[],Re=Ie=0,je=(Oe=this.animation.frames).length;Ie<je;Re=++Ie)Ae=Oe[Re],Pe=Se.createImageData(Ae.width,Ae.height),Te=this.decodePixels(new Uint8Array(Ae.data)),this.copyToImageData(Pe,Te),Ae.imageData=Pe,ke.push(Ae.image=t(Pe));return ke}},_e.prototype.renderFrame=function(Se,Ae){var Re,Pe,Te;return Re=(Pe=this.animation.frames)[Ae],Te=Pe[Ae-1],Ae===0&&Se.clearRect(0,0,this.width,this.height),(Te!=null?Te.disposeOp:void 0)===1?Se.clearRect(Te.xOffset,Te.yOffset,Te.width,Te.height):(Te!=null?Te.disposeOp:void 0)===2&&Se.putImageData(Te.imageData,Te.xOffset,Te.yOffset),Re.blendOp===0&&Se.clearRect(Re.xOffset,Re.yOffset,Re.width,Re.height),Se.drawImage(Re.image,Re.xOffset,Re.yOffset)},_e.prototype.animate=function(Se){var Ae,Re,Pe,Te,Ie,je,Oe=this;return Re=0,je=this.animation,Te=je.numFrames,Pe=je.frames,Ie=je.numPlays,(Ae=function(){var ke,Fe;if(ke=Re++%Te,Fe=Pe[ke],Oe.renderFrame(Se,ke),Te>1&&Re/Te<Ie)return Oe.animation._timeout=setTimeout(Ae,Fe.delay)})()},_e.prototype.stopAnimation=function(){var Se;return clearTimeout((Se=this.animation)!=null?Se._timeout:void 0)},_e.prototype.render=function(Se){var Ae,Re;return Se._png&&Se._png.stopAnimation(),Se._png=this,Se.width=this.width,Se.height=this.height,Ae=Se.getContext("2d"),this.animation?(this.decodeFrames(Ae),this.animate(Ae)):(Re=Ae.createImageData(this.width,this.height),this.copyToImageData(Re,this.decodePixels()),Ae.putImageData(Re,0,0))},_e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var xe=t[e++]|t[e++]<<8,_e=t[e++]|t[e++]<<8,Ee=t[e++],Se=Ee>>7,Ae=1<<(7&Ee)+1;t[e++],t[e++];var Re=null,Pe=null;Se&&(Re=e,Pe=Ae,e+=3*Ae);var Te=!0,Ie=[],je=0,Oe=null,ke=0,Fe=null;for(this.width=xe,this.height=_e;Te&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,Fe=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((Ze=t[e++])>=0))throw Error("Invalid block size");if(Ze===0)break;e+=Ze}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var Me=t[e++];je=t[e++]|t[e++]<<8,Oe=t[e++],(1&Me)==0&&(Oe=null),ke=Me>>2&7,e++;break;case 254:for(;;){if(!((Ze=t[e++])>=0))throw Error("Invalid block size");if(Ze===0)break;e+=Ze}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var De=t[e++]|t[e++]<<8,Ue=t[e++]|t[e++]<<8,ze=t[e++]|t[e++]<<8,We=t[e++]|t[e++]<<8,Ye=t[e++],Xe=Ye>>6&1,ir=1<<(7&Ye)+1,Qe=Re,Ke=Pe,rr=!1;Ye>>7&&(rr=!0,Qe=e,Ke=ir,e+=3*ir);var cr=e;for(e++;;){var Ze;if(!((Ze=t[e++])>=0))throw Error("Invalid block size");if(Ze===0)break;e+=Ze}Ie.push({x:De,y:Ue,width:ze,height:We,has_local_palette:rr,palette_offset:Qe,palette_size:Ke,data_offset:cr,data_length:e-cr,transparent_index:Oe,interlaced:!!Xe,delay:je,disposal:ke});break;case 59:Te=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return Ie.length},this.loopCount=function(){return Fe},this.frameInfo=function(er){if(er<0||er>=Ie.length)throw new Error("Frame index out of range.");return Ie[er]},this.decodeAndBlitFrameBGRA=function(er,sr){var fr=this.frameInfo(er),_r=fr.width*fr.height,Er=new Uint8Array(_r);$t(t,fr.data_offset,Er,_r);var yr=fr.palette_offset,mr=fr.transparent_index;mr===null&&(mr=256);var Pr=fr.width,Cr=xe-Pr,wr=Pr,or=4*(fr.y*xe+fr.x),hr=4*((fr.y+fr.height)*xe+fr.x),br=or,Ir=4*Cr;fr.interlaced===!0&&(Ir+=4*xe*7);for(var jr=8,Mr=0,Vr=Er.length;Mr<Vr;++Mr){var Or=Er[Mr];if(wr===0&&(wr=Pr,(br+=Ir)>=hr&&(Ir=4*Cr+4*xe*(jr-1),br=or+(Pr+Cr)*(jr<<1),jr>>=1)),Or===mr)br+=4;else{var Xr=t[yr+3*Or],Qr=t[yr+3*Or+1],Fr=t[yr+3*Or+2];sr[br++]=Fr,sr[br++]=Qr,sr[br++]=Xr,sr[br++]=255}--wr}},this.decodeAndBlitFrameRGBA=function(er,sr){var fr=this.frameInfo(er),_r=fr.width*fr.height,Er=new Uint8Array(_r);$t(t,fr.data_offset,Er,_r);var yr=fr.palette_offset,mr=fr.transparent_index;mr===null&&(mr=256);var Pr=fr.width,Cr=xe-Pr,wr=Pr,or=4*(fr.y*xe+fr.x),hr=4*((fr.y+fr.height)*xe+fr.x),br=or,Ir=4*Cr;fr.interlaced===!0&&(Ir+=4*xe*7);for(var jr=8,Mr=0,Vr=Er.length;Mr<Vr;++Mr){var Or=Er[Mr];if(wr===0&&(wr=Pr,(br+=Ir)>=hr&&(Ir=4*Cr+4*xe*(jr-1),br=or+(Pr+Cr)*(jr<<1),jr>>=1)),Or===mr)br+=4;else{var Xr=t[yr+3*Or],Qr=t[yr+3*Or+1],Fr=t[yr+3*Or+2];sr[br++]=Xr,sr[br++]=Qr,sr[br++]=Fr,sr[br++]=255}--wr}}}function $t(t,e,xe,_e){for(var Ee=t[e++],Se=1<<Ee,Ae=Se+1,Re=Ae+1,Pe=Ee+1,Te=(1<<Pe)-1,Ie=0,je=0,Oe=0,ke=t[e++],Fe=new Int32Array(4096),Me=null;;){for(;Ie<16&&ke!==0;)je|=t[e++]<<Ie,Ie+=8,ke===1?ke=t[e++]:--ke;if(Ie<Pe)break;var De=je&Te;if(je>>=Pe,Ie-=Pe,De!==Se){if(De===Ae)break;for(var Ue=De<Re?De:Me,ze=0,We=Ue;We>Se;)We=Fe[We]>>8,++ze;var Ye=We;if(Oe+ze+(Ue!==De?1:0)>_e)return void a.log("Warning, gif stream longer than expected.");xe[Oe++]=Ye;var Xe=Oe+=ze;for(Ue!==De&&(xe[Oe++]=Ye),We=Ue;ze--;)We=Fe[We],xe[--Xe]=255&We,We>>=8;Me!==null&&Re<4096&&(Fe[Re++]=Me<<8|Ye,Re>=Te+1&&Pe<12&&(++Pe,Te=Te<<1|1)),Me=De}else Re=Ae+1,Te=(1<<(Pe=Ee+1))-1,Me=null}return Oe!==_e&&a.log("Warning, gif stream shorter than expected."),xe}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(t){var e,xe,_e,Ee,Se,Ae=Math.floor,Re=new Array(64),Pe=new Array(64),Te=new Array(64),Ie=new Array(64),je=new Array(65535),Oe=new Array(65535),ke=new Array(64),Fe=new Array(64),Me=[],De=0,Ue=7,ze=new Array(64),We=new Array(64),Ye=new Array(64),Xe=new Array(256),ir=new Array(2048),Qe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ke=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],rr=[0,1,2,3,4,5,6,7,8,9,10,11],cr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ze=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],er=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],sr=[0,1,2,3,4,5,6,7,8,9,10,11],fr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_r=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Er(or,hr){for(var br=0,Ir=0,jr=new Array,Mr=1;Mr<=16;Mr++){for(var Vr=1;Vr<=or[Mr];Vr++)jr[hr[Ir]]=[],jr[hr[Ir]][0]=br,jr[hr[Ir]][1]=Mr,Ir++,br++;br*=2}return jr}function yr(or){for(var hr=or[0],br=or[1]-1;br>=0;)hr&1<<br&&(De|=1<<Ue),br--,--Ue<0&&(De==255?(mr(255),mr(0)):mr(De),Ue=7,De=0)}function mr(or){Me.push(or)}function Pr(or){mr(or>>8&255),mr(255&or)}function Cr(or,hr,br,Ir,jr){for(var Mr,Vr=jr[0],Or=jr[240],Xr=function(wn,In){var jn,Nn,zn,Qn,ni,Yn,ei,hi,ti,si,kn=0;for(ti=0;ti<8;++ti){jn=wn[kn],Nn=wn[kn+1],zn=wn[kn+2],Qn=wn[kn+3],ni=wn[kn+4],Yn=wn[kn+5],ei=wn[kn+6];var Zi=jn+(hi=wn[kn+7]),mi=jn-hi,xo=Nn+ei,bi=Nn-ei,Pi=zn+Yn,zo=zn-Yn,gi=Qn+ni,ys=Qn-ni,Ii=Zi+gi,eo=Zi-gi,_o=xo+Pi,Li=xo-Pi;wn[kn]=Ii+_o,wn[kn+4]=Ii-_o;var Jn=.707106781*(Li+eo);wn[kn+2]=eo+Jn,wn[kn+6]=eo-Jn;var vi=.382683433*((Ii=ys+zo)-(Li=bi+mi)),ns=.5411961*Ii+vi,Yi=1.306562965*Li+vi,go=.707106781*(_o=zo+bi),Ho=mi+go,Fn=mi-go;wn[kn+5]=Fn+ns,wn[kn+3]=Fn-ns,wn[kn+1]=Ho+Yi,wn[kn+7]=Ho-Yi,kn+=8}for(kn=0,ti=0;ti<8;++ti){jn=wn[kn],Nn=wn[kn+8],zn=wn[kn+16],Qn=wn[kn+24],ni=wn[kn+32],Yn=wn[kn+40],ei=wn[kn+48];var Io=jn+(hi=wn[kn+56]),io=jn-hi,uo=Nn+ei,qi=Nn-ei,Wi=zn+Yn,Xi=zn-Yn,Us=Qn+ni,Cs=Qn-ni,jo=Io+Us,Wo=Io-Us,oo=uo+Wi,$o=uo-Wi;wn[kn]=jo+oo,wn[kn+32]=jo-oo;var ro=.707106781*($o+Wo);wn[kn+16]=Wo+ro,wn[kn+48]=Wo-ro;var is=.382683433*((jo=Cs+Xi)-($o=qi+io)),En=.5411961*jo+is,Wn=1.306562965*$o+is,di=.707106781*(oo=Xi+qi),Ei=io+di,aa=io-di;wn[kn+40]=aa+En,wn[kn+24]=aa-En,wn[kn+8]=Ei+Wn,wn[kn+56]=Ei-Wn,kn++}for(ti=0;ti<64;++ti)si=wn[ti]*In[ti],ke[ti]=si>0?si+.5|0:si-.5|0;return ke}(or,hr),Qr=0;Qr<64;++Qr)Fe[Qe[Qr]]=Xr[Qr];var Fr=Fe[0]-br;br=Fe[0],Fr==0?yr(Ir[0]):(yr(Ir[Oe[Mr=32767+Fr]]),yr(je[Mr]));for(var xn=63;xn>0&&Fe[xn]==0;)xn--;if(xn==0)return yr(Vr),br;for(var An,un=1;un<=xn;){for(var Nr=un;Fe[un]==0&&un<=xn;)++un;var Bn=un-Nr;if(Bn>=16){An=Bn>>4;for(var Vn=1;Vn<=An;++Vn)yr(Or);Bn&=15}Mr=32767+Fe[un],yr(jr[(Bn<<4)+Oe[Mr]]),yr(je[Mr]),un++}return xn!=63&&yr(Vr),br}function wr(or){or=Math.min(Math.max(or,1),100),Se!=or&&(function(hr){for(var br=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ir=0;Ir<64;Ir++){var jr=Ae((br[Ir]*hr+50)/100);jr=Math.min(Math.max(jr,1),255),Re[Qe[Ir]]=jr}for(var Mr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Vr=0;Vr<64;Vr++){var Or=Ae((Mr[Vr]*hr+50)/100);Or=Math.min(Math.max(Or,1),255),Pe[Qe[Vr]]=Or}for(var Xr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qr=0,Fr=0;Fr<8;Fr++)for(var xn=0;xn<8;xn++)Te[Qr]=1/(Re[Qe[Qr]]*Xr[Fr]*Xr[xn]*8),Ie[Qr]=1/(Pe[Qe[Qr]]*Xr[Fr]*Xr[xn]*8),Qr++}(or<50?Math.floor(5e3/or):Math.floor(200-2*or)),Se=or)}this.encode=function(or,hr){hr&&wr(hr),Me=new Array,De=0,Ue=7,Pr(65496),Pr(65504),Pr(16),mr(74),mr(70),mr(73),mr(70),mr(0),mr(1),mr(1),mr(0),Pr(1),Pr(1),mr(0),mr(0),function(){Pr(65499),Pr(132),mr(0);for(var Nn=0;Nn<64;Nn++)mr(Re[Nn]);mr(1);for(var zn=0;zn<64;zn++)mr(Pe[zn])}(),function(Nn,zn){Pr(65472),Pr(17),mr(8),Pr(zn),Pr(Nn),mr(3),mr(1),mr(17),mr(0),mr(2),mr(17),mr(1),mr(3),mr(17),mr(1)}(or.width,or.height),function(){Pr(65476),Pr(418),mr(0);for(var Nn=0;Nn<16;Nn++)mr(Ke[Nn+1]);for(var zn=0;zn<=11;zn++)mr(rr[zn]);mr(16);for(var Qn=0;Qn<16;Qn++)mr(cr[Qn+1]);for(var ni=0;ni<=161;ni++)mr(Ze[ni]);mr(1);for(var Yn=0;Yn<16;Yn++)mr(er[Yn+1]);for(var ei=0;ei<=11;ei++)mr(sr[ei]);mr(17);for(var hi=0;hi<16;hi++)mr(fr[hi+1]);for(var ti=0;ti<=161;ti++)mr(_r[ti])}(),Pr(65498),Pr(12),mr(3),mr(1),mr(0),mr(2),mr(17),mr(3),mr(17),mr(0),mr(63),mr(0);var br=0,Ir=0,jr=0;De=0,Ue=7,this.encode.displayName="_encode_";for(var Mr,Vr,Or,Xr,Qr,Fr,xn,An,un,Nr=or.data,Bn=or.width,Vn=or.height,wn=4*Bn,In=0;In<Vn;){for(Mr=0;Mr<wn;){for(Qr=wn*In+Mr,xn=-1,An=0,un=0;un<64;un++)Fr=Qr+(An=un>>3)*wn+(xn=4*(7&un)),In+An>=Vn&&(Fr-=wn*(In+1+An-Vn)),Mr+xn>=wn&&(Fr-=Mr+xn-wn+4),Vr=Nr[Fr++],Or=Nr[Fr++],Xr=Nr[Fr++],ze[un]=(ir[Vr]+ir[Or+256>>0]+ir[Xr+512>>0]>>16)-128,We[un]=(ir[Vr+768>>0]+ir[Or+1024>>0]+ir[Xr+1280>>0]>>16)-128,Ye[un]=(ir[Vr+1280>>0]+ir[Or+1536>>0]+ir[Xr+1792>>0]>>16)-128;br=Cr(ze,Te,br,e,_e),Ir=Cr(We,Ie,Ir,xe,Ee),jr=Cr(Ye,Ie,jr,xe,Ee),Mr+=32}In+=8}if(Ue>=0){var jn=[];jn[1]=Ue+1,jn[0]=(1<<Ue+1)-1,yr(jn)}return Pr(65497),new Uint8Array(Me)},t=t||50,function(){for(var or=String.fromCharCode,hr=0;hr<256;hr++)Xe[hr]=or(hr)}(),e=Er(Ke,rr),xe=Er(er,sr),_e=Er(cr,Ze),Ee=Er(fr,_r),function(){for(var or=1,hr=2,br=1;br<=15;br++){for(var Ir=or;Ir<hr;Ir++)Oe[32767+Ir]=br,je[32767+Ir]=[],je[32767+Ir][1]=br,je[32767+Ir][0]=Ir;for(var jr=-(hr-1);jr<=-or;jr++)Oe[32767+jr]=br,je[32767+jr]=[],je[32767+jr][1]=br,je[32767+jr][0]=hr-1+jr;or<<=1,hr<<=1}}(),function(){for(var or=0;or<256;or++)ir[or]=19595*or,ir[or+256>>0]=38470*or,ir[or+512>>0]=7471*or+32768,ir[or+768>>0]=-11059*or,ir[or+1024>>0]=-21709*or,ir[or+1280>>0]=32768*or+8421375,ir[or+1536>>0]=-27439*or,ir[or+1792>>0]=-5329*or}(),wr(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(t){function e(Ke){if(!Ke)throw Error("assert :P")}function xe(Ke,rr,cr){for(var Ze=0;4>Ze;Ze++)if(Ke[rr+Ze]!=cr.charCodeAt(Ze))return!0;return!1}function _e(Ke,rr,cr,Ze,er){for(var sr=0;sr<er;sr++)Ke[rr+sr]=cr[Ze+sr]}function Ee(Ke,rr,cr,Ze){for(var er=0;er<Ze;er++)Ke[rr+er]=cr}function Se(Ke){return new Int32Array(Ke)}function Ae(Ke,rr){for(var cr=[],Ze=0;Ze<Ke;Ze++)cr.push(new rr);return cr}function Re(Ke,rr){var cr=[];return function Ze(er,sr,fr){for(var _r=fr[sr],Er=0;Er<_r&&(er.push(fr.length>sr+1?[]:new rr),!(fr.length<sr+1));Er++)Ze(er[Er],sr+1,fr)}(cr,0,Ke),cr}var Pe=function(){var Ke=this;function rr(Be,Ge){for(var nr=1<<Ge-1>>>0;Be&nr;)nr>>>=1;return nr?(Be&nr-1)+nr:Be}function cr(Be,Ge,nr,ur,pr){e(!(ur%nr));do Be[Ge+(ur-=nr)]=pr;while(0<ur)}function Ze(Be,Ge,nr,ur,pr){if(e(2328>=pr),512>=pr)var vr=Se(512);else if((vr=Se(pr))==null)return 0;return function(Sr,Ar,Tr,$r,qr,Jr){var Zr,Kr,Sn=Ar,mn=1<<Tr,zr=Se(16),Hr=Se(16);for(e(qr!=0),e($r!=null),e(Sr!=null),e(0<Tr),Kr=0;Kr<qr;++Kr){if(15<$r[Kr])return 0;++zr[$r[Kr]]}if(zr[0]==qr)return 0;for(Hr[1]=0,Zr=1;15>Zr;++Zr){if(zr[Zr]>1<<Zr)return 0;Hr[Zr+1]=Hr[Zr]+zr[Zr]}for(Kr=0;Kr<qr;++Kr)Zr=$r[Kr],0<$r[Kr]&&(Jr[Hr[Zr]++]=Kr);if(Hr[15]==1)return($r=new er).g=0,$r.value=Jr[0],cr(Sr,Sn,1,mn,$r),mn;var vn,yn=-1,bn=mn-1,qn=0,Mn=1,Zn=1,Dn=1<<Tr;for(Kr=0,Zr=1,qr=2;Zr<=Tr;++Zr,qr<<=1){if(Mn+=Zn<<=1,0>(Zn-=zr[Zr]))return 0;for(;0<zr[Zr];--zr[Zr])($r=new er).g=Zr,$r.value=Jr[Kr++],cr(Sr,Sn+qn,qr,Dn,$r),qn=rr(qn,Zr)}for(Zr=Tr+1,qr=2;15>=Zr;++Zr,qr<<=1){if(Mn+=Zn<<=1,0>(Zn-=zr[Zr]))return 0;for(;0<zr[Zr];--zr[Zr]){if($r=new er,(qn&bn)!=yn){for(Sn+=Dn,vn=1<<(yn=Zr)-Tr;15>yn&&!(0>=(vn-=zr[yn]));)++yn,vn<<=1;mn+=Dn=1<<(vn=yn-Tr),Sr[Ar+(yn=qn&bn)].g=vn+Tr,Sr[Ar+yn].value=Sn-Ar-yn}$r.g=Zr-Tr,$r.value=Jr[Kr++],cr(Sr,Sn+(qn>>Tr),qr,Dn,$r),qn=rr(qn,Zr)}}return Mn!=2*Hr[15]-1?0:mn}(Be,Ge,nr,ur,pr,vr)}function er(){this.value=this.g=0}function sr(){this.value=this.g=0}function fr(){this.G=Ae(5,er),this.H=Se(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ae(po,sr)}function _r(Be,Ge,nr,ur){e(Be!=null),e(Ge!=null),e(2147483648>ur),Be.Ca=254,Be.I=0,Be.b=-8,Be.Ka=0,Be.oa=Ge,Be.pa=nr,Be.Jd=Ge,Be.Yc=nr+ur,Be.Zc=4<=ur?nr+ur-4+1:nr,Mr(Be)}function Er(Be,Ge){for(var nr=0;0<Ge--;)nr|=Or(Be,128)<<Ge;return nr}function yr(Be,Ge){var nr=Er(Be,Ge);return Vr(Be)?-nr:nr}function mr(Be,Ge,nr,ur){var pr,vr=0;for(e(Be!=null),e(Ge!=null),e(4294967288>ur),Be.Sb=ur,Be.Ra=0,Be.u=0,Be.h=0,4<ur&&(ur=4),pr=0;pr<ur;++pr)vr+=Ge[nr+pr]<<8*pr;Be.Ra=vr,Be.bb=ur,Be.oa=Ge,Be.pa=nr}function Pr(Be){for(;8<=Be.u&&Be.bb<Be.Sb;)Be.Ra>>>=8,Be.Ra+=Be.oa[Be.pa+Be.bb]<<_c-8>>>0,++Be.bb,Be.u-=8;br(Be)&&(Be.h=1,Be.u=0)}function Cr(Be,Ge){if(e(0<=Ge),!Be.h&&Ge<=xc){var nr=hr(Be)&vc[Ge];return Be.u+=Ge,Pr(Be),nr}return Be.h=1,Be.u=0}function wr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function or(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function hr(Be){return Be.Ra>>>(Be.u&_c-1)>>>0}function br(Be){return e(Be.bb<=Be.Sb),Be.h||Be.bb==Be.Sb&&Be.u>_c}function Ir(Be,Ge){Be.u=Ge,Be.h=br(Be)}function jr(Be){Be.u>=bc&&(e(Be.u>=bc),Pr(Be))}function Mr(Be){e(Be!=null&&Be.oa!=null),Be.pa<Be.Zc?(Be.I=(Be.oa[Be.pa++]|Be.I<<8)>>>0,Be.b+=8):(e(Be!=null&&Be.oa!=null),Be.pa<Be.Yc?(Be.b+=8,Be.I=Be.oa[Be.pa++]|Be.I<<8):Be.Ka?Be.b=0:(Be.I<<=8,Be.b+=8,Be.Ka=1))}function Vr(Be){return Er(Be,1)}function Or(Be,Ge){var nr=Be.Ca;0>Be.b&&Mr(Be);var ur=Be.b,pr=nr*Ge>>>8,vr=(Be.I>>>ur>pr)+0;for(vr?(nr-=pr,Be.I-=pr+1<<ur>>>0):nr=pr+1,ur=nr,pr=0;256<=ur;)pr+=8,ur>>=8;return ur=7^pr+cs[ur],Be.b-=ur,Be.Ca=(nr<<ur)-1,vr}function Xr(Be,Ge,nr){Be[Ge+0]=nr>>24&255,Be[Ge+1]=nr>>16&255,Be[Ge+2]=nr>>8&255,Be[Ge+3]=nr>>0&255}function Qr(Be,Ge){return Be[Ge+0]<<0|Be[Ge+1]<<8}function Fr(Be,Ge){return Qr(Be,Ge)|Be[Ge+2]<<16}function xn(Be,Ge){return Qr(Be,Ge)|Qr(Be,Ge+2)<<16}function An(Be,Ge){var nr=1<<Ge;return e(Be!=null),e(0<Ge),Be.X=Se(nr),Be.X==null?0:(Be.Mb=32-Ge,Be.Xa=Ge,1)}function un(Be,Ge){e(Be!=null),e(Ge!=null),e(Be.Xa==Ge.Xa),_e(Ge.X,0,Be.X,0,1<<Ge.Xa)}function Nr(){this.X=[],this.Xa=this.Mb=0}function Bn(Be,Ge,nr,ur){e(nr!=null),e(ur!=null);var pr=nr[0],vr=ur[0];return pr==0&&(pr=(Be*vr+Ge/2)/Ge),vr==0&&(vr=(Ge*pr+Be/2)/Be),0>=pr||0>=vr?0:(nr[0]=pr,ur[0]=vr,1)}function Vn(Be,Ge){return Be+(1<<Ge)-1>>>Ge}function wn(Be,Ge){return((4278255360&Be)+(4278255360&Ge)>>>0&4278255360)+((16711935&Be)+(16711935&Ge)>>>0&16711935)>>>0}function In(Be,Ge){Ke[Ge]=function(nr,ur,pr,vr,Sr,Ar,Tr){var $r;for($r=0;$r<Sr;++$r){var qr=Ke[Be](Ar[Tr+$r-1],pr,vr+$r);Ar[Tr+$r]=wn(nr[ur+$r],qr)}}}function jn(){this.ud=this.hd=this.jd=0}function Nn(Be,Ge){return((4278124286&(Be^Ge))>>>1)+(Be&Ge)>>>0}function zn(Be){return 0<=Be&&256>Be?Be:0>Be?0:255<Be?255:void 0}function Qn(Be,Ge){return zn(Be+(Be-Ge+.5>>1))}function ni(Be,Ge,nr){return Math.abs(Ge-nr)-Math.abs(Be-nr)}function Yn(Be,Ge,nr,ur,pr,vr,Sr){for(ur=vr[Sr-1],nr=0;nr<pr;++nr)vr[Sr+nr]=ur=wn(Be[Ge+nr],ur)}function ei(Be,Ge,nr,ur,pr){var vr;for(vr=0;vr<nr;++vr){var Sr=Be[Ge+vr],Ar=Sr>>8&255,Tr=16711935&(Tr=(Tr=16711935&Sr)+((Ar<<16)+Ar));ur[pr+vr]=(4278255360&Sr)+Tr>>>0}}function hi(Be,Ge){Ge.jd=Be>>0&255,Ge.hd=Be>>8&255,Ge.ud=Be>>16&255}function ti(Be,Ge,nr,ur,pr,vr){var Sr;for(Sr=0;Sr<ur;++Sr){var Ar=Ge[nr+Sr],Tr=Ar>>>8,$r=Ar,qr=255&(qr=(qr=Ar>>>16)+((Be.jd<<24>>24)*(Tr<<24>>24)>>>5));$r=255&($r=($r=$r+((Be.hd<<24>>24)*(Tr<<24>>24)>>>5))+((Be.ud<<24>>24)*(qr<<24>>24)>>>5)),pr[vr+Sr]=(4278255360&Ar)+(qr<<16)+$r}}function si(Be,Ge,nr,ur,pr){Ke[Ge]=function(vr,Sr,Ar,Tr,$r,qr,Jr,Zr,Kr){for(Tr=Jr;Tr<Zr;++Tr)for(Jr=0;Jr<Kr;++Jr)$r[qr++]=pr(Ar[ur(vr[Sr++])])},Ke[Be]=function(vr,Sr,Ar,Tr,$r,qr,Jr){var Zr=8>>vr.b,Kr=vr.Ea,Sn=vr.K[0],mn=vr.w;if(8>Zr)for(vr=(1<<vr.b)-1,mn=(1<<Zr)-1;Sr<Ar;++Sr){var zr,Hr=0;for(zr=0;zr<Kr;++zr)zr&vr||(Hr=ur(Tr[$r++])),qr[Jr++]=pr(Sn[Hr&mn]),Hr>>=Zr}else Ke["VP8LMapColor"+nr](Tr,$r,Sn,mn,qr,Jr,Sr,Ar,Kr)}}function kn(Be,Ge,nr,ur,pr){for(nr=Ge+nr;Ge<nr;){var vr=Be[Ge++];ur[pr++]=vr>>16&255,ur[pr++]=vr>>8&255,ur[pr++]=vr>>0&255}}function Zi(Be,Ge,nr,ur,pr){for(nr=Ge+nr;Ge<nr;){var vr=Be[Ge++];ur[pr++]=vr>>16&255,ur[pr++]=vr>>8&255,ur[pr++]=vr>>0&255,ur[pr++]=vr>>24&255}}function mi(Be,Ge,nr,ur,pr){for(nr=Ge+nr;Ge<nr;){var vr=(Sr=Be[Ge++])>>16&240|Sr>>12&15,Sr=Sr>>0&240|Sr>>28&15;ur[pr++]=vr,ur[pr++]=Sr}}function xo(Be,Ge,nr,ur,pr){for(nr=Ge+nr;Ge<nr;){var vr=(Sr=Be[Ge++])>>16&248|Sr>>13&7,Sr=Sr>>5&224|Sr>>3&31;ur[pr++]=vr,ur[pr++]=Sr}}function bi(Be,Ge,nr,ur,pr){for(nr=Ge+nr;Ge<nr;){var vr=Be[Ge++];ur[pr++]=vr>>0&255,ur[pr++]=vr>>8&255,ur[pr++]=vr>>16&255}}function Pi(Be,Ge,nr,ur,pr,vr){if(vr==0)for(nr=Ge+nr;Ge<nr;)Xr(ur,((vr=Be[Ge++])[0]>>24|vr[1]>>8&65280|vr[2]<<8&16711680|vr[3]<<24)>>>0),pr+=32;else _e(ur,pr,Be,Ge,nr)}function zo(Be,Ge){Ke[Ge][0]=Ke[Be+"0"],Ke[Ge][1]=Ke[Be+"1"],Ke[Ge][2]=Ke[Be+"2"],Ke[Ge][3]=Ke[Be+"3"],Ke[Ge][4]=Ke[Be+"4"],Ke[Ge][5]=Ke[Be+"5"],Ke[Ge][6]=Ke[Be+"6"],Ke[Ge][7]=Ke[Be+"7"],Ke[Ge][8]=Ke[Be+"8"],Ke[Ge][9]=Ke[Be+"9"],Ke[Ge][10]=Ke[Be+"10"],Ke[Ge][11]=Ke[Be+"11"],Ke[Ge][12]=Ke[Be+"12"],Ke[Ge][13]=Ke[Be+"13"],Ke[Ge][14]=Ke[Be+"0"],Ke[Ge][15]=Ke[Be+"0"]}function gi(Be){return Be==Pc||Be==Xl||Be==Qc||Be==Jc}function ys(){this.eb=[],this.size=this.A=this.fb=0}function Ii(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function eo(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ys,this.f.kb=new Ii,this.sd=null}function _o(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Li(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(Be){return alert("todo:WebPSamplerProcessPlane"),Be.T}function vi(Be,Ge){var nr=Be.T,ur=Ge.ba.f.RGBA,pr=ur.eb,vr=ur.fb+Be.ka*ur.A,Sr=Ss[Ge.ba.S],Ar=Be.y,Tr=Be.O,$r=Be.f,qr=Be.N,Jr=Be.ea,Zr=Be.W,Kr=Ge.cc,Sn=Ge.dc,mn=Ge.Mc,zr=Ge.Nc,Hr=Be.ka,vn=Be.ka+Be.T,yn=Be.U,bn=yn+1>>1;for(Hr==0?Sr(Ar,Tr,null,null,$r,qr,Jr,Zr,$r,qr,Jr,Zr,pr,vr,null,null,yn):(Sr(Ge.ec,Ge.fc,Ar,Tr,Kr,Sn,mn,zr,$r,qr,Jr,Zr,pr,vr-ur.A,pr,vr,yn),++nr);Hr+2<vn;Hr+=2)Kr=$r,Sn=qr,mn=Jr,zr=Zr,qr+=Be.Rc,Zr+=Be.Rc,vr+=2*ur.A,Sr(Ar,(Tr+=2*Be.fa)-Be.fa,Ar,Tr,Kr,Sn,mn,zr,$r,qr,Jr,Zr,pr,vr-ur.A,pr,vr,yn);return Tr+=Be.fa,Be.j+vn<Be.o?(_e(Ge.ec,Ge.fc,Ar,Tr,yn),_e(Ge.cc,Ge.dc,$r,qr,bn),_e(Ge.Mc,Ge.Nc,Jr,Zr,bn),nr--):1&vn||Sr(Ar,Tr,null,null,$r,qr,Jr,Zr,$r,qr,Jr,Zr,pr,vr+ur.A,null,null,yn),nr}function ns(Be,Ge,nr){var ur=Be.F,pr=[Be.J];if(ur!=null){var vr=Be.U,Sr=Ge.ba.S,Ar=Sr==Xc||Sr==Qc;Ge=Ge.ba.f.RGBA;var Tr=[0],$r=Be.ka;Tr[0]=Be.T,Be.Kb&&($r==0?--Tr[0]:(--$r,pr[0]-=Be.width),Be.j+Be.ka+Be.T==Be.o&&(Tr[0]=Be.o-Be.j-$r));var qr=Ge.eb;$r=Ge.fb+$r*Ge.A,Be=Vi(ur,pr[0],Be.width,vr,Tr,qr,$r+(Ar?0:3),Ge.A),e(nr==Tr),Be&&gi(Sr)&&bs(qr,$r,Ar,vr,Tr,Ge.A)}return 0}function Yi(Be){var Ge=Be.ma,nr=Ge.ba.S,ur=11>nr,pr=nr==Il||nr==Yc||nr==Xc||nr==Ki||nr==12||gi(nr);if(Ge.memory=null,Ge.Ib=null,Ge.Jb=null,Ge.Nd=null,!gc(Ge.Oa,Be,pr?11:12))return 0;if(pr&&gi(nr)&&Rn(),Be.da)alert("todo:use_scaling");else{if(ur){if(Ge.Ib=Jn,Be.Kb){if(nr=Be.U+1>>1,Ge.memory=Se(Be.U+2*nr),Ge.memory==null)return 0;Ge.ec=Ge.memory,Ge.fc=0,Ge.cc=Ge.ec,Ge.dc=Ge.fc+Be.U,Ge.Mc=Ge.cc,Ge.Nc=Ge.dc+nr,Ge.Ib=vi,Rn()}}else alert("todo:EmitYUV");pr&&(Ge.Jb=ns,ur&&Yr())}if(ur&&!Bo){for(Be=0;256>Be;++Be)ws[Be]=89858*(Be-128)+ya>>al,As[Be]=-22014*(Be-128)+ya,jc[Be]=-45773*(Be-128),tc[Be]=113618*(Be-128)+ya>>al;for(Be=Fi;Be<zi;++Be)Ge=76283*(Be-16)+ya>>al,gu[Be-Fi]=$i(Ge,255),ed[Be-Fi]=$i(Ge+8>>4,15);Bo=1}return 1}function go(Be){var Ge=Be.ma,nr=Be.U,ur=Be.T;return e(!(1&Be.ka)),0>=nr||0>=ur?0:(nr=Ge.Ib(Be,Ge),Ge.Jb!=null&&Ge.Jb(Be,Ge,nr),Ge.Dc+=nr,1)}function Ho(Be){Be.ma.memory=null}function Fn(Be,Ge,nr,ur){return Cr(Be,8)!=47?0:(Ge[0]=Cr(Be,14)+1,nr[0]=Cr(Be,14)+1,ur[0]=Cr(Be,1),Cr(Be,3)!=0?0:!Be.h)}function Io(Be,Ge){if(4>Be)return Be+1;var nr=Be-2>>1;return(2+(1&Be)<<nr)+Cr(Ge,nr)+1}function io(Be,Ge){return 120<Ge?Ge-120:1<=(nr=((nr=Od[Ge-1])>>4)*Be+(8-(15&nr)))?nr:1;var nr}function uo(Be,Ge,nr){var ur=hr(nr),pr=Be[Ge+=255&ur].g-8;return 0<pr&&(Ir(nr,nr.u+8),ur=hr(nr),Ge+=Be[Ge].value,Ge+=ur&(1<<pr)-1),Ir(nr,nr.u+Be[Ge].g),Be[Ge].value}function qi(Be,Ge,nr){return nr.g+=Be.g,nr.value+=Be.value<<Ge>>>0,e(8>=nr.g),Be.g}function Wi(Be,Ge,nr){var ur=Be.xc;return e((Ge=ur==0?0:Be.vc[Be.md*(nr>>ur)+(Ge>>ur)])<Be.Wb),Be.Ya[Ge]}function Xi(Be,Ge,nr,ur){var pr=Be.ab,vr=Be.c*Ge,Sr=Be.C;Ge=Sr+Ge;var Ar=nr,Tr=ur;for(ur=Be.Ta,nr=Be.Ua;0<pr--;){var $r=Be.gc[pr],qr=Sr,Jr=Ge,Zr=Ar,Kr=Tr,Sn=(Tr=ur,Ar=nr,$r.Ea);switch(e(qr<Jr),e(Jr<=$r.nc),$r.hc){case 2:du(Zr,Kr,(Jr-qr)*Sn,Tr,Ar);break;case 0:var mn=qr,zr=Jr,Hr=Tr,vn=Ar,yn=(Dn=$r).Ea;mn==0&&(zl(Zr,Kr,null,null,1,Hr,vn),Yn(Zr,Kr+1,0,0,yn-1,Hr,vn+1),Kr+=yn,vn+=yn,++mn);for(var bn=1<<Dn.b,qn=bn-1,Mn=Vn(yn,Dn.b),Zn=Dn.K,Dn=Dn.w+(mn>>Dn.b)*Mn;mn<zr;){var Ai=Zn,Ri=Dn,Si=1;for(Za(Zr,Kr,Hr,vn-yn,1,Hr,vn);Si<yn;){var fi=(Si&~qn)+bn;fi>yn&&(fi=yn),(0,Oa[Ai[Ri++]>>8&15])(Zr,Kr+ +Si,Hr,vn+Si-yn,fi-Si,Hr,vn+Si),Si=fi}Kr+=yn,vn+=yn,++mn&qn||(Dn+=Mn)}Jr!=$r.nc&&_e(Tr,Ar-Sn,Tr,Ar+(Jr-qr-1)*Sn,Sn);break;case 1:for(Sn=Zr,zr=Kr,yn=(Zr=$r.Ea)-(vn=Zr&~(Hr=(Kr=1<<$r.b)-1)),mn=Vn(Zr,$r.b),bn=$r.K,$r=$r.w+(qr>>$r.b)*mn;qr<Jr;){for(qn=bn,Mn=$r,Zn=new jn,Dn=zr+vn,Ai=zr+Zr;zr<Dn;)hi(qn[Mn++],Zn),Pl(Zn,Sn,zr,Kr,Tr,Ar),zr+=Kr,Ar+=Kr;zr<Ai&&(hi(qn[Mn++],Zn),Pl(Zn,Sn,zr,yn,Tr,Ar),zr+=yn,Ar+=yn),++qr&Hr||($r+=mn)}break;case 3:if(Zr==Tr&&Kr==Ar&&0<$r.b){for(zr=Tr,Zr=Sn=Ar+(Jr-qr)*Sn-(vn=(Jr-qr)*Vn($r.Ea,$r.b)),Kr=Tr,Hr=Ar,mn=[],vn=(yn=vn)-1;0<=vn;--vn)mn[vn]=Kr[Hr+vn];for(vn=yn-1;0<=vn;--vn)zr[Zr+vn]=mn[vn];us($r,qr,Jr,Tr,Sn,Tr,Ar)}else us($r,qr,Jr,Zr,Kr,Tr,Ar)}Ar=ur,Tr=nr}Tr!=nr&&_e(ur,nr,Ar,Tr,vr)}function Us(Be,Ge){var nr=Be.V,ur=Be.Ba+Be.c*Be.C,pr=Ge-Be.C;if(e(Ge<=Be.l.o),e(16>=pr),0<pr){var vr=Be.l,Sr=Be.Ta,Ar=Be.Ua,Tr=vr.width;if(Xi(Be,pr,nr,ur),pr=Ar=[Ar],e((nr=Be.C)<(ur=Ge)),e(vr.v<vr.va),ur>vr.o&&(ur=vr.o),nr<vr.j){var $r=vr.j-nr;nr=vr.j,pr[0]+=$r*Tr}if(nr>=ur?nr=0:(pr[0]+=4*vr.v,vr.ka=nr-vr.j,vr.U=vr.va-vr.v,vr.T=ur-nr,nr=1),nr){if(Ar=Ar[0],11>(nr=Be.ca).S){var qr=nr.f.RGBA,Jr=(ur=nr.S,pr=vr.U,vr=vr.T,$r=qr.eb,qr.A),Zr=vr;for(qr=qr.fb+Be.Ma*qr.A;0<Zr--;){var Kr=Sr,Sn=Ar,mn=pr,zr=$r,Hr=qr;switch(ur){case fu:ds(Kr,Sn,mn,zr,Hr);break;case Il:Xo(Kr,Sn,mn,zr,Hr);break;case Pc:Xo(Kr,Sn,mn,zr,Hr),bs(zr,Hr,0,mn,1,0);break;case Yu:tl(Kr,Sn,mn,zr,Hr);break;case Yc:Pi(Kr,Sn,mn,zr,Hr,1);break;case Xl:Pi(Kr,Sn,mn,zr,Hr,1),bs(zr,Hr,0,mn,1,0);break;case Xc:Pi(Kr,Sn,mn,zr,Hr,0);break;case Qc:Pi(Kr,Sn,mn,zr,Hr,0),bs(zr,Hr,1,mn,1,0);break;case Ki:Tl(Kr,Sn,mn,zr,Hr);break;case Jc:Tl(Kr,Sn,mn,zr,Hr),Gi(zr,Hr,mn,1,0);break;case hu:el(Kr,Sn,mn,zr,Hr);break;default:e(0)}Ar+=Tr,qr+=Jr}Be.Ma+=vr}else alert("todo:EmitRescaledRowsYUVA");e(Be.Ma<=nr.height)}}Be.C=Ge,e(Be.C<=Be.i)}function Cs(Be){var Ge;if(0<Be.ua)return 0;for(Ge=0;Ge<Be.Wb;++Ge){var nr=Be.Ya[Ge].G,ur=Be.Ya[Ge].H;if(0<nr[1][ur[1]+0].g||0<nr[2][ur[2]+0].g||0<nr[3][ur[3]+0].g)return 0}return 1}function jo(Be,Ge,nr,ur,pr,vr){if(Be.Z!=0){var Sr=Be.qd,Ar=Be.rd;for(e(Jo[Be.Z]!=null);Ge<nr;++Ge)Jo[Be.Z](Sr,Ar,ur,pr,ur,pr,vr),Sr=ur,Ar=pr,pr+=vr;Be.qd=Sr,Be.rd=Ar}}function Wo(Be,Ge){var nr=Be.l.ma,ur=nr.Z==0||nr.Z==1?Be.l.j:Be.C;if(ur=Be.C<ur?ur:Be.C,e(Ge<=Be.l.o),Ge>ur){var pr=Be.l.width,vr=nr.ca,Sr=nr.tb+pr*ur,Ar=Be.V,Tr=Be.Ba+Be.c*ur,$r=Be.gc;e(Be.ab==1),e($r[0].hc==3),Wc($r[0],ur,Ge,Ar,Tr,vr,Sr),jo(nr,ur,Ge,vr,Sr,pr)}Be.C=Be.Ma=Ge}function oo(Be,Ge,nr,ur,pr,vr,Sr){var Ar=Be.$/ur,Tr=Be.$%ur,$r=Be.m,qr=Be.s,Jr=nr+Be.$,Zr=Jr;pr=nr+ur*pr;var Kr=nr+ur*vr,Sn=280+qr.ua,mn=Be.Pb?Ar:16777216,zr=0<qr.ua?qr.Wa:null,Hr=qr.wc,vn=Jr<Kr?Wi(qr,Tr,Ar):null;e(Be.C<vr),e(Kr<=pr);var yn=!1;e:for(;;){for(;yn||Jr<Kr;){var bn=0;if(Ar>=mn){var qn=Jr-nr;e((mn=Be).Pb),mn.wd=mn.m,mn.xd=qn,0<mn.s.ua&&un(mn.s.Wa,mn.s.vb),mn=Ar+mu}if(Tr&Hr||(vn=Wi(qr,Tr,Ar)),e(vn!=null),vn.Qb&&(Ge[Jr]=vn.qb,yn=!0),!yn)if(jr($r),vn.jc){bn=$r,qn=Ge;var Mn=Jr,Zn=vn.pd[hr(bn)&po-1];e(vn.jc),256>Zn.g?(Ir(bn,bn.u+Zn.g),qn[Mn]=Zn.value,bn=0):(Ir(bn,bn.u+Zn.g-256),e(256<=Zn.value),bn=Zn.value),bn==0&&(yn=!0)}else bn=uo(vn.G[0],vn.H[0],$r);if($r.h)break;if(yn||256>bn){if(!yn)if(vn.nd)Ge[Jr]=(vn.qb|bn<<8)>>>0;else{if(jr($r),yn=uo(vn.G[1],vn.H[1],$r),jr($r),qn=uo(vn.G[2],vn.H[2],$r),Mn=uo(vn.G[3],vn.H[3],$r),$r.h)break;Ge[Jr]=(Mn<<24|yn<<16|bn<<8|qn)>>>0}if(yn=!1,++Jr,++Tr>=ur&&(Tr=0,++Ar,Sr!=null&&Ar<=vr&&!(Ar%16)&&Sr(Be,Ar),zr!=null))for(;Zr<Jr;)bn=Ge[Zr++],zr.X[(506832829*bn&4294967295)>>>zr.Mb]=bn}else if(280>bn){if(bn=Io(bn-256,$r),qn=uo(vn.G[4],vn.H[4],$r),jr($r),qn=io(ur,qn=Io(qn,$r)),$r.h)break;if(Jr-nr<qn||pr-Jr<bn)break e;for(Mn=0;Mn<bn;++Mn)Ge[Jr+Mn]=Ge[Jr+Mn-qn];for(Jr+=bn,Tr+=bn;Tr>=ur;)Tr-=ur,++Ar,Sr!=null&&Ar<=vr&&!(Ar%16)&&Sr(Be,Ar);if(e(Jr<=pr),Tr&Hr&&(vn=Wi(qr,Tr,Ar)),zr!=null)for(;Zr<Jr;)bn=Ge[Zr++],zr.X[(506832829*bn&4294967295)>>>zr.Mb]=bn}else{if(!(bn<Sn))break e;for(yn=bn-280,e(zr!=null);Zr<Jr;)bn=Ge[Zr++],zr.X[(506832829*bn&4294967295)>>>zr.Mb]=bn;bn=Jr,e(!(yn>>>(qn=zr).Xa)),Ge[bn]=qn.X[yn],yn=!0}yn||e($r.h==br($r))}if(Be.Pb&&$r.h&&Jr<pr)e(Be.m.h),Be.a=5,Be.m=Be.wd,Be.$=Be.xd,0<Be.s.ua&&un(Be.s.vb,Be.s.Wa);else{if($r.h)break e;Sr!=null&&Sr(Be,Ar>vr?vr:Ar),Be.a=0,Be.$=Jr-nr}return 1}return Be.a=3,0}function $o(Be){e(Be!=null),Be.vc=null,Be.yc=null,Be.Ya=null;var Ge=Be.Wa;Ge!=null&&(Ge.X=null),Be.vb=null,e(Be!=null)}function ro(){var Be=new mc;return Be==null?null:(Be.a=0,Be.xb=Cc,zo("Predictor","VP8LPredictors"),zo("Predictor","VP8LPredictors_C"),zo("PredictorAdd","VP8LPredictorsAdd"),zo("PredictorAdd","VP8LPredictorsAdd_C"),du=ei,Pl=ti,ds=kn,Xo=Zi,Tl=mi,el=xo,tl=bi,Ke.VP8LMapColor32b=Ec,Ke.VP8LMapColor8b=Sc,Be)}function is(Be,Ge,nr,ur,pr){var vr=1,Sr=[Be],Ar=[Ge],Tr=ur.m,$r=ur.s,qr=null,Jr=0;e:for(;;){if(nr)for(;vr&&Cr(Tr,1);){var Zr=Sr,Kr=Ar,Sn=ur,mn=1,zr=Sn.m,Hr=Sn.gc[Sn.ab],vn=Cr(zr,2);if(Sn.Oc&1<<vn)vr=0;else{switch(Sn.Oc|=1<<vn,Hr.hc=vn,Hr.Ea=Zr[0],Hr.nc=Kr[0],Hr.K=[null],++Sn.ab,e(4>=Sn.ab),vn){case 0:case 1:Hr.b=Cr(zr,3)+2,mn=is(Vn(Hr.Ea,Hr.b),Vn(Hr.nc,Hr.b),0,Sn,Hr.K),Hr.K=Hr.K[0];break;case 3:var yn,bn=Cr(zr,8)+1,qn=16<bn?0:4<bn?1:2<bn?2:3;if(Zr[0]=Vn(Hr.Ea,qn),Hr.b=qn,yn=mn=is(bn,1,0,Sn,Hr.K)){var Mn,Zn=bn,Dn=Hr,Ai=1<<(8>>Dn.b),Ri=Se(Ai);if(Ri==null)yn=0;else{var Si=Dn.K[0],fi=Dn.w;for(Ri[0]=Dn.K[0][0],Mn=1;Mn<1*Zn;++Mn)Ri[Mn]=wn(Si[fi+Mn],Ri[Mn-1]);for(;Mn<4*Ai;++Mn)Ri[Mn]=0;Dn.K[0]=null,Dn.K[0]=Ri,yn=1}}mn=yn;break;case 2:break;default:e(0)}vr=mn}}if(Sr=Sr[0],Ar=Ar[0],vr&&Cr(Tr,1)&&!(vr=1<=(Jr=Cr(Tr,4))&&11>=Jr)){ur.a=3;break e}var Bi;if(Bi=vr)t:{var Hi,ai,ao,ps=ur,yo=Sr,Ro=Ar,Ni=Jr,Zo=nr,es=ps.m,lo=ps.s,Po=[null],qo=1,Rs=0,ea=Qu[Ni];r:for(;;){if(Zo&&Cr(es,1)){var co=Cr(es,3)+2,So=Vn(yo,co),Ms=Vn(Ro,co),Nl=So*Ms;if(!is(So,Ms,0,ps,Po))break r;for(Po=Po[0],lo.xc=co,Hi=0;Hi<Nl;++Hi){var cl=Po[Hi]>>8&65535;Po[Hi]=cl,cl>=qo&&(qo=cl+1)}}if(es.h)break r;for(ai=0;5>ai;++ai){var Oi=Ql[ai];!ai&&0<Ni&&(Oi+=1<<Ni),Rs<Oi&&(Rs=Oi)}var Fa=Ae(qo*ea,er),yu=qo,Mu=Ae(yu,fr);if(Mu==null)var ta=null;else e(65536>=yu),ta=Mu;var ra=Se(Rs);if(ta==null||ra==null||Fa==null){ps.a=1;break r}var nc=Fa;for(Hi=ao=0;Hi<qo;++Hi){var na=ta[Hi],ul=na.G,ic=na.H,$c=0,Ds=1,Nc=0;for(ai=0;5>ai;++ai){Oi=Ql[ai],ul[ai]=nc,ic[ai]=ao,!ai&&0<Ni&&(Oi+=1<<Ni);i:{var Ol,dl=Oi,Oc=ps,Ba=ra,nd=nc,Du=ao,Ji=0,va=Oc.m,Vu=Cr(va,1);if(Ee(Ba,0,0,dl),Vu){var Fu=Cr(va,1)+1,vu=Cr(va,1),xu=Cr(va,vu==0?1:8);Ba[xu]=1,Fu==2&&(Ba[xu=Cr(va,8)]=1);var qa=1}else{var no=Se(19),wo=Cr(va,4)+4;if(19<wo){Oc.a=3;var vo=0;break i}for(Ol=0;Ol<wo;++Ol)no[Nd[Ol]]=Cr(va,3);var kc=void 0,hl=void 0,Lc=Oc,Vd=no,To=dl,_u=Ba,nu=0,Ua=Lc.m,xa=8,Vs=Ae(128,er);n:for(;Ze(Vs,0,7,Vd,19);){if(Cr(Ua,1)){var iu=2+2*Cr(Ua,3);if((kc=2+Cr(Ua,iu))>To)break n}else kc=To;for(hl=0;hl<To&&kc--;){jr(Ua);var bu=Vs[0+(127&hr(Ua))];Ir(Ua,Ua.u+bu.g);var kl=bu.value;if(16>kl)_u[hl++]=kl,kl!=0&&(xa=kl);else{var od=kl==16,Bu=kl-16,sd=pu[Bu],qu=Cr(Ua,Zc[Bu])+sd;if(hl+qu>To)break n;for(var ad=od?xa:0;0<qu--;)_u[hl++]=ad}}nu=1;break n}nu||(Lc.a=3),qa=nu}(qa=qa&&!va.h)&&(Ji=Ze(nd,Du,8,Ba,dl)),qa&&Ji!=0?vo=Ji:(Oc.a=3,vo=0)}if(vo==0)break r;if(Ds&&Xu[ai]==1&&(Ds=nc[ao].g==0),$c+=nc[ao].g,ao+=vo,3>=ai){var Mc,Eu=ra[0];for(Mc=1;Mc<Oi;++Mc)ra[Mc]>Eu&&(Eu=ra[Mc]);Nc+=Eu}}if(na.nd=Ds,na.Qb=0,Ds&&(na.qb=(ul[3][ic[3]+0].value<<24|ul[1][ic[1]+0].value<<16|ul[2][ic[2]+0].value)>>>0,$c==0&&256>ul[0][ic[0]+0].value&&(na.Qb=1,na.qb+=ul[0][ic[0]+0].value<<8)),na.jc=!na.Qb&&6>Nc,na.jc){var ou,Fs=na;for(ou=0;ou<po;++ou){var pl=ou,ba=Fs.pd[pl],oc=Fs.G[0][Fs.H[0]+pl];256<=oc.value?(ba.g=oc.g+256,ba.value=oc.value):(ba.g=0,ba.value=0,pl>>=qi(oc,8,ba),pl>>=qi(Fs.G[1][Fs.H[1]+pl],16,ba),pl>>=qi(Fs.G[2][Fs.H[2]+pl],0,ba),qi(Fs.G[3][Fs.H[3]+pl],24,ba))}}}lo.vc=Po,lo.Wb=qo,lo.Ya=ta,lo.yc=Fa,Bi=1;break t}Bi=0}if(!(vr=Bi)){ur.a=3;break e}if(0<Jr){if($r.ua=1<<Jr,!An($r.Wa,Jr)){ur.a=1,vr=0;break e}}else $r.ua=0;var Su=ur,wu=Sr,ld=Ar,Au=Su.s,Ru=Au.xc;if(Su.c=wu,Su.i=ld,Au.md=Vn(wu,Ru),Au.wc=Ru==0?-1:(1<<Ru)-1,nr){ur.xb=Va;break e}if((qr=Se(Sr*Ar))==null){ur.a=1,vr=0;break e}vr=(vr=oo(ur,qr,0,Sr,Ar,Ar,null))&&!Tr.h;break e}return vr?(pr!=null?pr[0]=qr:(e(qr==null),e(nr)),ur.$=0,nr||$o($r)):$o($r),vr}function En(Be,Ge){var nr=Be.c*Be.i,ur=nr+Ge+16*Ge;return e(Be.c<=Ge),Be.V=Se(ur),Be.V==null?(Be.Ta=null,Be.Ua=0,Be.a=1,0):(Be.Ta=Be.V,Be.Ua=Be.Ba+nr+Ge,1)}function Wn(Be,Ge){var nr=Be.C,ur=Ge-nr,pr=Be.V,vr=Be.Ba+Be.c*nr;for(e(Ge<=Be.l.o);0<ur;){var Sr=16<ur?16:ur,Ar=Be.l.ma,Tr=Be.l.width,$r=Tr*Sr,qr=Ar.ca,Jr=Ar.tb+Tr*nr,Zr=Be.Ta,Kr=Be.Ua;Xi(Be,Sr,pr,vr),mo(Zr,Kr,qr,Jr,$r),jo(Ar,nr,nr+Sr,qr,Jr,Tr),ur-=Sr,pr+=Sr*Be.c,nr+=Sr}e(nr==Ge),Be.C=Be.Ma=Ge}function di(){this.ub=this.yd=this.td=this.Rb=0}function Ei(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function aa(){this.Fb=this.Bb=this.Cb=0,this.Zb=Se(4),this.Lb=Se(4)}function cc(){this.Yb=function(){var Be=[];return function Ge(nr,ur,pr){for(var vr=pr[ur],Sr=0;Sr<vr&&(nr.push(pr.length>ur+1?[]:0),!(pr.length<ur+1));Sr++)Ge(nr[Sr],ur+1,pr)}(Be,0,[3,11]),Be}()}function Ui(){this.jb=Se(3),this.Wc=Re([4,8],cc),this.Xc=Re([4,17],cc)}function uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Se(4),this.od=new Se(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function vs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wa(){this.ad=Se(384),this.Za=0,this.Ob=Se(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dc(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new Wa),this.aa=0,this.l=new Ga}function Sa(){this.y=Se(16),this.f=Se(8),this.ea=Se(8)}function os(){this.cb=this.a=0,this.sc="",this.m=new wr,this.Od=new di,this.Kc=new Ei,this.ed=new uc,this.Qa=new aa,this.Ic=this.$c=this.Aa=0,this.D=new dc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ae(8,wr),this.ia=0,this.pb=Ae(4,vs),this.Pa=new Ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sa),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wa),this.L=this.aa=0,this.gd=Re([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oo(){var Be=new os;return Be!=null&&(Be.a=0,Be.sc="OK",Be.cb=0,Be.Xb=0,Jl||(Jl=Ka)),Be}function Qi(Be,Ge,nr){return Be.a==0&&(Be.a=Ge,Be.sc=nr,Be.cb=0),0}function Ml(Be,Ge,nr){return 3<=nr&&Be[Ge+0]==157&&Be[Ge+1]==1&&Be[Ge+2]==42}function Dl(Be,Ge){if(Be==null)return 0;if(Be.a=0,Be.sc="OK",Ge==null)return Qi(Be,2,"null VP8Io passed to VP8GetHeaders()");var nr=Ge.data,ur=Ge.w,pr=Ge.ha;if(4>pr)return Qi(Be,7,"Truncated header.");var vr=nr[ur+0]|nr[ur+1]<<8|nr[ur+2]<<16,Sr=Be.Od;if(Sr.Rb=!(1&vr),Sr.td=vr>>1&7,Sr.yd=vr>>4&1,Sr.ub=vr>>5,3<Sr.td)return Qi(Be,3,"Incorrect keyframe parameters.");if(!Sr.yd)return Qi(Be,4,"Frame not displayable.");ur+=3,pr-=3;var Ar=Be.Kc;if(Sr.Rb){if(7>pr)return Qi(Be,7,"cannot parse picture header");if(!Ml(nr,ur,pr))return Qi(Be,3,"Bad code word");Ar.c=16383&(nr[ur+4]<<8|nr[ur+3]),Ar.Td=nr[ur+4]>>6,Ar.i=16383&(nr[ur+6]<<8|nr[ur+5]),Ar.Ud=nr[ur+6]>>6,ur+=7,pr-=7,Be.za=Ar.c+15>>4,Be.Ub=Ar.i+15>>4,Ge.width=Ar.c,Ge.height=Ar.i,Ge.Da=0,Ge.j=0,Ge.v=0,Ge.va=Ge.width,Ge.o=Ge.height,Ge.da=0,Ge.ib=Ge.width,Ge.hb=Ge.height,Ge.U=Ge.width,Ge.T=Ge.height,Ee((vr=Be.Pa).jb,0,255,vr.jb.length),e((vr=Be.Qa)!=null),vr.Cb=0,vr.Bb=0,vr.Fb=1,Ee(vr.Zb,0,0,vr.Zb.length),Ee(vr.Lb,0,0,vr.Lb)}if(Sr.ub>pr)return Qi(Be,7,"bad partition length");_r(vr=Be.m,nr,ur,Sr.ub),ur+=Sr.ub,pr-=Sr.ub,Sr.Rb&&(Ar.Ld=Vr(vr),Ar.Kd=Vr(vr)),Ar=Be.Qa;var Tr,$r=Be.Pa;if(e(vr!=null),e(Ar!=null),Ar.Cb=Vr(vr),Ar.Cb){if(Ar.Bb=Vr(vr),Vr(vr)){for(Ar.Fb=Vr(vr),Tr=0;4>Tr;++Tr)Ar.Zb[Tr]=Vr(vr)?yr(vr,7):0;for(Tr=0;4>Tr;++Tr)Ar.Lb[Tr]=Vr(vr)?yr(vr,6):0}if(Ar.Bb)for(Tr=0;3>Tr;++Tr)$r.jb[Tr]=Vr(vr)?Er(vr,8):255}else Ar.Bb=0;if(vr.Ka)return Qi(Be,3,"cannot parse segment header");if((Ar=Be.ed).zd=Vr(vr),Ar.Tb=Er(vr,6),Ar.wb=Er(vr,3),Ar.Pc=Vr(vr),Ar.Pc&&Vr(vr)){for($r=0;4>$r;++$r)Vr(vr)&&(Ar.vd[$r]=yr(vr,6));for($r=0;4>$r;++$r)Vr(vr)&&(Ar.od[$r]=yr(vr,6))}if(Be.L=Ar.Tb==0?0:Ar.zd?1:2,vr.Ka)return Qi(Be,3,"cannot parse filter header");var qr=pr;if(pr=Tr=ur,ur=Tr+qr,Ar=qr,Be.Xb=(1<<Er(Be.m,2))-1,qr<3*($r=Be.Xb))nr=7;else{for(Tr+=3*$r,Ar-=3*$r,qr=0;qr<$r;++qr){var Jr=nr[pr+0]|nr[pr+1]<<8|nr[pr+2]<<16;Jr>Ar&&(Jr=Ar),_r(Be.Jc[+qr],nr,Tr,Jr),Tr+=Jr,Ar-=Jr,pr+=3}_r(Be.Jc[+$r],nr,Tr,Ar),nr=Tr<ur?0:5}if(nr!=0)return Qi(Be,nr,"cannot parse partitions");for(nr=Er(Tr=Be.m,7),pr=Vr(Tr)?yr(Tr,4):0,ur=Vr(Tr)?yr(Tr,4):0,Ar=Vr(Tr)?yr(Tr,4):0,$r=Vr(Tr)?yr(Tr,4):0,Tr=Vr(Tr)?yr(Tr,4):0,qr=Be.Qa,Jr=0;4>Jr;++Jr){if(qr.Cb){var Zr=qr.Zb[Jr];qr.Fb||(Zr+=nr)}else{if(0<Jr){Be.pb[Jr]=Be.pb[0];continue}Zr=nr}var Kr=Be.pb[Jr];Kr.Sc[0]=Tc[$i(Zr+pr,127)],Kr.Sc[1]=eu[$i(Zr+0,127)],Kr.Eb[0]=2*Tc[$i(Zr+ur,127)],Kr.Eb[1]=101581*eu[$i(Zr+Ar,127)]>>16,8>Kr.Eb[1]&&(Kr.Eb[1]=8),Kr.Qc[0]=Tc[$i(Zr+$r,117)],Kr.Qc[1]=eu[$i(Zr+Tr,127)],Kr.lc=Zr+Tr}if(!Sr.Rb)return Qi(Be,4,"Not a key frame.");for(Vr(vr),Sr=Be.Pa,nr=0;4>nr;++nr){for(pr=0;8>pr;++pr)for(ur=0;3>ur;++ur)for(Ar=0;11>Ar;++Ar)$r=Or(vr,Ld[nr][pr][ur][Ar])?Er(vr,8):Zu[nr][pr][ur][Ar],Sr.Wc[nr][pr].Yb[ur][Ar]=$r;for(pr=0;17>pr;++pr)Sr.Xc[nr][pr]=Sr.Wc[nr][Ou[pr]]}return Be.kc=Vr(vr),Be.kc&&(Be.Bd=Er(vr,8)),Be.cb=1}function Ka(Be,Ge,nr,ur,pr,vr,Sr){var Ar=Ge[pr].Yb[nr];for(nr=0;16>pr;++pr){if(!Or(Be,Ar[nr+0]))return pr;for(;!Or(Be,Ar[nr+1]);)if(Ar=Ge[++pr].Yb[0],nr=0,pr==16)return 16;var Tr=Ge[pr+1].Yb;if(Or(Be,Ar[nr+2])){var $r=Be,qr=0;if(Or($r,(Zr=Ar)[(Jr=nr)+3]))if(Or($r,Zr[Jr+6])){for(Ar=0,Jr=2*(qr=Or($r,Zr[Jr+8]))+(Zr=Or($r,Zr[Jr+9+qr])),qr=0,Zr=$u[Jr];Zr[Ar];++Ar)qr+=qr+Or($r,Zr[Ar]);qr+=3+(8<<Jr)}else Or($r,Zr[Jr+7])?(qr=7+2*Or($r,165),qr+=Or($r,145)):qr=5+Or($r,159);else qr=Or($r,Zr[Jr+4])?3+Or($r,Zr[Jr+5]):2;Ar=Tr[2]}else qr=1,Ar=Tr[1];Tr=Sr+Nu[pr],0>($r=Be).b&&Mr($r);var Jr,Zr=$r.b,Kr=(Jr=$r.Ca>>1)-($r.I>>Zr)>>31;--$r.b,$r.Ca+=Kr,$r.Ca|=1,$r.I-=(Jr+1&Kr)<<Zr,vr[Tr]=((qr^Kr)-Kr)*ur[(0<pr)+0]}return 16}function wa(Be){var Ge=Be.rb[Be.sb-1];Ge.la=0,Ge.Na=0,Ee(Be.zc,0,0,Be.zc.length),Be.ja=0}function Aa(Be,Ge){if(Be==null)return 0;if(Ge==null)return Qi(Be,2,"NULL VP8Io parameter in VP8Decode().");if(!Be.cb&&!Dl(Be,Ge))return 0;if(e(Be.cb),Ge.ac==null||Ge.ac(Ge)){Ge.ob&&(Be.L=0);var nr=rc[Be.L];if(Be.L==2?(Be.yb=0,Be.zb=0):(Be.yb=Ge.v-nr>>4,Be.zb=Ge.j-nr>>4,0>Be.yb&&(Be.yb=0),0>Be.zb&&(Be.zb=0)),Be.Va=Ge.o+15+nr>>4,Be.Hb=Ge.va+15+nr>>4,Be.Hb>Be.za&&(Be.Hb=Be.za),Be.Va>Be.Ub&&(Be.Va=Be.Ub),0<Be.L){var ur=Be.ed;for(nr=0;4>nr;++nr){var pr;if(Be.Qa.Cb){var vr=Be.Qa.Lb[nr];Be.Qa.Fb||(vr+=ur.Tb)}else vr=ur.Tb;for(pr=0;1>=pr;++pr){var Sr=Be.gd[nr][pr],Ar=vr;if(ur.Pc&&(Ar+=ur.vd[0],pr&&(Ar+=ur.od[0])),0<(Ar=0>Ar?0:63<Ar?63:Ar)){var Tr=Ar;0<ur.wb&&(Tr=4<ur.wb?Tr>>2:Tr>>1)>9-ur.wb&&(Tr=9-ur.wb),1>Tr&&(Tr=1),Sr.dd=Tr,Sr.tc=2*Ar+Tr,Sr.ld=40<=Ar?2:15<=Ar?1:0}else Sr.tc=0;Sr.La=pr}}}nr=0}else Qi(Be,6,"Frame setup failed"),nr=Be.a;if(nr=nr==0){if(nr){Be.$c=0,0<Be.Aa||(Be.Ic=ll);e:{nr=Be.Ic,ur=4*(Tr=Be.za);var $r=32*Tr,qr=Tr+1,Jr=0<Be.L?Tr*(0<Be.Aa?2:1):0,Zr=(Be.Aa==2?2:1)*Tr;if((Sr=ur+832+(pr=3*(16*nr+rc[Be.L])/2*$r)+(vr=Be.Fa!=null&&0<Be.Fa.length?Be.Kc.c*Be.Kc.i:0))!=Sr)nr=0;else{if(Sr>Be.Vb){if(Be.Vb=0,Be.Ec=Se(Sr),Be.Fc=0,Be.Ec==null){nr=Qi(Be,1,"no memory during frame initialization.");break e}Be.Vb=Sr}Sr=Be.Ec,Ar=Be.Fc,Be.Ac=Sr,Be.Bc=Ar,Ar+=ur,Be.Gd=Ae($r,Sa),Be.Hd=0,Be.rb=Ae(qr+1,la),Be.sb=1,Be.wa=Jr?Ae(Jr,zs):null,Be.Y=0,Be.D.Nb=0,Be.D.wa=Be.wa,Be.D.Y=Be.Y,0<Be.Aa&&(Be.D.Y+=Tr),e(!0),Be.oc=Sr,Be.pc=Ar,Ar+=832,Be.ya=Ae(Zr,Wa),Be.aa=0,Be.D.ya=Be.ya,Be.D.aa=Be.aa,Be.Aa==2&&(Be.D.aa+=Tr),Be.R=16*Tr,Be.B=8*Tr,Tr=($r=rc[Be.L])*Be.R,$r=$r/2*Be.B,Be.sa=Sr,Be.ta=Ar+Tr,Be.qa=Be.sa,Be.ra=Be.ta+16*nr*Be.R+$r,Be.Ha=Be.qa,Be.Ia=Be.ra+8*nr*Be.B+$r,Be.$c=0,Ar+=pr,Be.mb=vr?Sr:null,Be.nb=vr?Ar:null,e(Ar+vr<=Be.Fc+Be.Vb),wa(Be),Ee(Be.Ac,Be.Bc,0,ur),nr=1}}if(nr){if(Ge.ka=0,Ge.y=Be.sa,Ge.O=Be.ta,Ge.f=Be.qa,Ge.N=Be.ra,Ge.ea=Be.Ha,Ge.Vd=Be.Ia,Ge.fa=Be.R,Ge.Rc=Be.B,Ge.F=null,Ge.J=0,!Kc){for(nr=-255;255>=nr;++nr)Eo[255+nr]=0>nr?-nr:nr;for(nr=-1020;1020>=nr;++nr)Ma[1020+nr]=-128>nr?-128:127<nr?127:nr;for(nr=-112;112>=nr;++nr)Ac[112+nr]=-16>nr?-16:15<nr?15:nr;for(nr=-255;510>=nr;++nr)Yl[255+nr]=0>nr?0:255<nr?255:nr;Kc=1}wc=yi,rl=Pa,nl=ca,Qo=Mi,ks=ua,Ti=Ra,Hl=Ja,Gc=so,Wl=Ys,Gl=ql,Kl=Ns,Ls=fa,il=$a,La=Xs,ol=Ko,sl=as,Cl=ho,Fo=Bl,Zs[0]=Ks,Zs[1]=fc,Zs[2]=_s,Zs[3]=Gs,Zs[4]=Vl,Zs[5]=bl,Zs[6]=Mo,Zs[7]=El,Zs[8]=Xa,Zs[9]=da,hs[0]=Is,hs[1]=hc,hs[2]=Ws,hs[3]=Ya,hs[4]=wi,hs[5]=js,hs[6]=xs,Es[0]=Go,Es[1]=_l,Es[2]=pc,Es[3]=ss,Es[4]=ji,Es[5]=Ca,Es[6]=Fl,nr=1}else nr=0}nr&&(nr=function(Kr,Sn){for(Kr.M=0;Kr.M<Kr.Va;++Kr.M){var mn,zr=Kr.Jc[Kr.M&Kr.Xb],Hr=Kr.m,vn=Kr;for(mn=0;mn<vn.za;++mn){var yn=Hr,bn=vn,qn=bn.Ac,Mn=bn.Bc+4*mn,Zn=bn.zc,Dn=bn.ya[bn.aa+mn];if(bn.Qa.Bb?Dn.$b=Or(yn,bn.Pa.jb[0])?2+Or(yn,bn.Pa.jb[2]):Or(yn,bn.Pa.jb[1]):Dn.$b=0,bn.kc&&(Dn.Ad=Or(yn,bn.Bd)),Dn.Za=!Or(yn,145)+0,Dn.Za){var Ai=Dn.Ob,Ri=0;for(bn=0;4>bn;++bn){var Si,fi=Zn[0+bn];for(Si=0;4>Si;++Si){fi=kd[qn[Mn+Si]][fi];for(var Bi=Ju[Or(yn,fi[0])];0<Bi;)Bi=Ju[2*Bi+Or(yn,fi[Bi])];fi=-Bi,qn[Mn+Si]=fi}_e(Ai,Ri,qn,Mn,4),Ri+=4,Zn[0+bn]=fi}}else fi=Or(yn,156)?Or(yn,128)?1:3:Or(yn,163)?2:0,Dn.Ob[0]=fi,Ee(qn,Mn,fi,4),Ee(Zn,0,fi,4);Dn.Dd=Or(yn,142)?Or(yn,114)?Or(yn,183)?1:3:2:0}if(vn.m.Ka)return Qi(Kr,7,"Premature end-of-partition0 encountered.");for(;Kr.ja<Kr.za;++Kr.ja){if(vn=zr,yn=(Hr=Kr).rb[Hr.sb-1],qn=Hr.rb[Hr.sb+Hr.ja],mn=Hr.ya[Hr.aa+Hr.ja],Mn=Hr.kc?mn.Ad:0)yn.la=qn.la=0,mn.Za||(yn.Na=qn.Na=0),mn.Hc=0,mn.Gc=0,mn.ia=0;else{var Hi,ai;if(yn=qn,qn=vn,Mn=Hr.Pa.Xc,Zn=Hr.ya[Hr.aa+Hr.ja],Dn=Hr.pb[Zn.$b],bn=Zn.ad,Ai=0,Ri=Hr.rb[Hr.sb-1],fi=Si=0,Ee(bn,Ai,0,384),Zn.Za)var ao=0,ps=Mn[3];else{Bi=Se(16);var yo=yn.Na+Ri.Na;if(yo=Jl(qn,Mn[1],yo,Dn.Eb,0,Bi,0),yn.Na=Ri.Na=(0<yo)+0,1<yo)wc(Bi,0,bn,Ai);else{var Ro=Bi[0]+3>>3;for(Bi=0;256>Bi;Bi+=16)bn[Ai+Bi]=Ro}ao=1,ps=Mn[0]}var Ni=15&yn.la,Zo=15&Ri.la;for(Bi=0;4>Bi;++Bi){var es=1&Zo;for(Ro=ai=0;4>Ro;++Ro)Ni=Ni>>1|(es=(yo=Jl(qn,ps,yo=es+(1&Ni),Dn.Sc,ao,bn,Ai))>ao)<<7,ai=ai<<2|(3<yo?3:1<yo?2:bn[Ai+0]!=0),Ai+=16;Ni>>=4,Zo=Zo>>1|es<<7,Si=(Si<<8|ai)>>>0}for(ps=Ni,ao=Zo>>4,Hi=0;4>Hi;Hi+=2){for(ai=0,Ni=yn.la>>4+Hi,Zo=Ri.la>>4+Hi,Bi=0;2>Bi;++Bi){for(es=1&Zo,Ro=0;2>Ro;++Ro)yo=es+(1&Ni),Ni=Ni>>1|(es=0<(yo=Jl(qn,Mn[2],yo,Dn.Qc,0,bn,Ai)))<<3,ai=ai<<2|(3<yo?3:1<yo?2:bn[Ai+0]!=0),Ai+=16;Ni>>=2,Zo=Zo>>1|es<<5}fi|=ai<<4*Hi,ps|=Ni<<4<<Hi,ao|=(240&Zo)<<Hi}yn.la=ps,Ri.la=ao,Zn.Hc=Si,Zn.Gc=fi,Zn.ia=43690&fi?0:Dn.ia,Mn=!(Si|fi)}if(0<Hr.L&&(Hr.wa[Hr.Y+Hr.ja]=Hr.gd[mn.$b][mn.Za],Hr.wa[Hr.Y+Hr.ja].La|=!Mn),vn.Ka)return Qi(Kr,7,"Premature end-of-file encountered.")}if(wa(Kr),Hr=Sn,vn=1,mn=(zr=Kr).D,yn=0<zr.L&&zr.M>=zr.zb&&zr.M<=zr.Va,zr.Aa==0)e:{if(mn.M=zr.M,mn.uc=yn,ma(zr,mn),vn=1,mn=(ai=zr.D).Nb,yn=(fi=rc[zr.L])*zr.R,qn=fi/2*zr.B,Bi=16*mn*zr.R,Ro=8*mn*zr.B,Mn=zr.sa,Zn=zr.ta-yn+Bi,Dn=zr.qa,bn=zr.ra-qn+Ro,Ai=zr.Ha,Ri=zr.Ia-qn+Ro,Zo=(Ni=ai.M)==0,Si=Ni>=zr.Va-1,zr.Aa==2&&ma(zr,ai),ai.uc)for(es=(yo=zr).D.M,e(yo.D.uc),ai=yo.yb;ai<yo.Hb;++ai){ao=ai,ps=es;var lo=(Po=(Oi=yo).D).Nb;Hi=Oi.R;var Po=Po.wa[Po.Y+ao],qo=Oi.sa,Rs=Oi.ta+16*lo*Hi+16*ao,ea=Po.dd,co=Po.tc;if(co!=0)if(e(3<=co),Oi.L==1)0<ao&&sl(qo,Rs,Hi,co+4),Po.La&&Fo(qo,Rs,Hi,co),0<ps&&ol(qo,Rs,Hi,co+4),Po.La&&Cl(qo,Rs,Hi,co);else{var So=Oi.B,Ms=Oi.qa,Nl=Oi.ra+8*lo*So+8*ao,cl=Oi.Ha,Oi=Oi.Ia+8*lo*So+8*ao;lo=Po.ld,0<ao&&(Gc(qo,Rs,Hi,co+4,ea,lo),Gl(Ms,Nl,cl,Oi,So,co+4,ea,lo)),Po.La&&(Ls(qo,Rs,Hi,co,ea,lo),La(Ms,Nl,cl,Oi,So,co,ea,lo)),0<ps&&(Hl(qo,Rs,Hi,co+4,ea,lo),Wl(Ms,Nl,cl,Oi,So,co+4,ea,lo)),Po.La&&(Kl(qo,Rs,Hi,co,ea,lo),il(Ms,Nl,cl,Oi,So,co,ea,lo))}}if(zr.ia&&alert("todo:DitherRow"),Hr.put!=null){if(ai=16*Ni,Ni=16*(Ni+1),Zo?(Hr.y=zr.sa,Hr.O=zr.ta+Bi,Hr.f=zr.qa,Hr.N=zr.ra+Ro,Hr.ea=zr.Ha,Hr.W=zr.Ia+Ro):(ai-=fi,Hr.y=Mn,Hr.O=Zn,Hr.f=Dn,Hr.N=bn,Hr.ea=Ai,Hr.W=Ri),Si||(Ni-=fi),Ni>Hr.o&&(Ni=Hr.o),Hr.F=null,Hr.J=null,zr.Fa!=null&&0<zr.Fa.length&&ai<Ni&&(Hr.J=Rl(zr,Hr,ai,Ni-ai),Hr.F=zr.mb,Hr.F==null&&Hr.F.length==0)){vn=Qi(zr,3,"Could not decode alpha data.");break e}ai<Hr.j&&(fi=Hr.j-ai,ai=Hr.j,e(!(1&fi)),Hr.O+=zr.R*fi,Hr.N+=zr.B*(fi>>1),Hr.W+=zr.B*(fi>>1),Hr.F!=null&&(Hr.J+=Hr.width*fi)),ai<Ni&&(Hr.O+=Hr.v,Hr.N+=Hr.v>>1,Hr.W+=Hr.v>>1,Hr.F!=null&&(Hr.J+=Hr.v),Hr.ka=ai-Hr.j,Hr.U=Hr.va-Hr.v,Hr.T=Ni-ai,vn=Hr.put(Hr))}mn+1!=zr.Ic||Si||(_e(zr.sa,zr.ta-yn,Mn,Zn+16*zr.R,yn),_e(zr.qa,zr.ra-qn,Dn,bn+8*zr.B,qn),_e(zr.Ha,zr.Ia-qn,Ai,Ri+8*zr.B,qn))}if(!vn)return Qi(Kr,6,"Output aborted.")}return 1}(Be,Ge)),Ge.bc!=null&&Ge.bc(Ge),nr&=1}return nr?(Be.cb=0,nr):0}function ko(Be,Ge,nr,ur,pr){pr=Be[Ge+nr+32*ur]+(pr>>3),Be[Ge+nr+32*ur]=-256&pr?0>pr?0:255:pr}function xl(Be,Ge,nr,ur,pr,vr){ko(Be,Ge,0,nr,ur+pr),ko(Be,Ge,1,nr,ur+vr),ko(Be,Ge,2,nr,ur-vr),ko(Be,Ge,3,nr,ur-pr)}function fo(Be){return(20091*Be>>16)+Be}function Lo(Be,Ge,nr,ur){var pr,vr=0,Sr=Se(16);for(pr=0;4>pr;++pr){var Ar=Be[Ge+0]+Be[Ge+8],Tr=Be[Ge+0]-Be[Ge+8],$r=(35468*Be[Ge+4]>>16)-fo(Be[Ge+12]),qr=fo(Be[Ge+4])+(35468*Be[Ge+12]>>16);Sr[vr+0]=Ar+qr,Sr[vr+1]=Tr+$r,Sr[vr+2]=Tr-$r,Sr[vr+3]=Ar-qr,vr+=4,Ge++}for(pr=vr=0;4>pr;++pr)Ar=(Be=Sr[vr+0]+4)+Sr[vr+8],Tr=Be-Sr[vr+8],$r=(35468*Sr[vr+4]>>16)-fo(Sr[vr+12]),ko(nr,ur,0,0,Ar+(qr=fo(Sr[vr+4])+(35468*Sr[vr+12]>>16))),ko(nr,ur,1,0,Tr+$r),ko(nr,ur,2,0,Tr-$r),ko(nr,ur,3,0,Ar-qr),vr++,ur+=32}function Ra(Be,Ge,nr,ur){var pr=Be[Ge+0]+4,vr=35468*Be[Ge+4]>>16,Sr=fo(Be[Ge+4]),Ar=35468*Be[Ge+1]>>16;xl(nr,ur,0,pr+Sr,Be=fo(Be[Ge+1]),Ar),xl(nr,ur,1,pr+vr,Be,Ar),xl(nr,ur,2,pr-vr,Be,Ar),xl(nr,ur,3,pr-Sr,Be,Ar)}function Pa(Be,Ge,nr,ur,pr){Lo(Be,Ge,nr,ur),pr&&Lo(Be,Ge+16,nr,ur+4)}function ca(Be,Ge,nr,ur){rl(Be,Ge+0,nr,ur,1),rl(Be,Ge+32,nr,ur+128,1)}function Mi(Be,Ge,nr,ur){var pr;for(Be=Be[Ge+0]+4,pr=0;4>pr;++pr)for(Ge=0;4>Ge;++Ge)ko(nr,ur,Ge,pr,Be)}function ua(Be,Ge,nr,ur){Be[Ge+0]&&Qo(Be,Ge+0,nr,ur),Be[Ge+16]&&Qo(Be,Ge+16,nr,ur+4),Be[Ge+32]&&Qo(Be,Ge+32,nr,ur+128),Be[Ge+48]&&Qo(Be,Ge+48,nr,ur+128+4)}function yi(Be,Ge,nr,ur){var pr,vr=Se(16);for(pr=0;4>pr;++pr){var Sr=Be[Ge+0+pr]+Be[Ge+12+pr],Ar=Be[Ge+4+pr]+Be[Ge+8+pr],Tr=Be[Ge+4+pr]-Be[Ge+8+pr],$r=Be[Ge+0+pr]-Be[Ge+12+pr];vr[0+pr]=Sr+Ar,vr[8+pr]=Sr-Ar,vr[4+pr]=$r+Tr,vr[12+pr]=$r-Tr}for(pr=0;4>pr;++pr)Sr=(Be=vr[0+4*pr]+3)+vr[3+4*pr],Ar=vr[1+4*pr]+vr[2+4*pr],Tr=vr[1+4*pr]-vr[2+4*pr],$r=Be-vr[3+4*pr],nr[ur+0]=Sr+Ar>>3,nr[ur+16]=$r+Tr>>3,nr[ur+32]=Sr-Ar>>3,nr[ur+48]=$r-Tr>>3,ur+=64}function Hs(Be,Ge,nr){var ur,pr=Ge-32,vr=fs,Sr=255-Be[pr-1];for(ur=0;ur<nr;++ur){var Ar,Tr=vr,$r=Sr+Be[Ge-1];for(Ar=0;Ar<nr;++Ar)Be[Ge+Ar]=Tr[$r+Be[pr+Ar]];Ge+=32}}function fc(Be,Ge){Hs(Be,Ge,4)}function _l(Be,Ge){Hs(Be,Ge,8)}function hc(Be,Ge){Hs(Be,Ge,16)}function Ws(Be,Ge){var nr;for(nr=0;16>nr;++nr)_e(Be,Ge+32*nr,Be,Ge-32,16)}function Ya(Be,Ge){var nr;for(nr=16;0<nr;--nr)Ee(Be,Ge,Be[Ge-1],16),Ge+=32}function Ta(Be,Ge,nr){var ur;for(ur=0;16>ur;++ur)Ee(Ge,nr+32*ur,Be,16)}function Is(Be,Ge){var nr,ur=16;for(nr=0;16>nr;++nr)ur+=Be[Ge-1+32*nr]+Be[Ge+nr-32];Ta(ur>>5,Be,Ge)}function wi(Be,Ge){var nr,ur=8;for(nr=0;16>nr;++nr)ur+=Be[Ge-1+32*nr];Ta(ur>>4,Be,Ge)}function js(Be,Ge){var nr,ur=8;for(nr=0;16>nr;++nr)ur+=Be[Ge+nr-32];Ta(ur>>4,Be,Ge)}function xs(Be,Ge){Ta(128,Be,Ge)}function ri(Be,Ge,nr){return Be+2*Ge+nr+2>>2}function _s(Be,Ge){var nr,ur=Ge-32;for(ur=new Uint8Array([ri(Be[ur-1],Be[ur+0],Be[ur+1]),ri(Be[ur+0],Be[ur+1],Be[ur+2]),ri(Be[ur+1],Be[ur+2],Be[ur+3]),ri(Be[ur+2],Be[ur+3],Be[ur+4])]),nr=0;4>nr;++nr)_e(Be,Ge+32*nr,ur,0,ur.length)}function Gs(Be,Ge){var nr=Be[Ge-1],ur=Be[Ge-1+32],pr=Be[Ge-1+64],vr=Be[Ge-1+96];Xr(Be,Ge+0,16843009*ri(Be[Ge-1-32],nr,ur)),Xr(Be,Ge+32,16843009*ri(nr,ur,pr)),Xr(Be,Ge+64,16843009*ri(ur,pr,vr)),Xr(Be,Ge+96,16843009*ri(pr,vr,vr))}function Ks(Be,Ge){var nr,ur=4;for(nr=0;4>nr;++nr)ur+=Be[Ge+nr-32]+Be[Ge-1+32*nr];for(ur>>=3,nr=0;4>nr;++nr)Ee(Be,Ge+32*nr,ur,4)}function Vl(Be,Ge){var nr=Be[Ge-1+0],ur=Be[Ge-1+32],pr=Be[Ge-1+64],vr=Be[Ge-1-32],Sr=Be[Ge+0-32],Ar=Be[Ge+1-32],Tr=Be[Ge+2-32],$r=Be[Ge+3-32];Be[Ge+0+96]=ri(ur,pr,Be[Ge-1+96]),Be[Ge+1+96]=Be[Ge+0+64]=ri(nr,ur,pr),Be[Ge+2+96]=Be[Ge+1+64]=Be[Ge+0+32]=ri(vr,nr,ur),Be[Ge+3+96]=Be[Ge+2+64]=Be[Ge+1+32]=Be[Ge+0+0]=ri(Sr,vr,nr),Be[Ge+3+64]=Be[Ge+2+32]=Be[Ge+1+0]=ri(Ar,Sr,vr),Be[Ge+3+32]=Be[Ge+2+0]=ri(Tr,Ar,Sr),Be[Ge+3+0]=ri($r,Tr,Ar)}function Mo(Be,Ge){var nr=Be[Ge+1-32],ur=Be[Ge+2-32],pr=Be[Ge+3-32],vr=Be[Ge+4-32],Sr=Be[Ge+5-32],Ar=Be[Ge+6-32],Tr=Be[Ge+7-32];Be[Ge+0+0]=ri(Be[Ge+0-32],nr,ur),Be[Ge+1+0]=Be[Ge+0+32]=ri(nr,ur,pr),Be[Ge+2+0]=Be[Ge+1+32]=Be[Ge+0+64]=ri(ur,pr,vr),Be[Ge+3+0]=Be[Ge+2+32]=Be[Ge+1+64]=Be[Ge+0+96]=ri(pr,vr,Sr),Be[Ge+3+32]=Be[Ge+2+64]=Be[Ge+1+96]=ri(vr,Sr,Ar),Be[Ge+3+64]=Be[Ge+2+96]=ri(Sr,Ar,Tr),Be[Ge+3+96]=ri(Ar,Tr,Tr)}function bl(Be,Ge){var nr=Be[Ge-1+0],ur=Be[Ge-1+32],pr=Be[Ge-1+64],vr=Be[Ge-1-32],Sr=Be[Ge+0-32],Ar=Be[Ge+1-32],Tr=Be[Ge+2-32],$r=Be[Ge+3-32];Be[Ge+0+0]=Be[Ge+1+64]=vr+Sr+1>>1,Be[Ge+1+0]=Be[Ge+2+64]=Sr+Ar+1>>1,Be[Ge+2+0]=Be[Ge+3+64]=Ar+Tr+1>>1,Be[Ge+3+0]=Tr+$r+1>>1,Be[Ge+0+96]=ri(pr,ur,nr),Be[Ge+0+64]=ri(ur,nr,vr),Be[Ge+0+32]=Be[Ge+1+96]=ri(nr,vr,Sr),Be[Ge+1+32]=Be[Ge+2+96]=ri(vr,Sr,Ar),Be[Ge+2+32]=Be[Ge+3+96]=ri(Sr,Ar,Tr),Be[Ge+3+32]=ri(Ar,Tr,$r)}function El(Be,Ge){var nr=Be[Ge+0-32],ur=Be[Ge+1-32],pr=Be[Ge+2-32],vr=Be[Ge+3-32],Sr=Be[Ge+4-32],Ar=Be[Ge+5-32],Tr=Be[Ge+6-32],$r=Be[Ge+7-32];Be[Ge+0+0]=nr+ur+1>>1,Be[Ge+1+0]=Be[Ge+0+64]=ur+pr+1>>1,Be[Ge+2+0]=Be[Ge+1+64]=pr+vr+1>>1,Be[Ge+3+0]=Be[Ge+2+64]=vr+Sr+1>>1,Be[Ge+0+32]=ri(nr,ur,pr),Be[Ge+1+32]=Be[Ge+0+96]=ri(ur,pr,vr),Be[Ge+2+32]=Be[Ge+1+96]=ri(pr,vr,Sr),Be[Ge+3+32]=Be[Ge+2+96]=ri(vr,Sr,Ar),Be[Ge+3+64]=ri(Sr,Ar,Tr),Be[Ge+3+96]=ri(Ar,Tr,$r)}function da(Be,Ge){var nr=Be[Ge-1+0],ur=Be[Ge-1+32],pr=Be[Ge-1+64],vr=Be[Ge-1+96];Be[Ge+0+0]=nr+ur+1>>1,Be[Ge+2+0]=Be[Ge+0+32]=ur+pr+1>>1,Be[Ge+2+32]=Be[Ge+0+64]=pr+vr+1>>1,Be[Ge+1+0]=ri(nr,ur,pr),Be[Ge+3+0]=Be[Ge+1+32]=ri(ur,pr,vr),Be[Ge+3+32]=Be[Ge+1+64]=ri(pr,vr,vr),Be[Ge+3+64]=Be[Ge+2+64]=Be[Ge+0+96]=Be[Ge+1+96]=Be[Ge+2+96]=Be[Ge+3+96]=vr}function Xa(Be,Ge){var nr=Be[Ge-1+0],ur=Be[Ge-1+32],pr=Be[Ge-1+64],vr=Be[Ge-1+96],Sr=Be[Ge-1-32],Ar=Be[Ge+0-32],Tr=Be[Ge+1-32],$r=Be[Ge+2-32];Be[Ge+0+0]=Be[Ge+2+32]=nr+Sr+1>>1,Be[Ge+0+32]=Be[Ge+2+64]=ur+nr+1>>1,Be[Ge+0+64]=Be[Ge+2+96]=pr+ur+1>>1,Be[Ge+0+96]=vr+pr+1>>1,Be[Ge+3+0]=ri(Ar,Tr,$r),Be[Ge+2+0]=ri(Sr,Ar,Tr),Be[Ge+1+0]=Be[Ge+3+32]=ri(nr,Sr,Ar),Be[Ge+1+32]=Be[Ge+3+64]=ri(ur,nr,Sr),Be[Ge+1+64]=Be[Ge+3+96]=ri(pr,ur,nr),Be[Ge+1+96]=ri(vr,pr,ur)}function pc(Be,Ge){var nr;for(nr=0;8>nr;++nr)_e(Be,Ge+32*nr,Be,Ge-32,8)}function ss(Be,Ge){var nr;for(nr=0;8>nr;++nr)Ee(Be,Ge,Be[Ge-1],8),Ge+=32}function Do(Be,Ge,nr){var ur;for(ur=0;8>ur;++ur)Ee(Ge,nr+32*ur,Be,8)}function Go(Be,Ge){var nr,ur=8;for(nr=0;8>nr;++nr)ur+=Be[Ge+nr-32]+Be[Ge-1+32*nr];Do(ur>>4,Be,Ge)}function Ca(Be,Ge){var nr,ur=4;for(nr=0;8>nr;++nr)ur+=Be[Ge+nr-32];Do(ur>>3,Be,Ge)}function ji(Be,Ge){var nr,ur=4;for(nr=0;8>nr;++nr)ur+=Be[Ge-1+32*nr];Do(ur>>3,Be,Ge)}function Fl(Be,Ge){Do(128,Be,Ge)}function Ia(Be,Ge,nr){var ur=Be[Ge-nr],pr=Be[Ge+0],vr=3*(pr-ur)+Da[1020+Be[Ge-2*nr]-Be[Ge+nr]],Sr=Rc[112+(vr+4>>3)];Be[Ge-nr]=fs[255+ur+Rc[112+(vr+3>>3)]],Be[Ge+0]=fs[255+pr-Sr]}function ja(Be,Ge,nr,ur){var pr=Be[Ge+0],vr=Be[Ge+nr];return Js[255+Be[Ge-2*nr]-Be[Ge-nr]]>ur||Js[255+vr-pr]>ur}function Qa(Be,Ge,nr,ur){return 4*Js[255+Be[Ge-nr]-Be[Ge+0]]+Js[255+Be[Ge-2*nr]-Be[Ge+nr]]<=ur}function Sl(Be,Ge,nr,ur,pr){var vr=Be[Ge-3*nr],Sr=Be[Ge-2*nr],Ar=Be[Ge-nr],Tr=Be[Ge+0],$r=Be[Ge+nr],qr=Be[Ge+2*nr],Jr=Be[Ge+3*nr];return 4*Js[255+Ar-Tr]+Js[255+Sr-$r]>ur?0:Js[255+Be[Ge-4*nr]-vr]<=pr&&Js[255+vr-Sr]<=pr&&Js[255+Sr-Ar]<=pr&&Js[255+Jr-qr]<=pr&&Js[255+qr-$r]<=pr&&Js[255+$r-Tr]<=pr}function Ko(Be,Ge,nr,ur){var pr=2*ur+1;for(ur=0;16>ur;++ur)Qa(Be,Ge+ur,nr,pr)&&Ia(Be,Ge+ur,nr)}function as(Be,Ge,nr,ur){var pr=2*ur+1;for(ur=0;16>ur;++ur)Qa(Be,Ge+ur*nr,1,pr)&&Ia(Be,Ge+ur*nr,1)}function ho(Be,Ge,nr,ur){var pr;for(pr=3;0<pr;--pr)Ko(Be,Ge+=4*nr,nr,ur)}function Bl(Be,Ge,nr,ur){var pr;for(pr=3;0<pr;--pr)as(Be,Ge+=4,nr,ur)}function $s(Be,Ge,nr,ur,pr,vr,Sr,Ar){for(vr=2*vr+1;0<pr--;){if(Sl(Be,Ge,nr,vr,Sr))if(ja(Be,Ge,nr,Ar))Ia(Be,Ge,nr);else{var Tr=Be,$r=Ge,qr=nr,Jr=Tr[$r-2*qr],Zr=Tr[$r-qr],Kr=Tr[$r+0],Sn=Tr[$r+qr],mn=Tr[$r+2*qr],zr=27*(vn=Da[1020+3*(Kr-Zr)+Da[1020+Jr-Sn]])+63>>7,Hr=18*vn+63>>7,vn=9*vn+63>>7;Tr[$r-3*qr]=fs[255+Tr[$r-3*qr]+vn],Tr[$r-2*qr]=fs[255+Jr+Hr],Tr[$r-qr]=fs[255+Zr+zr],Tr[$r+0]=fs[255+Kr-zr],Tr[$r+qr]=fs[255+Sn-Hr],Tr[$r+2*qr]=fs[255+mn-vn]}Ge+=ur}}function bo(Be,Ge,nr,ur,pr,vr,Sr,Ar){for(vr=2*vr+1;0<pr--;){if(Sl(Be,Ge,nr,vr,Sr))if(ja(Be,Ge,nr,Ar))Ia(Be,Ge,nr);else{var Tr=Be,$r=Ge,qr=nr,Jr=Tr[$r-qr],Zr=Tr[$r+0],Kr=Tr[$r+qr],Sn=Rc[112+((mn=3*(Zr-Jr))+4>>3)],mn=Rc[112+(mn+3>>3)],zr=Sn+1>>1;Tr[$r-2*qr]=fs[255+Tr[$r-2*qr]+zr],Tr[$r-qr]=fs[255+Jr+mn],Tr[$r+0]=fs[255+Zr-Sn],Tr[$r+qr]=fs[255+Kr-zr]}Ge+=ur}}function Ja(Be,Ge,nr,ur,pr,vr){$s(Be,Ge,nr,1,16,ur,pr,vr)}function so(Be,Ge,nr,ur,pr,vr){$s(Be,Ge,1,nr,16,ur,pr,vr)}function Ns(Be,Ge,nr,ur,pr,vr){var Sr;for(Sr=3;0<Sr;--Sr)bo(Be,Ge+=4*nr,nr,1,16,ur,pr,vr)}function fa(Be,Ge,nr,ur,pr,vr){var Sr;for(Sr=3;0<Sr;--Sr)bo(Be,Ge+=4,1,nr,16,ur,pr,vr)}function Ys(Be,Ge,nr,ur,pr,vr,Sr,Ar){$s(Be,Ge,pr,1,8,vr,Sr,Ar),$s(nr,ur,pr,1,8,vr,Sr,Ar)}function ql(Be,Ge,nr,ur,pr,vr,Sr,Ar){$s(Be,Ge,1,pr,8,vr,Sr,Ar),$s(nr,ur,1,pr,8,vr,Sr,Ar)}function $a(Be,Ge,nr,ur,pr,vr,Sr,Ar){bo(Be,Ge+4*pr,pr,1,8,vr,Sr,Ar),bo(nr,ur+4*pr,pr,1,8,vr,Sr,Ar)}function Xs(Be,Ge,nr,ur,pr,vr,Sr,Ar){bo(Be,Ge+4,1,pr,8,vr,Sr,Ar),bo(nr,ur+4,1,pr,8,vr,Sr,Ar)}function Os(){this.ba=new eo,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Li,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ha(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Na(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wl(){this.ua=0,this.Wa=new Nr,this.vb=new Nr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fr,this.yc=new er}function mc(){this.xb=this.a=0,this.l=new Ga,this.ca=new eo,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new or,this.Pb=0,this.wd=new or,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wl,this.ab=0,this.gc=Ae(4,Na),this.Oc=0}function pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qs(Be,Ge,nr,ur,pr,vr,Sr){for(Be=Be==null?0:Be[Ge+0],Ge=0;Ge<Sr;++Ge)pr[vr+Ge]=Be+nr[ur+Ge]&255,Be=pr[vr+Ge]}function Al(Be,Ge,nr,ur,pr,vr,Sr){var Ar;if(Be==null)Qs(null,null,nr,ur,pr,vr,Sr);else for(Ar=0;Ar<Sr;++Ar)pr[vr+Ar]=Be[Ge+Ar]+nr[ur+Ar]&255}function Yo(Be,Ge,nr,ur,pr,vr,Sr){if(Be==null)Qs(null,null,nr,ur,pr,vr,Sr);else{var Ar,Tr=Be[Ge+0],$r=Tr,qr=Tr;for(Ar=0;Ar<Sr;++Ar)$r=qr+(Tr=Be[Ge+Ar])-$r,qr=nr[ur+Ar]+(-256&$r?0>$r?0:255:$r)&255,$r=Tr,pr[vr+Ar]=qr}}function Rl(Be,Ge,nr,ur){var pr=Ge.width,vr=Ge.o;if(e(Be!=null&&Ge!=null),0>nr||0>=ur||nr+ur>vr)return null;if(!Be.Cc){if(Be.ga==null){var Sr;if(Be.ga=new pa,(Sr=Be.ga==null)||(Sr=Ge.width*Ge.o,e(Be.Gb.length==0),Be.Gb=Se(Sr),Be.Uc=0,Be.Gb==null?Sr=0:(Be.mb=Be.Gb,Be.nb=Be.Uc,Be.rc=null,Sr=1),Sr=!Sr),!Sr){Sr=Be.ga;var Ar=Be.Fa,Tr=Be.P,$r=Be.qc,qr=Be.mb,Jr=Be.nb,Zr=Tr+1,Kr=$r-1,Sn=Sr.l;if(e(Ar!=null&&qr!=null&&Ge!=null),Jo[0]=null,Jo[1]=Qs,Jo[2]=Al,Jo[3]=Yo,Sr.ca=qr,Sr.tb=Jr,Sr.c=Ge.width,Sr.i=Ge.height,e(0<Sr.c&&0<Sr.i),1>=$r)Ge=0;else if(Sr.$a=Ar[Tr+0]>>0&3,Sr.Z=Ar[Tr+0]>>2&3,Sr.Lc=Ar[Tr+0]>>4&3,Tr=Ar[Tr+0]>>6&3,0>Sr.$a||1<Sr.$a||4<=Sr.Z||1<Sr.Lc||Tr)Ge=0;else if(Sn.put=go,Sn.ac=Yi,Sn.bc=Ho,Sn.ma=Sr,Sn.width=Ge.width,Sn.height=Ge.height,Sn.Da=Ge.Da,Sn.v=Ge.v,Sn.va=Ge.va,Sn.j=Ge.j,Sn.o=Ge.o,Sr.$a)e:{e(Sr.$a==1),Ge=ro();t:for(;;){if(Ge==null){Ge=0;break e}if(e(Sr!=null),Sr.mc=Ge,Ge.c=Sr.c,Ge.i=Sr.i,Ge.l=Sr.l,Ge.l.ma=Sr,Ge.l.width=Sr.c,Ge.l.height=Sr.i,Ge.a=0,mr(Ge.m,Ar,Zr,Kr),!is(Sr.c,Sr.i,1,Ge,null)||(Ge.ab==1&&Ge.gc[0].hc==3&&Cs(Ge.s)?(Sr.ic=1,Ar=Ge.c*Ge.i,Ge.Ta=null,Ge.Ua=0,Ge.V=Se(Ar),Ge.Ba=0,Ge.V==null?(Ge.a=1,Ge=0):Ge=1):(Sr.ic=0,Ge=En(Ge,Sr.c)),!Ge))break t;Ge=1;break e}Sr.mc=null,Ge=0}else Ge=Kr>=Sr.c*Sr.i;Sr=!Ge}if(Sr)return null;Be.ga.Lc!=1?Be.Ga=0:ur=vr-nr}e(Be.ga!=null),e(nr+ur<=vr);e:{if(Ge=(Ar=Be.ga).c,vr=Ar.l.o,Ar.$a==0){if(Zr=Be.rc,Kr=Be.Vc,Sn=Be.Fa,Tr=Be.P+1+nr*Ge,$r=Be.mb,qr=Be.nb+nr*Ge,e(Tr<=Be.P+Be.qc),Ar.Z!=0)for(e(Jo[Ar.Z]!=null),Sr=0;Sr<ur;++Sr)Jo[Ar.Z](Zr,Kr,Sn,Tr,$r,qr,Ge),Zr=$r,Kr=qr,qr+=Ge,Tr+=Ge;else for(Sr=0;Sr<ur;++Sr)_e($r,qr,Sn,Tr,Ge),Zr=$r,Kr=qr,qr+=Ge,Tr+=Ge;Be.rc=Zr,Be.Vc=Kr}else{if(e(Ar.mc!=null),Ge=nr+ur,e((Sr=Ar.mc)!=null),e(Ge<=Sr.i),Sr.C>=Ge)Ge=1;else if(Ar.ic||Yr(),Ar.ic){Ar=Sr.V,Zr=Sr.Ba,Kr=Sr.c;var mn=Sr.i,zr=(Sn=1,Tr=Sr.$/Kr,$r=Sr.$%Kr,qr=Sr.m,Jr=Sr.s,Sr.$),Hr=Kr*mn,vn=Kr*Ge,yn=Jr.wc,bn=zr<vn?Wi(Jr,$r,Tr):null;e(zr<=Hr),e(Ge<=mn),e(Cs(Jr));t:for(;;){for(;!qr.h&&zr<vn;){if($r&yn||(bn=Wi(Jr,$r,Tr)),e(bn!=null),jr(qr),256>(mn=uo(bn.G[0],bn.H[0],qr)))Ar[Zr+zr]=mn,++zr,++$r>=Kr&&($r=0,++Tr<=Ge&&!(Tr%16)&&Wo(Sr,Tr));else{if(!(280>mn)){Sn=0;break t}mn=Io(mn-256,qr);var qn,Mn=uo(bn.G[4],bn.H[4],qr);if(jr(qr),!(zr>=(Mn=io(Kr,Mn=Io(Mn,qr)))&&Hr-zr>=mn)){Sn=0;break t}for(qn=0;qn<mn;++qn)Ar[Zr+zr+qn]=Ar[Zr+zr+qn-Mn];for(zr+=mn,$r+=mn;$r>=Kr;)$r-=Kr,++Tr<=Ge&&!(Tr%16)&&Wo(Sr,Tr);zr<vn&&$r&yn&&(bn=Wi(Jr,$r,Tr))}e(qr.h==br(qr))}Wo(Sr,Tr>Ge?Ge:Tr);break t}!Sn||qr.h&&zr<Hr?(Sn=0,Sr.a=qr.h?5:3):Sr.$=zr,Ge=Sn}else Ge=oo(Sr,Sr.V,Sr.Ba,Sr.c,Sr.i,Ge,Wn);if(!Ge){ur=0;break e}}nr+ur>=vr&&(Be.Cc=1),ur=1}if(!ur)return null;if(Be.Cc&&((ur=Be.ga)!=null&&(ur.mc=null),Be.ga=null,0<Be.Ga))return alert("todo:WebPDequantizeLevels"),null}return Be.nb+nr*pr}function Je(Be,Ge,nr,ur,pr,vr){for(;0<pr--;){var Sr,Ar=Be,Tr=Ge+(nr?1:0),$r=Be,qr=Ge+(nr?0:3);for(Sr=0;Sr<ur;++Sr){var Jr=$r[qr+4*Sr];Jr!=255&&(Jr*=32897,Ar[Tr+4*Sr+0]=Ar[Tr+4*Sr+0]*Jr>>23,Ar[Tr+4*Sr+1]=Ar[Tr+4*Sr+1]*Jr>>23,Ar[Tr+4*Sr+2]=Ar[Tr+4*Sr+2]*Jr>>23)}Ge+=vr}}function gr(Be,Ge,nr,ur,pr){for(;0<ur--;){var vr;for(vr=0;vr<nr;++vr){var Sr=Be[Ge+2*vr+0],Ar=15&($r=Be[Ge+2*vr+1]),Tr=4369*Ar,$r=(240&$r|$r>>4)*Tr>>16;Be[Ge+2*vr+0]=(240&Sr|Sr>>4)*Tr>>16&240|(15&Sr|Sr<<4)*Tr>>16>>4&15,Be[Ge+2*vr+1]=240&$r|Ar}Ge+=pr}}function Lr(Be,Ge,nr,ur,pr,vr,Sr,Ar){var Tr,$r,qr=255;for($r=0;$r<pr;++$r){for(Tr=0;Tr<ur;++Tr){var Jr=Be[Ge+Tr];vr[Sr+4*Tr]=Jr,qr&=Jr}Ge+=nr,Sr+=Ar}return qr!=255}function Br(Be,Ge,nr,ur,pr){var vr;for(vr=0;vr<pr;++vr)nr[ur+vr]=Be[Ge+vr]>>8}function Yr(){bs=Je,Gi=gr,Vi=Lr,mo=Br}function gn(Be,Ge,nr){Ke[Be]=function(ur,pr,vr,Sr,Ar,Tr,$r,qr,Jr,Zr,Kr,Sn,mn,zr,Hr,vn,yn){var bn,qn=yn-1>>1,Mn=Ar[Tr+0]|$r[qr+0]<<16,Zn=Jr[Zr+0]|Kr[Sn+0]<<16;e(ur!=null);var Dn=3*Mn+Zn+131074>>2;for(Ge(ur[pr+0],255&Dn,Dn>>16,mn,zr),vr!=null&&(Dn=3*Zn+Mn+131074>>2,Ge(vr[Sr+0],255&Dn,Dn>>16,Hr,vn)),bn=1;bn<=qn;++bn){var Ai=Ar[Tr+bn]|$r[qr+bn]<<16,Ri=Jr[Zr+bn]|Kr[Sn+bn]<<16,Si=Mn+Ai+Zn+Ri+524296,fi=Si+2*(Ai+Zn)>>3;Dn=fi+Mn>>1,Mn=(Si=Si+2*(Mn+Ri)>>3)+Ai>>1,Ge(ur[pr+2*bn-1],255&Dn,Dn>>16,mn,zr+(2*bn-1)*nr),Ge(ur[pr+2*bn-0],255&Mn,Mn>>16,mn,zr+(2*bn-0)*nr),vr!=null&&(Dn=Si+Zn>>1,Mn=fi+Ri>>1,Ge(vr[Sr+2*bn-1],255&Dn,Dn>>16,Hr,vn+(2*bn-1)*nr),Ge(vr[Sr+2*bn+0],255&Mn,Mn>>16,Hr,vn+(2*bn+0)*nr)),Mn=Ai,Zn=Ri}1&yn||(Dn=3*Mn+Zn+131074>>2,Ge(ur[pr+yn-1],255&Dn,Dn>>16,mn,zr+(yn-1)*nr),vr!=null&&(Dn=3*Zn+Mn+131074>>2,Ge(vr[Sr+yn-1],255&Dn,Dn>>16,Hr,vn+(yn-1)*nr)))}}function Rn(){Ss[fu]=Md,Ss[Il]=jl,Ss[Yu]=Dd,Ss[Yc]=Ic,Ss[Xc]=Zl,Ss[Ki]=tu,Ss[hu]=ku,Ss[Pc]=jl,Ss[Xl]=Ic,Ss[Qc]=Zl,Ss[Jc]=tu}function Ln(Be){return Be&-16384?0>Be?0:255:Be>>$l}function qe(Be,Ge){return Ln((19077*Be>>8)+(26149*Ge>>8)-14234)}function ar(Be,Ge,nr){return Ln((19077*Be>>8)-(6419*Ge>>8)-(13320*nr>>8)+8708)}function dr(Be,Ge){return Ln((19077*Be>>8)+(33050*Ge>>8)-17685)}function Rr(Be,Ge,nr,ur,pr){ur[pr+0]=qe(Be,nr),ur[pr+1]=ar(Be,Ge,nr),ur[pr+2]=dr(Be,Ge)}function Gr(Be,Ge,nr,ur,pr){ur[pr+0]=dr(Be,Ge),ur[pr+1]=ar(Be,Ge,nr),ur[pr+2]=qe(Be,nr)}function fn(Be,Ge,nr,ur,pr){var vr=ar(Be,Ge,nr);Ge=vr<<3&224|dr(Be,Ge)>>3,ur[pr+0]=248&qe(Be,nr)|vr>>5,ur[pr+1]=Ge}function Pn(Be,Ge,nr,ur,pr){var vr=240&dr(Be,Ge)|15;ur[pr+0]=240&qe(Be,nr)|ar(Be,Ge,nr)>>4,ur[pr+1]=vr}function ci(Be,Ge,nr,ur,pr){ur[pr+0]=255,Rr(Be,Ge,nr,ur,pr+1)}function xi(Be,Ge,nr,ur,pr){Gr(Be,Ge,nr,ur,pr),ur[pr+3]=255}function ui(Be,Ge,nr,ur,pr){Rr(Be,Ge,nr,ur,pr),ur[pr+3]=255}function $i(Be,Ge){return 0>Be?0:Be>Ge?Ge:Be}function Di(Be,Ge,nr){Ke[Be]=function(ur,pr,vr,Sr,Ar,Tr,$r,qr,Jr){for(var Zr=qr+(-2&Jr)*nr;qr!=Zr;)Ge(ur[pr+0],vr[Sr+0],Ar[Tr+0],$r,qr),Ge(ur[pr+1],vr[Sr+0],Ar[Tr+0],$r,qr+nr),pr+=2,++Sr,++Tr,qr+=2*nr;1&Jr&&Ge(ur[pr+0],vr[Sr+0],Ar[Tr+0],$r,qr)}}function ls(Be,Ge,nr){return nr==0?Be==0?Ge==0?6:5:Ge==0?4:0:nr}function Vo(Be,Ge,nr,ur,pr){switch(Be>>>30){case 3:rl(Ge,nr,ur,pr,0);break;case 2:Ti(Ge,nr,ur,pr);break;case 1:Qo(Ge,nr,ur,pr)}}function ma(Be,Ge){var nr,ur,pr=Ge.M,vr=Ge.Nb,Sr=Be.oc,Ar=Be.pc+40,Tr=Be.oc,$r=Be.pc+584,qr=Be.oc,Jr=Be.pc+600;for(nr=0;16>nr;++nr)Sr[Ar+32*nr-1]=129;for(nr=0;8>nr;++nr)Tr[$r+32*nr-1]=129,qr[Jr+32*nr-1]=129;for(0<pr?Sr[Ar-1-32]=Tr[$r-1-32]=qr[Jr-1-32]=129:(Ee(Sr,Ar-32-1,127,21),Ee(Tr,$r-32-1,127,9),Ee(qr,Jr-32-1,127,9)),ur=0;ur<Be.za;++ur){var Zr=Ge.ya[Ge.aa+ur];if(0<ur){for(nr=-1;16>nr;++nr)_e(Sr,Ar+32*nr-4,Sr,Ar+32*nr+12,4);for(nr=-1;8>nr;++nr)_e(Tr,$r+32*nr-4,Tr,$r+32*nr+4,4),_e(qr,Jr+32*nr-4,qr,Jr+32*nr+4,4)}var Kr=Be.Gd,Sn=Be.Hd+ur,mn=Zr.ad,zr=Zr.Hc;if(0<pr&&(_e(Sr,Ar-32,Kr[Sn].y,0,16),_e(Tr,$r-32,Kr[Sn].f,0,8),_e(qr,Jr-32,Kr[Sn].ea,0,8)),Zr.Za){var Hr=Sr,vn=Ar-32+16;for(0<pr&&(ur>=Be.za-1?Ee(Hr,vn,Kr[Sn].y[15],4):_e(Hr,vn,Kr[Sn+1].y,0,4)),nr=0;4>nr;nr++)Hr[vn+128+nr]=Hr[vn+256+nr]=Hr[vn+384+nr]=Hr[vn+0+nr];for(nr=0;16>nr;++nr,zr<<=2)Hr=Sr,vn=Ar+Lu[nr],Zs[Zr.Ob[nr]](Hr,vn),Vo(zr,mn,16*+nr,Hr,vn)}else if(Hr=ls(ur,pr,Zr.Ob[0]),hs[Hr](Sr,Ar),zr!=0)for(nr=0;16>nr;++nr,zr<<=2)Vo(zr,mn,16*+nr,Sr,Ar+Lu[nr]);for(nr=Zr.Gc,Hr=ls(ur,pr,Zr.Dd),Es[Hr](Tr,$r),Es[Hr](qr,Jr),zr=mn,Hr=Tr,vn=$r,255&(Zr=nr>>0)&&(170&Zr?nl(zr,256,Hr,vn):ks(zr,256,Hr,vn)),Zr=qr,zr=Jr,255&(nr>>=8)&&(170&nr?nl(mn,320,Zr,zr):ks(mn,320,Zr,zr)),pr<Be.Ub-1&&(_e(Kr[Sn].y,0,Sr,Ar+480,16),_e(Kr[Sn].f,0,Tr,$r+224,8),_e(Kr[Sn].ea,0,qr,Jr+224,8)),nr=8*vr*Be.B,Kr=Be.sa,Sn=Be.ta+16*ur+16*vr*Be.R,mn=Be.qa,Zr=Be.ra+8*ur+nr,zr=Be.Ha,Hr=Be.Ia+8*ur+nr,nr=0;16>nr;++nr)_e(Kr,Sn+nr*Be.R,Sr,Ar+32*nr,16);for(nr=0;8>nr;++nr)_e(mn,Zr+nr*Be.B,Tr,$r+32*nr,8),_e(zr,Hr+nr*Be.B,qr,Jr+32*nr,8)}}function ga(Be,Ge,nr,ur,pr,vr,Sr,Ar,Tr){var $r=[0],qr=[0],Jr=0,Zr=Tr!=null?Tr.kd:0,Kr=Tr??new ha;if(Be==null||12>nr)return 7;Kr.data=Be,Kr.w=Ge,Kr.ha=nr,Ge=[Ge],nr=[nr],Kr.gb=[Kr.gb];e:{var Sn=Ge,mn=nr,zr=Kr.gb;if(e(Be!=null),e(mn!=null),e(zr!=null),zr[0]=0,12<=mn[0]&&!xe(Be,Sn[0],"RIFF")){if(xe(Be,Sn[0]+8,"WEBP")){zr=3;break e}var Hr=xn(Be,Sn[0]+4);if(12>Hr||4294967286<Hr){zr=3;break e}if(Zr&&Hr>mn[0]-8){zr=7;break e}zr[0]=Hr,Sn[0]+=12,mn[0]-=12}zr=0}if(zr!=0)return zr;for(Hr=0<Kr.gb[0],nr=nr[0];;){e:{var vn=Be;mn=Ge,zr=nr;var yn=$r,bn=qr,qn=Sn=[0];if((Dn=Jr=[Jr])[0]=0,8>zr[0])zr=7;else{if(!xe(vn,mn[0],"VP8X")){if(xn(vn,mn[0]+4)!=10){zr=3;break e}if(18>zr[0]){zr=7;break e}var Mn=xn(vn,mn[0]+8),Zn=1+Fr(vn,mn[0]+12);if(2147483648<=Zn*(vn=1+Fr(vn,mn[0]+15))){zr=3;break e}qn!=null&&(qn[0]=Mn),yn!=null&&(yn[0]=Zn),bn!=null&&(bn[0]=vn),mn[0]+=18,zr[0]-=18,Dn[0]=1}zr=0}}if(Jr=Jr[0],Sn=Sn[0],zr!=0)return zr;if(mn=!!(2&Sn),!Hr&&Jr)return 3;if(vr!=null&&(vr[0]=!!(16&Sn)),Sr!=null&&(Sr[0]=mn),Ar!=null&&(Ar[0]=0),Sr=$r[0],Sn=qr[0],Jr&&mn&&Tr==null){zr=0;break}if(4>nr){zr=7;break}if(Hr&&Jr||!Hr&&!Jr&&!xe(Be,Ge[0],"ALPH")){nr=[nr],Kr.na=[Kr.na],Kr.P=[Kr.P],Kr.Sa=[Kr.Sa];e:{Mn=Be,zr=Ge,Hr=nr;var Dn=Kr.gb;yn=Kr.na,bn=Kr.P,qn=Kr.Sa,Zn=22,e(Mn!=null),e(Hr!=null),vn=zr[0];var Ai=Hr[0];for(e(yn!=null),e(qn!=null),yn[0]=null,bn[0]=null,qn[0]=0;;){if(zr[0]=vn,Hr[0]=Ai,8>Ai){zr=7;break e}var Ri=xn(Mn,vn+4);if(4294967286<Ri){zr=3;break e}var Si=8+Ri+1&-2;if(Zn+=Si,0<Dn&&Zn>Dn){zr=3;break e}if(!xe(Mn,vn,"VP8 ")||!xe(Mn,vn,"VP8L")){zr=0;break e}if(Ai[0]<Si){zr=7;break e}xe(Mn,vn,"ALPH")||(yn[0]=Mn,bn[0]=vn+8,qn[0]=Ri),vn+=Si,Ai-=Si}}if(nr=nr[0],Kr.na=Kr.na[0],Kr.P=Kr.P[0],Kr.Sa=Kr.Sa[0],zr!=0)break}nr=[nr],Kr.Ja=[Kr.Ja],Kr.xa=[Kr.xa];e:if(Dn=Be,zr=Ge,Hr=nr,yn=Kr.gb[0],bn=Kr.Ja,qn=Kr.xa,Mn=zr[0],vn=!xe(Dn,Mn,"VP8 "),Zn=!xe(Dn,Mn,"VP8L"),e(Dn!=null),e(Hr!=null),e(bn!=null),e(qn!=null),8>Hr[0])zr=7;else{if(vn||Zn){if(Dn=xn(Dn,Mn+4),12<=yn&&Dn>yn-12){zr=3;break e}if(Zr&&Dn>Hr[0]-8){zr=7;break e}bn[0]=Dn,zr[0]+=8,Hr[0]-=8,qn[0]=Zn}else qn[0]=5<=Hr[0]&&Dn[Mn+0]==47&&!(Dn[Mn+4]>>5),bn[0]=Hr[0];zr=0}if(nr=nr[0],Kr.Ja=Kr.Ja[0],Kr.xa=Kr.xa[0],Ge=Ge[0],zr!=0)break;if(4294967286<Kr.Ja)return 3;if(Ar==null||mn||(Ar[0]=Kr.xa?2:1),Sr=[Sr],Sn=[Sn],Kr.xa){if(5>nr){zr=7;break}Ar=Sr,Zr=Sn,mn=vr,Be==null||5>nr?Be=0:5<=nr&&Be[Ge+0]==47&&!(Be[Ge+4]>>5)?(Hr=[0],Dn=[0],yn=[0],mr(bn=new or,Be,Ge,nr),Fn(bn,Hr,Dn,yn)?(Ar!=null&&(Ar[0]=Hr[0]),Zr!=null&&(Zr[0]=Dn[0]),mn!=null&&(mn[0]=yn[0]),Be=1):Be=0):Be=0}else{if(10>nr){zr=7;break}Ar=Sn,Be==null||10>nr||!Ml(Be,Ge+3,nr-3)?Be=0:(Zr=Be[Ge+0]|Be[Ge+1]<<8|Be[Ge+2]<<16,mn=16383&(Be[Ge+7]<<8|Be[Ge+6]),Be=16383&(Be[Ge+9]<<8|Be[Ge+8]),1&Zr||3<(Zr>>1&7)||!(Zr>>4&1)||Zr>>5>=Kr.Ja||!mn||!Be?Be=0:(Sr&&(Sr[0]=mn),Ar&&(Ar[0]=Be),Be=1))}if(!Be||(Sr=Sr[0],Sn=Sn[0],Jr&&($r[0]!=Sr||qr[0]!=Sn)))return 3;Tr!=null&&(Tr[0]=Kr,Tr.offset=Ge-Tr.w,e(4294967286>Ge-Tr.w),e(Tr.offset==Tr.ha-nr));break}return zr==0||zr==7&&Jr&&Tr==null?(vr!=null&&(vr[0]|=Kr.na!=null&&0<Kr.na.length),ur!=null&&(ur[0]=Sr),pr!=null&&(pr[0]=Sn),0):zr}function gc(Be,Ge,nr){var ur=Ge.width,pr=Ge.height,vr=0,Sr=0,Ar=ur,Tr=pr;if(Ge.Da=Be!=null&&0<Be.Da,Ge.Da&&(Ar=Be.cd,Tr=Be.bd,vr=Be.v,Sr=Be.j,11>nr||(vr&=-2,Sr&=-2),0>vr||0>Sr||0>=Ar||0>=Tr||vr+Ar>ur||Sr+Tr>pr))return 0;if(Ge.v=vr,Ge.j=Sr,Ge.va=vr+Ar,Ge.o=Sr+Tr,Ge.U=Ar,Ge.T=Tr,Ge.da=Be!=null&&0<Be.da,Ge.da){if(!Bn(Ar,Tr,nr=[Be.ib],vr=[Be.hb]))return 0;Ge.ib=nr[0],Ge.hb=vr[0]}return Ge.ob=Be!=null&&Be.ob,Ge.Kb=Be==null||!Be.Sd,Ge.da&&(Ge.ob=Ge.ib<3*ur/4&&Ge.hb<3*pr/4,Ge.Kb=0),1}function yc(Be){if(Be==null)return 2;if(11>Be.S){var Ge=Be.f.RGBA;Ge.fb+=(Be.height-1)*Ge.A,Ge.A=-Ge.A}else Ge=Be.f.kb,Be=Be.height,Ge.O+=(Be-1)*Ge.fa,Ge.fa=-Ge.fa,Ge.N+=(Be-1>>1)*Ge.Ab,Ge.Ab=-Ge.Ab,Ge.W+=(Be-1>>1)*Ge.Db,Ge.Db=-Ge.Db,Ge.F!=null&&(Ge.J+=(Be-1)*Ge.lb,Ge.lb=-Ge.lb);return 0}function Ul(Be,Ge,nr,ur){if(ur==null||0>=Be||0>=Ge)return 2;if(nr!=null){if(nr.Da){var pr=nr.cd,vr=nr.bd,Sr=-2&nr.v,Ar=-2&nr.j;if(0>Sr||0>Ar||0>=pr||0>=vr||Sr+pr>Be||Ar+vr>Ge)return 2;Be=pr,Ge=vr}if(nr.da){if(!Bn(Be,Ge,pr=[nr.ib],vr=[nr.hb]))return 2;Be=pr[0],Ge=vr[0]}}ur.width=Be,ur.height=Ge;e:{var Tr=ur.width,$r=ur.height;if(Be=ur.S,0>=Tr||0>=$r||!(Be>=fu&&13>Be))Be=2;else{if(0>=ur.Rd&&ur.sd==null){Sr=vr=pr=Ge=0;var qr=(Ar=Tr*ru[Be])*$r;if(11>Be||(vr=($r+1)/2*(Ge=(Tr+1)/2),Be==12&&(Sr=(pr=Tr)*$r)),($r=Se(qr+2*vr+Sr))==null){Be=1;break e}ur.sd=$r,11>Be?((Tr=ur.f.RGBA).eb=$r,Tr.fb=0,Tr.A=Ar,Tr.size=qr):((Tr=ur.f.kb).y=$r,Tr.O=0,Tr.fa=Ar,Tr.Fd=qr,Tr.f=$r,Tr.N=0+qr,Tr.Ab=Ge,Tr.Cd=vr,Tr.ea=$r,Tr.W=0+qr+vr,Tr.Db=Ge,Tr.Ed=vr,Be==12&&(Tr.F=$r,Tr.J=0+qr+2*vr),Tr.Tc=Sr,Tr.lb=pr)}if(Ge=1,pr=ur.S,vr=ur.width,Sr=ur.height,pr>=fu&&13>pr)if(11>pr)Be=ur.f.RGBA,Ge&=(Ar=Math.abs(Be.A))*(Sr-1)+vr<=Be.size,Ge&=Ar>=vr*ru[pr],Ge&=Be.eb!=null;else{Be=ur.f.kb,Ar=(vr+1)/2,qr=(Sr+1)/2,Tr=Math.abs(Be.fa),$r=Math.abs(Be.Ab);var Jr=Math.abs(Be.Db),Zr=Math.abs(Be.lb),Kr=Zr*(Sr-1)+vr;Ge&=Tr*(Sr-1)+vr<=Be.Fd,Ge&=$r*(qr-1)+Ar<=Be.Cd,Ge=(Ge&=Jr*(qr-1)+Ar<=Be.Ed)&Tr>=vr&$r>=Ar&Jr>=Ar,Ge&=Be.y!=null,Ge&=Be.f!=null,Ge&=Be.ea!=null,pr==12&&(Ge&=Zr>=vr,Ge&=Kr<=Be.Tc,Ge&=Be.F!=null)}else Ge=0;Be=Ge?0:2}}return Be!=0||nr!=null&&nr.fd&&(Be=yc(ur)),Be}var po=64,vc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xc=24,_c=32,bc=8,cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];In("Predictor0","PredictorAdd0"),Ke.Predictor0=function(){return 4278190080},Ke.Predictor1=function(Be){return Be},Ke.Predictor2=function(Be,Ge,nr){return Ge[nr+0]},Ke.Predictor3=function(Be,Ge,nr){return Ge[nr+1]},Ke.Predictor4=function(Be,Ge,nr){return Ge[nr-1]},Ke.Predictor5=function(Be,Ge,nr){return Nn(Nn(Be,Ge[nr+1]),Ge[nr+0])},Ke.Predictor6=function(Be,Ge,nr){return Nn(Be,Ge[nr-1])},Ke.Predictor7=function(Be,Ge,nr){return Nn(Be,Ge[nr+0])},Ke.Predictor8=function(Be,Ge,nr){return Nn(Ge[nr-1],Ge[nr+0])},Ke.Predictor9=function(Be,Ge,nr){return Nn(Ge[nr+0],Ge[nr+1])},Ke.Predictor10=function(Be,Ge,nr){return Nn(Nn(Be,Ge[nr-1]),Nn(Ge[nr+0],Ge[nr+1]))},Ke.Predictor11=function(Be,Ge,nr){var ur=Ge[nr+0];return 0>=ni(ur>>24&255,Be>>24&255,(Ge=Ge[nr-1])>>24&255)+ni(ur>>16&255,Be>>16&255,Ge>>16&255)+ni(ur>>8&255,Be>>8&255,Ge>>8&255)+ni(255&ur,255&Be,255&Ge)?ur:Be},Ke.Predictor12=function(Be,Ge,nr){var ur=Ge[nr+0];return(zn((Be>>24&255)+(ur>>24&255)-((Ge=Ge[nr-1])>>24&255))<<24|zn((Be>>16&255)+(ur>>16&255)-(Ge>>16&255))<<16|zn((Be>>8&255)+(ur>>8&255)-(Ge>>8&255))<<8|zn((255&Be)+(255&ur)-(255&Ge)))>>>0},Ke.Predictor13=function(Be,Ge,nr){var ur=Ge[nr-1];return(Qn((Be=Nn(Be,Ge[nr+0]))>>24&255,ur>>24&255)<<24|Qn(Be>>16&255,ur>>16&255)<<16|Qn(Be>>8&255,ur>>8&255)<<8|Qn(Be>>0&255,ur>>0&255))>>>0};var zl=Ke.PredictorAdd0;Ke.PredictorAdd1=Yn,In("Predictor2","PredictorAdd2"),In("Predictor3","PredictorAdd3"),In("Predictor4","PredictorAdd4"),In("Predictor5","PredictorAdd5"),In("Predictor6","PredictorAdd6"),In("Predictor7","PredictorAdd7"),In("Predictor8","PredictorAdd8"),In("Predictor9","PredictorAdd9"),In("Predictor10","PredictorAdd10"),In("Predictor11","PredictorAdd11"),In("Predictor12","PredictorAdd12"),In("Predictor13","PredictorAdd13");var Za=Ke.PredictorAdd2;si("ColorIndexInverseTransform","MapARGB","32b",function(Be){return Be>>8&255},function(Be){return Be}),si("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Be){return Be},function(Be){return Be>>8&255});var du,us=Ke.ColorIndexInverseTransform,Ec=Ke.MapARGB,Wc=Ke.VP8LColorIndexInverseTransformAlpha,Sc=Ke.MapAlpha,Oa=Ke.VP8LPredictorsAdd=[];Oa.length=16,(Ke.VP8LPredictors=[]).length=16,(Ke.VP8LPredictorsAdd_C=[]).length=16,(Ke.VP8LPredictors_C=[]).length=16;var Pl,ds,Xo,Tl,el,tl,wc,rl,Ti,nl,Qo,ks,Hl,Gc,Wl,Gl,Kl,Ls,il,La,ol,sl,Cl,Fo,bs,Gi,Vi,mo,Eo=Se(511),Ma=Se(2041),Ac=Se(225),Yl=Se(767),Kc=0,Da=Ma,Rc=Ac,fs=Yl,Js=Eo,fu=0,Il=1,Yu=2,Yc=3,Xc=4,Ki=5,hu=6,Pc=7,Xl=8,Qc=9,Jc=10,Zc=[2,3,7],pu=[3,3,11],Ql=[280,256,256,256,40],Xu=[0,1,1,1,0],Nd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Od=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mu=8,Tc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jl=null,$u=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ju=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ld=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ou=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hs=[],Zs=[],Es=[],Va=1,Cc=2,Jo=[],Ss=[];gn("UpsampleRgbLinePair",Rr,3),gn("UpsampleBgrLinePair",Gr,3),gn("UpsampleRgbaLinePair",ui,4),gn("UpsampleBgraLinePair",xi,4),gn("UpsampleArgbLinePair",ci,4),gn("UpsampleRgba4444LinePair",Pn,2),gn("UpsampleRgb565LinePair",fn,2);var Md=Ke.UpsampleRgbLinePair,Dd=Ke.UpsampleBgrLinePair,jl=Ke.UpsampleRgbaLinePair,Ic=Ke.UpsampleBgraLinePair,Zl=Ke.UpsampleArgbLinePair,tu=Ke.UpsampleRgba4444LinePair,ku=Ke.UpsampleRgb565LinePair,al=16,ya=1<<al-1,Fi=-227,zi=482,$l=6,Bo=0,ws=Se(256),tc=Se(256),jc=Se(256),As=Se(256),gu=Se(zi-Fi),ed=Se(zi-Fi);Di("YuvToRgbRow",Rr,3),Di("YuvToBgrRow",Gr,3),Di("YuvToRgbaRow",ui,4),Di("YuvToBgraRow",xi,4),Di("YuvToArgbRow",ci,4),Di("YuvToRgba4444Row",Pn,2),Di("YuvToRgb565Row",fn,2);var Lu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rc=[0,2,8],rd=[8,7,6,4,4,2,2,2,1,1,1,1],ll=1;this.WebPDecodeRGBA=function(Be,Ge,nr,ur,pr){var vr=Il,Sr=new Os,Ar=new eo;Sr.ba=Ar,Ar.S=vr,Ar.width=[Ar.width],Ar.height=[Ar.height];var Tr=Ar.width,$r=Ar.height,qr=new _o;if(qr==null||Be==null)var Jr=2;else e(qr!=null),Jr=ga(Be,Ge,nr,qr.width,qr.height,qr.Pd,qr.Qd,qr.format,null);if(Jr!=0?Tr=0:(Tr!=null&&(Tr[0]=qr.width[0]),$r!=null&&($r[0]=qr.height[0]),Tr=1),Tr){Ar.width=Ar.width[0],Ar.height=Ar.height[0],ur!=null&&(ur[0]=Ar.width),pr!=null&&(pr[0]=Ar.height);e:{if(ur=new Ga,(pr=new ha).data=Be,pr.w=Ge,pr.ha=nr,pr.kd=1,Ge=[0],e(pr!=null),((Be=ga(pr.data,pr.w,pr.ha,null,null,null,Ge,null,pr))==0||Be==7)&&Ge[0]&&(Be=4),(Ge=Be)==0){if(e(Sr!=null),ur.data=pr.data,ur.w=pr.w+pr.offset,ur.ha=pr.ha-pr.offset,ur.put=go,ur.ac=Yi,ur.bc=Ho,ur.ma=Sr,pr.xa){if((Be=ro())==null){Sr=1;break e}if(function(Zr,Kr){var Sn=[0],mn=[0],zr=[0];t:for(;;){if(Zr==null)return 0;if(Kr==null)return Zr.a=2,0;if(Zr.l=Kr,Zr.a=0,mr(Zr.m,Kr.data,Kr.w,Kr.ha),!Fn(Zr.m,Sn,mn,zr)){Zr.a=3;break t}if(Zr.xb=Cc,Kr.width=Sn[0],Kr.height=mn[0],!is(Sn[0],mn[0],1,Zr,null))break t;return 1}return e(Zr.a!=0),0}(Be,ur)){if(ur=(Ge=Ul(ur.width,ur.height,Sr.Oa,Sr.ba))==0){t:{ur=Be;r:for(;;){if(ur==null){ur=0;break t}if(e(ur.s.yc!=null),e(ur.s.Ya!=null),e(0<ur.s.Wb),e((nr=ur.l)!=null),e((pr=nr.ma)!=null),ur.xb!=0){if(ur.ca=pr.ba,ur.tb=pr.tb,e(ur.ca!=null),!gc(pr.Oa,nr,Yc)){ur.a=2;break r}if(!En(ur,nr.width)||nr.da)break r;if((nr.da||gi(ur.ca.S))&&Yr(),11>ur.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ur.ca.f.kb.F!=null&&Yr()),ur.Pb&&0<ur.s.ua&&ur.s.vb.X==null&&!An(ur.s.vb,ur.s.Wa.Xa)){ur.a=1;break r}ur.xb=0}if(!oo(ur,ur.V,ur.Ba,ur.c,ur.i,nr.o,Us))break r;pr.Dc=ur.Ma,ur=1;break t}e(ur.a!=0),ur=0}ur=!ur}ur&&(Ge=Be.a)}else Ge=Be.a}else{if((Be=new Oo)==null){Sr=1;break e}if(Be.Fa=pr.na,Be.P=pr.P,Be.qc=pr.Sa,Dl(Be,ur)){if((Ge=Ul(ur.width,ur.height,Sr.Oa,Sr.ba))==0){if(Be.Aa=0,nr=Sr.Oa,e((pr=Be)!=null),nr!=null){if(0<(Tr=0>(Tr=nr.Md)?0:100<Tr?255:255*Tr/100)){for($r=qr=0;4>$r;++$r)12>(Jr=pr.pb[$r]).lc&&(Jr.ia=Tr*rd[0>Jr.lc?0:Jr.lc]>>3),qr|=Jr.ia;qr&&(alert("todo:VP8InitRandom"),pr.ia=1)}pr.Ga=nr.Id,100<pr.Ga?pr.Ga=100:0>pr.Ga&&(pr.Ga=0)}Aa(Be,ur)||(Ge=Be.a)}}else Ge=Be.a}Ge==0&&Sr.Oa!=null&&Sr.Oa.fd&&(Ge=yc(Sr.ba))}Sr=Ge}vr=Sr!=0?null:11>vr?Ar.f.RGBA.eb:Ar.f.kb.y}else vr=null;return vr};var ru=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Te(Ke,rr){for(var cr="",Ze=0;Ze<4;Ze++)cr+=String.fromCharCode(Ke[rr++]);return cr}function Ie(Ke,rr){return(Ke[rr+0]<<0|Ke[rr+1]<<8|Ke[rr+2]<<16)>>>0}function je(Ke,rr){return(Ke[rr+0]<<0|Ke[rr+1]<<8|Ke[rr+2]<<16|Ke[rr+3]<<24)>>>0}new Pe;var Oe=[0],ke=[0],Fe=[],Me=new Pe,De=t,Ue=function(Ke,rr){var cr={},Ze=0,er=!1,sr=0,fr=0;if(cr.frames=[],!function(hr,br,Ir,jr){for(var Mr=0;Mr<jr;Mr++)if(hr[br+Mr]!=Ir.charCodeAt(Mr))return!0;return!1}(Ke,rr,"RIFF",4)){for(je(Ke,rr+=4),rr+=8;rr<Ke.length;){var _r=Te(Ke,rr),Er=je(Ke,rr+=4);rr+=4;var yr=Er+(1&Er);switch(_r){case"VP8 ":case"VP8L":cr.frames[Ze]===void 0&&(cr.frames[Ze]={}),(Cr=cr.frames[Ze]).src_off=er?fr:rr-8,Cr.src_size=sr+Er+8,Ze++,er&&(er=!1,sr=0,fr=0);break;case"VP8X":(Cr=cr.header={}).feature_flags=Ke[rr];var mr=rr+4;Cr.canvas_width=1+Ie(Ke,mr),mr+=3,Cr.canvas_height=1+Ie(Ke,mr),mr+=3;break;case"ALPH":er=!0,sr=yr+8,fr=rr-8;break;case"ANIM":(Cr=cr.header).bgcolor=je(Ke,rr),mr=rr+4,Cr.loop_count=(wr=Ke)[(or=mr)+0]<<0|wr[or+1]<<8,mr+=2;break;case"ANMF":var Pr,Cr;(Cr=cr.frames[Ze]={}).offset_x=2*Ie(Ke,rr),rr+=3,Cr.offset_y=2*Ie(Ke,rr),rr+=3,Cr.width=1+Ie(Ke,rr),rr+=3,Cr.height=1+Ie(Ke,rr),rr+=3,Cr.duration=Ie(Ke,rr),rr+=3,Pr=Ke[rr++],Cr.dispose=1&Pr,Cr.blend=Pr>>1&1}_r!="ANMF"&&(rr+=yr)}var wr,or;return cr}}(De,0);Ue.response=De,Ue.rgbaoutput=!0,Ue.dataurl=!1;var ze=Ue.header?Ue.header:null,We=Ue.frames?Ue.frames:null;if(ze){ze.loop_counter=ze.loop_count,Oe=[ze.canvas_height],ke=[ze.canvas_width];for(var Ye=0;Ye<We.length&&We[Ye].blend!=0;Ye++);}var Xe=We[0],ir=Me.WebPDecodeRGBA(De,Xe.src_off,Xe.src_size,ke,Oe);Xe.rgba=ir,Xe.imgwidth=ke[0],Xe.imgheight=Oe[0];for(var Qe=0;Qe<ke[0]*Oe[0]*4;Qe++)Fe[Qe]=ir[Qe];return this.width=ke,this.height=Oe,this.data=Fe,this}(function(t){var e=function(){return typeof zlibSync=="function"},xe=function(Oe,ke,Fe,Me){var De=4,Ue=Ae;switch(Me){case t.image_compression.FAST:De=1,Ue=Se;break;case t.image_compression.MEDIUM:De=6,Ue=Re;break;case t.image_compression.SLOW:De=9,Ue=Pe}Oe=_e(Oe,ke,Fe,Ue);var ze=zlibSync(Oe,{level:De});return t.__addimage__.arrayBufferToBinaryString(ze)},_e=function(Oe,ke,Fe,Me){for(var De,Ue,ze,We=Oe.length/ke,Ye=new Uint8Array(Oe.length+We),Xe=Ie(),ir=0;ir<We;ir+=1){if(ze=ir*ke,De=Oe.subarray(ze,ze+ke),Me)Ye.set(Me(De,Fe,Ue),ze+ir);else{for(var Qe,Ke=Xe.length,rr=[];Qe<Ke;Qe+=1)rr[Qe]=Xe[Qe](De,Fe,Ue);var cr=je(rr.concat());Ye.set(rr[cr],ze+ir)}Ue=De}return Ye},Ee=function(Oe){var ke=Array.apply([],Oe);return ke.unshift(0),ke},Se=function(Oe,ke){var Fe,Me=[],De=Oe.length;Me[0]=1;for(var Ue=0;Ue<De;Ue+=1)Fe=Oe[Ue-ke]||0,Me[Ue+1]=Oe[Ue]-Fe+256&255;return Me},Ae=function(Oe,ke,Fe){var Me,De=[],Ue=Oe.length;De[0]=2;for(var ze=0;ze<Ue;ze+=1)Me=Fe&&Fe[ze]||0,De[ze+1]=Oe[ze]-Me+256&255;return De},Re=function(Oe,ke,Fe){var Me,De,Ue=[],ze=Oe.length;Ue[0]=3;for(var We=0;We<ze;We+=1)Me=Oe[We-ke]||0,De=Fe&&Fe[We]||0,Ue[We+1]=Oe[We]+256-(Me+De>>>1)&255;return Ue},Pe=function(Oe,ke,Fe){var Me,De,Ue,ze,We=[],Ye=Oe.length;We[0]=4;for(var Xe=0;Xe<Ye;Xe+=1)Me=Oe[Xe-ke]||0,De=Fe&&Fe[Xe]||0,Ue=Fe&&Fe[Xe-ke]||0,ze=Te(Me,De,Ue),We[Xe+1]=Oe[Xe]-ze+256&255;return We},Te=function(Oe,ke,Fe){if(Oe===ke&&ke===Fe)return Oe;var Me=Math.abs(ke-Fe),De=Math.abs(Oe-Fe),Ue=Math.abs(Oe+ke-Fe-Fe);return Me<=De&&Me<=Ue?Oe:De<=Ue?ke:Fe},Ie=function(){return[Ee,Se,Ae,Re,Pe]},je=function(Oe){var ke=Oe.map(function(Fe){return Fe.reduce(function(Me,De){return Me+Math.abs(De)},0)});return ke.indexOf(Math.min.apply(null,ke))};t.processPNG=function(Oe,ke,Fe,Me){var De,Ue,ze,We,Ye,Xe,ir,Qe,Ke,rr,cr,Ze,er,sr,fr,_r=this.decode.FLATE_DECODE,Er="";if(this.__addimage__.isArrayBuffer(Oe)&&(Oe=new Uint8Array(Oe)),this.__addimage__.isArrayBufferView(Oe)){if(Oe=(ze=new Kt(Oe)).imgData,Ue=ze.bits,De=ze.colorSpace,Ye=ze.colors,[4,6].indexOf(ze.colorType)!==-1){if(ze.bits===8){Ke=(Qe=ze.pixelBitlength==32?new Uint32Array(ze.decodePixels().buffer):ze.pixelBitlength==16?new Uint16Array(ze.decodePixels().buffer):new Uint8Array(ze.decodePixels().buffer)).length,cr=new Uint8Array(Ke*ze.colors),rr=new Uint8Array(Ke);var yr,mr=ze.pixelBitlength-ze.bits;for(sr=0,fr=0;sr<Ke;sr++){for(er=Qe[sr],yr=0;yr<mr;)cr[fr++]=er>>>yr&255,yr+=ze.bits;rr[sr]=er>>>yr&255}}if(ze.bits===16){Ke=(Qe=new Uint32Array(ze.decodePixels().buffer)).length,cr=new Uint8Array(Ke*(32/ze.pixelBitlength)*ze.colors),rr=new Uint8Array(Ke*(32/ze.pixelBitlength)),Ze=ze.colors>1,sr=0,fr=0;for(var Pr=0;sr<Ke;)er=Qe[sr++],cr[fr++]=er>>>0&255,Ze&&(cr[fr++]=er>>>16&255,er=Qe[sr++],cr[fr++]=er>>>0&255),rr[Pr++]=er>>>16&255;Ue=8}Me!==t.image_compression.NONE&&e()?(Oe=xe(cr,ze.width*ze.colors,ze.colors,Me),ir=xe(rr,ze.width,1,Me)):(Oe=cr,ir=rr,_r=void 0)}if(ze.colorType===3&&(De=this.color_spaces.INDEXED,Xe=ze.palette,ze.transparency.indexed)){var Cr=ze.transparency.indexed,wr=0;for(sr=0,Ke=Cr.length;sr<Ke;++sr)wr+=Cr[sr];if((wr/=255)===Ke-1&&Cr.indexOf(0)!==-1)We=[Cr.indexOf(0)];else if(wr!==Ke){for(Qe=ze.decodePixels(),rr=new Uint8Array(Qe.length),sr=0,Ke=Qe.length;sr<Ke;sr++)rr[sr]=Cr[Qe[sr]];ir=xe(rr,ze.width,1)}}var or=function(hr){var br;switch(hr){case t.image_compression.FAST:br=11;break;case t.image_compression.MEDIUM:br=13;break;case t.image_compression.SLOW:br=14;break;default:br=12}return br}(Me);return _r===this.decode.FLATE_DECODE&&(Er="/Predictor "+or+" "),Er+="/Colors "+Ye+" /BitsPerComponent "+Ue+" /Columns "+ze.width,(this.__addimage__.isArrayBuffer(Oe)||this.__addimage__.isArrayBufferView(Oe))&&(Oe=this.__addimage__.arrayBufferToBinaryString(Oe)),(ir&&this.__addimage__.isArrayBuffer(ir)||this.__addimage__.isArrayBufferView(ir))&&(ir=this.__addimage__.arrayBufferToBinaryString(ir)),{alias:Fe,data:Oe,index:ke,filter:_r,decodeParameters:Er,transparency:We,palette:Xe,sMask:ir,predictor:or,width:ze.width,height:ze.height,bitsPerComponent:Ue,colorSpace:De}}}})(E.API),function(t){t.processGIF89A=function(e,xe,_e,Ee){var Se=new Zt(e),Ae=Se.width,Re=Se.height,Pe=[];Se.decodeAndBlitFrameRGBA(0,Pe);var Te={data:Pe,width:Ae,height:Re},Ie=new Qt(100).encode(Te,100);return t.processJPEG.call(this,Ie,xe,_e,Ee)},t.processGIF87A=t.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var xe=this.datav.getUint8(this.pos++,!0),_e=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Ee,green:_e,blue:xe,quad:Se}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(xe){a.log("bit decode error:"+xe)}},te.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),xe=e%4;for(t=this.height-1;t>=0;t--){for(var _e=this.bottom_up?t:this.height-1-t,Ee=0;Ee<e;Ee++)for(var Se=this.datav.getUint8(this.pos++,!0),Ae=_e*this.width*4+8*Ee*4,Re=0;Re<8&&8*Ee+Re<this.width;Re++){var Pe=this.palette[Se>>7-Re&1];this.data[Ae+4*Re]=Pe.blue,this.data[Ae+4*Re+1]=Pe.green,this.data[Ae+4*Re+2]=Pe.red,this.data[Ae+4*Re+3]=255}xe!==0&&(this.pos+=4-xe)}},te.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,xe=this.height-1;xe>=0;xe--){for(var _e=this.bottom_up?xe:this.height-1-xe,Ee=0;Ee<t;Ee++){var Se=this.datav.getUint8(this.pos++,!0),Ae=_e*this.width*4+2*Ee*4,Re=Se>>4,Pe=15&Se,Te=this.palette[Re];if(this.data[Ae]=Te.blue,this.data[Ae+1]=Te.green,this.data[Ae+2]=Te.red,this.data[Ae+3]=255,2*Ee+1>=this.width)break;Te=this.palette[Pe],this.data[Ae+4]=Te.blue,this.data[Ae+4+1]=Te.green,this.data[Ae+4+2]=Te.red,this.data[Ae+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var xe=this.bottom_up?e:this.height-1-e,_e=0;_e<this.width;_e++){var Ee=this.datav.getUint8(this.pos++,!0),Se=xe*this.width*4+4*_e;if(Ee<this.palette.length){var Ae=this.palette[Ee];this.data[Se]=Ae.red,this.data[Se+1]=Ae.green,this.data[Se+2]=Ae.blue,this.data[Se+3]=255}else this.data[Se]=255,this.data[Se+1]=255,this.data[Se+2]=255,this.data[Se+3]=255}t!==0&&(this.pos+=4-t)}},te.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),xe=this.height-1;xe>=0;xe--){for(var _e=this.bottom_up?xe:this.height-1-xe,Ee=0;Ee<this.width;Ee++){var Se=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ae=(Se&e)/e*255|0,Re=(Se>>5&e)/e*255|0,Pe=(Se>>10&e)/e*255|0,Te=Se>>15?255:0,Ie=_e*this.width*4+4*Ee;this.data[Ie]=Pe,this.data[Ie+1]=Re,this.data[Ie+2]=Ae,this.data[Ie+3]=Te}this.pos+=t}},te.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),xe=parseInt("111111",2),_e=this.height-1;_e>=0;_e--){for(var Ee=this.bottom_up?_e:this.height-1-_e,Se=0;Se<this.width;Se++){var Ae=this.datav.getUint16(this.pos,!0);this.pos+=2;var Re=(Ae&e)/e*255|0,Pe=(Ae>>5&xe)/xe*255|0,Te=(Ae>>11)/e*255|0,Ie=Ee*this.width*4+4*Se;this.data[Ie]=Te,this.data[Ie+1]=Pe,this.data[Ie+2]=Re,this.data[Ie+3]=255}this.pos+=t}},te.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,xe=0;xe<this.width;xe++){var _e=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ae=e*this.width*4+4*xe;this.data[Ae]=Se,this.data[Ae+1]=Ee,this.data[Ae+2]=_e,this.data[Ae+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,xe=0;xe<this.width;xe++){var _e=this.datav.getUint8(this.pos++,!0),Ee=this.datav.getUint8(this.pos++,!0),Se=this.datav.getUint8(this.pos++,!0),Ae=this.datav.getUint8(this.pos++,!0),Re=e*this.width*4+4*xe;this.data[Re]=Se,this.data[Re+1]=Ee,this.data[Re+2]=_e,this.data[Re+3]=Ae}},te.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,xe,_e,Ee){var Se=new te(e,!1),Ae=Se.width,Re=Se.height,Pe={data:Se.getData(),width:Ae,height:Re},Te=new Qt(100).encode(Pe,100);return t.processJPEG.call(this,Te,xe,_e,Ee)}}(E.API),ee.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,xe,_e,Ee){var Se=new ee(e),Ae=Se.width,Re=Se.height,Pe={data:Se.getData(),width:Ae,height:Re},Te=new Qt(100).encode(Pe,100);return t.processJPEG.call(this,Te,xe,_e,Ee)}}(E.API),E.API.processRGBA=function(t,e,xe){for(var _e=t.data,Ee=_e.length,Se=new Uint8Array(Ee/4*3),Ae=new Uint8Array(Ee/4),Re=0,Pe=0,Te=0;Te<Ee;Te+=4){var Ie=_e[Te],je=_e[Te+1],Oe=_e[Te+2],ke=_e[Te+3];Se[Re++]=Ie,Se[Re++]=je,Se[Re++]=Oe,Ae[Pe++]=ke}var Fe=this.__addimage__.arrayBufferToBinaryString(Se);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ae),data:Fe,index:e,alias:xe,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},E.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(t,e){var xe,_e,Ee=(e=e||{}).font||this.internal.getFont(),Se=e.fontSize||this.internal.getFontSize(),Ae=e.charSpace||this.internal.getCharSpace(),Re=e.widths?e.widths:Ee.metadata.Unicode.widths,Pe=Re.fof?Re.fof:1,Te=e.kerning?e.kerning:Ee.metadata.Unicode.kerning,Ie=Te.fof?Te.fof:1,je=e.doKerning!==!1,Oe=0,ke=t.length,Fe=0,Me=Re[0]||Pe,De=[];for(xe=0;xe<ke;xe++)_e=t.charCodeAt(xe),typeof Ee.metadata.widthOfString=="function"?De.push((Ee.metadata.widthOfGlyph(Ee.metadata.characterToGlyph(_e))+Ae*(1e3/Se)||0)/1e3):(Oe=je&&_typeof(Te[_e])==="object"&&!isNaN(parseInt(Te[_e][Fe],10))?Te[_e][Fe]/Ie:0,De.push((Re[_e]||Me)/Pe+Oe)),Fe=_e;return De},Yt=Vt.getStringUnitWidth=function(t,e){var xe=(e=e||{}).fontSize||this.internal.getFontSize(),_e=e.font||this.internal.getFont(),Ee=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(t=Vt.processArabic(t)),typeof _e.metadata.widthOfString=="function"?_e.metadata.widthOfString(t,xe,Ee)/xe:Gt.apply(this,arguments).reduce(function(Se,Ae){return Se+Ae},0)},Jt=function(t,e,xe,_e){for(var Ee=[],Se=0,Ae=t.length,Re=0;Se!==Ae&&Re+e[Se]<xe;)Re+=e[Se],Se++;Ee.push(t.slice(0,Se));var Pe=Se;for(Re=0;Se!==Ae;)Re+e[Se]>_e&&(Ee.push(t.slice(Pe,Se)),Re=0,Pe=Se),Re+=e[Se],Se++;return Pe!==Se&&Ee.push(t.slice(Pe,Se)),Ee},Xt=function(t,e,xe){xe||(xe={});var _e,Ee,Se,Ae,Re,Pe,Te,Ie=[],je=[Ie],Oe=xe.textIndent||0,ke=0,Fe=0,Me=t.split(" "),De=Gt.apply(this,[" ",xe])[0];if(Pe=xe.lineIndent===-1?Me[0].length+2:xe.lineIndent||0){var Ue=Array(Pe).join(" "),ze=[];Me.map(function(Ye){(Ye=Ye.split(/\s*\n/)).length>1?ze=ze.concat(Ye.map(function(Xe,ir){return(ir&&Xe.length?`
`:"")+Xe})):ze.push(Ye[0])}),Me=ze,Pe=Yt.apply(this,[Ue,xe])}for(Se=0,Ae=Me.length;Se<Ae;Se++){var We=0;if(_e=Me[Se],Pe&&_e[0]==`
`&&(_e=_e.substr(1),We=1),Oe+ke+(Fe=(Ee=Gt.apply(this,[_e,xe])).reduce(function(Ye,Xe){return Ye+Xe},0))>e||We){if(Fe>e){for(Re=Jt.apply(this,[_e,Ee,e-(Oe+ke),e]),Ie.push(Re.shift()),Ie=[Re.pop()];Re.length;)je.push([Re.shift()]);Fe=Ee.slice(_e.length-(Ie[0]?Ie[0].length:0)).reduce(function(Ye,Xe){return Ye+Xe},0)}else Ie=[_e];je.push(Ie),Oe=Fe+Pe,ke=De}else Ie.push(_e),Oe+=ke+Fe,ke=De}return Te=Pe?function(Ye,Xe){return(Xe?Ue:"")+Ye.join(" ")}:function(Ye){return Ye.join(" ")},je.map(Te)},Vt.splitTextToSize=function(t,e,xe){var _e,Ee=(xe=xe||{}).fontSize||this.internal.getFontSize(),Se=(function(Ie){if(Ie.widths&&Ie.kerning)return{widths:Ie.widths,kerning:Ie.kerning};var je=this.internal.getFont(Ie.fontName,Ie.fontStyle);return je.metadata.Unicode?{widths:je.metadata.Unicode.widths||{0:1},kerning:je.metadata.Unicode.kerning||{}}:{font:je.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,xe);_e=Array.isArray(t)?t:String(t).split(/\r?\n/);var Ae=1*this.internal.scaleFactor*e/Ee;Se.textIndent=xe.textIndent?1*xe.textIndent*this.internal.scaleFactor/Ee:0,Se.lineIndent=xe.lineIndent;var Re,Pe,Te=[];for(Re=0,Pe=_e.length;Re<Pe;Re++)Te=Te.concat(Xt.apply(this,[_e[Re],Ae,Se]));return Te},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",xe={},_e={},Ee=0;Ee<e.length;Ee++)xe[e[Ee]]="0123456789abcdef"[Ee],_e["0123456789abcdef"[Ee]]=e[Ee];var Se=function(je){return"0x"+parseInt(je,10).toString(16)},Ae=t.__fontmetrics__.compress=function(je){var Oe,ke,Fe,Me,De=["{"];for(var Ue in je){if(Oe=je[Ue],isNaN(parseInt(Ue,10))?ke="'"+Ue+"'":(Ue=parseInt(Ue,10),ke=(ke=Se(Ue).slice(2)).slice(0,-1)+_e[ke.slice(-1)]),typeof Oe=="number")Oe<0?(Fe=Se(Oe).slice(3),Me="-"):(Fe=Se(Oe).slice(2),Me=""),Fe=Me+Fe.slice(0,-1)+_e[Fe.slice(-1)];else{if(_typeof(Oe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Oe)+".");Fe=Ae(Oe)}De.push(ke+Fe)}return De.push("}"),De.join("")},Re=t.__fontmetrics__.uncompress=function(je){if(typeof je!="string")throw new Error("Invalid argument passed to uncompress.");for(var Oe,ke,Fe,Me,De={},Ue=1,ze=De,We=[],Ye="",Xe="",ir=je.length-1,Qe=1;Qe<ir;Qe+=1)(Me=je[Qe])=="'"?Oe?(Fe=Oe.join(""),Oe=void 0):Oe=[]:Oe?Oe.push(Me):Me=="{"?(We.push([ze,Fe]),ze={},Fe=void 0):Me=="}"?((ke=We.pop())[0][ke[1]]=ze,Fe=void 0,ze=ke[0]):Me=="-"?Ue=-1:Fe===void 0?xe.hasOwnProperty(Me)?(Ye+=xe[Me],Fe=parseInt(Ye,16)*Ue,Ue=1,Ye=""):Ye+=Me:xe.hasOwnProperty(Me)?(Xe+=xe[Me],ze[Fe]=parseInt(Xe,16)*Ue,Ue=1,Fe=void 0,Xe=""):Xe+=Me;return De},Pe={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Re("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Te={Unicode:{Courier:Pe,"Courier-Bold":Pe,"Courier-BoldOblique":Pe,"Courier-Oblique":Pe,Helvetica:Pe,"Helvetica-Bold":Pe,"Helvetica-BoldOblique":Pe,"Helvetica-Oblique":Pe,"Times-Roman":Pe,"Times-Bold":Pe,"Times-BoldItalic":Pe,"Times-Italic":Pe}},Ie={Unicode:{"Courier-Oblique":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Re("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Re("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Re("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Re("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Re("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Re("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Re("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Re("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Re("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Re("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Re("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(je){var Oe=je.font,ke=Ie.Unicode[Oe.postScriptName];ke&&(Oe.metadata.Unicode={},Oe.metadata.Unicode.widths=ke.widths,Oe.metadata.Unicode.kerning=ke.kerning);var Fe=Te.Unicode[Oe.postScriptName];Fe&&(Oe.metadata.Unicode.encoding=Fe,Oe.encoding=Fe.codePages[0])}])}(E.API),function(t){var e=function(xe){for(var _e=xe.length,Ee=new Uint8Array(_e),Se=0;Se<_e;Se++)Ee[Se]=xe.charCodeAt(Se);return Ee};t.API.events.push(["addFont",function(xe){var _e=void 0,Ee=xe.font,Se=xe.instance;if(!Ee.isStandardFont){if(Se===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Ee.postScriptName+"').");if(typeof(_e=Se.existsFileInVFS(Ee.postScriptName)===!1?Se.loadFile(Ee.postScriptName):Se.getFileFromVFS(Ee.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Ee.postScriptName+"').");(function(Ae,Re){Re=/^\x00\x01\x00\x00/.test(Re)?e(Re):e(u(Re)),Ae.metadata=t.API.TTFFont.open(Re),Ae.metadata.Unicode=Ae.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ae.metadata.glyIdsUsed=[0]})(Ee,_e)}}])}(E),function(t){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-BoOgHV_n.js"),[])).catch(function(xe){return Promise.reject(new Error("Could not load canvg: "+xe))}).then(function(xe){return xe.default?xe.default:xe})}E.API.addSvgAsImage=function(xe,_e,Ee,Se,Ae,Re,Pe,Te){if(isNaN(_e)||isNaN(Ee))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Se)||isNaN(Ae))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ie=document.createElement("canvas");Ie.width=Se,Ie.height=Ae;var je=Ie.getContext("2d");je.fillStyle="#fff",je.fillRect(0,0,Ie.width,Ie.height);var Oe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ke=this;return e().then(function(Fe){return Fe.fromString(je,xe,Oe)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Fe){return Fe.render(Oe)}).then(function(){ke.addImage(Ie.toDataURL("image/jpeg",1),_e,Ee,Se,Ae,Pe,Te)})}}(),E.API.putTotalPages=function(t){var e,xe=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),xe=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),xe=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _e=1;_e<=this.internal.getNumberOfPages();_e++)for(var Ee=0;Ee<this.internal.pages[_e].length;Ee++)this.internal.pages[_e][Ee]=this.internal.pages[_e][Ee].replace(e,xe);return this},E.API.viewerPreferences=function(t,e){var xe;t=t||{},e=e||!1;var _e,Ee,Se,Ae={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Re=Object.keys(Ae),Pe=[],Te=0,Ie=0,je=0;function Oe(Fe,Me){var De,Ue=!1;for(De=0;De<Fe.length;De+=1)Fe[De]===Me&&(Ue=!0);return Ue}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ae)),this.internal.viewerpreferences.isSubscribed=!1),xe=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var ke=Re.length;for(je=0;je<ke;je+=1)xe[Re[je]].value=xe[Re[je]].defaultValue,xe[Re[je]].explicitSet=!1}if(_typeof(t)==="object"){for(Ee in t)if(Se=t[Ee],Oe(Re,Ee)&&Se!==void 0){if(xe[Ee].type==="boolean"&&typeof Se=="boolean")xe[Ee].value=Se;else if(xe[Ee].type==="name"&&Oe(xe[Ee].valueSet,Se))xe[Ee].value=Se;else if(xe[Ee].type==="integer"&&Number.isInteger(Se))xe[Ee].value=Se;else if(xe[Ee].type==="array"){for(Te=0;Te<Se.length;Te+=1)if(_e=!0,Se[Te].length===1&&typeof Se[Te][0]=="number")Pe.push(String(Se[Te]-1));else if(Se[Te].length>1){for(Ie=0;Ie<Se[Te].length;Ie+=1)typeof Se[Te][Ie]!="number"&&(_e=!1);_e===!0&&Pe.push([Se[Te][0]-1,Se[Te][1]-1].join(" "))}xe[Ee].value="["+Pe.join(" ")+"]"}else xe[Ee].value=xe[Ee].defaultValue;xe[Ee].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Fe,Me=[];for(Fe in xe)xe[Fe].explicitSet===!0&&(xe[Fe].type==="name"?Me.push("/"+Fe+" /"+xe[Fe].value):Me.push("/"+Fe+" "+xe[Fe].value));Me.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Me.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=xe,this},function(t){var e=function(){var _e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Ee=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Se=unescape(encodeURIComponent(_e)),Ae=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Re=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Pe=unescape(encodeURIComponent("</x:xmpmeta>")),Te=Se.length+Ae.length+Re.length+Ee.length+Pe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Te+" >>"),this.internal.write("stream"),this.internal.write(Ee+Se+Ae+Re+Pe),this.internal.write("endstream"),this.internal.write("endobj")},xe=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(_e,Ee){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_e,namespaceuri:Ee||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",xe),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(t){var e=t.API,xe=e.pdfEscape16=function(Se,Ae){for(var Re,Pe=Ae.metadata.Unicode.widths,Te=["","0","00","000","0000"],Ie=[""],je=0,Oe=Se.length;je<Oe;++je){if(Re=Ae.metadata.characterToGlyph(Se.charCodeAt(je)),Ae.metadata.glyIdsUsed.push(Re),Ae.metadata.toUnicode[Re]=Se.charCodeAt(je),Pe.indexOf(Re)==-1&&(Pe.push(Re),Pe.push([parseInt(Ae.metadata.widthOfGlyph(Re),10)])),Re=="0")return Ie.join("");Re=Re.toString(16),Ie.push(Te[4-Re.length],Re)}return Ie.join("")},_e=function(Se){var Ae,Re,Pe,Te,Ie,je,Oe;for(Ie=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Pe=[],je=0,Oe=(Re=Object.keys(Se).sort(function(ke,Fe){return ke-Fe})).length;je<Oe;je++)Ae=Re[je],Pe.length>=100&&(Ie+=`
`+Pe.length+` beginbfchar
`+Pe.join(`
`)+`
endbfchar`,Pe=[]),Se[Ae]!==void 0&&Se[Ae]!==null&&typeof Se[Ae].toString=="function"&&(Te=("0000"+Se[Ae].toString(16)).slice(-4),Ae=("0000"+(+Ae).toString(16)).slice(-4),Pe.push("<"+Ae+"><"+Te+">"));return Pe.length&&(Ie+=`
`+Pe.length+` beginbfchar
`+Pe.join(`
`)+`
endbfchar
`),Ie+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(Se){(function(Ae){var Re=Ae.font,Pe=Ae.out,Te=Ae.newObject,Ie=Ae.putStream;if(Re.metadata instanceof t.API.TTFFont&&Re.encoding==="Identity-H"){for(var je=Re.metadata.Unicode.widths,Oe=Re.metadata.subset.encode(Re.metadata.glyIdsUsed,1),ke="",Fe=0;Fe<Oe.length;Fe++)ke+=String.fromCharCode(Oe[Fe]);var Me=Te();Ie({data:ke,addLength1:!0,objectId:Me}),Pe("endobj");var De=Te();Ie({data:_e(Re.metadata.toUnicode),addLength1:!0,objectId:De}),Pe("endobj");var Ue=Te();Pe("<<"),Pe("/Type /FontDescriptor"),Pe("/FontName /"+F(Re.fontName)),Pe("/FontFile2 "+Me+" 0 R"),Pe("/FontBBox "+t.API.PDFObject.convert(Re.metadata.bbox)),Pe("/Flags "+Re.metadata.flags),Pe("/StemV "+Re.metadata.stemV),Pe("/ItalicAngle "+Re.metadata.italicAngle),Pe("/Ascent "+Re.metadata.ascender),Pe("/Descent "+Re.metadata.decender),Pe("/CapHeight "+Re.metadata.capHeight),Pe(">>"),Pe("endobj");var ze=Te();Pe("<<"),Pe("/Type /Font"),Pe("/BaseFont /"+F(Re.fontName)),Pe("/FontDescriptor "+Ue+" 0 R"),Pe("/W "+t.API.PDFObject.convert(je)),Pe("/CIDToGIDMap /Identity"),Pe("/DW 1000"),Pe("/Subtype /CIDFontType2"),Pe("/CIDSystemInfo"),Pe("<<"),Pe("/Supplement 0"),Pe("/Registry (Adobe)"),Pe("/Ordering ("+Re.encoding+")"),Pe(">>"),Pe(">>"),Pe("endobj"),Re.objectNumber=Te(),Pe("<<"),Pe("/Type /Font"),Pe("/Subtype /Type0"),Pe("/ToUnicode "+De+" 0 R"),Pe("/BaseFont /"+F(Re.fontName)),Pe("/Encoding /"+Re.encoding),Pe("/DescendantFonts ["+ze+" 0 R]"),Pe(">>"),Pe("endobj"),Re.isAlreadyPutted=!0}})(Se)}]),e.events.push(["putFont",function(Se){(function(Ae){var Re=Ae.font,Pe=Ae.out,Te=Ae.newObject,Ie=Ae.putStream;if(Re.metadata instanceof t.API.TTFFont&&Re.encoding==="WinAnsiEncoding"){for(var je=Re.metadata.rawData,Oe="",ke=0;ke<je.length;ke++)Oe+=String.fromCharCode(je[ke]);var Fe=Te();Ie({data:Oe,addLength1:!0,objectId:Fe}),Pe("endobj");var Me=Te();Ie({data:_e(Re.metadata.toUnicode),addLength1:!0,objectId:Me}),Pe("endobj");var De=Te();Pe("<<"),Pe("/Descent "+Re.metadata.decender),Pe("/CapHeight "+Re.metadata.capHeight),Pe("/StemV "+Re.metadata.stemV),Pe("/Type /FontDescriptor"),Pe("/FontFile2 "+Fe+" 0 R"),Pe("/Flags 96"),Pe("/FontBBox "+t.API.PDFObject.convert(Re.metadata.bbox)),Pe("/FontName /"+F(Re.fontName)),Pe("/ItalicAngle "+Re.metadata.italicAngle),Pe("/Ascent "+Re.metadata.ascender),Pe(">>"),Pe("endobj"),Re.objectNumber=Te();for(var Ue=0;Ue<Re.metadata.hmtx.widths.length;Ue++)Re.metadata.hmtx.widths[Ue]=parseInt(Re.metadata.hmtx.widths[Ue]*(1e3/Re.metadata.head.unitsPerEm));Pe("<</Subtype/TrueType/Type/Font/ToUnicode "+Me+" 0 R/BaseFont/"+F(Re.fontName)+"/FontDescriptor "+De+" 0 R/Encoding/"+Re.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(Re.metadata.hmtx.widths)+">>"),Pe("endobj"),Re.isAlreadyPutted=!0}})(Se)}]);var Ee=function(Se){var Ae,Re=Se.text||"",Pe=Se.x,Te=Se.y,Ie=Se.options||{},je=Se.mutex||{},Oe=je.pdfEscape,ke=je.activeFontKey,Fe=je.fonts,Me=ke,De="",Ue=0,ze="",We=Fe[Me].encoding;if(Fe[Me].encoding!=="Identity-H")return{text:Re,x:Pe,y:Te,options:Ie,mutex:je};for(ze=Re,Me=ke,Array.isArray(Re)&&(ze=Re[0]),Ue=0;Ue<ze.length;Ue+=1)Fe[Me].metadata.hasOwnProperty("cmap")&&(Ae=Fe[Me].metadata.cmap.unicode.codeMap[ze[Ue].charCodeAt(0)]),Ae||ze[Ue].charCodeAt(0)<256&&Fe[Me].metadata.hasOwnProperty("Unicode")?De+=ze[Ue]:De+="";var Ye="";return parseInt(Me.slice(1))<14||We==="WinAnsiEncoding"?Ye=Oe(De,Me).split("").map(function(Xe){return Xe.charCodeAt(0).toString(16)}).join(""):We==="Identity-H"&&(Ye=xe(De,Fe[Me])),je.isHex=!0,{text:Ye,x:Pe,y:Te,options:Ie,mutex:je}};e.events.push(["postProcessText",function(Se){var Ae=Se.text||"",Re=[],Pe={text:Ae,x:Se.x,y:Se.y,options:Se.options,mutex:Se.mutex};if(Array.isArray(Ae)){var Te=0;for(Te=0;Te<Ae.length;Te+=1)Array.isArray(Ae[Te])&&Ae[Te].length===3?Re.push([Ee(Object.assign({},Pe,{text:Ae[Te][0]})).text,Ae[Te][1],Ae[Te][2]]):Re.push(Ee(Object.assign({},Pe,{text:Ae[Te]})).text);Se.text=Re}else Se.text=Ee(Object.assign({},Pe,{text:Ae})).text}])}(E),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(xe){return e.call(this),this.internal.vFS[xe]!==void 0},t.addFileToVFS=function(xe,_e){return e.call(this),this.internal.vFS[xe]=_e,this},t.getFileFromVFS=function(xe){return e.call(this),this.internal.vFS[xe]!==void 0?this.internal.vFS[xe]:null}}(E.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(_e){var Ee,Se,Ae,Re,Pe,Te,Ie,je=e,Oe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],ke=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Fe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Me={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},De=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ue=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ze=!1,We=0;this.__bidiEngine__={};var Ye=function(Ze){var er=Ze.charCodeAt(),sr=er>>8,fr=Me[sr];return fr!==void 0?je[256*fr+(255&er)]:sr===252||sr===253?"AL":Ue.test(sr)?"L":sr===8?"R":"N"},Xe=function(Ze){for(var er,sr=0;sr<Ze.length;sr++){if((er=Ye(Ze.charAt(sr)))==="L")return!1;if(er==="R")return!0}return!1},ir=function(Ze,er,sr,fr){var _r,Er,yr,mr,Pr=er[fr];switch(Pr){case"L":case"R":ze=!1;break;case"N":case"AN":break;case"EN":ze&&(Pr="AN");break;case"AL":ze=!0,Pr="R";break;case"WS":Pr="N";break;case"CS":fr<1||fr+1>=er.length||(_r=sr[fr-1])!=="EN"&&_r!=="AN"||(Er=er[fr+1])!=="EN"&&Er!=="AN"?Pr="N":ze&&(Er="AN"),Pr=Er===_r?Er:"N";break;case"ES":Pr=(_r=fr>0?sr[fr-1]:"B")==="EN"&&fr+1<er.length&&er[fr+1]==="EN"?"EN":"N";break;case"ET":if(fr>0&&sr[fr-1]==="EN"){Pr="EN";break}if(ze){Pr="N";break}for(yr=fr+1,mr=er.length;yr<mr&&er[yr]==="ET";)yr++;Pr=yr<mr&&er[yr]==="EN"?"EN":"N";break;case"NSM":if(Ae&&!Re){for(mr=er.length,yr=fr+1;yr<mr&&er[yr]==="NSM";)yr++;if(yr<mr){var Cr=Ze[fr],wr=Cr>=1425&&Cr<=2303||Cr===64286;if(_r=er[yr],wr&&(_r==="R"||_r==="AL")){Pr="R";break}}}Pr=fr<1||(_r=er[fr-1])==="B"?"N":sr[fr-1];break;case"B":ze=!1,Ee=!0,Pr=We;break;case"S":Se=!0,Pr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ze=!1;break;case"BN":Pr="N"}return Pr},Qe=function(Ze,er,sr){var fr=Ze.split("");return sr&&Ke(fr,sr,{hiLevel:We}),fr.reverse(),er&&er.reverse(),fr.join("")},Ke=function(Ze,er,sr){var fr,_r,Er,yr,mr,Pr=-1,Cr=Ze.length,wr=0,or=[],hr=We?ke:Oe,br=[];for(ze=!1,Ee=!1,Se=!1,_r=0;_r<Cr;_r++)br[_r]=Ye(Ze[_r]);for(Er=0;Er<Cr;Er++){if(mr=wr,or[Er]=ir(Ze,br,or,Er),fr=240&(wr=hr[mr][Fe[or[Er]]]),wr&=15,er[Er]=yr=hr[wr][5],fr>0)if(fr===16){for(_r=Pr;_r<Er;_r++)er[_r]=1;Pr=-1}else Pr=-1;if(hr[wr][6])Pr===-1&&(Pr=Er);else if(Pr>-1){for(_r=Pr;_r<Er;_r++)er[_r]=yr;Pr=-1}br[Er]==="B"&&(er[Er]=0),sr.hiLevel|=yr}Se&&function(Ir,jr,Mr){for(var Vr=0;Vr<Mr;Vr++)if(Ir[Vr]==="S"){jr[Vr]=We;for(var Or=Vr-1;Or>=0&&Ir[Or]==="WS";Or--)jr[Or]=We}}(br,er,Cr)},rr=function(Ze,er,sr,fr,_r){if(!(_r.hiLevel<Ze)){if(Ze===1&&We===1&&!Ee)return er.reverse(),void(sr&&sr.reverse());for(var Er,yr,mr,Pr,Cr=er.length,wr=0;wr<Cr;){if(fr[wr]>=Ze){for(mr=wr+1;mr<Cr&&fr[mr]>=Ze;)mr++;for(Pr=wr,yr=mr-1;Pr<yr;Pr++,yr--)Er=er[Pr],er[Pr]=er[yr],er[yr]=Er,sr&&(Er=sr[Pr],sr[Pr]=sr[yr],sr[yr]=Er);wr=mr}wr++}}},cr=function(Ze,er,sr){var fr=Ze.split(""),_r={hiLevel:We};return sr||(sr=[]),Ke(fr,sr,_r),function(Er,yr,mr){if(mr.hiLevel!==0&&Ie)for(var Pr,Cr=0;Cr<Er.length;Cr++)yr[Cr]===1&&(Pr=De.indexOf(Er[Cr]))>=0&&(Er[Cr]=De[Pr+1])}(fr,sr,_r),rr(2,fr,er,sr,_r),rr(1,fr,er,sr,_r),fr.join("")};return this.__bidiEngine__.doBidiReorder=function(Ze,er,sr){if(function(_r,Er){if(Er)for(var yr=0;yr<_r.length;yr++)Er[yr]=yr;Re===void 0&&(Re=Xe(_r)),Te===void 0&&(Te=Xe(_r))}(Ze,er),Ae||!Pe||Te)if(Ae&&Pe&&Re^Te)We=Re?1:0,Ze=Qe(Ze,er,sr);else if(!Ae&&Pe&&Te)We=Re?1:0,Ze=cr(Ze,er,sr),Ze=Qe(Ze,er);else if(!Ae||Re||Pe||Te){if(Ae&&!Pe&&Re^Te)Ze=Qe(Ze,er),Re?(We=0,Ze=cr(Ze,er,sr)):(We=1,Ze=cr(Ze,er,sr),Ze=Qe(Ze,er));else if(Ae&&Re&&!Pe&&Te)We=1,Ze=cr(Ze,er,sr),Ze=Qe(Ze,er);else if(!Ae&&!Pe&&Re^Te){var fr=Ie;Re?(We=1,Ze=cr(Ze,er,sr),We=0,Ie=!1,Ze=cr(Ze,er,sr),Ie=fr):(We=0,Ze=cr(Ze,er,sr),Ze=Qe(Ze,er),We=1,Ie=!1,Ze=cr(Ze,er,sr),Ie=fr,Ze=Qe(Ze,er))}}else We=0,Ze=cr(Ze,er,sr);else We=Re?1:0,Ze=cr(Ze,er,sr);return Ze},this.__bidiEngine__.setOptions=function(Ze){Ze&&(Ae=Ze.isInputVisual,Pe=Ze.isOutputVisual,Re=Ze.isInputRtl,Te=Ze.isOutputRtl,Ie=Ze.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_e),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],xe=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(_e){var Ee=_e.text;_e.x,_e.y;var Se=_e.options||{};_e.mutex,Se.lang;var Ae=[];if(Se.isInputVisual=typeof Se.isInputVisual!="boolean"||Se.isInputVisual,xe.setOptions(Se),Object.prototype.toString.call(Ee)==="[object Array]"){var Re=0;for(Ae=[],Re=0;Re<Ee.length;Re+=1)Object.prototype.toString.call(Ee[Re])==="[object Array]"?Ae.push([xe.doBidiReorder(Ee[Re][0]),Ee[Re][1],Ee[Re][2]]):Ae.push([xe.doBidiReorder(Ee[Re])]);_e.text=Ae}else _e.text=xe.doBidiReorder(Ee);xe.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t(e){var xe;if(this.rawData=e,xe=this.contents=new ne(e),this.contents.pos=4,xe.readString(4)==="ttcf")throw new Error("TTCF not supported.");xe.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,xe,_e,Ee,Se;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ae,Re,Pe,Te;for(Te=[],Ae=0,Re=(Pe=this.bbox).length;Ae<Re;Ae++)e=Pe[Ae],Te.push(Math.round(e*this.scaleFactor));return Te}).call(this),this.stemV=0,this.post.exists?(_e=255&(Ee=this.post.italic_angle),(32768&(xe=Ee>>16))!=0&&(xe=-(1+(65535^xe))),this.italicAngle=+(xe+"."+_e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Se=this.familyClass)===1||Se===2||Se===3||Se===4||Se===5||Se===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var xe;return((xe=this.cmap.unicode)!=null?xe.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var xe;return xe=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*xe},t.prototype.widthOfString=function(e,xe,_e){var Ee,Se,Ae,Re;for(Ae=0,Se=0,Re=(e=""+e).length;0<=Re?Se<Re:Se>Re;Se=0<=Re?++Se:--Se)Ee=e.charCodeAt(Se),Ae+=this.widthOfGlyph(this.characterToGlyph(Ee))+_e*(1e3/xe)||0;return Ae*(xe/1e3)},t.prototype.lineHeight=function(e,xe){var _e;return xe==null&&(xe=!1),_e=xe?this.lineGap:0,(this.ascender+_e-this.decender)/1e3*e},t}();var re,ne=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var xe,_e;for(_e=[],xe=0;0<=e?xe<e:xe>e;xe=0<=e?++xe:--xe)_e[xe]=String.fromCharCode(this.readByte());return _e.join("")},t.prototype.writeString=function(e){var xe,_e,Ee;for(Ee=[],xe=0,_e=e.length;0<=_e?xe<_e:xe>_e;xe=0<=_e?++xe:--xe)Ee.push(this.writeByte(e.charCodeAt(xe)));return Ee},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,xe,_e,Ee,Se,Ae,Re,Pe;return e=this.readByte(),xe=this.readByte(),_e=this.readByte(),Ee=this.readByte(),Se=this.readByte(),Ae=this.readByte(),Re=this.readByte(),Pe=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^xe)+1099511627776*(255^_e)+4294967296*(255^Ee)+16777216*(255^Se)+65536*(255^Ae)+256*(255^Re)+(255^Pe)+1):72057594037927940*e+281474976710656*xe+1099511627776*_e+4294967296*Ee+16777216*Se+65536*Ae+256*Re+Pe},t.prototype.writeLongLong=function(e){var xe,_e;return xe=Math.floor(e/4294967296),_e=4294967295&e,this.writeByte(xe>>24&255),this.writeByte(xe>>16&255),this.writeByte(xe>>8&255),this.writeByte(255&xe),this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var xe,_e;for(xe=[],_e=0;0<=e?_e<e:_e>e;_e=0<=e?++_e:--_e)xe.push(this.readByte());return xe},t.prototype.write=function(e){var xe,_e,Ee,Se;for(Se=[],_e=0,Ee=e.length;_e<Ee;_e++)xe=e[_e],Se.push(this.writeByte(xe));return Se},t}(),ie=function(){var t;function e(xe){var _e,Ee,Se;for(this.scalarType=xe.readInt(),this.tableCount=xe.readShort(),this.searchRange=xe.readShort(),this.entrySelector=xe.readShort(),this.rangeShift=xe.readShort(),this.tables={},Ee=0,Se=this.tableCount;0<=Se?Ee<Se:Ee>Se;Ee=0<=Se?++Ee:--Ee)_e={tag:xe.readString(4),checksum:xe.readInt(),offset:xe.readInt(),length:xe.readInt()},this.tables[_e.tag]=_e}return e.prototype.encode=function(xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me;for(Me in ke=Object.keys(xe).length,Pe=Math.log(2),je=16*Math.floor(Math.log(ke)/Pe),Ae=Math.floor(je/Pe),Ie=16*ke-je,(Ee=new ne).writeInt(this.scalarType),Ee.writeShort(ke),Ee.writeShort(je),Ee.writeShort(Ae),Ee.writeShort(Ie),Se=16*ke,Te=Ee.pos+Se,Re=null,Fe=[],xe)for(Oe=xe[Me],Ee.writeString(Me),Ee.writeInt(t(Oe)),Ee.writeInt(Te),Ee.writeInt(Oe.length),Fe=Fe.concat(Oe),Me==="head"&&(Re=Te),Te+=Oe.length;Te%4;)Fe.push(0),Te++;return Ee.write(Fe),_e=2981146554-t(Ee.data),Ee.pos=Re+8,Ee.writeUInt32(_e),Ee.data},t=function(xe){var _e,Ee,Se,Ae;for(xe=ve.call(xe);xe.length%4;)xe.push(0);for(Se=new ne(xe),Ee=0,_e=0,Ae=xe.length;_e<Ae;_e=_e+=4)Ee+=Se.readUInt32();return 4294967295&Ee},e}(),ae={}.hasOwnProperty,oe=function(t,e){for(var xe in e)ae.call(e,xe)&&(t[xe]=e[xe]);function _e(){this.constructor=t}return _e.prototype=e.prototype,t.prototype=new _e,t.__super__=e.prototype,t};re=function(){function t(e){var xe;this.file=e,xe=this.file.directory.tables[this.tag],this.exists=!!xe,xe&&(this.offset=xe.offset,this.length=xe.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var se=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(xe){return xe.pos=this.offset,this.version=xe.readInt(),this.revision=xe.readInt(),this.checkSumAdjustment=xe.readInt(),this.magicNumber=xe.readInt(),this.flags=xe.readShort(),this.unitsPerEm=xe.readShort(),this.created=xe.readLongLong(),this.modified=xe.readLongLong(),this.xMin=xe.readShort(),this.yMin=xe.readShort(),this.xMax=xe.readShort(),this.yMax=xe.readShort(),this.macStyle=xe.readShort(),this.lowestRecPPEM=xe.readShort(),this.fontDirectionHint=xe.readShort(),this.indexToLocFormat=xe.readShort(),this.glyphDataFormat=xe.readShort()},e.prototype.encode=function(xe){var _e;return(_e=new ne).writeInt(this.version),_e.writeInt(this.revision),_e.writeInt(this.checkSumAdjustment),_e.writeInt(this.magicNumber),_e.writeShort(this.flags),_e.writeShort(this.unitsPerEm),_e.writeLongLong(this.created),_e.writeLongLong(this.modified),_e.writeShort(this.xMin),_e.writeShort(this.yMin),_e.writeShort(this.xMax),_e.writeShort(this.yMax),_e.writeShort(this.macStyle),_e.writeShort(this.lowestRecPPEM),_e.writeShort(this.fontDirectionHint),_e.writeShort(xe),_e.writeShort(this.glyphDataFormat),_e.data},e}(),ce=function(){function t(e,xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue,ze,We;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=xe+e.readInt(),je=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Pe=0;Pe<256;++Pe)this.codeMap[Pe]=e.readByte();break;case 4:for(ke=e.readUInt16(),Oe=ke/2,e.pos+=6,Se=function(){var Ye,Xe;for(Xe=[],Pe=Ye=0;0<=Oe?Ye<Oe:Ye>Oe;Pe=0<=Oe?++Ye:--Ye)Xe.push(e.readUInt16());return Xe}(),e.pos+=2,Me=function(){var Ye,Xe;for(Xe=[],Pe=Ye=0;0<=Oe?Ye<Oe:Ye>Oe;Pe=0<=Oe?++Ye:--Ye)Xe.push(e.readUInt16());return Xe}(),Te=function(){var Ye,Xe;for(Xe=[],Pe=Ye=0;0<=Oe?Ye<Oe:Ye>Oe;Pe=0<=Oe?++Ye:--Ye)Xe.push(e.readUInt16());return Xe}(),Ie=function(){var Ye,Xe;for(Xe=[],Pe=Ye=0;0<=Oe?Ye<Oe:Ye>Oe;Pe=0<=Oe?++Ye:--Ye)Xe.push(e.readUInt16());return Xe}(),Ee=(this.length-e.pos+this.offset)/2,Re=function(){var Ye,Xe;for(Xe=[],Pe=Ye=0;0<=Ee?Ye<Ee:Ye>Ee;Pe=0<=Ee?++Ye:--Ye)Xe.push(e.readUInt16());return Xe}(),Pe=Ue=0,We=Se.length;Ue<We;Pe=++Ue)for(De=Se[Pe],_e=ze=Fe=Me[Pe];Fe<=De?ze<=De:ze>=De;_e=Fe<=De?++ze:--ze)Ie[Pe]===0?Ae=_e+Te[Pe]:(Ae=Re[Ie[Pe]/2+(_e-Fe)-(Oe-Pe)]||0)!==0&&(Ae+=Te[Pe]),this.codeMap[_e]=65535&Ae}e.pos=je}return t.encode=function(e,xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue,ze,We,Ye,Xe,ir,Qe,Ke,rr,cr,Ze,er,sr,fr,_r,Er,yr,mr,Pr,Cr,wr,or,hr,br,Ir,jr,Mr,Vr,Or,Xr,Qr,Fr;switch(fr=new ne,Ae=Object.keys(e).sort(function(xn,An){return xn-An}),xe){case"macroman":for(Me=0,De=function(){var xn=[];for(Fe=0;Fe<256;++Fe)xn.push(0);return xn}(),ze={0:0},Se={},_r=0,Pr=Ae.length;_r<Pr;_r++)ze[Or=e[Ee=Ae[_r]]]==null&&(ze[Or]=++Me),Se[Ee]={old:e[Ee],new:ze[e[Ee]]},De[Ee]=ze[e[Ee]];return fr.writeUInt16(1),fr.writeUInt16(0),fr.writeUInt32(12),fr.writeUInt16(0),fr.writeUInt16(262),fr.writeUInt16(0),fr.write(De),{charMap:Se,subtable:fr.data,maxGlyphID:Me+1};case"unicode":for(er=[],je=[],We=0,ze={},_e={},Ue=Te=null,Er=0,Cr=Ae.length;Er<Cr;Er++)ze[Xe=e[Ee=Ae[Er]]]==null&&(ze[Xe]=++We),_e[Ee]={old:Xe,new:ze[Xe]},Re=ze[Xe]-Ee,Ue!=null&&Re===Te||(Ue&&je.push(Ue),er.push(Ee),Te=Re),Ue=Ee;for(Ue&&je.push(Ue),je.push(65535),er.push(65535),cr=2*(rr=er.length),Ke=2*Math.pow(Math.log(rr)/Math.LN2,2),Oe=Math.log(Ke/2)/Math.LN2,Qe=2*rr-Ke,Pe=[],ir=[],ke=[],Fe=yr=0,wr=er.length;yr<wr;Fe=++yr){if(Ze=er[Fe],Ie=je[Fe],Ze===65535){Pe.push(0),ir.push(0);break}if(Ze-(sr=_e[Ze].new)>=32768)for(Pe.push(0),ir.push(2*(ke.length+rr-Fe)),Ee=mr=Ze;Ze<=Ie?mr<=Ie:mr>=Ie;Ee=Ze<=Ie?++mr:--mr)ke.push(_e[Ee].new);else Pe.push(sr-Ze),ir.push(0)}for(fr.writeUInt16(3),fr.writeUInt16(1),fr.writeUInt32(12),fr.writeUInt16(4),fr.writeUInt16(16+8*rr+2*ke.length),fr.writeUInt16(0),fr.writeUInt16(cr),fr.writeUInt16(Ke),fr.writeUInt16(Oe),fr.writeUInt16(Qe),Mr=0,or=je.length;Mr<or;Mr++)Ee=je[Mr],fr.writeUInt16(Ee);for(fr.writeUInt16(0),Vr=0,hr=er.length;Vr<hr;Vr++)Ee=er[Vr],fr.writeUInt16(Ee);for(Xr=0,br=Pe.length;Xr<br;Xr++)Re=Pe[Xr],fr.writeUInt16(Re);for(Qr=0,Ir=ir.length;Qr<Ir;Qr++)Ye=ir[Qr],fr.writeUInt16(Ye);for(Fr=0,jr=ke.length;Fr<jr;Fr++)Me=ke[Fr],fr.writeUInt16(Me);return{charMap:_e,subtable:fr.data,maxGlyphID:We+1}}},t}(),ue=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(xe){var _e,Ee,Se;for(xe.pos=this.offset,this.version=xe.readUInt16(),Se=xe.readUInt16(),this.tables=[],this.unicode=null,Ee=0;0<=Se?Ee<Se:Ee>Se;Ee=0<=Se?++Ee:--Ee)_e=new ce(xe,this.offset),this.tables.push(_e),_e.isUnicode&&this.unicode==null&&(this.unicode=_e);return!0},e.encode=function(xe,_e){var Ee,Se;return _e==null&&(_e="macroman"),Ee=ce.encode(xe,_e),(Se=new ne).writeUInt16(0),Se.writeUInt16(1),Ee.table=Se.data.concat(Ee.subtable),Ee},e}(),he=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(xe){return xe.pos=this.offset,this.version=xe.readInt(),this.ascender=xe.readShort(),this.decender=xe.readShort(),this.lineGap=xe.readShort(),this.advanceWidthMax=xe.readShort(),this.minLeftSideBearing=xe.readShort(),this.minRightSideBearing=xe.readShort(),this.xMaxExtent=xe.readShort(),this.caretSlopeRise=xe.readShort(),this.caretSlopeRun=xe.readShort(),this.caretOffset=xe.readShort(),xe.pos+=8,this.metricDataFormat=xe.readShort(),this.numberOfMetrics=xe.readUInt16()},e}(),le=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(xe){if(xe.pos=this.offset,this.version=xe.readUInt16(),this.averageCharWidth=xe.readShort(),this.weightClass=xe.readUInt16(),this.widthClass=xe.readUInt16(),this.type=xe.readShort(),this.ySubscriptXSize=xe.readShort(),this.ySubscriptYSize=xe.readShort(),this.ySubscriptXOffset=xe.readShort(),this.ySubscriptYOffset=xe.readShort(),this.ySuperscriptXSize=xe.readShort(),this.ySuperscriptYSize=xe.readShort(),this.ySuperscriptXOffset=xe.readShort(),this.ySuperscriptYOffset=xe.readShort(),this.yStrikeoutSize=xe.readShort(),this.yStrikeoutPosition=xe.readShort(),this.familyClass=xe.readShort(),this.panose=function(){var _e,Ee;for(Ee=[],_e=0;_e<10;++_e)Ee.push(xe.readByte());return Ee}(),this.charRange=function(){var _e,Ee;for(Ee=[],_e=0;_e<4;++_e)Ee.push(xe.readInt());return Ee}(),this.vendorID=xe.readString(4),this.selection=xe.readShort(),this.firstCharIndex=xe.readShort(),this.lastCharIndex=xe.readShort(),this.version>0&&(this.ascent=xe.readShort(),this.descent=xe.readShort(),this.lineGap=xe.readShort(),this.winAscent=xe.readShort(),this.winDescent=xe.readShort(),this.codePageRange=function(){var _e,Ee;for(Ee=[],_e=0;_e<2;_e=++_e)Ee.push(xe.readInt());return Ee}(),this.version>1))return this.xHeight=xe.readShort(),this.capHeight=xe.readShort(),this.defaultChar=xe.readShort(),this.breakChar=xe.readShort(),this.maxContext=xe.readShort()},e}(),fe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(xe){var _e,Ee,Se;switch(xe.pos=this.offset,this.format=xe.readInt(),this.italicAngle=xe.readInt(),this.underlinePosition=xe.readShort(),this.underlineThickness=xe.readShort(),this.isFixedPitch=xe.readInt(),this.minMemType42=xe.readInt(),this.maxMemType42=xe.readInt(),this.minMemType1=xe.readInt(),this.maxMemType1=xe.readInt(),this.format){case 65536:break;case 131072:var Ae;for(Ee=xe.readUInt16(),this.glyphNameIndex=[],Ae=0;0<=Ee?Ae<Ee:Ae>Ee;Ae=0<=Ee?++Ae:--Ae)this.glyphNameIndex.push(xe.readUInt16());for(this.names=[],Se=[];xe.pos<this.offset+this.length;)_e=xe.readByte(),Se.push(this.names.push(xe.readString(_e)));return Se;case 151552:return Ee=xe.readUInt16(),this.offsets=xe.read(Ee);case 196608:break;case 262144:return this.map=(function(){var Re,Pe,Te;for(Te=[],Ae=Re=0,Pe=this.file.maxp.numGlyphs;0<=Pe?Re<Pe:Re>Pe;Ae=0<=Pe?++Re:--Re)Te.push(xe.readUInt32());return Te}).call(this)}},e}(),de=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe,ke;for(xe.pos=this.offset,xe.readShort(),_e=xe.readShort(),Pe=xe.readShort(),Ee=[],Ae=0;0<=_e?Ae<_e:Ae>_e;Ae=0<=_e?++Ae:--Ae)Ee.push({platformID:xe.readShort(),encodingID:xe.readShort(),languageID:xe.readShort(),nameID:xe.readShort(),length:xe.readShort(),offset:this.offset+Pe+xe.readShort()});for(Te={},Ae=je=0,Oe=Ee.length;je<Oe;Ae=++je)Se=Ee[Ae],xe.pos=Se.offset,Ie=xe.readString(Se.length),Re=new de(Ie,Se),Te[ke=Se.nameID]==null&&(Te[ke]=[]),Te[Se.nameID].push(Re);this.strings=Te,this.copyright=Te[0],this.fontFamily=Te[1],this.fontSubfamily=Te[2],this.uniqueSubfamily=Te[3],this.fontName=Te[4],this.version=Te[5];try{this.postscriptName=Te[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Te[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Te[7],this.manufacturer=Te[8],this.designer=Te[9],this.description=Te[10],this.vendorUrl=Te[11],this.designerUrl=Te[12],this.license=Te[13],this.licenseUrl=Te[14],this.preferredFamily=Te[15],this.preferredSubfamily=Te[17],this.compatibleFull=Te[18],this.sampleText=Te[19]},e}(),ge=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(xe){return xe.pos=this.offset,this.version=xe.readInt(),this.numGlyphs=xe.readUInt16(),this.maxPoints=xe.readUInt16(),this.maxContours=xe.readUInt16(),this.maxCompositePoints=xe.readUInt16(),this.maxComponentContours=xe.readUInt16(),this.maxZones=xe.readUInt16(),this.maxTwilightPoints=xe.readUInt16(),this.maxStorage=xe.readUInt16(),this.maxFunctionDefs=xe.readUInt16(),this.maxInstructionDefs=xe.readUInt16(),this.maxStackElements=xe.readUInt16(),this.maxSizeOfInstructions=xe.readUInt16(),this.maxComponentElements=xe.readUInt16(),this.maxComponentDepth=xe.readUInt16()},e}(),me=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(xe){var _e,Ee,Se,Ae,Re,Pe,Te;for(xe.pos=this.offset,this.metrics=[],_e=0,Pe=this.file.hhea.numberOfMetrics;0<=Pe?_e<Pe:_e>Pe;_e=0<=Pe?++_e:--_e)this.metrics.push({advance:xe.readUInt16(),lsb:xe.readInt16()});for(Se=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var Ie,je;for(je=[],_e=Ie=0;0<=Se?Ie<Se:Ie>Se;_e=0<=Se?++Ie:--Ie)je.push(xe.readInt16());return je}(),this.widths=(function(){var Ie,je,Oe,ke;for(ke=[],Ie=0,je=(Oe=this.metrics).length;Ie<je;Ie++)Ae=Oe[Ie],ke.push(Ae.advance);return ke}).call(this),Ee=this.widths[this.widths.length-1],Te=[],_e=Re=0;0<=Se?Re<Se:Re>Se;_e=0<=Se?++Re:--Re)Te.push(this.widths.push(Ee));return Te},e.prototype.forGlyph=function(xe){return xe in this.metrics?this.metrics[xe]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[xe-this.metrics.length]}},e}(),ve=[].slice,be=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe;return xe in this.cache?this.cache[xe]:(Ae=this.file.loca,_e=this.file.contents,Ee=Ae.indexOf(xe),(Se=Ae.lengthOf(xe))===0?this.cache[xe]=null:(_e.pos=this.offset+Ee,Re=(Pe=new ne(_e.read(Se))).readShort(),Ie=Pe.readShort(),Oe=Pe.readShort(),Te=Pe.readShort(),je=Pe.readShort(),this.cache[xe]=Re===-1?new we(Pe,Ie,Oe,Te,je):new ye(Pe,Re,Ie,Oe,Te,je),this.cache[xe]))},e.prototype.encode=function(xe,_e,Ee){var Se,Ae,Re,Pe,Te;for(Re=[],Ae=[],Pe=0,Te=_e.length;Pe<Te;Pe++)Se=xe[_e[Pe]],Ae.push(Re.length),Se&&(Re=Re.concat(Se.encode(Ee)));return Ae.push(Re.length),{table:Re,offsets:Ae}},e}(),ye=function(){function t(e,xe,_e,Ee,Se,Ae){this.raw=e,this.numberOfContours=xe,this.xMin=_e,this.yMin=Ee,this.xMax=Se,this.yMax=Ae,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),we=function(){function t(e,xe,_e,Ee,Se){var Ae,Re;for(this.raw=e,this.xMin=xe,this.yMin=_e,this.xMax=Ee,this.yMax=Se,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ae=this.raw;Re=Ae.readShort(),this.glyphOffsets.push(Ae.pos),this.glyphIDs.push(Ae.readUInt16()),32&Re;)Ae.pos+=1&Re?4:2,128&Re?Ae.pos+=8:64&Re?Ae.pos+=4:8&Re&&(Ae.pos+=2)}return t.prototype.encode=function(){var e,xe,_e;for(xe=new ne(ve.call(this.raw.data)),e=0,_e=this.glyphIDs.length;e<_e;++e)xe.pos=this.glyphOffsets[e];return xe.data},t}(),Ne=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(xe){var _e,Ee;return xe.pos=this.offset,_e=this.file.head.indexToLocFormat,this.offsets=_e===0?(function(){var Se,Ae;for(Ae=[],Ee=0,Se=this.length;Ee<Se;Ee+=2)Ae.push(2*xe.readUInt16());return Ae}).call(this):(function(){var Se,Ae;for(Ae=[],Ee=0,Se=this.length;Ee<Se;Ee+=4)Ae.push(xe.readUInt32());return Ae}).call(this)},e.prototype.indexOf=function(xe){return this.offsets[xe]},e.prototype.lengthOf=function(xe){return this.offsets[xe+1]-this.offsets[xe]},e.prototype.encode=function(xe,_e){for(var Ee=new Uint32Array(this.offsets.length),Se=0,Ae=0,Re=0;Re<Ee.length;++Re)if(Ee[Re]=Se,Ae<_e.length&&_e[Ae]==Re){++Ae,Ee[Re]=Se;var Pe=this.offsets[Re],Te=this.offsets[Re+1]-Pe;Te>0&&(Se+=Te)}for(var Ie=new Array(4*Ee.length),je=0;je<Ee.length;++je)Ie[4*je+3]=255&Ee[je],Ie[4*je+2]=(65280&Ee[je])>>8,Ie[4*je+1]=(16711680&Ee[je])>>16,Ie[4*je]=(4278190080&Ee[je])>>24;return Ie},e}(),Le=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,xe,_e,Ee,Se;for(xe in Ee=this.font.cmap.tables[0].codeMap,e={},Se=this.subset)_e=Se[xe],e[xe]=Ee[_e];return e},t.prototype.glyphsFor=function(e){var xe,_e,Ee,Se,Ae,Re,Pe;for(Ee={},Ae=0,Re=e.length;Ae<Re;Ae++)Ee[Se=e[Ae]]=this.font.glyf.glyphFor(Se);for(Se in xe=[],Ee)(_e=Ee[Se])!=null&&_e.compound&&xe.push.apply(xe,_e.glyphIDs);if(xe.length>0)for(Se in Pe=this.glyphsFor(xe))_e=Pe[Se],Ee[Se]=_e;return Ee},t.prototype.encode=function(e,xe){var _e,Ee,Se,Ae,Re,Pe,Te,Ie,je,Oe,ke,Fe,Me,De,Ue;for(Ee in _e=ue.encode(this.generateCmap(),"unicode"),Ae=this.glyphsFor(e),ke={0:0},Ue=_e.charMap)ke[(Pe=Ue[Ee]).old]=Pe.new;for(Fe in Oe=_e.maxGlyphID,Ae)Fe in ke||(ke[Fe]=Oe++);return Ie=function(ze){var We,Ye;for(We in Ye={},ze)Ye[ze[We]]=We;return Ye}(ke),je=Object.keys(Ie).sort(function(ze,We){return ze-We}),Me=function(){var ze,We,Ye;for(Ye=[],ze=0,We=je.length;ze<We;ze++)Re=je[ze],Ye.push(Ie[Re]);return Ye}(),Se=this.font.glyf.encode(Ae,Me,ke),Te=this.font.loca.encode(Se.offsets,Me),De={cmap:this.font.cmap.raw(),glyf:Se.table,loca:Te,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(xe)},this.font.os2.exists&&(De["OS/2"]=this.font.os2.raw()),this.font.directory.encode(De)},t}();E.API.PDFObject=function(){var t;function e(){}return t=function(xe,_e){return(Array(_e+1).join("0")+xe).slice(-_e)},e.convert=function(xe){var _e,Ee,Se,Ae;if(Array.isArray(xe))return"["+function(){var Re,Pe,Te;for(Te=[],Re=0,Pe=xe.length;Re<Pe;Re++)_e=xe[Re],Te.push(e.convert(_e));return Te}().join(" ")+"]";if(typeof xe=="string")return"/"+xe;if(xe!=null&&xe.isString)return"("+xe+")";if(xe instanceof Date)return"(D:"+t(xe.getUTCFullYear(),4)+t(xe.getUTCMonth(),2)+t(xe.getUTCDate(),2)+t(xe.getUTCHours(),2)+t(xe.getUTCMinutes(),2)+t(xe.getUTCSeconds(),2)+"Z)";if({}.toString.call(xe)==="[object Object]"){for(Ee in Se=["<<"],xe)Ae=xe[Ee],Se.push("/"+Ee+" "+e.convert(Ae));return Se.push(">>"),Se.join(`
`)}return""+xe},e}();const fetchStudentProgress=async t=>{const e=await fetch(`${API_BASE$1}/api/progress?userId=${t}`);return e.ok?await e.json():null},COLORS=["#2563eb","#ef4444","#facc15","#10b981","#a21caf","#f59e42","#6366f1","#eab308"],ProgressTab=()=>{var Ue;const{user:t}=reactExports.useContext(AuthContext),{curriculumData:e}=reactExports.useContext(CurriculumContext),[xe,_e]=reactExports.useState({}),[Ee,Se]=reactExports.useState(!0);reactExports.useEffect(()=>{t&&t.id&&fetchStudentProgress(t.id).then(ze=>{_e(ze.progress||{}),Se(!1)})},[t]);const Ae=()=>{let ze=`Subject,Completed,Total
`;je.forEach(ir=>{ze+=`${ir.name},${ir.completed},${ir.total}
`});const We=new Blob([ze],{type:"text/csv"}),Ye=window.URL.createObjectURL(We),Xe=document.createElement("a");Xe.href=Ye,Xe.download="progress.csv",Xe.click(),window.URL.revokeObjectURL(Ye)},Re=()=>{const ze=new E;ze.text("Progress Report",10,10),je.forEach((We,Ye)=>{ze.text(`${We.name}: ${We.completed}/${We.total}`,10,20+Ye*10)}),ze.save("progress.pdf")};if(Ee)return jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading progress..."});const Pe=e?Object.keys(e):[],Te=xe.completedLessons||[],Ie=Pe.reduce((ze,We)=>{var Ye;return ze+(((Ye=e[We])==null?void 0:Ye.length)||0)},0),je=Pe.map(ze=>{const We=e[ze]||[],Ye=We.filter(Xe=>Te.includes(Xe.id)).length;return{name:ze,completed:Ye,total:We.length}}),Oe=je.map(ze=>({name:ze.name,Completed:ze.completed,Remaining:ze.total-ze.completed})),ke=[{name:"Completed",value:Te.length},{name:"Remaining",value:Ie-Te.length}],Fe=xe.streak||0,Me=xe.badges||["Starter","Achiever"],De=xe.recentActivity||[];return jsxRuntimeExports.jsxs(motion.div,{className:"w-full max-w-3xl mx-auto py-8 space-y-8",children:[jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(BarChart3,{size:28,className:"text-smartSchool-blue"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Overall Progress"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsxs("button",{onClick:Ae,className:"flex items-center px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition",children:[jsxRuntimeExports.jsx(Download,{size:18,className:"mr-1"})," Export CSV"]}),jsxRuntimeExports.jsxs("button",{onClick:Re,className:"flex items-center px-3 py-2 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition",children:[jsxRuntimeExports.jsx(Download,{size:18,className:"mr-1"})," Export PDF"]})]}),jsxRuntimeExports.jsx(ProgressTracker,{completed:Te.length,total:Ie}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 rounded-xl px-4 py-2 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Flame,{className:"text-orange-500",size:20}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Streak:"}),jsxRuntimeExports.jsxs("span",{children:[Fe," days"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-yellow-50 rounded-xl px-4 py-2 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Award,{className:"text-yellow-500",size:20}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Badges:"}),jsxRuntimeExports.jsx("span",{children:Me.join(", ")})]}),jsxRuntimeExports.jsxs("div",{className:"bg-red-50 rounded-xl px-4 py-2 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Bell,{className:"text-red-500",size:20}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Notifications:"}),jsxRuntimeExports.jsx("span",{children:((Ue=xe.notifications)==null?void 0:Ue.length)||0})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8 mt-8 items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-64 h-64",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:ke,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:ke.map((ze,We)=>jsxRuntimeExports.jsx(Cell,{fill:COLORS[We%COLORS.length]},`cell-${We}`))}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Tooltip,{})]})})}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-md",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:220,children:jsxRuntimeExports.jsxs(BarChart,{data:Oe,margin:{top:20,right:30,left:0,bottom:5},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{allowDecimals:!1}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"Completed",stackId:"a",fill:"#2563eb"}),jsxRuntimeExports.jsx(Bar,{dataKey:"Remaining",stackId:"a",fill:"#facc15"})]})})})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(BookOpenText,{size:28,className:"text-smartSchool-red"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Subject Progress"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:je.map(ze=>jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-smartSchool-blue mb-1",children:ze.name}),jsxRuntimeExports.jsx(ProgressTracker,{completed:ze.completed,total:ze.total})]},ze.name))})})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(MessageCircle,{size:28,className:"text-smartSchool-blue"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Milestones & Comments"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mb-4",children:(xe.milestones||[]).map((ze,We)=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[ze.title,":"]})," ",ze.description," ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["(",ze.date,")"]})]},We))}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent/Teacher Comment:"}),jsxRuntimeExports.jsx("textarea",{id:"comment",className:"w-full border rounded p-2",rows:2,placeholder:"Leave encouragement or feedback..."}),jsxRuntimeExports.jsx("button",{className:"mt-2 px-3 py-1 bg-smartSchool-blue text-white rounded hover:bg-blue-700 transition",children:"Submit"})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-lg rounded-2xl",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center space-x-3",children:[jsxRuntimeExports.jsx(CalendarCheck,{size:28,className:"text-green-600"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Recent Activity"})]}),jsxRuntimeExports.jsx(CardContent,{children:De.length===0?jsxRuntimeExports.jsx("div",{className:"text-gray-500",children:"No recent activity yet."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:De.map((ze,We)=>jsxRuntimeExports.jsx("li",{children:ze},We))})})]})]})};function RequireAuth({children:t}){const{user:e,loading:xe}=reactExports.useContext(AuthContext);return xe?jsxRuntimeExports.jsx("div",{children:"Loading..."}):e?t:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function App(){const{user:t,loading:e}=reactExports.useContext(AuthContext),xe=!!t;return e?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(CurriculumProvider,{children:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsxs(Routes,{children:[!xe&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/signup",element:jsxRuntimeExports.jsx(SignupPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(DashboardPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/parent-dashboard",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(ParentDashboardPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/user-home",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(UserHomePage,{})})}),jsxRuntimeExports.jsxs(Route,{path:"/curriculum",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(CurriculumLayout,{})}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(GradesPage,{})}),jsxRuntimeExports.jsx(Route,{path:":grade",element:jsxRuntimeExports.jsx(SubjectsPage,{})}),jsxRuntimeExports.jsx(Route,{path:":grade/:subject",element:jsxRuntimeExports.jsx(LessonsPage,{})}),jsxRuntimeExports.jsx(Route,{path:":grade/:subject/:lessonId",element:jsxRuntimeExports.jsx(LessonPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/tools",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(ToolsPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(AdminDashboardPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/progress",element:jsxRuntimeExports.jsx(RequireAuth,{children:jsxRuntimeExports.jsx(ProgressTab,{})})}),!xe&&jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})})]})})})})}async function testFirestoreConnection(){try{const t=await getDocs(collection(db,"test"));console.log("Firestore test query success:",t.size)}catch(t){console.error("Firestore test query error:",t)}}ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));testFirestoreConnection();export{_typeof as _,commonjsGlobal$2 as c,getDefaultExportFromCjs as g};
